"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["27601"],{869614:function(e,t,n){n.d(t,{Z:()=>r}),n(47120);let l=new Set(["nvidia"]);function r(e){for(let t of Object.keys(e)){let n=e[t];if(null!=n&&null==n.error&&l.has(t))return!0}return!1}},281083:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var l=n(209739),r=n.n(l),i=n(358085);let a={[i.PlatformTypes.WINDOWS]:{nvidia:"<=537.58.0 || >=546.31"}};function u(e){let t=a[(0,i.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let l=e[n],i=t[n];if(null==l||null==i||null!=l.error)continue;let a=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(l);if(!r().satisfies(a,i))return!0}return!1}},672598:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var l=n(209739),r=n.n(l),i=n(358085);let a={[i.PlatformTypes.WINDOWS]:{nvidia:">=397.93.0"}};function u(e){let t=a[(0,i.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let l=e[n],i=t[n];if(null==l||null==i||null!=l.error)continue;let a=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(l);if(!r().satisfies(a,i))return!0}return!1}},653255:function(e,t,n){n.d(t,{Z:()=>P});var l,r,i,a=n(442837),u=n(570140),o=n(358085),s=n(998502),d=n(869614),c=n(281083),f=n(672598);let Z=!1,g=!0,S=!1;class E extends(i=a.ZP.Store){initialize(){!o.isPlatformEmbedded||__OVERLAY__||s.ZP.getGPUDriverVersions().then(e=>{Z=(0,f.Z)(e),g=(0,d.Z)(e),S=(0,c.Z)(e),this.emitChange()})}get GPUDriversOutdated(){return Z}get canUseHardwareAcceleration(){return g}get problematicGPUDriver(){return S}getState(){return{GPUDriversOutdated:Z,canUseHardwareAcceleration:g,problematicGPUDriver:S}}}r="StreamingCapabilitiesStore",(l="displayName")in E?Object.defineProperty(E,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):E[l]=r;let P=new E(u.Z,{OVERLAY_INITIALIZE:function(e){let{streamingCapabilitiesStoreState:t}=e;Z=t.GPUDriversOutdated,g=t.canUseHardwareAcceleration}})},746532:function(e,t,n){n.r(t),n.d(t,{default:()=>q}),n(177593),n(47120);var l=n(392711),r=n.n(l),i=n(261470),a=n(524437),u=n(812206),o=n(339085),s=n(353926),d=n(653255),c=n(810788),f=n(355298),Z=n(763296),g=n(569471),S=n(260483),E=n(144140),P=n(581883),m=n(48481),v=n(199902),I=n(314897),p=n(523746),A=n(592125),y=n(757266),O=n(480294),b=n(831506),h=n(77498),_=n(486472),R=n(650774),T=n(271383),N=n(430824),D=n(293273),L=n(131951),U=n(158776),w=n(19780),C=n(306680),M=n(699516),G=n(944486),j=n(9156),k=n(594174),H=n(979651),V=n(853872),F=n(695103),z=n(449224),W=n(181106),B=n(237997),Y=n(145597);async function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new i.Z;await new Promise(e=>setImmediate(e));let l=k.default.getCurrentUser();if(null==l)return new Promise(l=>{n.fail(()=>{l(q(e,t,n))})});n.succeed();let x=Object.values(k.default.getUsers()),J=Object.values(N.Z.getGuilds()),Q=N.Z.getAllGuildsRoles(),K=r().values(A.Z.getInitialOverlayState()),X=T.ZP.getMutableAllGuildsAndMembers(),$=C.ZP.getAllReadStates(!0),ee=H.Z.getAllVoiceStates(),et=U.Z.getState(),en=_.Z.unavailableGuilds,el=r().mapValues(o.ZP.getGuilds(),e=>e.emojis),er=j.ZP.getAllSettings(),ei=p.Z.getInternalState(),ea=W.Z.getStates(),eu=y.Z.getAllConnections(),eo=D.Z.getApplicationActivities(),es=b.Z.getParties(),ed=b.Z.getUserParties(),ec=I.default.getSessionId(),ef=I.default.getAnalyticsToken(),eZ=z.Z.getGameForPID(t),eg=R.Z.getMemberCounts(),eS=M.Z.getRelationships(),eE=Array.from(f.Z.getMessageRequestChannelIds()),eP=G.Z.getVoiceChannelId(),em=B.Z.getFocusedPID(),ev=B.Z.getSelectedGuildId(),eI=B.Z.getSelectedChannelId(),ep=L.Z.getState(),eA=h.Z.games,ey=Object.values(V.Z.paymentSources).map(e=>e.toJS()),eO=V.Z.defaultPaymentSourceId,eb=V.Z.hasFetchedPaymentSources,eh=v.Z.getStreamingState(),e_=u.Z._getAllApplications().map(e=>e.toJS()),eR=F.Z.testModeApplicationId,eT={null:{state:w.Z.getState(),pings:w.Z.getPings(),quality:w.Z.getQuality(),hostname:w.Z.getHostname(),lossRate:w.Z.getOutboundLossRate()}},eN=Array.from(c.Z.getState().hiddenHotspots),eD=s.Z.getSerializedState(),eL=d.Z.getState(),eU=g.Z.getInitialOverlayState(),ew=S.Z.getInitialOverlayState(),eC=E.Z.getInitialOverlayState(),eM=(0,m.xU)(a.o8,P.Z.settings),eG=Z.Z.getOverlaySerializedState(),ej=O.Z.consents;return{type:"OVERLAY_INITIALIZE",version:Y.Tq,users:x,guilds:J,allGuildsRoles:Q,channels:K,guildMembers:X,readStates:$,voiceStates:ee,unavailableGuilds:en,emojis:el,allUserGuildSettings:er,callStoreInternalState:ei,activityLauncherStates:ea,connectedApps:eu,localActivities:eo,parties:es,userParties:ed,user:l,messageRequestChannelIds:eE,token:e,sessionId:ec,analyticsToken:ef,presences:et,currentGame:eZ,selectedVoiceChannelId:eP,selectedChannelId:eI,selectedGuildId:ev,guildMemberCounts:eg,relationships:eS,mediaEngineState:ep,rtcConnectionStates:eT,focusedPID:em,applications:e_,paymentSources:ey,defaultPaymentSourceId:eO,hasFetchedPaymentSources:eb,testModeApplicationId:eR,applicationStreamState:eh,hiddenHotspots:eN,serializedExperimentStore:eD,streamingCapabilitiesStoreState:eL,joinedThreads:eU,threadMembers:ew,threadMessages:eC,userSettingsProto:eM,soundboardStoreState:eG,detectableApplications:eA,consents:ej}}},831506:function(e,t,n){n.d(t,{Z:()=>O}),n(47120);var l,r,i,a=n(392711),u=n.n(a),o=n(442837),s=n(570140),d=n(314897),c=n(699516),f=n(885110),Z=n(981631);let g={},S={};function E(e,t){var n;return(null!==(n=g[e])&&void 0!==n?n:{})[t]}function P(e,t){let n=E(e,t);if(null==n)return;let l=g[e];delete l[t],u().isEmpty(l)&&delete g[e];let r=S[n];null!=r&&(r.delete(e),0===r.size&&delete S[n])}function m(e,t,n,l){let r=n.find(e=>null!=e.party&&e.party.id),i=null!=r&&null!=r.party?r.party.id:null,a=E(t,e);if(null==i||l===Z.Skl.OFFLINE)return null!=a&&void P(t,e);if(null!=a){if(a===i)return!1;P(t,e)}!function(e,t,n){var l;let r=g[e];if(null==r&&(r=g[e]={}),r[t]=n,c.Z.isBlocked(e)||c.Z.isIgnored(e))return;let i=null!==(l=S[n])&&void 0!==l?l:new Set;S[n]=i,i.add(e)}(t,e,i)}function v(e){let{guild:t}=e,n=!1;for(let{user:e,status:l,activities:r}of t.presences)!1!==m(t.id,e.id,r,l)&&(n=!0);return n}function I(e,t){let n=!1;return t.forEach(t=>{null!=t&&m(e,t.user.id,t.activities,t.status)&&(n=!0)}),n}function p(){let e=d.default.getId(),t=f.Z.getActivities();return m(Z.ME,e,t)}function A(e){let{relationship:t}=e;if(!c.Z.isBlocked(t.id)&&!c.Z.isIgnored(t.id))return!1;let n=g[t.id];if(null==n)return!1;for(let e of u().values(n)){let n=S[e];null!=n&&n.delete(t.id)}}class y extends(l=o.ZP.Store){initialize(){this.syncWith([f.Z],p),this.waitFor(f.Z,c.Z)}getParty(e){return null!=e&&null!=S[e]?S[e]:null}getUserParties(){return g}getParties(){return S}}i="GamePartyStore",(r="displayName")in y?Object.defineProperty(y,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):y[r]=i;let O=new y(s.Z,{CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{guilds:t,presences:n}=e,l=!1;for(let{user:e,status:t,activities:r}of n)null!=e&&!1!==m(Z.ME,e.id,r,t)&&(l=!0);for(let e of t)!1!==v({guild:e})&&(l=!0);return l},OVERLAY_INITIALIZE:function(e){let{parties:t,userParties:n}=e;S={},g={...n},Object.keys(t).forEach(e=>S[e]=new Set(t[e]))},GUILD_CREATE:v,PRESENCES_REPLACE:function(e){let{presences:t}=e,n=!1;for(let{user:e,activities:l}of t)null!=e&&!1!==m(Z.ME,e.id,l)&&(n=!0);return n},PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>{let{guildId:t,user:n,status:l,activities:r}=e;return m(null!=t?t:Z.ME,n.id,r,l)}).some(e=>e)},THREAD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,members:n}=e;return I(t,n.map(e=>e.presence))},THREAD_MEMBERS_UPDATE:function(e){let{guildId:t,addedMembers:n}=e;return null!=n&&I(t,n.map(e=>e.presence))},RELATIONSHIP_ADD:A,RELATIONSHIP_UPDATE:A,RELATIONSHIP_REMOVE:function(e){let{relationship:t}=e,n=g[t.id];if(null==n)return!1;for(let e of u().values(n)){let n=S[e];null!=n&&n.add(t.id)}}})}}]);
//# sourceMappingURL=f817431fc33aff65.js.map