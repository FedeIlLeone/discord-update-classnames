"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["28406"],{117984:function(e,n,t){t.d(n,{CM:()=>h,UT:()=>C,_Z:()=>A,kj:()=>c,oC:()=>v,s3:()=>_,uA:()=>E,xh:()=>p}),t(47120);var a=t(524437),i=t(675478),o=t(592125),r=t(496675),d=t(709054),l=t(853856),f=t(231338);function u(){let e=l.Z.getFavoriteChannels(),n=1;for(let t in e)n=Math.max(n,e[t].order);return n+1}function s(e){for(let n in e){let t=e[n];if(null==t){delete e[n];continue}if(t.type===a.Dd.CATEGORY)continue;let i=o.Z.getChannel(n);if(null==i||!i.isPrivate()&&!r.Z.can(f.Pl.VIEW_CHANNEL,i)){delete e[n];continue}}}function c(e,n){!l.Z.isFavorite(e)&&i.hW.updateAsync("favorites",t=>{t.favoriteChannels[e]=a.aV.create({nickname:"",type:a.Dd.REFERENCE_ORIGINAL,position:u(),parentId:null!=n?n:"0"}),s(t.favoriteChannels)},i.fy.FREQUENT_USER_ACTION)}function v(e){let n=l.Z.getFavorite(e);null!=n&&i.hW.updateAsync("favorites",t=>{if(delete t.favoriteChannels[e],n.type===a.Dd.CATEGORY)for(let n in t.favoriteChannels)t.favoriteChannels[n].parentId===e&&(t.favoriteChannels[n].parentId="0");s(t.favoriteChannels)},i.fy.INFREQUENT_USER_ACTION)}function C(e,n){l.Z.isFavorite(e)&&i.hW.updateAsync("favorites",t=>{t.favoriteChannels[e].nickname=null!=n?n:""},i.fy.INFREQUENT_USER_ACTION)}function h(e){let n=d.default.fromTimestamp(Date.now());i.hW.updateAsync("favorites",t=>{t.favoriteChannels[n]=a.aV.create({nickname:e,type:a.Dd.CATEGORY,position:u(),parentId:"0"})},i.fy.FREQUENT_USER_ACTION)}function p(e){v(e)}function _(e){i.hW.updateAsync("favorites",n=>{for(let a of e)if(null!=a.position&&(n.favoriteChannels[a.id].position=a.position),void 0!==a.parent_id){var t;n.favoriteChannels[a.id].parentId=null!==(t=a.parent_id)&&void 0!==t?t:"0"}},i.fy.FREQUENT_USER_ACTION)}function E(e,n){i.hW.updateAsync("favorites",t=>{t.favoriteChannels[e].parentId=null!=n?n:"0"},i.fy.FREQUENT_USER_ACTION)}function A(){i.hW.updateAsync("favorites",e=>{e.muted=!e.muted},i.fy.INFREQUENT_USER_ACTION)}},593214:function(e,n,t){t.d(n,{Mt:()=>h,li:()=>c,s4:()=>v,up:()=>p,zv:()=>C}),t(47120),t(653041);var a=t(192379),i=t(106351),o=t(442837);t(592125);var r=t(984933),d=t(914010);t(709054);var l=t(853856),f=t(362658),u=t(434065),s=t(981631);function c(e){let{favoritesEnabled:n,hasStaffPrivileges:t}=(0,f.z)("useCanFavoriteChannel"),a=(0,o.e7)([l.Z],()=>l.Z.isFavorite(e.id)),i=e.isDM()||e.isThread();return n&&!__OVERLAY__&&!a&&(!i||t)}function v(e){return(0,o.e7)([l.Z],()=>l.Z.getFavorite(e))}function C(){return(0,o.e7)([r.ZP],()=>r.ZP.getChannels(s.I_8))[i.d.GUILD_CATEGORY].map(e=>({id:"null"===e.channel.id?null:e.channel.id,name:e.channel.name}))}function h(){return(0,o.e7)([d.Z],()=>d.Z.getGuildId())===s.I_8}function p(){let{isFavoritesPerk:e}=(0,f.z)("useFavoriteAdded"),n=(0,u.r)(),t=a.useCallback(()=>{e&&n.notifyFavoriteAdded()},[n,e]),i=a.useCallback(()=>{e&&n.clearFavoriteAdded()},[n,e]);return{favoriteAdded:n.favoriteAdded,notifyFavoriteAdded:t,clearFavoriteAdded:i}}},434065:function(e,n,t){t.d(n,{r:()=>o});var a=t(15729),i=t(731965);let o=(0,a.U)(e=>({favoriteAdded:!1,notifyFavoriteAdded:()=>(0,i.j)(()=>e({favoriteAdded:!0})),clearFavoriteAdded:()=>(0,i.j)(()=>e({favoriteAdded:!1}))}))},759198:function(e,n,t){t.d(n,{Z:()=>l});var a=t(200651);t(192379);var i=t(120356),o=t.n(i),r=t(481060),d=t(271454);function l(e){let{className:n,color:t,...i}=e;return(0,a.jsx)(r.Text,{className:o()({[d.text]:null==t},n),color:t,...i})}},437162:function(e,n,t){e.exports={rootContainer:"rootContainer_f4adbd",headerContainer:"headerContainer_f4adbd",text:"text_f4adbd",newBadge:"newBadge_f4adbd",nitroWheel:"nitroWheel_f4adbd",labelContainer:"labelContainer_f4adbd",playButton:"playButton_f4adbd",mutedLabel:"mutedLabel_f4adbd"}},271454:function(e,n,t){e.exports={text:"text__87e56"}}}]);
//# sourceMappingURL=526c7cd080b2f51b.js.map