"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["9371"],{511293:function(e){e.exports="/assets/a105cf85c9c42968.svg"},278198:function(e){e.exports="/assets/9a898919395a3f13.svg"},759841:function(e){e.exports="/assets/fe36493b90ca212f.png"},156956:function(e){e.exports="/assets/bf6de7bed70dd6d3.png"},366879:function(e){e.exports="/assets/d4d24bae3c0559b3.png"},554697:function(e){e.exports="/assets/9e77accd9b306314.png"},330098:function(e){e.exports="/assets/889a2aa66cb786d7.png"},702294:function(e){e.exports="/assets/ec347b8de4777f9a.png"},87228:function(e){e.exports="/assets/d06f48f14653e6c8.png"},173368:function(e){e.exports="/assets/d2cc0071b8c9ceef.png"},362634:function(e){e.exports="/assets/b70ad231203bf921.png"},351386:function(e){e.exports="/assets/dd2ccc47416b2b19.png"},709006:function(e){e.exports="/assets/18fc01aa48e3eedf.png"},686388:function(e){e.exports="/assets/d085fdd3215d0dc0.png"},497321:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i,l=n(200651),r=n(192379),s=n(120356),a=n.n(s),o=n(481060),d=n(37234),u=n(230711),c=n(981631),h=n(388032),g=n(986900);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends(i=r.Component){render(){return(0,l.jsxs)("div",{className:g.streamerModeEnabled,children:[(0,l.jsx)("div",{className:g.streamerModeEnabledImage}),(0,l.jsx)(o.P3F,{className:a()(g.streamerModeEnabledBtn,{[g.disabled]:this.props.disableButton}),onClick:this.handleClick,children:h.intl.string(h.t.Br1ls7)})]})}constructor(...e){super(...e),f(this,"handleClick",()=>{this.props.disableButton||((0,d.jN)(c.S9g.USER_SETTINGS),u.Z.setSection(c.oAB.STREAMER_MODE))})}}f(p,"defaultProps",{disableButton:!1});let C=p},205822:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i=n(200651),l=n(192379),r=n(120356),s=n.n(r),a=n(481060),o=n(310752),d=n(531643),u=n(388032),c=n(255969),h=n(19479);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:s()(h.sparkleWhite,c.sparkleOne)}),(0,i.jsx)("div",{className:s()(h.sparkleWhite,c.sparkleTwo)}),(0,i.jsx)("div",{className:s()(h.lightWhite,c.lightOne)}),(0,i.jsx)("div",{className:s()(h.lightWhite,c.lightTwo)}),(0,i.jsx)("div",{className:s()(h.crossWhite,c.crossOne)}),(0,i.jsx)("div",{className:s()(h.crossWhite,c.crossTwo)}),(0,i.jsx)("div",{className:s()(h.popWhite,c.popOne)})]})}class p extends l.Component{componentDidMount(){let e=this.elementDOMRef.current;null!=e&&(e.ownerDocument.body.addEventListener("dragover",this.handleDragOver,!1),e.ownerDocument.body.addEventListener("drop",this.handleDragLeave,!1),e.addEventListener("dragover",this.handleDragOverZone,!1),e.addEventListener("dragleave",this.handleDragLeaveZone,!1),e.addEventListener("drop",this.handleDrop,!1))}componentWillUnmount(){let e=this.elementDOMRef.current;null!=e&&(e.ownerDocument.body.removeEventListener("dragover",this.handleDragOver,!1),e.ownerDocument.body.removeEventListener("drop",this.handleDragLeave,!1),e.removeEventListener("dragover",this.handleDragOverZone,!1),e.removeEventListener("dragleave",this.handleDragLeaveZone,!1),e.removeEventListener("drop",this.handleDrop,!1)),clearTimeout(this.dragOverTimeout)}render(){let{title:e,description:t,icons:n,style:l,className:r}=this.props;return(0,i.jsx)("div",{ref:this.elementDOMRef,className:s()(r,c.uploadArea,{[c.droppable]:this.state.isDragging,[c.uploadModalIn]:this.state.isOverZone}),style:l,children:(0,i.jsxs)("div",{className:c.uploadDropModal,children:[this.state.isDragging&&(0,i.jsx)(f,{}),(0,i.jsx)("div",{className:c.bgScale}),(0,i.jsxs)("div",{className:c.inner,children:[(0,i.jsx)(o.Z,{icons:n}),(0,i.jsx)("div",{className:c.title,children:e}),(0,i.jsx)("div",{className:c.instructions,children:(0,i.jsx)("pre",{children:t})})]})]})})}constructor(...e){var t;super(...e),t=this,g(this,"state",{isDragging:!1,isOverZone:!1}),g(this,"dragOverTimeout",null),g(this,"elementDOMRef",l.createRef()),g(this,"isAllDropFiles",e=>{for(let n=0;n<e.length;n++)try{var t;let i=null!==(t=e[n].webkitGetAsEntry())&&void 0!==t?t:e[n].getAsEntry();if(i&&!i.isFile)return!1}catch(e){continue}return!0}),g(this,"preventUnwantedDrop",function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.dataTransfer;if(null==i)return!0;let l=Array.isArray(i.types)&&-1!==i.types.indexOf("text/uri-list")&&-1===i.types.indexOf("application/json"),r=null!=i.items&&!t.isAllDropFiles(i.items);return!l&&!r||(e.stopPropagation(),e.preventDefault(),i.effectAllowed="none",i.dropEffect="none",n&&(t.setState({isDragging:!1}),(0,d.openUploadError)({title:u.intl.string(u.t.azO1PT),help:u.intl.string(u.t.Koklr6),icons:t.props.icons})),!1)}),g(this,"handleDragOver",e=>{var t,n,i;if(!this.preventUnwantedDrop(e))return!1;let l=e.dataTransfer;if(null!=l){if(l.dropEffect="copy",(0,a.nfh)(d.A)&&(0,a.Mr3)(d.A),e.stopPropagation(),e.preventDefault(),null===(t=(n=this.props).onDragOver)||void 0===t||t.call(n,e),!this.state.isDragging){let e=null===(i=this.elementDOMRef.current)||void 0===i?void 0:i.ownerDocument.defaultView;(null!=e&&l.types instanceof e.DOMStringList&&l.types.contains("application/x-moz-file")||-1!==l.types.indexOf("Files"))&&this.setState(e=>e.isDragging?{}:{isDragging:!0})}clearTimeout(this.dragOverTimeout),this.dragOverTimeout=setTimeout(()=>{var e,t;this.setState({isDragging:!1}),null===(e=(t=this.props).onDragClear)||void 0===e||e.call(t)},1e3)}}),g(this,"handleDragOverZone",()=>{this.setState({isOverZone:!0})}),g(this,"handleDragLeaveZone",()=>{this.setState({isOverZone:!1})}),g(this,"handleDragLeave",e=>{this.state.isDragging&&(e.stopPropagation(),e.preventDefault(),this.clearDragging())}),g(this,"clearDragging",()=>{var e,t;this.setState({isDragging:!1,isOverZone:!1}),null===(e=(t=this.props).onDragClear)||void 0===e||e.call(t)}),g(this,"handleDrop",e=>{if(!this.preventUnwantedDrop(e,!0))return!1;let t=e.dataTransfer;if(null==t)return!0;this.state.isDragging&&(e.preventDefault(),e.stopPropagation(),this.props.onDrop(t.files),this.clearDragging())})}}let C=p},935369:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var i=n(192379),l=n(479531),r=n(388032);function s(e){let[t,n]=i.useState(!1),[s,a]=i.useState(null);return[i.useCallback(async function(){for(var t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];try{return a(null),n(!0),await e(...i)}catch(e){e.message!==r.intl.string(r.t.N2yb9f)&&a(e instanceof l.Z?e:new l.Z(e))}finally{n(!1)}},[e]),{loading:t,error:s}]}},393903:function(e,t,n){n.d(t,{y:()=>s});var i=n(192379),l=n(237617),r=n(889711);function s(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,i.useRef)(null),s=(0,i.useRef)(null),a=(0,l.Z)(()=>e(n.current));return(0,i.useLayoutEffect)(()=>{if(!t)return;null==s.current&&(s.current=(0,r.pP)(a.current));let e=n.current,i=s.current;null!=e&&null!=i&&(0,r.YP)(i,e)},[t,e,a]),(0,i.useEffect)(()=>{if(!t)return;let e=n.current,i=s.current;if(null!=e&&null!=i)return()=>{(0,r.UC)(i,e)}},[t]),n}},724757:function(e,t,n){n.d(t,{Z:()=>a});var i=n(192379),l=n(924826),r=n(442837),s=n(607070);function a(e,t,n){let a=(0,r.e7)([s.Z],()=>s.Z.keyboardModeEnabled),o=i.useCallback(e=>{let n=document.querySelector(e),i=t.current;null!=n&&null!=i&&(n.focus(),i.scrollIntoViewNode({node:n,padding:80}))},[t]),d=i.useCallback(()=>new Promise(e=>{let n=t.current;if(null==n)return e();n.scrollTo({to:0,callback:()=>requestAnimationFrame(()=>e())})}),[t]),u=i.useCallback(()=>new Promise(e=>{let n=t.current;if(null==n)return e();n.scrollTo({to:Number.MAX_SAFE_INTEGER,callback:()=>requestAnimationFrame(()=>e())})}),[t]);return(0,l.ZP)({id:e,isEnabled:a,setFocus:o,scrollToStart:d,scrollToEnd:u,orientation:null==n?void 0:n.orientation})}},357352:function(e,t,n){n.d(t,{b:()=>i});function i(e){return"".concat("https://cdn.discordapp.com/assets","/").concat(e)}},12498:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i,l,r,s=n(106351),a=n(442837),o=n(570140),d=n(38618);let u=new Set,c={};function h(){u.clear()}function g(e){u.delete(e.guild.id)}class f extends(i=a.ZP.Store){getChannelStatus(e){var t;if(null!=e&&null!=e.guild_id&&e.type===s.d.GUILD_VOICE)return u.has(e.guild_id)||(u.add(e.guild_id),d.Z.getSocket().requestChannelStatuses(e.guild_id)),null===(t=c[e.guild_id])||void 0===t?void 0:t[e.id]}}r="ChannelStatusStore",(l="displayName")in f?Object.defineProperty(f,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):f[l]=r;let p=new f(o.Z,{GUILD_CREATE:g,GUILD_DELETE:g,CONNECTION_RESUMED:h,CONNECTION_OPEN:h,VOICE_CHANNEL_STATUS_UPDATE:function(e){null==c[e.guildId]&&(c[e.guildId]={}),c[e.guildId][e.id]=e.status},CHANNEL_STATUSES:function(e){for(let{id:t,status:n}of(c[e.guildId]={},e.channels))c[e.guildId][t]=n}})},17079:function(e,t,n){n.d(t,{T:()=>r});var i=n(570140),l=n(155414);async function r(e,t){i.Z.dispatch({type:"CREATOR_MONETIZATION_PRICE_TIERS_FETCH",guildId:e,priceTierType:t});try{let n=await l.X(e,t);i.Z.dispatch({type:"CREATOR_MONETIZATION_PRICE_TIERS_FETCH_SUCCESS",guildId:e,priceTierType:t,priceTiers:n})}catch(n){i.Z.dispatch({type:"CREATOR_MONETIZATION_PRICE_TIERS_FETCH_FAILURE",guildId:e,priceTierType:t})}}},76535:function(e,t,n){n.d(t,{H:()=>d,R:()=>o});var i=n(192379),l=n(442837),r=n(584825),s=n(17079),a=n(281320);function o(e,t){let n=(0,l.e7)([a.Z],()=>a.Z.getPriceTiersForGuildAndType(e,t)),r=(0,l.e7)([a.Z],()=>a.Z.getPriceTiersFetchStateForGuildAndType(e,t));return i.useEffect(()=>{r===a.M.NOT_FETCHED&&(0,s.T)(e,t)},[e,r,t]),{loading:r===a.M.FETCHING,priceTiers:n}}function d(e){let{fetchSubscriptionsSettings:t,loading:n,error:l}=(0,r.JH)();i.useEffect(()=>{t(e)},[t,e]);let s=(0,r.YB)(e);return{loaded:null!=s&&!n,subscriptionsSettings:s,loading:n,error:l}}},155414:function(e,t,n){n.d(t,{X:()=>s});var i=n(544891),l=n(881052),r=n(981631);let s=async(e,t)=>{try{return(await i.tn.get({url:r.ANM.PRICE_TIERS,query:{price_tier_type:t,guild_id:e},rejectWithError:!1})).body}catch(e){throw new l.Hx(e)}}},281320:function(e,t,n){n.d(t,{M:()=>c,Z:()=>g}),n(47120);var i,l,r,s,a=n(442837),o=n(570140);let d=new Map,u=new Map;var c=((l={})[l.NOT_FETCHED=0]="NOT_FETCHED",l[l.FETCHING=1]="FETCHING",l[l.FETCHED=2]="FETCHED",l);class h extends(i=a.ZP.Store){getPriceTiersFetchStateForGuildAndType(e,t){var n,i;return null!==(i=null===(n=u.get(e))||void 0===n?void 0:n.get(t))&&void 0!==i?i:0}getPriceTiersForGuildAndType(e,t){var n;return null===(n=d.get(e))||void 0===n?void 0:n.get(t)}}s="CreatorMonetizationStore",(r="displayName")in h?Object.defineProperty(h,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[r]=s;let g=new h(o.Z,{CONNECTION_OPEN:function(){d.clear(),u.clear()},CREATOR_MONETIZATION_PRICE_TIERS_FETCH:function(e){let{guildId:t,priceTierType:n}=e;u.has(t)||u.set(t,new Map),u.get(t).set(n,1)},CREATOR_MONETIZATION_PRICE_TIERS_FETCH_SUCCESS:function(e){let{guildId:t,priceTierType:n,priceTiers:i}=e;u.has(t)||u.set(t,new Map),u.get(t).set(n,2),d.has(t)||d.set(t,new Map),d.get(t).set(n,i)},CREATOR_MONETIZATION_PRICE_TIERS_FETCH_FAILURE:function(e){let{guildId:t,priceTierType:n}=e;u.has(t)||u.set(t,new Map),u.get(t).set(n,2)}})},834431:function(e,t,n){n.d(t,{n:()=>l});var i=n(506071);function l(){return(0,i.n)()}},166081:function(e,t,n){n.d(t,{U:()=>a});var i=n(192379),l=n(695346),r=n(73346),s=n(834431);function a(e,t){let{shouldAnimate:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=l.QK.useSetting(),o=(0,s.n)(),d=n&&o&&a;return i.useMemo(()=>{if((null==e?void 0:e.image_asset)!=null)return(0,r._W)(e.application_id,e.image_asset,t,d?void 0:"webp")},[t,e,d])}},863750:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i,l=n(442837),r=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a={enable_recently_active:"Enable recently active channels",theme_setting_in_account_sheet:"Show theme settings in the Account action sheet",mobile_profile_effect_debug_controls:"mobile_profile_effect_debug_controls",nav_experiment_server_drawer_enabled:"[NavI] Enable expandable server drawer",shop_include_unpublished:"[Shop] show unpublished items in shop",show_icymi_debug_scores:"Show ICYMI debug scores"},o={};class d extends(i=l.ZP.DeviceSettingsStore){getUserAgnosticState(){return{toggleStates:o}}initialize(e){for(var t in a){var n,i;let l=null!==(i=null==e?void 0:null===(n=e.toggleStates)||void 0===n?void 0:n[t])&&void 0!==i&&i;o[t]=l}}get(e){var t;return null!==(t=o[e])&&void 0!==t&&t}set(e,t){return o[e]=t,t}all(){return o}allWithDescriptions(){return Object.entries(o).map(e=>{let[t,n]=e;return[t,n,a[t]]})}}s(d,"displayName","DevToolsDesignTogglesStore"),s(d,"persistKey","DevToolsDesignTogglesStore");let u=new d(r.Z,{DEV_TOOLS_DESIGN_TOGGLE_SET:function(e){o[e.toggle]=e.value}})},238428:function(e,t,n){n(442837),n(863750)},479099:function(e,t,n){n.d(t,{Z:()=>m,f:()=>I}),n(47120);var i,l=n(200651),r=n(192379),s=n(120356),a=n.n(s),o=n(91192),d=n(442837),u=n(481060),c=n(239091),h=n(596454),g=n(607070),f=n(339085),p=n(695346),C=n(572004),v=n(388032),E=n(352271),_=((i=_||{})[i.SMALL=0]="SMALL",i[i.MEDIUM=1]="MEDIUM",i);function m(e){let{tag:t,size:i=1,disabled:s,className:_,onClick:m,onRemove:I,selected:S,ariaLabel:T}=e,{name:N,emojiId:y,emojiName:A}=t,O=null!=I,[b,P]=r.useState(!1),L=(0,d.e7)([f.ZP],()=>null!=y?f.ZP.getUsableCustomEmojiById(y):null),R=O||null!=m,Z=(!O||!b)&&(null!=y||null!=A),D=0===i,w=r.useRef(null),M=(0,d.e7)([g.Z],()=>g.Z.keyboardModeEnabled),x=e=>{let i=p.Sb.getSetting();C.wS&&i&&(0,c.jW)(e,async()=>{let{default:e}=await n.e("29646").then(n.bind(n,955116));return n=>(0,l.jsx)(e,{...n,tag:t})})},U=(0,l.jsxs)(l.Fragment,{children:[Z?(0,l.jsx)(h.Z,{className:a()(E.emoji,{[E.small]:D}),emojiId:y,emojiName:A,animated:!!(null==L?void 0:L.animated),size:"reaction"}):null,b&&O&&(0,l.jsx)("div",{className:E.closeCircle,children:(0,l.jsx)(u.Dio,{size:"md",color:"currentColor",className:E.close})}),(0,l.jsx)(u.Text,{variant:D?"text-xs/semibold":"text-sm/semibold",lineClamp:1,color:"currentColor",children:N})]}),F={key:t.id,className:a()(E.pill,{[E.disabled]:s,[E.clickable]:R,[E.small]:D,[E.selected]:S},_),onClick:e=>{null==m||m(e),null==I||I(t),M||null==w.current||w.current.blur()},onContextMenu:e=>x(e),onMouseEnter:()=>O&&P(!0),onMouseLeave:()=>O&&P(!1)},G=(0,o.JA)("forum-tag-".concat(t.id));return R?(0,l.jsx)(u.P3F,{...G,innerRef:w,focusProps:{ringTarget:w},"aria-label":null!=T?T:v.intl.formatToPlainString(v.t.iyRTLi,{tagName:N}),role:"button","aria-pressed":S,...F,children:U}):(0,l.jsx)("div",{...F,children:U})}function I(e){let{tags:t,count:n,size:i=1}=e,r=0===i;return(0,l.jsx)(u.ua7,{"aria-label":v.intl.string(v.t["P/y+sr"]),text:(0,l.jsx)(l.Fragment,{children:t.map(e=>(0,l.jsx)(m,{tag:e,className:E.tooltipPill,size:m.Sizes.SMALL},e.id))}),children:e=>(0,l.jsx)("div",{...e,className:a()(E.pill,{[E.small]:r}),children:(0,l.jsxs)(u.Text,{variant:r?"text-xs/semibold":"text-sm/semibold",children:["+",n]})})})}m.Sizes=_},273504:function(e,t,n){n.d(t,{I3:()=>u,Ic:()=>_,Lg:()=>E,OU:()=>C,RH:()=>o,Ux:()=>a,VW:()=>c,Vg:()=>v,Vk:()=>g,_6:()=>m,aj:()=>p,dc:()=>I,fX:()=>s.f,hu:()=>h,jj:()=>l.j,n4:()=>d,q4:()=>r.q,uE:()=>f});var i,l=n(401653),r=n(95930),s=n(41381),a=((i={})[i.PROFANITY=1]="PROFANITY",i[i.SEXUAL_CONTENT=2]="SEXUAL_CONTENT",i[i.SLURS=3]="SLURS",i);s.f.USER_PROFILE,s.f.SERVER_POLICY,s.f.MENTION_SPAM,s.f.ML_SPAM,s.f.DEFAULT_KEYWORD_LIST,s.f.KEYWORD;let o=1e3,d=100,u=1e3,c=10,h=60,g=1,f=1,p=260,C=100,v=1,E=50,_=20,m=150,I="automod-profile-quarantine-alert"},787824:function(e,t,n){n.d(t,{C:()=>function e(t){return null==t?t:Object.keys(t).reduce((n,l)=>{let r=(0,i.camelCase)(l);return"object"!=typeof t[l]||Array.isArray(t[l])?n[r]=t[l]:n[r]=e(t[l]),n},{})},X:()=>function e(t){return null==t?t:Object.keys(t).reduce((n,l)=>{let r=(0,i.snakeCase)(l);return"object"!=typeof t[l]||Array.isArray(t[l])?n[r]=t[l]:n[r]=e(t[l]),n[r]=t[l],n},{})}}),n(724458);var i=n(392711)},223606:function(e,t,n){n.d(t,{Z:()=>y}),n(724458);var i,l=n(442837),r=n(570140),s=n(673750),a=n(786761),o=n(592125),d=n(375954),u=n(709054),c=n(539573),h=n(825829),g=n(981631);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={},C=0,v={},E={},_=(e,t)=>{let n=(0,s.hc)(e),i={id:n,isBlockedEdit:(0,s.Bz)(e),messageData:e,errorMessage:(0,c.uF)(e,t)};p[n]=i,C++},m=e=>p[e],I=e=>{null!=p[e]&&delete p[e],C++};function S(e){let{messageData:t,errorResponseBody:n}=e;return _(t,n),!0}function T(e){var t;let{channelId:n,messages:i}=e,l=null===(t=o.Z.getChannel(n))||void 0===t?void 0:t.getGuildId();if(null==l)return!1;let r=E[l],s=i.reduce((e,t)=>{var n;return t.type===g.uaV.AUTO_MODERATION_ACTION&&(null===(n=t.embeds)||void 0===n?void 0:n.some(e=>{let{type:t}=e;return t===g.hBH.AUTO_MODERATION_NOTIFICATION}))?null==e||-1===u.default.compare(e,t.id)?t.id:void 0:e},r);return null!=s&&E[l]!==s&&(E[l]=s,!0)}class N extends(i=l.ZP.PersistedStore){initialize(e){this.waitFor(d.Z),null!=e&&(p=e.automodFailedMessages,v=e.mentionRaidDetectionByGuild)}getState(){return{automodFailedMessages:p,mentionRaidDetectionByGuild:v,lastIncidentAlertMessage:E}}getMessage(e){var t;return null==e?null:null!==(t=m(e))&&void 0!==t?t:null}getMessagesVersion(){return C}getMentionRaidDetected(e){var t;return null!==(t=v[e])&&void 0!==t?t:null}getLastIncidentAlertMessage(e){var t;return null!==(t=E[e])&&void 0!==t?t:null}}f(N,"displayName","GuildAutomodMessageStore"),f(N,"persistKey","GuildAutomodMessages");let y=new N(r.Z,{CONNECTION_OPEN:function(e){return p={},C++,!0},LOAD_MESSAGES_SUCCESS:T,LOCAL_MESSAGES_LOADED:T,MESSAGE_CREATE:function(e){let{guildId:t,message:n}=e;if(null==t||n.type!==g.uaV.AUTO_MODERATION_ACTION)return!1;let i=(0,a.e5)(n);return!!(0,h.nY)(i)&&!!(0,h.OP)(i)&&(E[t]=i.id,!0)},MESSAGE_SEND_FAILED_AUTOMOD:S,MESSAGE_EDIT_FAILED_AUTOMOD:S,REMOVE_AUTOMOD_MESSAGE_NOTICE:function(e){let{messageId:t}=e;return I(t),!0},MESSAGE_END_EDIT:function(e){let{response:t}=e;if((null==t?void 0:t.body)==null||t.body.code===g.evJ.AUTOMOD_MESSAGE_BLOCKED)return!1;let n=t.body.id;if(null==n)return!1;I(n)},AUTO_MODERATION_MENTION_RAID_DETECTION:function(e){let{guildId:t,decisionId:n,suspiciousMentionActivityUntil:i}=e;return v[t]={guildId:t,decisionId:n,suspiciousMentionActivityUntil:i},!0},AUTO_MODERATION_MENTION_RAID_NOTICE_DISMISS:function(e){let{guildId:t}=e;return delete v[t],!0}})},290034:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),s=n(297700),a=n(471885),o=n(981631),d=n(122425);let u={[o.Eu4.NONE]:d.iconBackgroundTierNone,[o.Eu4.TIER_1]:d.iconBackgroundTierOne,[o.Eu4.TIER_2]:d.iconBackgroundTierTwo,[o.Eu4.TIER_3]:d.iconBackgroundTierThree},c={[o.Eu4.NONE]:d.iconTierNone,[o.Eu4.TIER_1]:d.iconTierOne,[o.Eu4.TIER_2]:d.iconTierTwo,[o.Eu4.TIER_3]:d.iconTierThree};function h(e){let{premiumTier:t,iconBackgroundClassName:n,iconClassName:l,size:o}=e;return(0,i.jsx)(s.Z,{className:r()(n,u[t]),size:o,children:(0,i.jsx)(a.Z,{tier:t,className:r()(l,d.boostedGuildIconGem,c[t])})})}},527379:function(e,t,n){n.d(t,{Dr:()=>p,YO:()=>g,_X:()=>C,_o:()=>f,nb:()=>v,zO:()=>h});var i=n(570140),l=n(63568),r=n(434404),s=n(703656),a=n(430824),o=n(241559),d=n(327999),u=n(981631),c=n(176505);async function h(e){await i.Z.dispatch({type:"INITIALIZE_MEMBER_SAFETY_STORE",guildId:e})}function g(e){i.Z.dispatch({type:"MEMBER_SAFETY_NEW_MEMBER_TIMESTAMP_REFRESH",guildId:e})}function f(e,t){let{continuationToken:n,...l}=t;i.Z.dispatch({type:"MEMBER_SAFETY_PAGINATION_UPDATE",guildId:e,pagination:l})}async function p(e,t){await i.Z.dispatch({type:"MEMBER_SAFETY_SEARCH_STATE_UPDATE",guildId:e,searchState:t})}function C(e){let t=(0,o.lv)(e),n=a.Z.getGuild(e);return!!t&&null!=n&&((0,l.K2)(e,"Guild Sidebar")&&n.hasFeature(u.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL)||n.hasFeature(u.oNc.COMMUNITY)||n.hasFeature(u.oNc.ENABLED_MODERATION_EXPERIENCE_FOR_NON_COMMUNITY)?(0,s.uL)(u.Z5c.CHANNEL(e,c.oC.MEMBER_SAFETY)):r.Z.open(n.id,u.pNK.MEMBERS),!0)}async function v(e,t){let n=await (0,d._2)(e,t);return 0===n.length?[]:(await i.Z.dispatch({type:"FETCH_GUILD_MEMBER_SUPPLEMENTAL_SUCCESS",guildId:e,memberSupplementals:n}),n)}},495437:function(e,t,n){n.d(t,{EB:()=>s,Je:()=>o,cf:()=>a,mh:()=>d});var i=n(570140),l=n(881052),r=n(824389);let s=async e=>{i.Z.dispatch({type:"GUILD_PRODUCTS_FETCH",guildId:e});try{let t=await r.uV(e);i.Z.dispatch({type:"GUILD_PRODUCTS_FETCH_SUCCESS",guildId:e,products:t})}catch(t){i.Z.dispatch({type:"GUILD_PRODUCTS_FETCH_FAILURE",guildId:e})}},a=async(e,t)=>{i.Z.dispatch({type:"GUILD_PRODUCT_FETCH",productId:t});try{let n=await r.p9(e,t);return i.Z.dispatch({type:"GUILD_PRODUCT_FETCH_SUCCESS",product:n}),n}catch(e){throw i.Z.dispatch({type:"GUILD_PRODUCT_FETCH_FAILURE",productId:t,error:new l.Hx(e)}),e}};async function o(e,t,n){let l=await r.Je(e,t,n);return i.Z.dispatch({type:"GUILD_PRODUCT_UPDATE",product:l}),l}async function d(e,t){return await r.mh(e,t),i.Z.dispatch({type:"GUILD_PRODUCT_DELETE",productId:t}),!0}},267101:function(e,t,n){n.d(t,{SO:()=>C,eD:()=>h,hO:()=>g,r:()=>p,ue:()=>f}),n(47120);var i=n(192379),l=n(442837);n(935369);var r=n(38618),s=n(160404),a=n(496675),o=n(914010),d=n(495437),u=n(240864),c=n(981631);let h=e=>{let t=(0,l.e7)([u.Z],()=>null!=e?u.Z.getGuildProductsForGuildFetchState(e):u.M.FETCHED,[e]),n=(0,l.e7)([r.Z],()=>r.Z.isConnected()),[s,a]=i.useState(!0);return i.useEffect(()=>{s&&(t===u.M.NOT_FETCHED||t===u.M.FETCHED&&u.Z.isGuildProductsCacheExpired(e))&&n&&d.EB(e),a(!n)},[e,n,t,s]),{listingsLoaded:t===u.M.FETCHED&&!s}},g=function(e,t){let{requireCurrentGuild:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{requireCurrentGuild:!0},s=(0,l.e7)([r.Z],()=>r.Z.isConnected()),a=(0,l.e7)([o.Z],()=>o.Z.getGuildId());return i.useEffect(()=>{let i=u.Z.getGuildProductFetchState(t);if((!n||a===e)&&s&&i===u.M.NOT_FETCHED)try{d.cf(e,t)}catch(e){}},[e,t,s,a,n]),(0,l.e7)([u.Z],()=>u.Z.getGuildProduct(t))},f=function(e){let{publishedOnly:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.e7)([u.Z,s.Z],()=>u.Z.getGuildProductsForGuild(e,{publishedOnly:null!=t?t:!s.Z.isViewingServerShop(e)}))},p=e=>(0,l.e7)([u.Z],()=>null==e?void 0:u.Z.getGuildProduct(e)),C=e=>(0,l.e7)([a.Z],()=>null!=e&&a.Z.can(c.Plq.ADMINISTRATOR,e))},824389:function(e,t,n){n.d(t,{Je:()=>a,gs:()=>c,mh:()=>o,p9:()=>u,uV:()=>d});var i=n(544891),l=n(881052),r=n(73346),s=n(981631);let a=async(e,t,n)=>{let{priceTier:r,imageName:a,createNewRole:o,unlinkRole:d,...u}=n;try{return(await i.tn.patch({url:s.ANM.GUILD_PRODUCT_LISTINGS(e,t),body:{...u,image_name:a,price_tier:r,create_new_role:o,unlink_role:d},rejectWithError:!1})).body}catch(e){throw new l.Hx(e)}},o=async(e,t)=>{try{await i.tn.del({url:s.ANM.GUILD_PRODUCT_LISTINGS(e,t),rejectWithError:!1})}catch(e){throw new l.Hx(e)}},d=async e=>{try{return(await (0,r.Kb)({url:s.ANM.GUILD_PRODUCT_LISTINGS(e),rejectWithError:!1})).body.listings}catch(e){throw new l.Hx(e)}},u=async(e,t)=>{try{return(await (0,r.Kb)({url:s.ANM.GUILD_PRODUCT_LISTINGS(e,t),rejectWithError:!1})).body}catch(e){throw new l.Hx(e)}},c=async e=>{let{guildId:t,productId:n,attachmentId:r}=e;try{return(await i.tn.post({url:s.ANM.GUILD_PRODUCT_ATTACHMENT_DOWNLOAD(t,n,r),rejectWithError:!1})).body}catch(e){throw new l.Hx(e)}}},240864:function(e,t,n){n.d(t,{M:()=>h,Z:()=>S}),n(653041),n(47120);var i,l,r,s,a=n(442837),o=n(759174),d=n(570140),u=n(70956),c=n(709054),h=((l={})[l.NOT_FETCHED=0]="NOT_FETCHED",l[l.FETCHING=1]="FETCHING",l[l.FETCHED=2]="FETCHED",l);let g={},f={},p={},C=10*u.Z.Millis.MINUTE;function v(e){return"guild:".concat(e)}function E(e){return"guild:".concat(e,":published")}let _=new o.h(e=>{let t=[v(e.guild_id)];return e.published&&t.push(E(e.guild_id)),t},e=>(function(e){let t=c.default.extractTimestamp(e.id);return e.published?-t:-t+1e12})(e)),m=[];class I extends(i=a.ZP.Store){getGuildProductsForGuildFetchState(e){var t;return null!==(t=g[e])&&void 0!==t?t:0}getGuildProduct(e){return _.get(e)}getGuildProductsForGuild(e,t){let{publishedOnly:n}=t;return null==e?m:_.values(n?E(e):v(e))}getGuildProductFetchState(e){var t;return null!==(t=f[e])&&void 0!==t?t:0}isGuildProductsCacheExpired(e){var t;return Date.now()-(null!==(t=p[e])&&void 0!==t?t:0)>C}}s="GuildProductsStore",(r="displayName")in I?Object.defineProperty(I,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):I[r]=s;let S=new I(d.Z,{CONNECTION_OPEN:function(){_.clear(),g={},f={},p={}},GUILD_PRODUCTS_FETCH:function(e){let{guildId:t}=e;g[t]=1,[..._.values(v(t))].forEach(e=>{_.delete(e.id)})},GUILD_PRODUCTS_FETCH_SUCCESS:function(e){let{guildId:t,products:n}=e;g[t]=2,p[t]=Date.now(),n.forEach(e=>{_.set(e.id,e),f[e.id]=2})},GUILD_PRODUCTS_FETCH_FAILURE:function(e){let{guildId:t}=e;g[t]=2},GUILD_PRODUCT_CREATE:function(e){let{product:t}=e;_.set(t.id,t)},GUILD_PRODUCT_UPDATE:function(e){let{product:t}=e;_.set(t.id,t)},GUILD_PRODUCT_DELETE:function(e){let{productId:t}=e;_.delete(t)},GUILD_PRODUCT_FETCH:function(e){let{productId:t}=e;f[t]=1},GUILD_PRODUCT_FETCH_SUCCESS:function(e){let{product:t}=e;f[t.id]=2,_.set(t.id,t)},GUILD_PRODUCT_FETCH_FAILURE:function(e){let{productId:t,error:n}=e;f[t]=2,404===n.status&&_.delete(t)}})},863663:function(e,t,n){n.d(t,{NB:()=>s,ar:()=>u,fG:()=>d,kg:()=>a,pM:()=>o});var i=n(881052);n(496675);var l=n(981631),r=n(388032);let s="_role";function a(e){if(!(e>=0))switch(-e){case l.evJ.ENTITY_TOO_LARGE:return r.intl.string(r.t.YbdEFB);case l.evJ.INVALID_SKU_ATTACHMENT_NO_ARCHIVES:return r.intl.string(r.t.ZaXBoK);case 1:return r.intl.string(r.t.R0RpRU);default:return r.intl.formatToPlainString(r.t.cYwlp6,{code:-e})}}function o(e){let{newRoleParams:t}=e;if(null!=t&&""===t.name.trim()){var n;return n=r.intl.string(r.t["V0B/k5"]),new i.Hx({status:400,body:{message:"Invalid form body",errors:{[s]:{_errors:[{code:"",message:n}]}}}})}}function d(e){var t;let{guildProductListing:n,name:i,priceTier:l,description:r,image:s,imageName:a,isImageChanged:o,newRoleParams:d,hasUnsavedAttachmentChanges:u}=e,c={};(null==n?void 0:n.name)!==i&&""!==i.trim()&&(c.name=i),(null!==(t=null==n?void 0:n.description)&&void 0!==t?t:"")!==r&&(c.description=r),(null==n?void 0:n.price_tier)!==l&&null!=l&&(c.priceTier=l),null!=d&&""!==d.name.trim()?c.createNewRole=!0:null===d&&(c.unlinkRole=!0),s.startsWith("data:")&&(o||null==n&&(Object.keys(c).length>0||u))&&(c.image=s,c.imageName=a);let h=Object.keys(c).length>0||u;return{changes:c,hasUnsavedChanges:h,canSaveForDraft:h,canSaveForPublished:h,canPublishOrUnpublish:!(null==n||h)}}function u(e,t){return"".concat(location.protocol,"//").concat(location.host).concat(l.Z5c.GUILD_PRODUCT(e,t))}},676651:function(e,t,n){n.d(t,{h:()=>s});var i=n(200651);n(192379);var l=n(481060),r=n(302463);function s(e,t){(0,l.ZDy)(async()=>{let{default:l}=await n.e("73628").then(n.bind(n,458961));return n=>(0,i.jsx)(l,{guildId:e,productId:t,...n})},{modalKey:r.Yz})}},942833:function(e,t,n){n.d(t,{C:()=>s,k:()=>a});var i=n(192379),l=n(937615),r=n(388032);function s(e){return i.useMemo(()=>{if(null==e)return;let t=null!=e.role_id,n=e.attachments_count>0;return t&&n?r.intl.string(r.t.ih4QMT):t?r.intl.string(r.t.o9xphY):n?r.intl.string(r.t.DWYJub):void 0},[e])}function a(e){return i.useMemo(()=>{if((null==e?void 0:e.price)==null)return;let{amount:t,currency:n}=e.price;return(0,l.T4)(t,n)},[e])}},613810:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(481060);let r={open:function(e){(0,l.ZDy)(async()=>{let{default:t}=await n.e("53162").then(n.bind(n,490576));return n=>(0,i.jsx)(t,{...e,...n})})}}},391181:function(e,t,n){n.d(t,{Z:()=>v,m:()=>C});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),s=n(481060),a=n(239091),o=n(166081),d=n(937615),u=n(942833),c=n(48691),h=n(231338),g=n(388032),f=n(312658);function p(e){let{showEditProduct:t,showUnpublishProduct:n,showCopyLink:l,showTestDownload:r,showDeleteProduct:a,showReportProduct:o,onEditProduct:d,onUnpublishProduct:u,onDeleteProduct:c,onCopyLink:h,onTestDownload:p,onReportProduct:C,closePopout:v,onSelect:E}=e;return(0,i.jsx)("div",{className:f.menuContainer,children:(0,i.jsxs)(s.v2r,{navId:"guild-product-context",onClose:v,"aria-label":g.intl.string(g.t.Z146dH),onSelect:E,children:[(0,i.jsxs)(s.kSQ,{children:[t&&(0,i.jsx)(s.sNh,{id:"guild-product-edit",label:g.intl.string(g.t.EEfce3),action:d}),l&&(0,i.jsx)(s.sNh,{id:"guild-product-copy-link",label:g.intl.string(g.t.XR26ur),icon:s.xPt,action:h}),r&&(0,i.jsx)(s.sNh,{id:"guild-product-test-download",label:g.intl.string(g.t.aXoI6e),icon:s._8t,action:p})]}),(0,i.jsxs)(s.kSQ,{children:[n&&(0,i.jsx)(s.sNh,{id:"guild-product-unpublish",label:g.intl.string(g.t.QrkMlJ),action:u}),a&&(0,i.jsx)(s.sNh,{id:"guild-product-delete",label:g.intl.string(g.t.zWjqvL),color:"danger",action:c})]}),(0,i.jsx)(s.kSQ,{children:o&&(0,i.jsx)(s.sNh,{id:"guild-product-report",label:g.intl.string(g.t["6yUzvL"]),color:"danger",action:C})})]})})}function C(e){let{product:t,guildId:n,showEditProduct:l,showUnpublishProduct:r,showTestDownload:a,showCopyLink:o,showDeleteProduct:d,showReportProduct:u,onEditProduct:c,onUnpublishProduct:h,onDeleteProduct:C,onCopyProductLink:v,onTestDownload:E,onReportProduct:_}=e;return(0,i.jsx)("div",{onClick:e=>{e.stopPropagation()},children:(0,i.jsx)(s.yRy,{position:"right",align:"top",spacing:-8,animation:s.yRy.Animation.FADE,renderPopout:e=>(0,i.jsx)(p,{...e,guildId:n,productId:t.id,showEditProduct:l,showUnpublishProduct:r,showCopyLink:o,showTestDownload:a,showReportProduct:u,showDeleteProduct:d,onEditProduct:c,onUnpublishProduct:h,onDeleteProduct:C,onCopyLink:v,onTestDownload:E,onReportProduct:_}),children:(e,n)=>{let{isShown:l}=n;return(0,i.jsx)(s.P3F,{...e,"aria-label":g.intl.formatToPlainString(g.t.RtqjeH,{productName:t.name}),"aria-haspopup":"listbox","aria-expanded":l,className:f.productActionMenuButton,children:(0,i.jsx)(s.Huf,{size:"md",color:"currentColor",className:f.productActionMenuIcon,"aria-hidden":!0})})}})})}function v(e){let{product:t,guildId:n,onEditProduct:l,onUnpublishProduct:v,onDeleteProduct:E,onCopyProductLink:_,onTestDownload:m,disabled:I=!1}=e,S=(0,o.U)(t,600),T=null!==t.price_tier?(0,d.T4)(t.price_tier,h.pK.USD):void 0,N=(0,u.C)(t);return(0,i.jsxs)(s.kL8,{tag:"article",className:r()(f.productCardClickable,f.productCard,{[f.disabled]:I}),onClick:I?void 0:l,onContextMenu:function(e){(0,a.jW)(e,()=>Promise.resolve(e=>(0,i.jsx)(p,{...e,closePopout:a.Zy,guildId:n,productId:t.id,showEditProduct:!0,showUnpublishProduct:t.published,showCopyLink:t.published,showTestDownload:null!=t.attachments,showDeleteProduct:!0,showReportProduct:!1,onEditProduct:l,onUnpublishProduct:v,onDeleteProduct:E,onCopyLink:_,onTestDownload:m,onReportProduct:()=>{}})))},"aria-label":g.intl.formatToPlainString(g.t["X/yAKi"],{productName:t.name}),children:[(0,i.jsx)("img",{alt:"",src:S,className:f.productThumbnail}),(0,i.jsxs)("div",{className:f.productInfo,children:[(0,i.jsxs)("div",{className:f.productInfoContent,children:[(0,i.jsx)(s.X6q,{variant:"text-md/semibold",color:"header-primary",className:f.productName,children:t.name}),(0,i.jsx)(s.LZC,{size:8}),(0,i.jsxs)("div",{className:f.productDetails,children:[(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:T}),null!=N?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:f.dotSeparator}),(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:N})]}):null]}),(0,i.jsx)(s.LZC,{size:16}),t.published?(0,i.jsx)(c.t,{}):(0,i.jsx)(c.b,{})]}),!I&&(0,i.jsx)(C,{product:t,guildId:n,showEditProduct:!0,showUnpublishProduct:t.published,showCopyLink:t.published,showTestDownload:null!=t.attachments,showDeleteProduct:!0,showReportProduct:!1,onEditProduct:l,onUnpublishProduct:v,onDeleteProduct:E,onCopyProductLink:_,onTestDownload:m,onReportProduct:()=>{}})]})]})}},48691:function(e,t,n){n.d(t,{b:()=>h,t:()=>c});var i=n(200651);n(192379);var l=n(481060),r=n(44315),s=n(377171),a=n(981631),o=n(388032),d=n(686089);function u(e){let{label:t,backgroundColor:n=s.Z.BUTTON_SECONDARY_BACKGROUND,icon:r,iconColor:a}=e;return(0,i.jsxs)("div",{className:d.badge,style:{backgroundColor:n},children:[(0,i.jsx)(l.Text,{variant:"text-sm/normal",color:"always-white",className:d.__invalid_badgeText,children:t}),(0,i.jsx)(r,{className:d.badgeIcon,color:null!=a?a:"currentColor","aria-hidden":!0})]})}function c(){return(0,i.jsx)(u,{label:o.intl.string(o.t["I+02Gh"]),backgroundColor:"#207B8D",icon:l.T$Z})}function h(){return(0,i.jsx)(u,{label:o.intl.string(o.t.TgsPaG),icon:l.vdY,iconColor:(0,r.Lq)(a.Ilk.PRIMARY_330)})}},699553:function(e,t,n){n.d(t,{C:()=>u,p:()=>c});var i=n(544891),l=n(570140),r=n(881052),s=n(406218),a=n(314852),o=n(981631);let d="Unknown Error";function u(e,t){var n;if(null==e)return Promise.resolve(null);let u=a.Z.getIsFetching(e),c=a.Z.getLastSyncTimestamp(e),h=a.Z.getProfile(e),g=(n=c,Date.now()-(null!=n?n:0)>6e4);return u&&!t?Promise.resolve(null):null==h||g||t?(l.Z.dispatch({type:"GUILD_PROFILE_FETCH",guildId:e}),i.tn.get({url:o.ANM.GUILD_PROFILE(e),rejectWithError:!1}).then(t=>{let n=(0,s.x)(t.body);return l.Z.dispatch({type:"GUILD_PROFILE_FETCH_SUCCESS",guildId:e,profile:n}),n}).catch(t=>{var n;let i=new r.Hx(t);return l.Z.dispatch({type:"GUILD_PROFILE_FETCH_FAILURE",guildId:e,error:null!==(n=i.getAnyErrorMessage())&&void 0!==n?n:d,errorCode:i.code}),null})):Promise.resolve(h)}function c(e,t){return a.Z.getIsUpdating(e)?Promise.resolve(null):(l.Z.dispatch({type:"GUILD_PROFILE_UPDATE",guildId:e,updates:t}),i.tn.patch({url:o.ANM.GUILD_PROFILE(e),body:(0,s.s)(t),rejectWithError:!1}).then(t=>{let n=(0,s.x)(t.body);return l.Z.dispatch({type:"GUILD_PROFILE_UPDATE_SUCCESS",guildId:e,profile:n}),n}).catch(t=>{var n;let i=new r.Hx(t);return l.Z.dispatch({type:"GUILD_PROFILE_UPDATE_FAILURE",guildId:e,error:null!==(n=i.getAnyErrorMessage())&&void 0!==n?n:d,errorCode:i.code}),null}))}},997431:function(e,t,n){n.d(t,{M:()=>i});function i(e,t){if(null==e||""===e)return null;let n=new Date(e);return!(n instanceof Date)||isNaN(n.getTime())?null:n.toLocaleDateString(t,{year:"numeric",month:"short"})}},65361:function(e,t,n){n.d(t,{u:()=>a});var i=n(192379),l=n(442837),r=n(699553),s=n(314852);function a(e){let t=(0,l.e7)([s.Z],()=>s.Z.getProfile(e)),n=(0,l.e7)([s.Z],()=>s.Z.getIsFetching(e));return{guildProfile:t,fetchGuildProfile:i.useCallback(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return await (0,r.C)(e,t)},[e]),isFetching:n}}},723776:function(e,t,n){n.d(t,{F:()=>f});var i=n(200651),l=n(192379),r=n(442837),s=n(481060),a=n(596454),o=n(727637),d=n(607070),u=n(176354),c=n(300694);function h(e){let{emoji:t,shouldAnimate:n}=e;if(null==t)return null;let l=u.ZP.isCustomEmoji(t)?t.name:t.surrogates;return(0,i.jsx)(a.Z,{className:c.traitEmoji,emojiId:t.id,emojiName:l,animated:t.animated,shouldAnimate:n})}function g(e){let{trait:t}=e,n=l.useRef(null),a=(0,o.Z)(n),u=(0,r.e7)([d.Z],()=>d.Z.useReducedMotion);return(null==t?void 0:t.label)==null||t.label.length<=0?null:(0,i.jsxs)("div",{ref:n,className:c.trait,children:[(0,i.jsx)(h,{emoji:t.emoji,shouldAnimate:!u&&a}),(0,i.jsx)(s.Text,{tag:"span",className:c.traitLabel,variant:"text-sm/normal",color:"text-normal",children:t.label})]})}function f(e){let{profile:t}=e,n=l.useMemo(()=>t.traits.map((e,t)=>({key:"trait-".concat(t),...e})).filter(e=>e.label.length>0),[t]),r=l.useCallback(e=>"string"==typeof e?(0,i.jsx)("div",{className:c.trait,children:(0,i.jsx)(s.Text,{tag:"span",variant:"text-sm/normal",color:"text-normal",children:e})}):(0,i.jsx)(g,{trait:e}),[]);return(0,i.jsx)(s.Epb,{className:c.container,items:n,renderItem:r,maxLines:2,itemGapPx:4})}},686369:function(e,t,n){n.d(t,{d:()=>s});var i=n(950104),l=n(780384),r=n(981631);function s(e,t){let n=e===r.BRd.DARK?(0,i.DT)(t,.8):(0,l.r5)(t,.8);return"linear-gradient(45deg, ".concat(t," 0%, ").concat(n," 100%)")}},910200:function(e,t,n){n.d(t,{Z:()=>I});var i=n(200651),l=n(120356),r=n.n(l),s=n(442837),a=n(692547),o=n(481060),d=n(410030),u=n(220082),c=n(114487),h=n(686546),g=n(706454),f=n(768581),p=n(709054),C=n(997431),v=n(723776),E=n(686369),_=n(388032),m=n(712617);function I(e){let{profile:t,className:n}=e,l=(0,d.ZP)(),I=function(e,t){let n=f.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:64}),i=(0,u.ZP)(n,t);return null!=e.brandColorPrimary?e.brandColorPrimary:i}(t,(0,o.dQu)(a.Z.colors.BG_BASE_TERTIARY).hex()),S=(0,s.e7)([g.default],()=>g.default.locale),T=(0,E.d)(l,I),N=(0,C.M)(p.default.extractTimestamp(t.id),S);return(0,i.jsxs)("div",{className:r()(m.container,n),children:[(0,i.jsx)("div",{className:m.banner,style:{background:T}}),(0,i.jsx)("div",{className:m.avatarContainer,children:(0,i.jsx)(h.ZP,{mask:h.QS.CLAN_ICON,width:70,height:70,children:(0,i.jsx)("div",{className:m.avatarWrapper,children:(0,i.jsx)(c.b,{guildId:t.id,guildName:t.name,guildIcon:t.icon,iconSize:64})})})}),(0,i.jsxs)("div",{className:m.header,children:[(0,i.jsx)(o.X6q,{variant:"heading-lg/medium",color:"header-primary",children:t.name}),(0,i.jsxs)("div",{className:m.members,children:[(0,i.jsxs)("div",{className:m.memberCount,children:[(0,i.jsx)("div",{className:m.dot}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-secondary",children:_.intl.format(_.t.zRl6XV,{count:t.memberCount})})]}),(0,i.jsxs)("div",{className:m.memberCount,children:[(0,i.jsx)("div",{className:m.dotOnline}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-secondary",children:_.intl.format(_.t["LC+S+v"],{membersOnline:t.onlineCount})})]})]}),(0,i.jsx)("div",{className:m.established,children:(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-secondary",children:_.intl.format(_.t["zb2Q5+"],{createdAtDate:N})})})]}),(0,i.jsxs)("div",{className:m.body,children:[(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-secondary",children:t.description}),(0,i.jsx)(v.F,{profile:t})]})]})}},730647:function(e,t,n){n.d(t,{f:()=>u,l:()=>c}),n(411104);var i=n(200651),l=n(192379),r=n(399606),s=n(38618),a=n(423117),o=n(289393);let d=l.createContext(void 0);function u(e){let t=l.useContext(d);if(null==t)throw Error("".concat(null!=e?e:"useGroupListingsFetchContext"," must be used within a GroupListingsFetchContextProvider"));let{listingsLoaded:n,fetchGroupListingsForGuild:i}=t;return i(),n}function c(e){let{guildId:t,children:n,refetchOnMount:u,includeSoftDeleted:c,countryCode:h,dontFetchWhileTrue:g}=e,f=(0,r.e7)([s.Z],()=>s.Z.isConnected()),p=(0,r.e7)([o.Z],()=>null!=t?o.Z.getSubscriptionGroupListingsForGuildFetchState(t):o.M.FETCHED),C=l.useRef(u),v=l.useCallback(()=>{if(null==t||!f||!0===g)return;let e=o.Z.getSubscriptionGroupListingsForGuildFetchState(t);(C.current||e===o.M.NOT_FETCHED)&&(C.current=!1,a.FP(t,{includeSoftDeleted:c,countryCode:h}))},[f,t,c,h,g]),E=l.useMemo(()=>p===o.M.FETCHED&&!0!==C.current,[p,C]);return(0,i.jsx)(d.Provider,{value:{listingsLoaded:E,fetchGroupListingsForGuild:v},children:n})}},523361:function(e,t,n){n.d(t,{HG:()=>a,Md:()=>s,Q8:()=>r});var i=n(373228),l=n(388032);let r=()=>[l.intl.string(l.t.b6wEe3),l.intl.string(l.t.i8o9hY)],s=()=>[l.intl.string(l.t.vqnToa),l.intl.string(l.t["9yh+dH"])],a=[{id:"781323471249604648",format_type:i.u3.APNG,description:"Cheerful Choco jumps out of gift box",name:"Surprise"},{id:"781324642736144424",format_type:i.u3.APNG,description:"Cheerful Choco preens against window",name:"Affection"},{id:"781323769960202280",format_type:i.u3.APNG,description:"Cheerful Choco sparkles",name:"OMG"},{id:"781324722394103808",format_type:i.u3.APNG,description:"Cheerful Choco cheers",name:"Cheer"},{id:"813951723822645278",format_type:i.u3.APNG,description:"Cheerful Choco gives thumbs up",name:"Nice"}]},35125:function(e,t,n){n.d(t,{PA:()=>c,Tn:()=>u,_i:()=>v,eI:()=>p,vp:()=>f,y8:()=>C});var i=n(367907),l=n(200876),r=n(430824),s=n(594174);n(709054),n(523361);var a=n(981631),o=n(388032);function d(e){return e}function u(e){let{username:t,usernameOnClickHandler:n,roleSubscriptionOnClickHandler:i,guildId:l,roleSubscriptionData:r}=e,{content:s,formatParams:a}=g({username:t,usernameOnClickHandler:n,roleSubscriptionOnClickHandler:i,guildId:l,roleSubscriptionData:r});return o.intl.format(s,a)}function c(e){let{username:t,usernameOnClickHandler:n,roleSubscriptionOnClickHandler:i,guildId:l,roleSubscriptionData:r}=e,{content:s,formatParams:a}=g({username:t,usernameOnClickHandler:n,roleSubscriptionOnClickHandler:i,guildId:l,roleSubscriptionData:r});return o.intl.formatToParts(s,a)}function h(e,t){var n,i;let l=r.Z.getGuild(e),s=null!==(n=null==t?void 0:t.total_months_subscribed)&&void 0!==n?n:0;return{guild:l,totalMonthsSubscribed:s,showWithDuration:s>0,isRenewal:null!==(i=null==t?void 0:t.is_renewal)&&void 0!==i&&i}}function g(e){let{username:t,usernameOnClickHandler:n=d,roleSubscriptionOnClickHandler:i=a.dG4,guildId:l,roleSubscriptionData:r}=e,{guild:s,totalMonthsSubscribed:u,showWithDuration:c,isRenewal:g}=h(l,r);return{content:c?g?o.t.Iy66Mz:o.t.eCgb2d:g?o.t.mPTTdn:o.t.mYjFFx,formatParams:{username:t,usernameHook:n,guildName:null==s?void 0:s.name,handleGuildNameClick:i,tierName:null==r?void 0:r.tier_name,months:u}}}function f(e){let t,{username:n,usernameOnClickHandler:i=d,roleSubscriptionOnClickHandler:l=a.dG4,guildId:r,roleSubscriptionData:s}=e,{guild:u,totalMonthsSubscribed:c,showWithDuration:g,isRenewal:f}=h(r,s);return t=g?f?o.t.OQ0OU1:o.t["+N9bxs"]:f?o.t.OxP1ND:o.t["6Z1E+/"],o.intl.formatToParts(t,{guildName:null==u?void 0:u.name,tierName:null==s?void 0:s.tier_name,username:n,usernameOnClick:i,roleSubscriptionOnClick:l,months:c})}function p(e){return(0,l.l)(e)}function C(e,t,n,l){var r;i.ZP.trackWithMetadata(a.rMx.ROLE_SUBSCRIPTION_PURCHASE_SYSTEM_MESSAGE_CLICKED,{guild_id:e,user_id:null===(r=s.default.getCurrentUser())||void 0===r?void 0:r.id,channel_id:t,message_id:n,role_subscription_listing_id:l})}function v(e,t){var n;return{guild_id:e.guild_id,sender:null===(n=s.default.getCurrentUser())||void 0===n?void 0:n.id,target_user:t.author.id,channel_id:e.id,message_id:t.id}}},817460:function(e,t,n){n.d(t,{JE:()=>a,ab:()=>s,iG:()=>o,lL:()=>u,rC:()=>d});var i=n(293810),l=n(474936),r=n(388032);function s(e){return"roles"in e?"emoji-".concat(e.id):"".concat(e.ref_type,"-").concat(e.emoji_id,"-").concat(e.name,"-").concat(e.ref_id)}function a(e){let{interval:t,interval_count:n}=e;return r.intl.format(function(e){switch(e){case l.rV.DAY:return r.t["3rUmPT"];case l.rV.MONTH:return r.t["zuN54+"];case l.rV.YEAR:return r.t.cuSp8f}}(t),{count:n})}function o(e){let{interval:t,interval_count:n}=e;switch(t){case l.rV.DAY:if(n>0&&n%7==0)return r.intl.formatToPlainString(r.t.iVZYys,{weeks:n/7});return r.intl.formatToPlainString(r.t.jzH70d,{days:n});case l.rV.MONTH:return r.intl.formatToPlainString(r.t.erUSmJ,{months:n});case l.rV.YEAR:return r.intl.formatToPlainString(r.t.IfYQVF,{years:n})}}function d(e){return e.ref_type===i.Qs.CHANNEL}function u(e){return e.ref_type===i.Qs.INTANGIBLE}},403474:function(e,t,n){n.d(t,{k:()=>i});let i={id:"0",name:"",mentionable:!1,position:0,hoist:!1,permissions:n(981631).Plq.SEND_MESSAGES,color:0,colorString:"0",icon:null,unicodeEmoji:null,flags:0}},944537:function(e,t,n){n.d(t,{I:()=>s,n:()=>a});var i,l=n(15729),r=n(731965),s=((i={})[i.ALL_CHANNELS_ACCESS=0]="ALL_CHANNELS_ACCESS",i[i.SOME_CHANNELS_ACCESS=1]="SOME_CHANNELS_ACCESS",i);let a=(0,l.U)(e=>({listings:{},setListing:(t,n)=>(0,r.j)(()=>e(e=>({listings:{...e.listings,[t]:n(e.listings[t])}}))),editStateIdsForGroup:{},setEditStateIdsForGroup:(t,n)=>(0,r.j)(()=>{e(e=>({editStateIdsForGroup:{...e.editStateIdsForGroup,[t]:n(e.editStateIdsForGroup[t])}}))})}))},290348:function(e,t,n){n.d(t,{B7:()=>et,Ek:()=>U,F2:()=>W,GM:()=>Q,GP:()=>F,H9:()=>q,Lo:()=>X,PK:()=>D,R7:()=>B,TT:()=>Y,UE:()=>j,XZ:()=>z,Xo:()=>ee,_T:()=>R,d9:()=>w,mR:()=>Z,p9:()=>M,qs:()=>x,rU:()=>K}),n(47120);var i=n(192379),l=n(512722),r=n.n(l),s=n(392711),a=n(772848),o=n(866442),d=n(731965),u=n(442837),c=n(80932),h=n(749210),g=n(211266),f=n(339085),p=n(73346),C=n(817460),v=n(423117),E=n(584825),_=n(289393),m=n(790285),I=n(303737),S=n(971792),T=n(22902),N=n(403474),y=n(944537),A=n(293810),O=n(981631),b=n(474936);function P(e,t,n){let l=(0,y.n)(e=>e.setListing),r=i.useCallback(i=>{l(e,e=>{var l;let r=null!==(l=null==e?void 0:e[t])&&void 0!==l?l:n;return Object.assign({},e,{[t]:"function"==typeof i?i(r):i})})},[l,e,t,n]),s=(0,y.n)(n=>{var i;return null===(i=n.listings[e])||void 0===i?void 0:i[t]});return[void 0!==s?s:n,r]}function L(e,t){let n=(0,u.e7)([_.Z],()=>_.Z.getSubscriptionListing(e)),l=(0,g.Z)(()=>t);return i.useMemo(()=>l(n),[n,l])}function R(e){let t=L(e,e=>{var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""});return P(e,"name",t)}function Z(e){let t=L(e,e=>{var t;return null==e?void 0:null===(t=e.subscription_plans[0])||void 0===t?void 0:t.price});return P(e,"priceTier",t)}function D(e){let t=L(e,e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""});return P(e,"description",t)}function w(e,t){let n=L(e,e=>{if((null==e?void 0:e.image_asset)!=null)return(0,p._W)(e.application_id,e.image_asset,t)});return P(e,"image",n)}function M(e,t){let n=(0,S.Z)(t,e);return P(e,"roleIcon",i.useMemo(()=>{var e,t;return{icon:null!==(e=null==n?void 0:n.icon)&&void 0!==e?e:void 0,unicodeEmoji:null!==(t=null==n?void 0:n.unicodeEmoji)&&void 0!==t?t:void 0}},[n]))}function x(e,t){let n=(0,S.Z)(t,e),l=(0,y.n)(t=>{var n;return null===(n=t.listings[e])||void 0===n?void 0:n.roleColor}),r=(0,y.n)(t=>{var n;return null===(n=t.listings[e])||void 0===n?void 0:n.roleIcon});return i.useMemo(()=>{let e={...null!=n?n:N.k};if(void 0!==r){var t,i;e.icon=null!==(t=r.icon)&&void 0!==t?t:"",e.unicodeEmoji=null!==(i=r.unicodeEmoji)&&void 0!==i?i:""}return void 0!==l&&(e.color=l,e.colorString=(0,o.Rf)(l)),e},[n,r,l])}function U(e,t){let n=(0,S.Z)(t,e);return P(e,"roleColor",i.useMemo(()=>{var e;return null!==(e=null==n?void 0:n.color)&&void 0!==e?e:O.p6O},[n]))}function F(e,t){let n=(0,S.Z)(t,e);return P(e,"channelAccessFormat",i.useMemo(()=>null==n?y.I.SOME_CHANNELS_ACCESS:(0,m.MT)(n)?y.I.ALL_CHANNELS_ACCESS:y.I.SOME_CHANNELS_ACCESS,[n]))}let G=[];function j(e){let t=L(e,e=>null==e?G:e.role_benefits.benefits.filter(C.rC));return P(e,"channelBenefits",t)}let H=[];function B(e){let t=L(e,e=>null==e?H:e.role_benefits.benefits.filter(C.lL));return P(e,"intangibleBenefits",t)}let k=new Set;function V(e,t){return 0===e.length?k:new Set(e.filter(e=>e.roles.includes(t)).map(e=>{let{id:t}=e;return t}))}function z(e,t){let n=(0,S.Z)(t,e),l=(0,u.Wu)([f.ZP],()=>f.ZP.getGuildEmoji(t),[t]);return P(e,"tierEmojiIds",i.useMemo(()=>null==n?k:V(l,n.id),[l,n]))}function Y(e){var t;let n=(0,E.oC)(e),{selectedOption:i}=(0,T.Z)(null!==(t=null==n?void 0:n.active_trial)&&void 0!==t?t:null);return P(e,"trialInterval",null!=i?i:null)}function W(e){var t;let n=(0,E.oC)(e);return P(e,"trialLimit",null!==(t=null==n?void 0:n.max_num_active_trial_users)&&void 0!==t?t:null)}function K(e){return(0,y.n)(t=>void 0!==t.listings[e])}function X(e){return(0,y.n)(t=>{for(let n of e)if(void 0!==t.listings[n])return!0;return!1})}function q(e){let t=L(e,e=>null==e?void 0:e.subscription_plans[0]),[n]=P(e,"priceTier",void 0);return[i.useMemo(()=>{var e,i,l,r,s;return{price:null!==(e=null!=n?n:null==t?void 0:t.price)&&void 0!==e?e:0,currency:null!==(i=null==t?void 0:t.currency)&&void 0!==i?i:O.pKx.USD,interval:null!==(l=null==t?void 0:t.interval)&&void 0!==l?l:b.rV.MONTH,interval_count:null!==(r=null==t?void 0:t.interval_count)&&void 0!==r?r:1,id:null!==(s=null==t?void 0:t.id)&&void 0!==s?s:""}},[t,n])]}function Q(e){(0,d.j)(()=>{y.n.setState(t=>({listings:{...t.listings,[e]:t.listings.nonexistantEditStateId}}))})}async function J(e){let{guildId:t,editStateId:n}=e,i=_.Z.getSubscriptionListing(n);r()(null!=i,"listing doesnt exist");let l=i.role_id,a=i.id,o=y.n.getState().listings[n];r()(null!=o,"edit state does not exist");let{roleColor:d,roleIcon:u,trialLimit:g,trialInterval:p,tierEmojiIds:C}=o;(void 0!==d||void 0!==u)&&await h.Z.updateRole(t,l,{color:d,icon:null==u?void 0:u.icon,unicodeEmoji:null==u?void 0:u.unicodeEmoji});let E=_.Z.getSubscriptionTrial(a);if((null!=g||null!=p||null!=E&&null==p)&&await v.I1(t,a,{trial:p,max_num_active_trial_users:g}),void 0!==C){let e=V(f.ZP.getGuildEmoji(t),l),n=(0,s.difference)([...C],[...e]),i=(0,s.difference)([...e],[...C]),r=n.map(e=>f.ZP.getCustomEmojiById(e)).map(e=>{if(null!=e)return(0,c.dv)({guildId:t,emojiId:e.id,roles:[...e.roles,l]})}),a=i.map(e=>f.ZP.getCustomEmojiById(e)).map(e=>{if(null==e)return;let n=e.roles.filter(e=>e!==l);return n.length>0?(0,c.dv)({guildId:t,emojiId:e.id,roles:n}):(0,c.RE)(t,e.id)});await Promise.all([...r,...a])}}async function $(e){let{guildId:t,editStateId:n,groupListingId:i,onBeforeDispatchNewListing:l}=e,s=y.n.getState().listings[n];r()(null!=s,"edit state does not exist");let{name:a,description:o,channelBenefits:d,intangibleBenefits:u,priceTier:c,image:h,channelAccessFormat:g}=s;r()(null!=a,"no name provided"),r()(null!=o,"no description provided"),r()(null!=c,"no priceTier provided"),r()(null!=h,"no image provided");let f=g===y.I.ALL_CHANNELS_ACCESS,p=i;null==p&&(p=(await v.uw(t,{})).id),null!=d&&d.length>0&&await (0,I.r4)(t,d);let C=[...null!=d?d:[],...null!=u?u:[]],E=(0,I.yL)(n,t);return v.dA({guildId:t,groupListingId:p,data:{can_access_all_channels:f,image:h,name:a,description:o,benefits:C,priceTier:c},analyticsContext:E,onBeforeDispatchNewListing:l})}function ee(){let[e,t]=i.useState(!1),[n,l]=i.useState();return{loading:e,error:n,handleCreateOrUpdateFromEditState:i.useCallback(async e=>{let{guildId:n,editStateId:i,groupListingId:a,onBeforeDispatchNewListing:o,onAfterDispatchNewListing:u}=e,c=i,h=_.Z.getSubscriptionListing(c);try{if(t(!0),l(void 0),null!=h)r()(null!=a,"groupListingId is null"),await function(e){var t;let{guildId:n,editStateId:i,groupListingId:l}=e,a=_.Z.getSubscriptionListing(i);r()(null!=a,"listing doesnt exist");let o=y.n.getState().listings[i];r()(null!=o,"edit state does not exist");let{name:d,description:u,channelBenefits:c,intangibleBenefits:h,priceTier:g,image:f,channelAccessFormat:p}=o,E={};if(d!==a.name&&(E.name=d),u!==a.description&&(E.description=u),g!==(null===(t=a.subscription_plans[0])||void 0===t?void 0:t.price)&&(E.priceTier=g),null!=f&&(E.image=f),null!=p&&(E.can_access_all_channels=p===y.I.ALL_CHANNELS_ACCESS),null!=c||null!=h){let e=a.role_benefits.benefits.filter(C.rC),t=a.role_benefits.benefits.filter(C.lL),n=[...null!=c?c:e,...null!=h?h:t];E.benefits=n}return(0,s.isEmpty)(E)?a:v.O0({guildId:n,groupListingId:l,listingId:i,data:E})}({guildId:n,editStateId:c,groupListingId:a});else{var g;let e=await $({guildId:n,editStateId:c,groupListingId:a,onBeforeDispatchNewListing:o});g=c=e.id,(0,d.j)(()=>{y.n.setState(e=>({listings:{...e.listings,[g]:e.listings[i],[i]:void 0}}))}),null==u||u(e)}return await J({guildId:n,editStateId:c}),Q(c),!0}catch(e){if(!("getAnyErrorMessage"in e))throw e;l(e)}finally{t(!1)}},[])}}function et(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{includeSoftDeleted:!1},l=(0,E._k)(e,n),r=(0,y.n)(e=>e.editStateIdsForGroup[t]),s=(0,y.n)(e=>e.setEditStateIdsForGroup),o=(0,y.n)(e=>e.setListing),d=i.useMemo(()=>[...l.map(e=>{let{id:t}=e;return t}),...null!=r?r:[]],[r,l]),u=i.useCallback(()=>{let e=(0,a.Z)();s(t,t=>[...null!=t?t:[],e])},[t,s]);return{editStateIds:d,addNewEditStateId:u,addNewEditStateFromTemplate:i.useCallback(e=>{let n=(0,a.Z)();return s(t,e=>[...null!=e?e:[],n]),e.listings.forEach(t=>{o(n,()=>({name:t.name,description:t.description,priceTier:t.price_tier,image:t.image,intangibleBenefits:t.additional_perks,channelBenefits:t.channels.map(e=>({ref_id:e.id,ref_type:A.Qs.CHANNEL,description:e.description,name:e.name,emoji_name:e.emoji_name})),roleIcon:{unicodeEmoji:void 0,icon:t.image},roleColor:t.role_color,usedTemplate:e.category}))}),n},[t,s,o]),removeEditStateId:i.useCallback(e=>{s(t,t=>(null!=t?t:[]).filter(t=>t!==e))},[t,s])}}},144507:function(e,t,n){n.d(t,{$D:()=>p,H2:()=>C,MO:()=>f,X$:()=>g,d5:()=>c});var i,l=n(442837),r=n(223892),s=n(674180),a=n(496675),o=n(594174),d=n(923726),u=n(981631),c=((i={})[i.NONE=0]="NONE",i[i.WAITLIST_ONLY=1]="WAITLIST_ONLY",i[i.NEEDS_COMMUNITY=2]="NEEDS_COMMUNITY",i[i.VISIBLE=3]="VISIBLE",i);function h(e){if(e.guild.hasFeature(u.oNc.CREATOR_MONETIZABLE_DISABLED))return 0;if(function(e){let{guild:t,isOwner:n,canManageGuildRoleSubscriptions:i,isGuildEligibleForRoleSubscriptions:l,isExpeditedMonetizationOnboardingGuild:r,isUserInCreatorMonetizationEligibleCountry:s,shouldRestrictUpdatingRoleSubscriptionSettings:a}=e;return!!i&&(!a||!!n)&&(!!(t.hasFeature(u.oNc.CREATOR_MONETIZABLE)||t.hasFeature(u.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||!!t.hasFeature(u.oNc.COMMUNITY)&&(!!l||!!r)&&n&&s)}(e))return 3;let{guild:t,isOwner:n,isUserInCreatorMonetizationEligibleCountry:i,isMonetizationWaitlistEnabledForGuild:l,isGuildEligibleForRoleSubscriptions:r,isExpeditedMonetizationOnboardingGuild:s}=e;return n&&!i&&l?1:n&&l&&(r||s)&&!t.hasFeature(u.oNc.COMMUNITY)?2:0}function g(e){return 0!==h(e)}function f(e){let t=(0,d.Bt)(null==e?void 0:e.id),n=(0,r.Ob)(e),i=(0,r.gS)(null==e?void 0:e.id),a=p(e),u=(0,l.e7)([o.default],()=>{let t=o.default.getCurrentUser();return null!=t&&(null==e?void 0:e.isOwner(t))===!0}),c=(0,r.Sd)(),{shouldRestrictUpdatingCreatorMonetizationSettings:g}=(0,s.gX)(null==e?void 0:e.id);return null==e?0:h({guild:e,isOwner:u,canManageGuildRoleSubscriptions:a,isGuildEligibleForRoleSubscriptions:t,isMonetizationWaitlistEnabledForGuild:i,isExpeditedMonetizationOnboardingGuild:n,isUserInCreatorMonetizationEligibleCountry:c,shouldRestrictUpdatingRoleSubscriptionSettings:g})}function p(e){return(0,l.e7)([a.Z],()=>C(e),[e])}function C(e){return null!=e&&a.Z.can(u.Plq.ADMINISTRATOR,e)}},697227:function(e,t,n){n.d(t,{V:()=>s,W:()=>r});var i=n(512722),l=n.n(i);function r(e){let t=e.items;return l()(1===t.length,"more than 1 subscription item for role subscription"),t[0].planId}function s(e){var t;let n=null==e?void 0:null===(t=e.renewalMutations)||void 0===t?void 0:t.items;if(null!=n)return l()(n.length<=1,"more than 1 renewal mutation for role subscription"),null==n?void 0:n[0].planId}},853439:function(e,t,n){n.d(t,{Z:()=>g});var i,l,r,s=n(442837),a=n(570140),o=n(131704),d=n(592125);let u={},c={};class h extends(r=s.ZP.Store){getTemplates(e){return u[e]}getTemplateWithCategory(e,t){var n;return null===(n=u[e])||void 0===n?void 0:n.find(e=>e.category===t)}getChannel(e){return c[e]}}l="GuildRoleSubscriptionTierTemplatesStore",(i="displayName")in h?Object.defineProperty(h,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):h[i]=l;let g=new h(a.Z,{GUILD_ROLE_SUBSCRIPTIONS_STASH_TEMPLATE_CHANNELS:function(e){let{selectedTemplate:t,guildId:n}=e,i=Object.values(d.Z.getMutableGuildChannelsForGuild(n));t.listings.forEach(e=>{e.channels.forEach(e=>{let t=i.find(t=>t.name===e.name);if(void 0!==t)e.id=t.id;else if(!(e.id in c)){let t=(0,o.kt)(e);c[e.id]=t}})})},GUILD_ROLE_SUBSCRIPTIONS_FETCH_TEMPLATES:function(e){let{templates:t,guildId:n}=e;u[n]=t}})},303737:function(e,t,n){n.d(t,{GN:()=>I,be:()=>m,g4:()=>E,m7:()=>v,r4:()=>S,sO:()=>N,yL:()=>T}),n(653041),n(47120),n(998459);var i=n(991637),l=n.n(i),r=n(399606),s=n(570140),a=n(333848),o=n(592125),d=n(923726),u=n(289393),c=n(944537),h=n(144507),g=n(853439),f=n(981631),p=n(176505);l().shim();let C={};function v(e){let t=(0,r.e7)([o.Z],()=>o.Z.getChannel(e)),n=(0,r.e7)([g.Z],()=>g.Z.getChannel(e));return null!=t?t:n}function E(e,t,n){let i=(0,r.e7)([u.Z],()=>u.Z.getSubscriptionListingsForGuild(e)),l=(0,c.n)(t=>t.editStateIdsForGroup[e]),s=(0,c.n)(e=>e.listings);if(void 0===n||void 0===t)return null;let a=i.filter(e=>!e.soft_deleted&&!e.archived).map(e=>e.subscription_plans[0].price),o=[];void 0!==l&&l.forEach(e=>{let t=s[e],n=null==t?void 0:t.priceTier;null!=n&&o.push(n)});let d=new Set(o.concat(a));if(!d.has(n))return null;let h=t.indexOf(n);if(-1===h)return null;let g=[];for(let e=h+1;e<t.length&&(d.has(t[e])||g.push(t[e]),3!==g.length);e++);return g}function _(e){let t=c.n.getState().editStateIdsForGroup[e],n=c.n.getState().listings,i=new Set;null!=t&&t.forEach(e=>{var t;let l=null===(t=n[e])||void 0===t?void 0:t.channelBenefits;null==l||l.forEach(e=>{null!=g.Z.getChannel(e.ref_id)&&i.add(e.ref_id)})});let l=[];for(let t of i){let n=g.Z.getChannel(t);if(null!=n){let t=n.set("guild_id",e);l.push(t)}}return l}function m(e){let t=_(e);C[e]=t,t.forEach(e=>{let t=e.set("flags",p.zZ.IS_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL);s.Z.dispatch({type:"CHANNEL_CREATE",channel:t})})}function I(e){var t;(null!==(t=C[e])&&void 0!==t?t:_(e)).forEach(e=>{s.Z.dispatch({type:"CHANNEL_DELETE",channel:e})})}async function S(e,t){let n=[],i=[];t.forEach(t=>{let l=g.Z.getChannel(t.ref_id);null!=l&&(n.push(a.Z.createRoleSubscriptionTemplateChannel(e,l.name,l.type,l.topic)),i.push(l))}),0!==n.length&&(await Promise.allSettled(n)).forEach((n,l)=>{let r=i[l].id;if("fulfilled"===n.status){let t=n.value.body,i=c.n.getState().editStateIdsForGroup[e],l=c.n.getState().listings;null!=i&&i.forEach(e=>{var n;let i=null===(n=l[e])||void 0===n?void 0:n.channelBenefits;null==i||i.forEach(e=>{e.ref_id===r&&(e.ref_id=t.id)})})}else if(null!=t){let e=t.findIndex(e=>e.ref_id===r);-1!==e&&(null==t||t.splice(e,1))}})}function T(e,t){var n,i;let l=c.n.getState().listings[e],r=null==l?void 0:l.usedTemplate;if(null==r)return{templateCategory:null,hasChangeFromTemplate:null};let s=g.Z.getTemplateWithCategory(t,r);if(null==s)return{templateCategory:null,hasChangeFromTemplate:null};let a=s.listings[0];if((null==l?void 0:l.name)!==a.name||(null==l?void 0:l.description)!==a.description||(null==l?void 0:l.priceTier)!==a.price_tier||(null==l?void 0:l.image)!==a.image||(null==l?void 0:l.roleColor)!==a.role_color||(null==l?void 0:null===(n=l.channelBenefits)||void 0===n?void 0:n.length)!==a.channels.length||(null==l?void 0:null===(i=l.intangibleBenefits)||void 0===i?void 0:i.length)!==a.additional_perks.length)return{templateCategory:s.category,hasChangeFromTemplate:!0};for(let e=0;e<a.channels.length;e++){let t=l.channelBenefits[e],n=a.channels[e];if(t.name!==n.name||t.description!==n.description||t.emoji_name!==n.emoji_name)return{templateCategory:s.category,hasChangeFromTemplate:!0}}for(let e=0;e<a.additional_perks.length;e++){let t=l.intangibleBenefits[e],n=a.additional_perks[e];if(t.name!==n.name||t.description!==n.description||t.emoji_name!==n.emoji_name)return{templateCategory:s.category,hasChangeFromTemplate:!0}}return{templateCategory:s.category,hasChangeFromTemplate:!1}}function N(e){return(0,h.H2)(e)&&e.hasFeature(f.oNc.ROLE_SUBSCRIPTIONS_ENABLED)&&(0,d.$F)()&&(0,d.hQ)(e.id)}},403910:function(e,t,n){n.d(t,{Z:()=>r});var i=n(442837),l=n(339085);let r=function(e,t){return(0,i.e7)([l.ZP],()=>{var n;if(null==t)return null;let i=l.ZP.getDisambiguatedEmojiContext(e);return null!==(n=i.getById(t))&&void 0!==n?n:i.getByName(t)},[e,t])}},14263:function(e,t,n){n.d(t,{Z:()=>o});var i=n(192379),l=n(442837),r=n(480608),s=n(243730);let a={};function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,l.e7)([s.Z],()=>s.Z.getRoleMemberCount(e));return i.useEffect(()=>{if(null==e)return;let n=a[e];null!=n&&t>0&&Date.now()-n<t||(a[e]=Date.now(),r.E(e))},[e,t]),n}},570533:function(e,t,n){n.d(t,{Z:()=>o});var i=n(192379),l=n(442837),r=n(339085),s=n(889564);let a=[];function o(e){let t=(0,l.e7)([r.ZP],()=>r.ZP.getGuildEmoji(e),[e]);return i.useMemo(()=>null==t?a:t.filter(t=>(0,s.Kt)(t,e)),[t,e])}},971792:function(e,t,n){n.d(t,{Z:()=>s});var i=n(442837),l=n(430824),r=n(584825);function s(e,t){let n=(0,r.jO)(t);return(0,i.e7)([l.Z],()=>null!=e&&null!=n?l.Z.getRole(e,n.role_id):void 0)}},22902:function(e,t,n){n.d(t,{Z:()=>o});var i=n(192379),l=n(817460),r=n(293810),s=n(474936),a=n(388032);function o(e){return i.useMemo(()=>{var t;let n=r.DN.map(e=>({value:e,label:e.interval===s.rV.DAY&&7===e.interval_count?a.intl.formatToPlainString(a.t.XfSsr6,{defaultLimit:(0,l.iG)(e)}):(0,l.iG)(e),isDefault:e.interval===s.rV.DAY&&7===e.interval_count})),i=null!=e?null===(t=n.find(t=>null!=t.value&&t.value.interval===e.interval&&t.value.interval_count===e.interval_count))||void 0===t?void 0:t.value:e;return{options:n,selectedOption:i}},[e])}},629262:function(e,t,n){n.d(t,{Z:()=>r});var i=n(442837),l=n(592125);function r(e){return(0,i.Wu)([l.Z],()=>e.filter(e=>l.Z.hasChannel(e.ref_id)),[e])}},528027:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),s=n(596454),a=n(377171),o=n(403910),d=n(549631),u=n(798149);function c(e){var t;let{guildId:n,emojiId:l,emojiName:c,className:h}=e,g=(0,o.Z)(n,l);return null!=g||null!=c?(0,i.jsx)(s.Z,{emojiId:null==g?void 0:g.id,emojiName:null!=c?c:null==g?void 0:g.name,animated:null!==(t=null==g?void 0:g.animated)&&void 0!==t&&t,className:r()(u.emojiIcon,h)}):(0,i.jsx)(d.Z,{className:r()(u.emojiIcon,h),color:a.Z.CREATOR_REVENUE_LOCKED_CHANNEL_ICON})}},686807:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var l=n(481060),r=n(201895),s=n(471445),a=n(823379),o=n(303737),d=n(293810),u=n(388032),c=n(426615);function h(e){let{channelId:t}=e,n=(0,o.m7)(t);if(null==n)return(0,i.jsx)(i.Fragment,{children:"[".concat(u.intl.string(u.t.bz1PZW),"]")});let a=n.isMediaChannel()?l.XBm:(0,s.Th)(n.type);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.nn4,{children:(0,r.ZP)({channel:n})}),(0,i.jsxs)("div",{"aria-hidden":!0,children:[null!=a&&(0,i.jsx)(a,{className:c.icon,"aria-hidden":!0}),n.name]})]})}function g(e){switch(e.ref_type){case d.Qs.CHANNEL:return(0,i.jsx)(h,{channelId:e.ref_id});case d.Qs.INTANGIBLE:return e.name;default:(0,a.vE)(e)}}},893729:function(e,t,n){n.d(t,{Z:()=>E});var i=n(200651),l=n(192379),r=n(120356),s=n.n(r),a=n(442837),o=n(481060),d=n(518738),u=n(786761),c=n(3148),h=n(753206),g=n(594174),f=n(5192),p=n(981631),C=n(388032),v=n(538290);function E(e){var t;let{guildId:n,role:r,theme:E,content:_=C.intl.string(C.t["6OSasb"]),className:m}=e,I=(0,a.e7)([g.default],()=>g.default.getCurrentUser()),S=f.ZP.useName(n,null,I),T=(0,d.Kz)(r),N=l.useMemo(()=>(0,u.e5)({...(0,c.ZP)({channelId:"0",content:_,tts:void 0,type:void 0,messageReference:void 0,allowedMentions:void 0,author:I}),state:p.yb.SENT,id:"0"}),[I,_]),y={nick:S,colorString:null!==(t=r.colorString)&&void 0!==t?t:void 0};return(0,i.jsx)(o.f6W,{theme:E,children:e=>(0,i.jsx)("div",{className:s()(e,v.container,m),children:(0,i.jsx)(h.Z,{hideTimestamp:!0,author:y,roleIcon:T,message:N,isGroupStart:!0,disableInteraction:!0})})})}},540126:function(e,t,n){n.d(t,{Bz:()=>eg,Cb:()=>B,Fq:()=>k,PB:()=>Y,VR:()=>et,ZP:()=>q,p2:()=>z,wF:()=>K,wZ:()=>V,wd:()=>W,zR:()=>ef}),n(47120),n(411104),n(653041),n(390547),n(724458),n(733860);var i=n(512722),l=n.n(i),r=n(392711),s=n.n(r),a=n(317381),o=n(812206),d=n(12498),u=n(430198),c=n(931261),h=n(924301),g=n(160404),f=n(798423),p=n(18036),C=n(798379),v=n(398758),E=n(22082),_=n(601070),m=n(569471),I=n(131704),S=n(680089),T=n(592125),N=n(58468),y=n(430824),A=n(496675),O=n(306680),b=n(944486),P=n(9156),L=n(979651),R=n(938475),Z=n(823379),D=n(709054),w=n(968358),M=n(203818),x=n(443063),U=n(981631),F=n(176505),G=n(231338);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let H="placeholder-channel-id",B=2,k=0,V=1,z=2,Y=3,W=4,K=5,X=new Set([String(x.z.GUILD_DIRECTORY)]);class q{_areGuildActionRowsUpdated(e,t){var n;return!s().isEqual(null===(n=this.guilds[e])||void 0===n?void 0:n.getGuildActionSection().getRows().filter(e=>!X.has(e)),t)}_areChannelNoticeRowsUpdated(e,t){var n;return!s().isEqual(null===(n=this.guilds[e])||void 0===n?void 0:n.getChannelNoticeSection().getRows(),t)}getGuild(e,t,n){return(!(e in this.guilds)||this._areGuildActionRowsUpdated(e,t)||this._areChannelNoticeRowsUpdated(e,n))&&(this.guilds[e]=new Q(e,t,n)),this.guilds[e]}getGuildChannelRowsOnly(e){return e in this.guilds||(this.guilds[e]=new Q(e,[],[])),this.guilds[e]}clear(){this.guilds={}}clearGuildId(e){return null!=e&&e in this.guilds&&(delete this.guilds[e],!0)}updateRecentsCategory(e){var t,n;return null!=e&&e in this.guilds&&null!==(n=null===(t=this.guilds[e])||void 0===t?void 0:t.updateRecentsCategory())&&void 0!==n&&n}nonPositionalChannelIdUpdate(e){let t=T.Z.getBasicChannel(e);return null!=t&&null!=t.guild_id&&null!=this.guilds[t.guild_id]&&(t instanceof I.Sf||null!=(t=T.Z.getChannel(e)))&&this.nonPositionalChannelUpdate(t)}nonPositionalChannelUpdate(e){if(null==e.guild_id)return!1;let t=this.guilds[e.guild_id];if(null==t)return!1;let n=!1;return e.isThread()&&(n=this.nonPositionalChannelIdUpdate(e.parent_id)),t.nonPositionalChannelUpdate(e)||n}updateSubtitles(e,t){(null==e?Object.values(this.guilds):e in this.guilds?[this.guilds[e]]:[]).forEach(e=>e.updateSubtitles(t))}constructor(){j(this,"guilds",{})}}class Q{get initializationData(){return{selectedChannel:T.Z.getChannel(b.Z.getChannelId()),selectedVoiceChannelId:b.Z.getVoiceChannelId(),activeJoinedRelevantThreads:_.Z.getActiveJoinedRelevantThreadsForGuild(this.id),activeJoinedUnreadThreads:_.Z.getActiveJoinedUnreadThreadsForGuild(this.id)}}invalidate(){this.sections=null,this.rows=null,this.sortedNamedCategories=null,this.firstVoiceChannel=void 0,this.version++}getSortedNamedCategories(){return null==this.sortedNamedCategories&&this.getRows(),this.sortedNamedCategories}getSortedCategories(){return[this.favoritesCategory,this.recentsCategory,this.noParentCategory,...this.getSortedNamedCategories(),this.voiceChannelsCategory]}getSections(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null==this.sections&&(this.sections=this.getRows().map(e=>e.length)),e)?[...this.sections]:this.sections}getRows(){if(null==this.rows){this.sortedNamedCategories=s().sortBy(Object.values(this.categories),e=>e.record.position),this.rows=[this.channelNoticeSection,this.guildActionSection,this.favoritesCategory,this.recentsCategory,this.noParentCategory,...this.sortedNamedCategories,this.voiceChannelsCategory].map(e=>e.getRows());let e=0;for(let t of[this.noParentCategory,...this.sortedNamedCategories])for(let n of(t.position=++e,t.getShownChannelIds()))t.channels[n].position=++e}return this.rows}getCategoryFromSection(e){switch(e){case k:throw Error("Invalid section. Use getChannelNoticeSection instead");case V:throw Error("Invalid section. Use getGuildActionSection instead");case z:return this.favoritesCategory;case W:return this.noParentCategory;case this.recentsSectionNumber:return this.recentsCategory;case this.voiceChannelsSectionNumber:return this.voiceChannelsCategory;default:return this.getSortedNamedCategories()[e-K]}}getNamedCategoryFromSection(e){return e-=K,l()(e>=0&&e<this.getSortedNamedCategories().length,"invalid section index ".concat(e)),this.getSortedNamedCategories()[e]}getGuildActionSection(){return this.guildActionSection}getChannelNoticeSection(){return this.channelNoticeSection}getChannelFromSectionRow(e,t){let n=this.getCategoryFromSection(e);if(null==n)return null;let i=n.channels[n.getShownChannelIds()[t]];return null==i?null:{category:n,channel:i}}isPlaceholderRow(e,t){return l()(e>V,"Invalid section"),e!==this.recentsSectionNumber&&this.getRows()[e][t]===H}getFirstVoiceChannel(e){if(void 0===this.firstVoiceChannel){if(this.firstVoiceChannel=this.favoritesCategory.getFirstVoiceChannel(e),null!=this.firstVoiceChannel||(this.firstVoiceChannel=this.noParentCategory.getFirstVoiceChannel(e),null!=this.firstVoiceChannel))return this.firstVoiceChannel;for(let t of this.getSortedNamedCategories())if(null!=t.getFirstVoiceChannel(e)){this.firstVoiceChannel=t.getFirstVoiceChannel(e);break}}return this.firstVoiceChannel}getSectionRowsFromChannel(e){let t=function(e){if(null==e)return null;if(eE.has(e))return e;let t=T.Z.getChannel(e);return(null==t?void 0:t.isDirectory())?x.z.GUILD_DIRECTORY:null}(e);if(null!=t)return[{row:this.getGuildActionSection().getRows().indexOf(t),section:V}];let n=[],i=T.Z.getChannel(e);if(null==i||null==e)return n;let l=i.isThread();if(l&&(i=T.Z.getChannel(i.parent_id)),null==i)return n;let r=this.favoritesCategory.getShownChannelIds().indexOf(i.id);r>=0&&n.push({section:z,row:r});let a=this.recentsCategory.getShownChannelIds().indexOf(i.id);if(a>=0&&n.push({section:this.recentsSectionNumber,row:a}),i.type===U.d4z.GUILD_CATEGORY)return[{section:s().findIndex(this.getSortedNamedCategories(),e=>e.id===(null==i?void 0:i.id))+K}];let o=this.getCategory(i),d=o instanceof $?W:this.getSortedNamedCategories().indexOf(o)+K,u=o.getShownChannelIds().indexOf(i.id);if(d>=0&&u>=0){let t=l?o.channels[i.id].threadIds.indexOf(e):0;n.push({section:d,row:u,threadOffset:t})}let c=this.voiceChannelsCategory.getShownChannelIds().indexOf(i.id);return c>=0&&n.push({section:this.voiceChannelsSectionNumber,row:c}),n}getCategory(e){return null!=e.parent_id&&e.parent_id in this.categories?this.categories[e.parent_id]:this.noParentCategory}updateRecentsCategory(){let e=this.recentsCategory.updateAllChannels(this.initializationData);return e&&this.invalidate(),e}nonPositionalChannelUpdate(e){let t=this.initializationData,n=this.getCategory(e).updateChannel(e,t);return this.favoritesCategory.updateChannel(e,t)&&(n=!0),this.recentsCategory.updateChannel(e,t)&&(n=!0),this.voiceChannelsCategory.updateChannel(e,t)&&(n=!0),n&&this.invalidate(),n}getSlicedChannels(e,t){l()(e.length>0,"must have at least one channel in the slice");let n=e[0],i=e[e.length-1],r=!0,s=!1,a=[],o=[];for(let e of this.getSortedCategories()){let l=(null==t?void 0:t.ignoreRecents)&&e===this.recentsCategory;for(let t of e.getShownChannelIds()){let d=e.channels[t];r&&(d.id===n.id?r=!1:l||a.push(d)),s&&!l&&o.push(d),r||s||d.id!==i.id||(s=!0)}}return[a,e,o]}getChannels(e){let t=[];if(null==this.allChannelsById)for(let e of(this.allChannelsById={},this.getSortedCategories()))for(let t in e.channels)this.allChannelsById[t]=e.channels[t];for(let n of e)null!=this.allChannelsById[n]&&t.push(this.allChannelsById[n]);return t}updateSubtitles(e){let t=[];if(null!=e){let n=T.Z.getChannel(e);if(null!=n){if(n.id in this.favoritesCategory.channels)t=[this.favoritesCategory.channels[n.id]];else if(n.id in this.recentsCategory.channels)t=[this.recentsCategory.channels[n.id]];else{let i=this.getCategory(n);null!=i&&null!=i.channels[e]&&(t=[i.channels[e]])}}}else t=s()(this.getSortedCategories()).map(e=>Object.values(e.channels)).flatten().value();let n=!1;return t.forEach(e=>{e.updateSubtitle()&&(n=!0)}),n&&this.version++,n}forEachShownChannel(e,t){for(let n of this.getSortedCategories())if(null==t||!t.ignoreRecents||n!==this.recentsCategory)for(let t of n.getShownChannelIds()){let i=n.channels[t];for(let t of(e(i.record),i.threadIds)){let n=T.Z.getChannel(t);null!=n&&e(n)}}}forEachChannel(e,t){for(let n of this.getSortedCategories())if(null==t||!t.ignoreRecents||n!==this.recentsCategory)for(let t of n.getChannelRecords())e(t)}constructor(e,t,n){var i,r;j(this,"id",void 0),j(this,"hideMutedChannels",void 0),j(this,"favoritesSectionNumber",void 0),j(this,"recentsSectionNumber",void 0),j(this,"voiceChannelsSectionNumber",void 0),j(this,"mutedChannelIds",void 0),j(this,"optedInChannels",void 0),j(this,"optInEnabled",void 0),j(this,"hideResourceChannels",void 0),j(this,"favoriteChannelIds",void 0),j(this,"suggestedFavoriteChannelId",void 0),j(this,"collapsedCategoryIds",void 0),j(this,"categories",void 0),j(this,"noParentCategory",void 0),j(this,"favoritesCategory",void 0),j(this,"recentsCategory",void 0),j(this,"voiceChannelsCategory",void 0),j(this,"guildActionSection",void 0),j(this,"channelNoticeSection",void 0),j(this,"sortedNamedCategories",void 0),j(this,"sections",void 0),j(this,"rows",void 0),j(this,"firstVoiceChannel",void 0),j(this,"allChannelsById",void 0),j(this,"version",void 0),this.id=e,this.sortedNamedCategories=null,this.sections=null,this.rows=null,this.firstVoiceChannel=void 0,this.allChannelsById=null,this.version=0,this.hideMutedChannels=P.ZP.isGuildCollapsed(this.id),this.mutedChannelIds=P.ZP.getMutedChannels(this.id),this.optedInChannels=null!==(i=P.ZP.getOptedInChannelsWithPendingUpdates(this.id))&&void 0!==i?i:P.ZP.getOptedInChannels(this.id),this.optInEnabled=(0,v.r1)(this.id),this.hideResourceChannels=(0,c.s)(this.id),this.favoriteChannelIds=new Set(null!==(r=P.ZP.getGuildFavorites(this.id))&&void 0!==r?r:[]),this.suggestedFavoriteChannelId=p.Z.getSuggestedChannelId(this.id),this.collapsedCategoryIds=S.Z.getCollapsedCategories();let a=T.Z.getMutableGuildChannelsForGuild(this.id),o=y.Z.getGuild(this.id),d={},u=[],h={};for(let e in a){let t=a[e];t.type===U.d4z.GUILD_CATEGORY&&(d[t.id]=t,h[t.id]=[])}let g=[],C=[],E=[],_=this.initializationData;for(let e in a){let t=a[e];if(t.type!==U.d4z.GUILD_CATEGORY){if(t.type===U.d4z.GUILD_DIRECTORY){null==o||o.hasFeature(U.oNc.HUB)||E.push(t);continue}ev(this,t,_)?g.push(t):(t.type===U.d4z.GUILD_VOICE||t.type===U.d4z.GUILD_STAGE_VOICE)&&(null!=t.parent_id&&null!=d[t.parent_id]&&C.push(d[t.parent_id]),C.push(t)),null!=t.parent_id&&t.parent_id in h?h[t.parent_id].push(t):u.push(t)}}for(let e in this.categories={},h)this.categories[e]=new ee(this,d[e],h[e],_);this.recentsSectionNumber=Y,this.favoritesSectionNumber=z,this.noParentCategory=new $(this,u,_),this.favoritesCategory=new et(this,_),this.recentsCategory=(0,f.Q)()?new en(this,a,_):new ei(this,g,_),this.voiceChannelsCategory=new el(this,C,d,_),this.guildActionSection=new es(t,E.length>0),this.channelNoticeSection=new er(n),l()(!("null"in this.categories),"somehow a null got into categories"),this.voiceChannelsSectionNumber=K+s().size(this.categories)}}class J{updateChannel(e,t){return!!(e.id in this.channels&&this.channels[e.id].updateChannel(e,t))&&(this.invalidate(),!0)}invalidate(){this.shownChannelIds=null}getRows(){let e=this.getShownChannelIds();return 0===e.length&&this.shouldShowEmptyCategory()?[H]:e}shouldShowEmptyCategory(){return s().some(this.channels,e=>e.renderLevel>=3)}getShownChannelIds(){return null==this.shownChannelIds&&(this.shownChannelIds=s()(this.channels).values().filter(e=>4===e.renderLevel).sortBy(e=>{let{record:t}=e;return t.isGuildVocal()?t.position+1e4:t.position}).map(e=>e.id).value()),this.shownChannelIds}getShownChannelAndThreadIds(){let e=s()(this.channels).values().flatMap(e=>e.threadIds).value();return this.getShownChannelIds().concat(e)}isEmpty(){return 0===this.getShownChannelIds().length}getChannelRecords(){return s()(this.channels).values().filter(e=>e.renderLevel>1).map(e=>e.record).value()}getFirstVoiceChannel(e){for(let t of this.getShownChannelIds())if(e&&this.channels[t].record.isGuildStageVoice()||!e&&this.channels[t].record.isGuildVocal())return this.channels[t];return null}constructor(e){j(this,"guild",void 0),j(this,"isMuted",void 0),j(this,"isCollapsed",void 0),j(this,"position",void 0),j(this,"channels",void 0),j(this,"shownChannelIds",void 0),this.guild=e,this.isMuted=!1,this.isCollapsed=!1,this.position=-1,this.channels={},this.shownChannelIds=null}}class $ extends J{constructor(e,t,n){super(e),this.channels=s()(t).map(e=>new eo(this,e,n)).keyBy(e=>e.id).value()}}class ee extends J{shouldShowEmptyCategory(){return!!(super.shouldShowEmptyCategory()||A.Z.can(G.Pl.MANAGE_CHANNELS,this.record)&&A.Z.can(G.Pl.VIEW_CHANNEL,this.record)&&s().isEmpty(this.channels)&&(!this.guild.optInEnabled||this.guild.optedInChannels.has(this.id)))}constructor(e,t,n,i){for(let l of(super(e),j(this,"id",void 0),j(this,"record",void 0),this.record=t,this.id=t.id,this.isCollapsed=!0===e.collapsedCategoryIds[t.id],this.isMuted=e.mutedChannelIds.has(t.id),this.channels={},n))this.channels[l.id]=new eo(this,l,i)}}class et extends J{updateChannel(e,t){let n=e.id in this.channels&&P.ZP.isFavorite(e.guild_id,e.id),i=p.Z.getSuggestedChannelId(e.guild_id);return(e.id!==i||n||(t={...t,activeJoinedRelevantThreads:{},activeJoinedUnreadThreads:{}}),e.id in this.channels&&this.channels[e.id].updateChannel(e,t))?(this.invalidate(),!0):e.id in this.channels&&e.id!==i&&!n&&(delete this.channels[e.id],this.invalidate(),!0)}getFirstVoiceChannel(e){return null}constructor(e,t){var n;if(super(e),!e.optInEnabled)return;this.channels=s()(null!==(n=P.ZP.getGuildFavorites(e.id))&&void 0!==n?n:[]).map(e=>T.Z.getChannel(e)).filter(Z.lm).map(e=>new ed(this,e,t)).keyBy(e=>e.id).value();let i=p.Z.getSuggestedChannelId(e.id),l=T.Z.getChannel(i);null!=l&&null!=i&&(this.channels[i]=new ed(this,l,{...t,activeJoinedRelevantThreads:{},activeJoinedUnreadThreads:{}}))}}class en extends J{shouldShowEmptyCategory(){return this.enabled&&this.isCollapsed&&super.shouldShowEmptyCategory()}updateAllChannels(e){return Object.values(this.channels).reduce((t,n)=>this.updateChannel(n.record,e)||t,!1)}updateChannel(e,t){if(!this.enabled)return!1;if((0,I.Q5)(e.type)){let t=this.channels[e.parent_id];return null!=t&&this.updateShownChannelIds(t)}if(!(0,I.vc)(e.type))return!1;let n=super.updateChannel(e,t),i=this.channels[e.id];return null==i?(i=new ec(this,e,t),this.channels[e.id]=i,this.invalidate(),!0):this.updateShownChannelIds(i)||n}getFirstVoiceChannel(e){return null}getShownChannelIds(){if(null==this.shownChannelIds){let e=this.isCollapsed?4:3;this.shownChannelIds=this.enabled?s()(this.channels).filter(t=>t.renderLevel>=e).map(e=>[e.id,e.lastMessageTimestamp,e.renderLevel]).filter(e=>{let[,t,n]=e;return 4===n||t>0&&Date.now()-t<en.MAX_TIMESTAMP_DELTA}).sortBy(e=>{let[,t,n]=e;return-(t-(4===n?0:D.DISCORD_EPOCH))}).take(en.MAX_RECENT_CHANNELS).sortBy(e=>{let[,t]=e;return-t}).map(e=>{let[t]=e;return t}).value():[]}return this.shownChannelIds}updateShownChannelIds(e){var t;let n=this.isCollapsed?4:3;if(null==this.shownChannelIds||e.renderLevel<n)return!1;if(e.lastMessageTimestamp>(null===(t=this.channels[this.shownChannelIds[0]])||void 0===t?void 0:t.lastMessageTimestamp)){let t=this.shownChannelIds.indexOf(e.id);return t>-1&&this.shownChannelIds.splice(t,1),this.shownChannelIds.splice(0,0,e.id),this.shownChannelIds.length>en.MAX_RECENT_CHANNELS&&(this.shownChannelIds=this.shownChannelIds.slice(0,en.MAX_RECENT_CHANNELS)),!0}return!1}constructor(e,t,n){if(super(e),j(this,"enabled",!1),this.isCollapsed=C.Z.isCollapsed(e.id),this.enabled=!1,this.enabled)for(let e of Object.values(t))(0,I.vc)(e.type)&&!(0,I.Q5)(e.type)&&(this.channels[e.id]=new ec(this,e,n))}}j(en,"MIN_READABLE_CHANNELS",7),j(en,"MAX_RECENT_CHANNELS",10),j(en,"MAX_TIMESTAMP_DELTA",6048e5);class ei extends J{updateAllChannels(e){let t=!1;return D.default.keys(this.channels).forEach(n=>{this.updateChannel(this.channels[n].record,e)&&(t=!0)}),t}updateChannel(e,t){let n=super.updateChannel(e,t);if(this.guild.optInEnabled){let n=this.channels[e.id],i=ev(this.guild,e,t);if(i&&null==n)return this.channels[e.id]=new eu(this,e,t),this.invalidate(),!0;if(!i&&null!=n)return delete this.channels[e.id],this.invalidate(),!0}return n}getFirstVoiceChannel(e){return null}getShownChannelIds(){if(null==this.shownChannelIds){let e=s()(this.channels).values().filter(e=>4===e.renderLevel||3===e.renderLevel).filter(e=>!e.record.isGuildVocal()),t=e.sortBy(e=>{let{record:t}=e;return t.position}).take(5).value(),n=new Set([...e.filter(e=>4===e.renderLevel).value(),...t]);this.shownChannelIds=s()([...n]).sortBy(e=>{let{record:t}=e;return t.position}).map(e=>e.id).value()}return this.shownChannelIds}constructor(e,t,n){if(super(e),!e.optInEnabled||g.Z.isFullServerPreview(e.id))return;this.isCollapsed=!1,this.isMuted=!1,this.channels=s()(t).map(e=>new eu(this,e,n)).keyBy(e=>e.id).value()}}class el extends J{invalidate(){super.invalidate(),this.hiddenChannelIds=null}getHiddenChannelIds(){if(!this.guild.optInEnabled)return[];if(null==this.hiddenChannelIds){let e=s()(this.channels).filter(e=>3===e.renderLevel).value();if(e.every(e=>e.record.isCategory()))return this.hiddenChannelIds=[],this.hiddenChannelIds;this.hiddenChannelIds=e.map(e=>e.id)}return this.hiddenChannelIds}getRows(){if(!this.guild.optInEnabled)return[];let e=this.getShownChannelIds();return 0===e.length&&this.getHiddenChannelIds().length>0?[H]:e}getShownChannelIds(){if(!this.guild.optInEnabled)return[];if(null==this.shownChannelIds){let t=s()(this.channels).filter(e=>4===e.renderLevel).orderBy([e=>(function(e,t){if(e.record.type===U.d4z.GUILD_CATEGORY)return e.record.position;if(null!=e.record.parent_id){var n,i;return null!==(i=null===(n=t[e.record.parent_id])||void 0===n?void 0:n.position)&&void 0!==i?i:-1}return -1})(e,this.categoriesById),e=>e.record.type===U.d4z.GUILD_CATEGORY?-1:e.record.position],["asc","asc"]).value();this.shownChannelIds=[];for(let n=0;n<t.length;n++){var e;let i=t[n];(!(n<t.length-1)||i.record.type!==U.d4z.GUILD_CATEGORY||(null===(e=t[n+1])||void 0===e?void 0:e.record.type)!==U.d4z.GUILD_CATEGORY)&&(n!==t.length-1||i.record.type!==U.d4z.GUILD_CATEGORY)&&this.shownChannelIds.push(i.id)}}return this.shownChannelIds}getFirstVoiceChannel(e){return null}constructor(e,t,n,i){if(super(e),j(this,"categoriesById",void 0),j(this,"hiddenChannelIds",void 0),this.categoriesById=n,this.hiddenChannelIds=null,!e.optInEnabled)return;this.isCollapsed=M.Z.isVoiceCategoryCollapsed(e.id),this.isMuted=!1,this.categoriesById=n,this.channels=s()(t).map(e=>new eh(this,e,i)).keyBy(e=>e.id).value()}}class er{isEmpty(){return 0===this.rows.length}getRows(){return this.rows}getRow(e){return this.rows[e]}constructor(e){j(this,"rows",void 0),this.rows=e}}class es{isEmpty(){return 0===this.guildActionRows.length}getRows(){return this.guildActionRows}getRow(e){return this.guildActionRows[e]}constructor(e,t){j(this,"guildActionRows",void 0),this.guildActionRows=e.map(String),t&&this.guildActionRows.push(String(x.z.GUILD_DIRECTORY))}}class ea{get isMuted(){return this.category.guild.mutedChannelIds.has(this.id)}get isCollapsed(){return N.Z.isCollapsed(this.id)}get isFirstVoiceChannel(){return this.category.getFirstVoiceChannel()===this}get lastMessageTimestamp(){return Math.max(O.ZP.lastMessageTimestamp(this.id),...this.threadIds.map(O.ZP.lastMessageTimestamp))}updateChannel(e,t){let n=!1;null!=e&&e!==this.record&&(this.record=e,n=!0);let i=this.computeState(t);return i.renderLevel===this.renderLevel&&s().isEqual(i.threadIds,this.threadIds)||(this.renderLevel=i.renderLevel,this.threadIds=i.threadIds,this.threadCount=s().size(i.threadIds),n=!0),4===this.renderLevel&&this.updateSubtitle()&&(n=!0),n}updateSubtitle(){let e=this.computeSubtitle();return!s().isEqual(this.subtitle,e)&&(this.subtitle=e,!0)}computeSubtitle(){return eg(this.record,this.isCollapsed||this.category.isCollapsed,this.category.guild.optInEnabled)}constructor(e,t,n){j(this,"category",void 0),j(this,"record",void 0),j(this,"id",void 0),j(this,"position",void 0),j(this,"threadIds",void 0),j(this,"threadCount",void 0),j(this,"subtitle",void 0),j(this,"renderLevel",void 0),this.category=e,this.record=t,this.position=-1,this.threadIds=[],this.threadCount=0,this.subtitle=null,this.renderLevel=1,this.id=t.id;let{renderLevel:i,threadIds:l}=this.computeState(n);this.renderLevel=i,this.threadCount=s().size(l),this.threadIds=l,4===i&&(this.subtitle=this.computeSubtitle())}}class eo extends ea{computeState(e){var t;let{selectedChannel:n,selectedVoiceChannelId:i,activeJoinedRelevantThreads:l,activeJoinedUnreadThreads:r}=e;if(!A.Z.can(G.Pl.VIEW_CHANNEL,this.record)){if(this.id===i)return{renderLevel:4,threadIds:[]};if(!u.Z.isChannelGatedAndVisible(this.record.guild_id,this.record.id))return{renderLevel:1,threadIds:[]}}let a=this.record.parent_id,o=this.category.guild;if(ep(o,this.record))return{renderLevel:1,threadIds:[]};let d=(null==n?void 0:n.id)===this.id||i===this.id,c=null!=n&&n.isThread()&&n.parent_id===this.id,h=null!==(t=d||c||!this.category.isCollapsed&&!this.isMuted?l[this.id]:r[this.id])&&void 0!==t?t:{},g=ef(this.record,h,n,i,o.hideMutedChannels);return o.optInEnabled&&o.hideResourceChannels&&this.record.hasFlag(F.zZ.IS_GUILD_RESOURCE_CHANNEL)?{renderLevel:d?4:1,threadIds:g}:!o.optInEnabled||o.optedInChannels.has(this.id)||null!=a&&o.optedInChannels.has(a)?d||c||!s().isEmpty(g)||O.ZP.getMentionCount(this.id)>0?{renderLevel:4,threadIds:g}:o.hideMutedChannels&&o.mutedChannelIds.has(this.id)?{renderLevel:2,threadIds:g}:this.category.isCollapsed&&(o.mutedChannelIds.has(this.id)||null!=a&&o.mutedChannelIds.has(a)||this.record.isGuildVocal()||this.record.type===U.d4z.GUILD_STORE||(0,I.vc)(this.record.type)&&!O.ZP.hasUnread(this.record.id))?{renderLevel:3,threadIds:g}:{renderLevel:4,threadIds:g}:{renderLevel:2,threadIds:g}}}class ed extends ea{computeState(e){var t;let{selectedChannel:n,selectedVoiceChannelId:i,activeJoinedRelevantThreads:l}=e;return A.Z.can(G.Pl.VIEW_CHANNEL,this.record)?{renderLevel:4,threadIds:ef(this.record,null!==(t=l[this.id])&&void 0!==t?t:{},n,i,!1)}:{renderLevel:1,threadIds:[]}}}class eu extends ea{computeState(e){var t;let{selectedChannel:n,selectedVoiceChannelId:i,activeJoinedRelevantThreads:l}=e;return A.Z.can(G.Pl.VIEW_CHANNEL,this.record)?{renderLevel:eC(this,e)?4:3,threadIds:ef(this.record,null!==(t=l[this.id])&&void 0!==t?t:{},n,i,!1)}:{renderLevel:1,threadIds:[]}}}class ec extends eo{computeState(e){let{renderLevel:t,threadIds:n}=super.computeState(e);if(t>1){let i=this.record.parent_id,l=this.category.guild;l.mutedChannelIds.has(this.id)||null!=i&&l.mutedChannelIds.has(i)?t=2:4===t?t=3:2===t&&ev(this.category.guild,this.record,e)&&(t=3),3===t&&eC(this,e)&&(t=4),n=s().sortBy(n,e=>-O.ZP.lastMessageTimestamp(e))}return{renderLevel:t,threadIds:n}}}class eh extends eo{getRenderLevel(e){let t=this.category.guild;return!A.Z.can(G.Pl.VIEW_CHANNEL,this.record)||4===e||3===e||ep(t,this.record)?1:this.category.isCollapsed?s().some(L.Z.getVoiceStatesForChannel(this.record.id))?4:3:4}computeState(e){let t=super.computeState(e),n=this.getRenderLevel(t.renderLevel);return 4===n&&(this.subtitle=eg(this.record,this.isCollapsed||this.category.isCollapsed,this.category.guild.optInEnabled)),{threadIds:[],renderLevel:n}}}function eg(e,t,n){switch(e.type){case U.d4z.GUILD_VOICE:{let i=h.ZP.getActiveEventByChannel(e.id);if(null!=i)return{type:"event",name:i.name};let l=R.ZP.getVoiceStatesForChannel(e);if(n&&t&&(0,w.a)(l))return{type:"go-live"};let r=d.Z.getChannelStatus(e);if(null!=r&&r.length>0)return{type:"voice",text:r};let s=a.ZP.getEmbeddedActivitiesForChannel(e.id).concat(a.ZP.getEmbeddedActivitiesForStartingChannel(e.id)).map(e=>{var t;return null===(t=o.Z.getApplication(e.applicationId))||void 0===t?void 0:t.name}).filter(Z.lm);if(s.length>0)return{type:"embedded-activities",name:s.join(", ")};return null}case U.d4z.GUILD_STAGE_VOICE:{let t=h.ZP.getActiveEventByChannel(e.id);if(null!=t)return{type:"event",name:t.name};return null}default:return null}}function ef(e,t,n,i,l){let r=null!=n&&(n.id===e.id||i===e.id),a=null!=n&&n.isThread()&&n.parent_id===e.id;if(I.uC.has(e.type)){let e=s().sortBy(Object.values(t),e=>-e.joinTimestamp).map(e=>e.channel.id);return r?e:a?(n.id in t||e.unshift(n.id),e):l?e.filter(e=>!m.Z.isMuted(e)||O.ZP.getMentionCount(e)>0):e}return[]}function ep(e,t){return e.favoriteChannelIds.has(t.id)&&(e.optInEnabled||!1)}function eC(e,t){let{selectedChannel:n,activeJoinedRelevantThreads:i}=t;if(O.ZP.getMentionCount(e.id)>0)return!0;for(let t in i[e.id])if(O.ZP.getMentionCount(t)>0)return!0;if(null!=n&&(n.id===e.id||n.isThread()&&n.parent_id===e.id))return!0;let l=E.Z.getNewChannelIds(e.category.guild.id);if(l.size>B);else if(l.has(e.id))return!0;return!1}function ev(e,t,n){let{selectedChannel:i,activeJoinedRelevantThreads:l}=n;if(t.type===U.d4z.GUILD_DIRECTORY||!e.optInEnabled||t.isGuildVocal()||e.optedInChannels.has(t.id)||t.isThread()||null!=t.parent_id&&e.optedInChannels.has(t.parent_id)||e.hideResourceChannels&&t.hasFlag(F.zZ.IS_GUILD_RESOURCE_CHANNEL))return!1;if(null!=i&&(i.id===t.id||i.isThread()&&i.parent_id===t.id)||O.ZP.getMentionCount(t.id)>0)return!0;let r=E.Z.getNewChannelIds(e.id),s=Array.from(r).sort((e,t)=>D.default.compare(t,e));if(r.has(t.id)&&s.indexOf(t.id)<B)return!0;for(let e in l[t.id])if(O.ZP.getMentionCount(e)>0||O.ZP.hasUnread(e)||O.ZP.hasRecentlyVisitedAndRead(e))return!0;return!(e.mutedChannelIds.has(t.id)||null!=t.parent_id&&e.mutedChannelIds.has(t.parent_id))&&!!O.ZP.hasRecentlyVisitedAndRead(t.id)}let eE=new Set(Object.values(x.z))},203818:function(e,t,n){n.d(t,{Z:()=>u});var i,l=n(442837),r=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a={};function o(e){let{guildId:t,expand:n}=e;n?a[t]=!0:delete a[t]}class d extends(i=l.ZP.PersistedStore){initialize(e){a=null!=e?e:{}}isVoiceCategoryExpanded(e){var t;return null!==(t=null!=e&&a[e])&&void 0!==t&&t}isVoiceCategoryCollapsed(e){return!this.isVoiceCategoryExpanded(e)}getState(){return a}}s(d,"displayName","ChannelListVoiceCategoryStore"),s(d,"persistKey","ChannelListVoiceCategoryStore");let u=new d(r.Z,{VOICE_CATEGORY_COLLAPSE:o,VOICE_CATEGORY_EXPAND:o})},443063:function(e,t,n){n.d(t,{z:()=>l});var i,l=((i={}).GUILD_PREMIUM_PROGRESS_BAR="guild-premium-progress-bar",i.GUILD_SCHEDULED_EVENTS="guild-scheduled-events",i.GUILD_HUB_HEADER_OPTIONS="guild-hub-header-options",i.GUILD_FAVORITES="favorites",i.GUILD_CHANNEL_LIST_OPT_IN_NOTICE="guild-channel-list-opt-in-notice",i.GUILD_ROLE_SUBSCRIPTIONS="role-subscriptions",i.GUILD_SHOP="shop",i.GUILD_MEMBER_APPLICATIONS="member-applications",i.GUILD_HOME="@home",i.CHANNELS_AND_ROLES="channels-and-roles",i.BROWSE_CHANNELS="browse-channels",i.GUILD_DIRECTORY="guild-directory",i.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR="guild-new-member-actions-progress-bar",i.GUILD_MOD_DASH_MEMBER_SAFETY="guild-mod-dash-member-safety",i.GUILD_BOOSTS="guild-boosts",i)},358555:function(e,t,n){n.d(t,{Z:()=>S});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),s=n(442837),a=n(481060),o=n(540059),d=n(666188),u=n(372769),c=n(523751),h=n(623624),g=n(290034),f=n(271383),p=n(594174),C=n(267642),v=n(981631),E=n(388032),_=n(667529);function m(e){let{guild:t,isBannerVisible:n,disableBoostClick:l}=e,r=(0,s.e7)([p.default,f.ZP],()=>{let e=p.default.getCurrentUser();return f.ZP.isMember(t.id,null==e?void 0:e.id)}),{premiumTier:o,premiumSubscriberCount:d}=t;if(0===d&&o===v.Eu4.NONE)return null;let u=e=>{e.stopPropagation(),e.preventDefault(),r&&!l&&(0,h.f)({guildId:t.id,location:{section:v.jXE.GUILD_HEADER,object:v.qAy.BOOST_GEM_ICON}})},c=o===v.Eu4.NONE?E.intl.string(E.t.c2wsn5):C.nW(o),m=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:_.tierTooltipTitle,children:c}),(0,i.jsx)("div",{children:E.intl.format(E.t.If4iTU,{subscriberCount:d})})]});return(0,i.jsx)("div",{className:_.guildIconContainer,children:(0,i.jsx)(a.ua7,{text:m,position:"bottom","aria-label":null!=c?c:"",children:e=>(0,i.jsx)(a.P3F,{...e,className:_.__invalid_premiumGuildIcon,onClick:u,children:(0,i.jsx)(g.Z,{premiumTier:o,iconBackgroundClassName:n?_.boostedGuildTierIconBackgroundWithVisibleBanner:_.guildBadgeIcon,iconClassName:n&&o!==v.Eu4.TIER_3?_.boostedGuildTierMutedIconWithVisibleBanner:null})})})})}function I(e){let{guild:t,disableColor:n,disableBoostClick:l}=e;return(0,d.Z)(t)?(0,i.jsx)("div",{className:_.guildIconV2Container,children:(0,i.jsx)(c.Z,{guild:t,tooltipPosition:"bottom",tooltipColor:a.ua7.Colors.PRIMARY,className:r()(_.guildBadge,{[_.disableColor]:n}),disableBoostClick:l})}):(0,i.jsx)("div",{className:_.guildIconContainer,children:(0,i.jsx)(u.Z,{guild:t,size:20,tooltipPosition:"bottom",tooltipColor:a.ua7.Colors.PRIMARY,className:r()(_.guildBadge,{[_.disableColor]:n})})})}function S(e){let{guild:t,disableBoostClick:n,...l}=e,r=!(0,o.Q3)("GuildHeaderGuildBadge")&&l.isBannerVisible;return(0,d.Z)(t)?(0,i.jsx)(I,{guild:t,disableColor:!1,disableBoostClick:n}):t.hasFeature(v.oNc.VERIFIED)||t.hasFeature(v.oNc.PARTNERED)?(0,i.jsx)(I,{guild:t,disableColor:!r}):(0,i.jsx)(m,{guild:t,isBannerVisible:r,disableBoostClick:n})}},690221:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651),l=n(192379),r=n(481060),s=n(703656),a=n(981631);let o=l.forwardRef(function(e,t){let{href:n,children:o,onClick:d,onKeyPress:u,focusProps:c,...h}=e,g=l.useCallback(e=>{!e.repeat&&((e.charCode===a.yXg.SPACE||e.charCode===a.yXg.ENTER)&&(e.preventDefault(),null!=n&&(0,s.uL)(n),null==d||d()),null==u||u(e))},[n,u,d]),f=l.useCallback(e=>{!e.metaKey&&!e.shiftKey&&0===e.button&&(e.preventDefault(),e.stopPropagation(),null!=n&&(0,s.uL)(n),null==d||d())},[n,d]),p=(0,i.jsx)("a",{ref:t,href:n,onClick:f,onKeyPress:g,...h,children:o});return(0,i.jsx)(r.tEY,{...c,children:p})})},798423:function(e,t,n){n.d(t,{Q:()=>l});var i=n(863750);function l(){return i.Z.get("enable_recently_active")}n(238428)},628238:function(e,t,n){n.d(t,{A:()=>l});var i=n(709054);function l(e){return!(e<i.default.extractTimestamp("1088216706570268682"))}},753206:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651),l=n(192379),r=n(120356),s=n.n(r),a=n(628238),o=n(492593),d=n(25015),u=n(963550),c=n(845080),h=n(71938);let g=l.memo(function(e){var t;let{message:n,channel:l,compact:r,className:g,isGroupStart:f,hideSimpleEmbedContent:p=!0,disableInteraction:C}=e,v=(0,a.A)((null!==(t=n.editedTimestamp)&&void 0!==t?t:n.timestamp).valueOf()),{content:E}=(0,d.Z)(n,{hideSimpleEmbedContent:p,allowList:v,allowHeading:v,allowLinks:!0,previewLinkTarget:!0});return(0,i.jsx)(o.Z,{compact:r,className:s()(g,{[h.message]:!0,[h.cozyMessage]:!r,[h.groupStart]:f}),childrenHeader:(0,c.Z)({...e,channel:l,guildId:void 0}),childrenMessageContent:(0,u.Z)(e,E),disableInteraction:C})})},963550:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(930282);function r(e,t){let{message:n}=e;return(0,i.jsx)(l.ZP,{message:n,content:t})}},845080:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651),l=n(192379),r=n(901461),s=n(464891);let a=l.memo(s.ZP);function o(e){let{message:t,channel:n,author:l,compact:s,animateAvatar:o,guildId:d,isGroupStart:u=!0,roleIcon:c,hideTimestamp:h}=e;return!(0,r.Z)(t)&&(u||s)?(0,i.jsx)(a,{message:t,channel:n,author:l,guildId:d,compact:s,animate:o,roleIcon:c,hideTimestamp:h}):void 0}},18036:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i,l=n(442837),r=n(570140),s=n(592125),a=n(944486),o=n(9156);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u={},c={},h={};function g(){let e=a.Z.getChannelId();if(null==e)return;let t=s.Z.getChannel(e);if(null==t||null==t.guild_id)return;let n=t.guild_id;if(null==h[e]&&(h[e]=0),t.isThread()||o.ZP.isOptInEnabled(n)&&!o.ZP.isChannelOrParentOptedIn(n,t.id)){delete h[e],null!=u[n]&&u[n].delete(e);return}if(h[e]++,null==u[n]&&(u[n]=new Set),o.ZP.isFavorite(n,e)){u[n].delete(e);return}if((null==c[n]||!c[n].has(e))&&h[e]>50)return u[n].add(e),!0}class f extends(i=l.ZP.PersistedStore){initialize(e){var t,n;if(this.syncWith([a.Z],g),null==e)return;let{suggestedChannels:i,dismissedSuggestions:l,channelOpensByChannelId:r}=e;if(null!=i)for(let e in i)t=new Set(i[e]),u[e]=void 0!==t?t:new Set;if(null!=l)for(let e in l)n=new Set(l[e]),c[e]=void 0!==n?n:new Set;h=null!=r?r:{}}getSuggestedChannelId(e){return null}getState(){return{suggestedChannels:{},dismissedSuggestions:{},channelOpensByChannelId:{}}}}d(f,"displayName","FavoritesSuggestionStore"),d(f,"persistKey","FavoritesSuggestionStore");let p=new f(r.Z,{DISMISS_FAVORITE_SUGGESTION:function(e){let{guildId:t,channelId:n}=e;return null==c[t]&&(c[t]=new Set),c[t].add(n),u[t].delete(n),!0}})},798379:function(e,t,n){n.d(t,{Z:()=>d}),n(47120);var i,l=n(442837),r=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a=new Set;class o extends(i=l.ZP.PersistedStore){initialize(e){a.clear(),null==e||e.guilds.forEach(e=>a.add(e))}isCollapsed(e){return a.has(e)}getState(){return{guilds:a}}}s(o,"displayName","RecentlyActiveCollapseStore"),s(o,"persistKey","RecentlyActiveCollapseStore");let d=new o(r.Z,{SET_RECENTLY_ACTIVE_COLLAPSED:function(e){let{guildId:t,collapsed:n}=e;n?a.add(t):a.delete(t)}})},106976:function(e,t,n){n.d(t,{i1:()=>c,rx:()=>u,sB:()=>h,vY:()=>g}),n(47120);var i=n(570140),l=n(821849),r=n(307643),s=n(981631);function a(e){return{id:e.id,type:s.epS.SUBSCRIPTION,application_id:e.application_id,product_line:s.POd.APPLICATION,name:e.name,summary:"",description:e.description,flags:e.sku_flags,manifests:[],available_regions:[],legal_notice:"",deleted:e.soft_deleted,price_tier:0,show_age_gate:!1,restricted:!1}}function o(e){var t;return{id:e.id,sku:a(e),summary:e.description,description:e.description,benefits:null!==(t=e.store_listing_benefits)&&void 0!==t?t:[],thumbnail:e.image_asset,published:e.published}}function d(e){for(let t of(i.Z.dispatch({type:"SKUS_FETCH_SUCCESS",skus:e.map(a)}),i.Z.dispatch({type:"STORE_LISTINGS_FETCH_SUCCESS",storeListings:e.map(o)}),e))i.Z.dispatch({type:"SUBSCRIPTION_PLANS_FETCH_SUCCESS",skuId:t.id,subscriptionPlans:t.subscription_plans})}async function u(e,t){i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_LISTINGS",applicationId:e,groupListingId:t});try{var n;let l=await r.jz(e,t);return i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_LISTINGS_SUCCESS",applicationId:e,groupListing:l}),d(null!==(n=l.subscription_listings)&&void 0!==n?n:[]),l}catch(t){i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_LISTINGS_FAILURE",applicationId:e})}}async function c(e){i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_ENTITLEMENTS",guildId:e});try{let t=await r.GF(e);i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_ENTITLEMENTS_SUCCESS",guildId:e,entitlements:t})}catch(t){i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_ENTITLEMENTS_FAILURE",guildId:e})}}function h(e){i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_CHANNEL_NOTICE_DISMISSED",guildId:e})}async function g(e){i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_LISTING_FOR_PLAN",planId:e});try{var t;let n=await r.a_(e);i.Z.dispatch({type:"APPLICATION_SUBSCRIPTIONS_FETCH_LISTING_FOR_PLAN_SUCCESS",groupListing:n});let s=null!==(t=n.subscription_listings)&&void 0!==t?t:[];await Promise.all(s.map(t=>{if(t.subscription_plans[0].id===e)return l.GZ(t.id,void 0,void 0,!0)})),d(s)}catch(e){}}},488915:function(e,t,n){n.d(t,{M:()=>f,Z:()=>O}),n(47120);var i,l,r,s,a=n(512722),o=n.n(a),d=n(442837),u=n(759174),c=n(570140),h=n(959546),g=n(55563),f=((l={})[l.NOT_FETCHED=0]="NOT_FETCHED",l[l.FETCHING=1]="FETCHING",l[l.FETCHED=2]="FETCHED",l);function p(e){return"subscription_listing:".concat(e)}function C(e){return"application:".concat(e)}function v(e){return"plan:".concat(e)}function E(e,t,n){return"entitlement:".concat(e,":").concat(n,":").concat(t)}function _(e,t){return"entitlement:".concat(t,":").concat(e)}let m=new u.h(e=>[C(e.application_id),...e.subscription_listings_ids.map(p)],e=>e.id),I=new u.h(e=>[C(e.application_id),v(e.subscription_plans[0].id)],e=>e.id),S=new u.h(e=>[E(e.applicationId,e.isValid(null,g.Z),e.guildId),_(e.isValid(null,g.Z),e.guildId)],e=>e.id),T={},N={};function y(e){var t,n;for(let i of(m.set(e.id,e),null!==(t=e.subscription_listings)&&void 0!==t?t:[])){n=i,I.set(n.id,n)}}class A extends(i=d.yh){getSubscriptionGroupListingsForApplicationFetchState(e){var t;return null!==(t=T[e])&&void 0!==t?t:0}getSubscriptionGroupListing(e){return m.get(e)}getSubscriptionGroupListingForSubscriptionListing(e){let t=m.values(p(e));return o()(t.length<=1,"Found multiple group listings for listing"),t[0]}getSubscriptionListing(e){return I.get(e)}getSubscriptionListingsForApplication(e){return I.values(C(e))}getEntitlementsForGuildFetchState(e){var t;return null!==(t=N[e])&&void 0!==t?t:0}getSubscriptionListingForPlan(e){let t=I.values(v(e));return o()(t.length<=1,"Found multiple listings for plan"),t[0]}getApplicationEntitlementsForGuild(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return S.values(E(e,n,t))}getEntitlementsForGuild(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return S.values(_(t,e))}}s="ApplicationSubscriptionStore",(r="displayName")in A?Object.defineProperty(A,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):A[r]=s;let O=new A(c.Z,{LOGOUT:function(){m.clear(),I.clear(),S.clear(),T={},N={}},APPLICATION_SUBSCRIPTIONS_FETCH_LISTINGS:function(e){let{applicationId:t,groupListingId:n}=e;T[t]=1;let i=m.get(n);if(null!=i)for(let e of i.subscription_listings_ids)I.delete(e)},APPLICATION_SUBSCRIPTIONS_FETCH_LISTINGS_SUCCESS:function(e){let{applicationId:t,groupListing:n}=e;T[t]=2,y(n)},APPLICATION_SUBSCRIPTIONS_FETCH_LISTINGS_FAILURE:function(e){let{applicationId:t}=e;T[t]=2},APPLICATION_SUBSCRIPTIONS_FETCH_ENTITLEMENTS(e){let{guildId:t}=e;N[t]=1},APPLICATION_SUBSCRIPTIONS_FETCH_ENTITLEMENTS_SUCCESS(e){let{guildId:t,entitlements:n}=e;N[t]=2,n.forEach(e=>{let t=h.Z.createFromServer(e);S.set(t.id,t)})},APPLICATION_SUBSCRIPTIONS_FETCH_ENTITLEMENTS_FAILURE(e){let{guildId:t}=e;N[t]=0},APPLICATION_SUBSCRIPTIONS_FETCH_LISTING_FOR_PLAN_SUCCESS:function(e){let{groupListing:t}=e;y(t)}})},22082:function(e,t,n){n.d(t,{Z:()=>b}),n(47120);var i,l,r,s=n(442837),a=n(570140),o=n(45114),d=n(897473),u=n(581883),c=n(314897),h=n(592125),g=n(984933),f=n(271383),p=n(430824),C=n(306680),v=n(9156),E=n(70956),_=n(709054),m=n(981631);let I=new Set,S={},T={};function N(e,t){let n=S[e];if(null!=n&&null!=t&&n.has(t)){var i;!v.ZP.isOptInEnabled(e)||(null===(i=h.Z.getChannel(t))||void 0===i?void 0:i.isThread())||null!=C.ZP.ackMessageId(t)||a.Z.wait(()=>(0,o.In)(t,!0,!0,_.default.atPreviousMillisecond(t)))}}function y(e){var t;if(null!=S[e])return;let n=g.ZP.getChannels(e)[g.sH].map(e=>e.channel.id),i=null===(t=f.ZP.getMember(e,c.default.getId()))||void 0===t?void 0:t.joinedAt;if(null==i)return;S[e]=new Set;let l=new Date(i).getTime();0!==n.length&&(S[e]=new Set(n.filter(t=>{let n=_.default.extractTimestamp(t);return null==C.ZP.getTrackedAckMessageId(t)&&n>Date.now()-E.Z.Millis.WEEK&&n>u.Z.getGuildRecentsDismissedAt(e)&&n>l&&!v.ZP.isChannelOrParentOptedIn(e,t)})),T[e]=Date.now())}function A(){_.default.keys(S).forEach(e=>{let t=S[e];S[e]=new Set([...t].filter(t=>!v.ZP.isChannelOrParentOptedIn(e,t)))})}class O extends(i=s.ZP.Store){initialize(){this.waitFor(g.ZP,c.default,f.ZP,v.ZP,C.ZP,u.Z),this.syncWith([v.ZP],A)}getNewChannelIds(e){var t;return null!=e&&null==S[e]&&y(e),null!=e&&null!==(t=S[e])&&void 0!==t?t:I}shouldIndicateNewChannel(e,t){var n;if(null==e)return!1;let i=p.Z.getGuild(e);return!!(null!=i&&i.hasFeature(m.oNc.COMMUNITY))&&(null!=e&&null==S[e]&&y(e),(null===(n=S[e])||void 0===n?void 0:n.has(t))&&null==C.ZP.getTrackedAckMessageId(t))}}r="NewChannelsStore",(l="displayName")in O?Object.defineProperty(O,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):O[l]=r;let b=new O(a.Z,{BULK_CLEAR_RECENTS:function(e){let{guildId:t,channelIds:n}=e;if(null==S[t])return!1;n.forEach(e=>S[t].delete(e)),0===S[t].size&&delete S[t]},CHANNEL_ACK:()=>!0,CHANNEL_SELECT:function(e){let{guildId:t,channelId:n}=e;return null!=t&&(null==S[t]||T[t]<Date.now()-E.Z.Millis.HOUR?(y(t),!0):(null!=n&&N(t,n),!1))},SIDEBAR_VIEW_CHANNEL:function(e){let{guildId:t,channelId:n,sidebarType:i}=e;return null!=t&&i===d.tI.VIEW_CHANNEL&&(N(t,n),!1)},SIDEBAR_VIEW_GUILD:function(e){let{guildId:t,baseChannelId:n}=e;return null!=t&&(N(t,n),!1)},GUILD_DELETE:function(e){let{guild:t}=e;delete S[t.id]},CHANNEL_CREATE:function(e){var t;let{channel:n}=e;n.isVocal()||(S[n.guild_id]=null!==(t=S[n.guild_id])&&void 0!==t?t:new Set,S[n.guild_id].add(n.id))}})},237583:function(e,t,n){n.d(t,{Z:()=>f}),n(653041),n(47120);var i,l=n(200651),r=n(192379),s=n(120356),a=n.n(s),o=n(481060),d=n(598077),u=n(525645),c=n(139766);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends(i=r.PureComponent){renderUsers(){let{users:e,max:t,renderUser:n=this.defaultRenderUser,renderMoreUsers:i}=this.props,l=[],r=e.length===t?e.length:t-1,s=0;for(;s<r&&s<e.length;){let t=s===e.length-1;l.push(n(e[s]||null,t?null:u.avatarMasked,"user-".concat(s),t)),s++}if(s<e.length){let t=Math.min(e.length-s,99);l.push(i("+".concat(t),u.moreUsers,"more-users",t))}return l}renderIcon(){return this.props.icon?(0,l.jsx)("div",{className:u.iconContainer,children:(0,l.jsx)(o.gj8,{size:"xs",color:"currentColor",colorClass:u.foreground,className:u.icon})}):null}render(){let{className:e}=this.props;return(0,l.jsxs)("div",{className:a()(e,u.container),ref:e=>this._ref=e,children:[this.renderIcon(),this.renderUsers()]})}constructor(...e){super(...e),h(this,"_ref",void 0),h(this,"defaultRenderUser",(e,t,n,i)=>{let{onClick:r,size:s,guildId:h}=this.props,g=e instanceof d.Z?e:null!=e?e.user:null;return null==g?(0,l.jsx)("div",{className:a()(u.emptyUser,t)},n):(0,l.jsx)(o.qEK,{tabIndex:0,src:g.getAvatarURL(h,(0,o.pxk)(s)),size:s,"aria-label":g.username,className:a()(t,c.cursorPointer,u.avatarSize),onClick:e=>null!=r?r(e,g,this._ref):null},g.id)})}}h(g,"defaultProps",{max:10,renderMoreUsers:function(e,t,n){return(0,l.jsx)("div",{className:t,children:e},n)},size:o.EFr.SIZE_24});let f=g},58468:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i,l=n(442837),r=n(570140),s=n(709054),a=n(592125);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d={},u=d;function c(){s.default.keys(u).forEach(e=>{null==a.Z.getChannel(e)&&delete u[e]})}class h extends(i=l.ZP.PersistedStore){initialize(e){this.waitFor(a.Z),u=null!=e?e:d}getState(){return u}getCollapsed(){return u}isCollapsed(e){return u[e]||!1}}o(h,"displayName","CollapsedVoiceChannelStore"),o(h,"persistKey","collapsedChannels");let g=new h(r.Z,{CONNECTION_OPEN:c,OVERLAY_INITIALIZE:c,CHANNEL_COLLAPSE:function(e){let{channelId:t}=e;u[t]?delete u[t]:u[t]=!0,u={...u}}})},55589:function(e,t,n){let i,l,r;n.d(t,{Z:()=>L}),n(47120),n(653041);var s,a,o,d=n(913527),u=n.n(d),c=n(442837),h=n(759174),g=n(570140),f=n(333023),p=n(355298),C=n(333984),v=n(131704),E=n(592125),_=n(430824),m=n(306680),I=n(9156),S=n(594174),T=n(709054);let N=new h.h(e=>{let{isRequest:t,isFavorite:n}=e;return t?[]:[n?"FAVORITE":"DEFAULT"]},e=>{let{lastMessageId:t}=e;return-t});function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){var t,n;let i=null!==(n=null!==(t=m.ZP.lastMessageId(e.id))&&void 0!==t?t:e.lastMessageId)&&void 0!==n?n:e.id,l=e.isMessageRequestTimestamp;if(null!=l){let e=u()(l).valueOf(),t=T.default.fromTimestamp(e);return T.default.compare(i,t)>0?i:t}return i}(e);return{channelId:e.id,lastMessageId:t,isFavorite:!1,isRequest:p.Z.isMessageRequest(e.id)||C.Z.isSpam(e.id)}}function A(){N.clear(),Object.values(E.Z.getMutablePrivateChannels()).forEach(e=>{N.set(e.id,y(e))})}function O(){let e=E.Z.getMutablePrivateChannels();for(let t in e)N.set(t,y(e[t]))}let b=(i=[],l=[],r=[],()=>{let e=N.values("FAVORITE"),t=N.values("DEFAULT");return(i!==e||l!==t)&&(r=[],e.forEach(e=>{let{channelId:t}=e;return r.push(t)}),i=e,t.forEach(e=>{let{channelId:t}=e;return r.push(t)}),l=t),r});class P extends(s=c.ZP.Store){initialize(){this.waitFor(E.Z,_.Z,S.default,p.Z,I.ZP),this.syncWith([I.ZP,p.Z],A)}getPrivateChannelIds(){return b()}getSortedChannels(){return[N.values("FAVORITE"),N.values("DEFAULT")]}serializeForOverlay(){let e={};return N.values().forEach(t=>{let{channelId:n,lastMessageId:i}=t;e[n]=i}),e}}o="PrivateChannelSortStore",(a="displayName")in P?Object.defineProperty(P,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):P[a]=o;let L=new P(g.Z,{CONNECTION_OPEN:A,CONNECTION_OPEN_SUPPLEMENTAL:A,OVERLAY_INITIALIZE:A,CACHE_LOADED:O,CACHE_LOADED_LAZY:O,CHANNEL_UPDATES:function(e){let{channels:t}=e;t.forEach(e=>{((0,v.hv)(e.type)||N.has(e.id))&&N.set(e.id,y(e))})},CHANNEL_CREATE:function(e){let{channel:t}=e;if(!(0,v.hv)(t.type)||t.id===f.V)return!1;N.set(t.id,y(t))},CHANNEL_DELETE:function(e){let{channel:t}=e;return N.delete(t.id)},MESSAGE_CREATE:function(e){let{channelId:t,message:n}=e;if(!N.has(t))return!1;let i=E.Z.getChannel(t);return null!=i&&N.set(t,y(i,n.id))},GUILD_CREATE:function(e){let t=e.guild.id;return N.delete(t)},LOGOUT:function(){N.clear()}})},889711:function(e,t,n){function i(e){return new ResizeObserver(e)}function l(e,t){e.observe(t)}function r(e,t){e.unobserve(t)}n.d(t,{UC:()=>r,YP:()=>l,pP:()=>i})},91047:function(e,t,n){n.d(t,{Pv:()=>r,_j:()=>s,nm:()=>a,xS:()=>o}),n(411104);var i=n(200651);n(192379);var l=n(239091);function r(e,t,r){r.isGroupDM()?(0,l.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("50506"),n.e("79695"),n.e("51269"),n.e("13351"),n.e("33862"),n.e("98783"),n.e("70032")]).then(n.bind(n,354589));return n=>(0,i.jsx)(e,{...n,user:t,channel:r})}):r.isDM()?(0,l.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("50506"),n.e("79695"),n.e("25292"),n.e("51269"),n.e("90508"),n.e("13351"),n.e("33862"),n.e("70205"),n.e("98783"),n.e("75878"),n.e("56826"),n.e("86631")]).then(n.bind(n,131404));return n=>(0,i.jsx)(e,{...n,user:t,channel:r,showMute:!1,targetIsUser:!0})}):null!=r.guild_id?(0,l.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("50506"),n.e("79695"),n.e("51269"),n.e("13351"),n.e("33862"),n.e("98783"),n.e("7717"),n.e("71027")]).then(n.bind(n,757387));return n=>(0,i.jsx)(e,{...n,user:t,channel:r,guildId:r.guild_id})}):(0,l.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("34272")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})}function s(e,t){let{user:r,channel:s,moderationAlertId:a,guildId:o,...d}=t;if((null==s?void 0:s.isGroupDM())||(null==s?void 0:s.isDM()))throw Error("Cannot moderate user in DM or group DM");let u=null!=o?o:null==s?void 0:s.getGuildId();null!=u&&(0,l.jW)(e,async()=>{let{default:e}=await n.e("16120").then(n.bind(n,833737));return t=>(0,i.jsx)(e,{...t,user:r,channelId:null==s?void 0:s.id,guildId:u,moderationAlertId:a,...d})})}function a(e,t){let{user:r,guildId:s,analyticsLocations:a,onCloseContextMenu:o,isViewOnly:d}=t;(0,l.jW)(e,async()=>{let{default:e}=await n.e("45130").then(n.bind(n,246389));return t=>(0,i.jsx)(e,{...t,user:r,guildId:s,analyticsLocations:a,onCloseContextMenu:o,isViewOnly:d})})}function o(e,t,r){null!=r&&(0,l.jW)(e,async()=>{let{default:e}=await n.e("50331").then(n.bind(n,158195));return t=>(0,i.jsx)(e,{...t,guildId:r})})}},401653:function(e,t,n){n.d(t,{j:()=>l});var i,l=((i={})[i.BLOCK_MESSAGE=1]="BLOCK_MESSAGE",i[i.FLAG_TO_CHANNEL=2]="FLAG_TO_CHANNEL",i[i.USER_COMMUNICATION_DISABLED=3]="USER_COMMUNICATION_DISABLED",i[i.QUARANTINE_USER=4]="QUARANTINE_USER",i)},95930:function(e,t,n){n.d(t,{q:()=>l});var i,l=((i={})[i.UNKNOWN=0]="UNKNOWN",i[i.MESSAGE_SEND=1]="MESSAGE_SEND",i[i.GUILD_MEMBER_JOIN_OR_UPDATE=2]="GUILD_MEMBER_JOIN_OR_UPDATE",i)},41381:function(e,t,n){n.d(t,{f:()=>l});var i,l=((i={})[i.KEYWORD=1]="KEYWORD",i[i.SPAM_LINK=2]="SPAM_LINK",i[i.ML_SPAM=3]="ML_SPAM",i[i.DEFAULT_KEYWORD_LIST=4]="DEFAULT_KEYWORD_LIST",i[i.MENTION_SPAM=5]="MENTION_SPAM",i[i.USER_PROFILE=6]="USER_PROFILE",i[i.SERVER_POLICY=7]="SERVER_POLICY",i)}}]);
//# sourceMappingURL=b09fbaf6c40d1128.js.map