"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["84466"],{117266:function(e,t,n){n.d(t,{Z:()=>l});var i=n(570140);function l(e){i.Z.dispatch({type:"DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS",skuId:e})}},195500:function(e,t,n){n.d(t,{Z:()=>l});var i=n(570140);let l=12633==n.j?{clearRemoteDisconnectVoiceChannelId(){i.Z.dispatch({type:"CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID"})},clearLastSessionVoiceChannelId(){i.Z.dispatch({type:"CLEAR_LAST_SESSION_VOICE_CHANNEL_ID"})}}:null},205355:function(e,t,n){n.d(t,{Z:()=>o}),n(47120);var i=n(544891),l=n(570140),r=n(981631);let a="".concat(r.dGm,"/api/v2/scheduled-maintenances"),s="".concat(r.dGm,"/api/v2/incidents/unresolved.json"),o={checkIncidents(){Promise.all([i.tn.get({url:"".concat(a,"/active.json"),rejectWithError:!0}),i.tn.get(s)]).then(e=>{let[t,n]=e,[i]=t.body.scheduled_maintenances,[r]=n.body.incidents;l.Z.dispatch({type:"STATUS_PAGE_INCIDENT",incident:r||i})})},checkScheduledMaintenances(){i.tn.get({url:"".concat(a,"/upcoming.json"),rejectWithError:!0}).then(e=>{let[t]=e.body.scheduled_maintenances;l.Z.dispatch({type:"STATUS_PAGE_SCHEDULED_MAINTENANCE",maintenance:t})})},ackScheduledMaintenance(){l.Z.dispatch({type:"STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK"})}}},223245:function(e,t,n){n.d(t,{Z:()=>l}),n(47120);var i=n(570140);let l={setEnabled(e){this.update({enabled:e})},update(e){for(let t of Object.keys(e))i.Z.dispatch({type:"STREAMER_MODE_UPDATE",key:t,value:e[t]})}}},491428:function(e,t,n){n.d(t,{Xq:()=>u,g8:()=>_,hZ:()=>E,wk:()=>d});var i=n(990547),l=n(283693),r=n(570140),a=n(558724),s=n(626135),o=n(573261),c=n(981631);function u(e){r.Z.dispatch({type:"SURVEY_OVERRIDE",id:e})}function E(e,t){r.Z.dispatch({type:"SURVEY_HIDE",key:e}),t?s.default.track(c.rMx.APP_NOTICE_CLOSED,{notice_type:c.kVF.SURVEY,survey_id:e,dismissed:t}):s.default.track(c.rMx.APP_NOTICE_PRIMARY_CTA_OPENED,{notice_type:c.kVF.SURVEY})}function d(e,t){var n={};return null!=e&&(n.survey_override=e),null!=t&&(n.disable_auto_seen=t),o.Z.get({url:c.ANM.USER_SURVEY,query:n,trackedActionData:{event:i.NetworkActionNames.USER_SURVEY_FETCH,properties:e=>{var t;let n=null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.survey;return(0,l.iG)({key:null==n?void 0:n.key})}},rejectWithError:!1}).then(e=>{var t;r.Z.dispatch({type:"SURVEY_FETCHED",survey:null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.survey})},()=>{r.Z.dispatch({type:"SURVEY_FETCHED",survey:null})})}function _(e){let t=a.Z.getLastSeenTimestamp();if(null===t||null!=t&&Date.now()-t>=a.J)return r.Z.dispatch({type:"SURVEY_SEEN",key:e}),o.Z.post({url:c.ANM.USER_SURVEY_SEEN(e),trackedActionData:{event:i.NetworkActionNames.USER_SURVEY_SEEN,properties:t=>(0,l.iG)({key:e})},rejectWithError:!1})}},401430:function(e,t,n){n.d(t,{Wt:()=>d,mc:()=>_,q$:()=>I}),n(411104),n(789020);var i=n(570140),l=n(566620),r=n(728345),a=n(812206),s=n(973616),o=n(630388),c=n(591759),u=n(978085),E=n(981631);async function d(e,t){i.Z.dispatch({applicationId:e,type:"DEVELOPER_TEST_MODE_AUTHORIZATION_START"});try{if(!await (0,l.W5)(e))throw Error("Do not have access!");let n=a.Z.getApplication(e);null==n&&(n=s.ZP.createFromServer(await r.ZP.fetchApplication(e)));let d=(0,o.yE)(n.flags,E.udG.EMBEDDED);if(d&&(null==t||!c.Z.URL_REGEX.test(t)))throw Error("Invalid Origin URL for embedded application");return d||u.GR(n),i.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS",applicationId:e,originURL:d?t:null}),n}catch(t){return i.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL",applicationId:e,error:t.message}),null}}function _(){i.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET"})}function I(){i.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET_ERROR"})}},72924:function(e,t,n){n.d(t,{S:()=>S});var i=n(200651);n(192379);var l=n(512722),r=n.n(l),a=n(481060),s=n(558381),o=n(821849),c=n(531826),u=n(15640),E=n(724870),d=n(87484),_=n(928518),I=n(106976),T=n(689011),N=n(55563),A=n(981631);async function S(e){var t,n,l,S,R;let{applicationId:C,skuId:O,initialPlanId:P,analyticsLocations:D,analyticsLocationObject:m}=e,p=N.Z.get(O);if(null==p){let e=(await (0,s.oJ)(C)).find(e=>e.sku.id===O);r()(null!=e,"Could not find store listing for sku"),e.sku.type===A.epS.SUBSCRIPTION_GROUP&&await (0,I.rx)(C,e.id)}p=null!=p?p:N.Z.get(O),r()(null!=p&&p.applicationId===C,"SKU must belong to application"),p.type!==A.epS.SUBSCRIPTION||(0,u.a)([p.id])||await (0,o.GZ)(p.id);let h=function(e){let t=(0,c.jA)({applicationId:e}),n=null!=t?_.Z.getWindow(t):void 0;return null==n||n.closed?a.z1l:a.u1M}(C);if(p.type!==A.epS.SUBSCRIPTION)return new Promise((e,t)=>{(0,d.Z)({applicationId:C,skuId:O,analyticsLocationObject:m,analyticsLocations:D,contextKey:h,onComplete:t=>{var n;e(null!==(n=null==t?void 0:t.entitlements)&&void 0!==n?n:[])},onClose:e=>{e||t()}})});await (t=C,n=O,l=P,S=m,R=D,(0,E.m)({applicationId:t,skuId:n,initialPlanId:l,analyticsLocationObject:S,analyticsLocations:R,renderHeader:(e,t,n)=>(0,i.jsx)(T.t,{step:n,onClose:()=>t(!1)})}))}},69499:function(e,t,n){n.d(t,{E:()=>I,Z:()=>N}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(239091),o=n(585237),c=n(812206),u=n(55563),E=n(73346),d=n(388032);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I={DropdownSizes:o.Z.DropdownSizes,Sizes:o.Z.Sizes,Colors:o.Z.Colors,Looks:o.Z.Looks};class T extends l.PureComponent{render(){let{skus:e,children:t,applicationId:n,primarySKU:l,onSKUSelect:r,...a}=this.props;return(0,i.jsx)(o.Z,{onClick:this.handleClick,onDropdownClick:e.length>0?this.handleContextMenu:null,onContextMenu:e.length>0?this.handleContextMenu:void 0,...a,children:t})}constructor(...e){super(...e),_(this,"renderContextMenu",()=>{let{skus:e,onSKUSelect:t,onMenuSelect:n}=this.props;return(0,i.jsx)(a.v2r,{onSelect:n,navId:"test-skus","aria-label":d.intl.string(d.t.ogxXGh),onClose:s.Zy,children:e.map(e=>(0,i.jsx)(a.sNh,{id:"".concat(e.id),label:e.name,action:()=>{null==t||t(e)}},"".concat(e.id)))})}),_(this,"handleContextMenu",e=>{e.stopPropagation(),s.vq(e,this.renderContextMenu)}),_(this,"handleClick",()=>{let{onSKUSelect:e,primarySKU:t}=this.props;null!=t&&(null==e||e(t))})}}let N=r.ZP.connectStores([u.Z,c.Z],e=>{var t;let{applicationId:n}=e,i=(0,E.uF)(n,c.Z,u.Z);return{skus:(null!==(t=u.Z.getForApplication(n))&&void 0!==t?t:[]).sort((e,t)=>null!=i&&e.id===i.id?-1:null!=i&&t.id===i.id?1:e.name>=t.name?-1:1),primarySKU:i}})(T)},912193:function(e,t,n){n.d(t,{b:()=>E});var i=n(200651);n(192379);var l=n(481060),r=n(846027),a=n(468026),s=n(388032);let o=null;function c(){null!==o&&(0,l.Mr3)(o),o=null}function u(){r.Z.setSilenceWarning(!1),c()}function E(){o=(0,l.h7j)(e=>(0,i.jsx)(a.default,{title:s.intl.string(s.t["zQ1+Jy"]),body:s.intl.string(s.t.K1gWXl),secondaryConfirmText:s.intl.string(s.t.XAiAgI),onConfirmSecondary:u,onConfirm:c,confirmText:s.intl.string(s.t.BddRzc),...e}))}},680287:function(e,t,n){n.d(t,{Z:()=>u}),n(653041),n(789020);var i=n(544891),l=n(881052),r=n(687294),a=n(476326),s=n(45251),o=n(861990),c=n(388032);class u extends r.Z{async uploadFiles(e,t){let{addFilesTo:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super.upload({name:c.intl.string(c.t.jfKTen)},t,e);let i=new AbortController;try{if(this.files=e,this._aborted||(this._handleStart(()=>i.abort()),!await this.compressAndCheckFileSize()))return;this.setUploadingTextForUI(),await (0,r.$)(this.files,!0,this._recomputeProgress.bind(this))}catch(e){this._handleException(e)}try{return await this._createMessage(i.signal,t,n)}catch(e){if(this._raiseEndpointErrors)throw e;this._handleException(e)}}async _createMessage(e,t,n){var r,c;let u;let E=[];if(this.files.forEach((e,t)=>{let n=(0,o.B)(e,t);e.item.platform===a.ow.WEB&&E.push({...n})}),null!=(u=null!=n&&null!=t?this._addAttachmentsToPayload(t,n,E):{...t,attachments:E}).scheduled_timestamp){try{let e=await (0,s.PV)({channelId:u.channel_id,scheduledTimestamp:u.scheduled_timestamp,messageSendData:{channelId:u.channel_id,content:u.content,flags:u.flags,nonce:u.nonce,message_reference:u.message_reference,allowed_mentions:u.allowed_mentions,tts:!1},attachments:E});return this._handleComplete(e.body),e.body}catch(e){if(this._raiseEndpointErrors)throw new l.Hx(e);this._handleError({code:null==e?void 0:null===(r=e.body)||void 0===r?void 0:r.code,body:null==e?void 0:e.body})}return}let d={url:this._url,body:u,signal:e,rejectWithError:!1},_="POST"===this._method?i.tn.post:i.tn.patch;try{let e=await _(d);return this._handleComplete(e.body),e.body}catch(e){if(this._raiseEndpointErrors)throw new l.Hx(e);this._handleError({code:null==e?void 0:null===(c=e.body)||void 0===c?void 0:c.code,body:null==e?void 0:e.body})}}constructor(e,t="POST",n){super(e,t,n)}}},847033:function(e,t,n){n.d(t,{Z:()=>h,m:()=>p}),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(512722),a=n.n(r),s=n(399606),o=n(704215),c=n(367907),u=n(605236),E=n(584825),d=n(994592),_=n(160404),I=n(703656),T=n(984933),N=n(430824),A=n(626135),S=n(652515),R=n(550951),C=n(544978),O=n(333866),P=n(629481),D=n(981631);let m=12633==n.j?l.createContext(void 0):null;function p(){let e=l.useContext(m);return a()(null!=e,"must use useGuildShopDisplayContext within a GuildShopDisplayContextProvider"),e}function h(e){var t;let{children:n,initialTab:r,guildId:a}=e,p=(0,s.e7)([N.Z],()=>N.Z.getGuild(a)),h=(0,s.e7)([_.Z],()=>_.Z.isViewingServerShop(a)),U=(0,R.g)(p,"guild_shop_page"),M=(0,S.RF)(a,"guild_shop_page"),g=(null==p?void 0:p.hasFeature(D.oNc.PRODUCTS_AVAILABLE_FOR_PURCHASE))===!0,k=(0,d.mY)(null==p?void 0:p.id),Z=null===(t=(0,E.YB)(a))||void 0===t?void 0:t.server_shop_tab_order,f=[],L=C.y.GUILD_SHOP_FULL_PREVIEW;h||g&&k?(f.push(Z===O.a3.PRODUCTS_FIRST?C.y.GUILD_PRODUCTS:C.y.GUILD_ROLE_SUBSCRIPTIONS),f.push(Z===O.a3.PRODUCTS_FIRST?C.y.GUILD_ROLE_SUBSCRIPTIONS:C.y.GUILD_PRODUCTS),L=f[0]):g&&!k?(f.push(C.y.GUILD_PRODUCTS),L=C.y.GUILD_PRODUCTS):!g&&k&&(f.push(C.y.GUILD_ROLE_SUBSCRIPTIONS),L=C.y.GUILD_ROLE_SUBSCRIPTIONS,U&&f.push(C.y.GUILD_PRODUCTS_PREVIEW)),r=null!=r?r:L;let[V,F]=l.useState(r),x=U&&!(k&&M)||V===C.y.GUILD_PRODUCTS_PREVIEW;return l.useEffect(()=>{F(r)},[r]),(0,i.jsx)(m.Provider,{value:{selectedTab:V,setSelectedTab:F,categoryTabs:f,isPhantomPreview:x,handlePreviewDismiss:e=>{(0,u.EW)(o.z.SERVER_SHOP_PHANTOM_PREVIEW);let t={...(0,c.hH)(a)};if(V===C.y.GUILD_PRODUCTS_PREVIEW)e.stopPropagation(),F(C.y.GUILD_ROLE_SUBSCRIPTIONS),t.action_taken=P.mz.DISMISS_TAB_PREVIEW;else{var n;(0,I.dL)(D.Z5c.CHANNEL(a,null===(n=T.ZP.getDefaultChannel(a))||void 0===n?void 0:n.id)),t.action_taken=P.mz.DISMISS_FULL_PREVIEW}A.default.track(D.rMx.GUILD_SHOP_PREVIEW_CLICK,t)}},children:n})}},544978:function(e,t,n){n.d(t,{y:()=>l});var i,l=12633==n.j?((i={}).GUILD_PRODUCTS="guild_products",i.GUILD_ROLE_SUBSCRIPTIONS="guild_role_subscriptions",i.GUILD_PRODUCTS_PREVIEW="guild_products_preview",i.GUILD_SHOP_FULL_PREVIEW="guild_shop_full_preview",i):null},893182:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(952265);function r(e){(0,l.ZD)(async()=>{let{default:t}=await n.e("86060").then(n.bind(n,816607));return n=>(0,i.jsx)(t,{...e,...n})})}},696014:function(e,t,n){n.d(t,{s:()=>o}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(46657);function o(){let[e,t]=l.useState(!1);return{isTruncated:e,ExpandableTextContainer:l.memo(function(e){let{showAll:n=!1,className:l,children:r,lineClamp:o=2}=e;return(0,i.jsx)("div",{ref:e=>{null!=e&&t(e.scrollHeight-e.clientHeight>1)},className:a()(s.lineClamp,l),style:n?void 0:{lineClamp:o,WebkitLineClamp:o},children:r})})}}},674525:function(e,t,n){n.d(t,{Z:()=>u});var i,l,r,a=n(442837),s=n(570140);let o=[];class c extends(r=a.ZP.Store){getEligibleGuildsForNagActivate(){return o}}l="CreatorMonetizationMarketingStore",(i="displayName")in c?Object.defineProperty(c,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[i]=l;let u=new c(s.Z,{CREATOR_MONETIZATION_NAG_ACTIVATE_ELIGIBLITY_FETCH_SUCCESS:function(e){let{eligibleGuilds:t}=e;o=t}})},749277:function(e,t,n){n.d(t,{A:()=>k});var i=n(200651);n(192379);var l=n(442837),r=n(704215),a=n(481060),s=n(232567),o=n(230711),c=n(726542),u=n(100527),E=n(231757),d=n(674525),_=n(963249),I=n(346585),T=n(303172),N=n(463230),A=n(246965),S=n(703656),R=n(706454),C=n(933429),O=n(395361),P=n(626135),D=n(243778),m=n(921944),p=n(981631),h=n(801461),U=n(474936),M=n(388032),g=n(693763);let k=e=>{let{dismissibleContent:t,noticeType:k}=e,Z=(0,l.e7)([C.ZP],()=>C.ZP.getNotice()),f=(0,l.e7)([R.default],()=>R.default.locale);return(0,i.jsx)(D.ZP,{contentTypes:[t],groupName:m.R.NOTICE_BAR,bypassAutoDismiss:!0,children:e=>{let{visibleContent:t,markAsDismissed:l}=e;switch(t){case r.z.NAGBAR_NOTICE_DOWNLOAD:return(0,i.jsxs)(a.qXd,{color:a.DM8.DEFAULT,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),M.intl.string(M.t["+xn1o6"]),(0,i.jsx)("i",{className:g.iconApple}),(0,i.jsx)("i",{className:g.iconAndroid}),(0,i.jsx)("i",{className:g.iconWindows}),(0,i.jsx)(a.NoS,{noticeType:k,onClick:()=>{(0,a.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,431583));return t=>(0,i.jsx)(e,{source:"Top Bar Nag",...t})})},children:M.intl.string(M.t["1WjMbG"])})]});case r.z.NAGBAR_NOTICE_CONNECT_SPOTIFY:return(0,i.jsxs)(a.qXd,{color:a.DM8.SPOTIFY,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),(0,i.jsx)(O.Z,{className:g.platformIcon}),M.intl.string(M.t["5NUVHB"]),(0,i.jsx)(a.NoS,{onClick:()=>(0,E.Z)({platformType:p.ABu.SPOTIFY,location:"Notice Bar"}),noticeType:k,children:M.intl.string(M.t.S0W8Z2)})]});case r.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return(0,i.jsxs)(a.qXd,{color:a.DM8.PLAYSTATION,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN)}),(0,i.jsx)("img",{alt:"",className:g.platformIcon,src:c.Z.get(p.ABu.PLAYSTATION).icon.whiteSVG}),M.intl.string(M.t.WHWgoa),(0,i.jsx)(a.EyT,{onClick:()=>(0,E.Z)({platformType:p.ABu.PLAYSTATION,location:"Notice Bar"}),children:M.intl.string(M.t.S0W8Z2)})]});case r.z.NAGBAR_NOTICE_MFA_SMS_BACKUP:return(0,i.jsxs)(a.qXd,{color:a.DM8.DEFAULT,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),M.intl.string(M.t.B2hnhY),(0,i.jsx)(a.NoS,{onClick:()=>o.Z.open(p.oAB.ACCOUNT),noticeType:k,children:M.intl.string(M.t["50KYxs"])})]});case r.z.NAGBAR_NOTICE_PREMIUM_PROMO:return(0,i.jsxs)(a.qXd,{color:a.DM8.PREMIUM_TIER_2,children:[(0,i.jsx)("span",{className:g.premiumLogo}),(0,i.jsx)("span",{className:g.premiumText,children:M.intl.string(M.t["+urf7+"])}),(0,i.jsx)(a.NoS,{className:g.premiumAction,noticeType:k,onClick:()=>{P.default.track(p.rMx.PREMIUM_PROMOTION_OPENED,{location_section:p.jXE.NOTIFICATION_BAR,location_object:p.qAy.BUTTON_CTA}),o.Z.open(p.oAB.PREMIUM)},children:M.intl.string(M.t["8JC5e3"])}),(0,i.jsx)(a.RyX,{onClick:()=>{l(m.L.UNKNOWN),(0,s.mB)(p.xW$.PREMIUM_PROMO_DISMISSED,!0)},noticeType:k})]});case r.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return(0,i.jsx)(A.Z,{dismissCurrentNotice:()=>l(m.L.UNKNOWN),subscriptionTier:U.Si.TIER_2});case r.z.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING:return(0,i.jsx)(A.Z,{dismissCurrentNotice:()=>l(m.L.UNKNOWN),subscriptionTier:U.Si.TIER_0});case r.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return(0,i.jsxs)(a.qXd,{color:a.DM8.PREMIUM_TIER_2,children:[(0,i.jsx)(a.RyX,{noticeType:k,onClick:()=>l(m.L.UNKNOWN)}),M.intl.string(M.t["0KFB2N"]),(0,i.jsx)(a.NoS,{noticeType:k,onClick:()=>{l(m.L.UNKNOWN),o.Z.open(p.oAB.PREMIUM)},children:M.intl.string(M.t.pyYSiI)})]});case r.z.NAGBAR_NOTICE_LOCALIZED_PRICING:return(0,i.jsx)(N.Z,{notice:Z,noticeType:k,dismissCurrentNotice:()=>l(m.L.UNKNOWN)});case r.z.NAGBAR_BOUNCED_EMAIL_NOTICE:return(0,i.jsxs)(a.qXd,{color:a.DM8.DANGER,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),M.intl.string(M.t["7490vb"]),(0,i.jsx)(a.NoS,{noticeType:k,onClick:()=>{(0,S.uL)(p.Z5c.SETTINGS("account"))},children:M.intl.string(M.t.Vm8akJ)})]});case r.z.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION:let R=d.Z.getEligibleGuildsForNagActivate();return(0,i.jsxs)(a.qXd,{color:a.DM8.DEFAULT,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),M.intl.string(M.t.pJ4hJC),(0,i.jsx)(a.NoS,{noticeType:k,onClick:()=>{l(m.L.PRIMARY),(0,S.uL)(1===R.length?p.Z5c.GUILD_SETTINGS(R[0],"role-subscriptions"):p.Z5c.PICK_GUILD_SETTINGS("role-subscriptions",void 0,"server-subscriptions-finish-setting-up"))},children:M.intl.string(M.t["74s74O"])})]});case r.z.NAGBAR_NOTICE_POMELO:return(0,i.jsxs)(a.qXd,{color:a.DM8.WARNING,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),M.intl.format(M.t.pdYZys,{}),(0,i.jsx)(a.NoS,{onClick:()=>(0,T.Z)(h.Kq.NOTICE),noticeType:k,children:M.intl.string(M.t.LhlgY2)})]});case r.z.UU_MIGRATION_NOTICE:return(0,i.jsxs)(a.qXd,{color:a.DM8.WARNING,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),M.intl.format(M.t.zT1hgo,{date:(0,I.IE)(f)}),(0,i.jsx)(a.NoS,{onClick:()=>(0,T.Z)(h.Kq.NOTICE),noticeType:k,children:M.intl.string(M.t.LhlgY2)})]});case r.z.CHECKOUT_RECOVERY_NAGBAR:return(0,i.jsxs)(a.qXd,{color:a.DM8.PREMIUM_TIER_2,children:[(0,i.jsx)(a.RyX,{onClick:()=>l(m.L.UNKNOWN),noticeType:k}),M.intl.string(M.t["O9GI+v"]),(0,i.jsx)(a.NoS,{onClick:()=>{(0,_.Z)({subscriptionTier:U.Si.TIER_2,analyticsLocations:[u.Z.CHECKOUT_RECOVERY_NAGBAR],analyticsLocation:p.Sbl.CHECKOUT_RECOVERY_NAGBAR,onClose:()=>l(m.L.UNKNOWN)})},noticeType:k,children:M.intl.string(M.t.Zi69Dw)})]})}}})}},131130:function(e,t,n){n.d(t,{q:()=>_});var i=n(200651);n(192379);var l=n(704215),r=n(481060),a=n(906732),s=n(963249),o=n(286961),c=n(644916),u=n(243778),E=n(921944),d=n(693763);let _=e=>{let{dismissibleContent:t,noticeType:n}=e,{analyticsLocations:_}=(0,a.ZP)(),I=(0,o.Z)();return(0,i.jsx)(u.Xf,{contentType:t,latestVersion:(0,c.t)(t),groupName:E.R.NOTICE_BAR,bypassAutoDismiss:!0,children:e=>{let{visibleContent:t,markAsDismissed:a}=e;if(t===l.z.GIFTING_PROMOTION_REMINDER){let e=null==I?void 0:I.reminderNagbar;return(0,i.jsxs)(r.qXd,{color:r.DM8.PREMIUM_TIER_2,children:[(0,i.jsx)(r.RyX,{onClick:()=>a(E.L.USER_DISMISS),noticeType:n}),(0,i.jsx)(r.OgN,{size:"custom",width:20,height:20,color:"currentColor",className:d.giftIcon}),null==e?void 0:e.description(),(0,i.jsx)(r.NoS,{onClick:()=>{(0,s.Z)({isGift:!0,initialPlanId:null,analyticsLocations:_,analyticsLocation:null==e?void 0:e.analyticsLocation,analyticsObject:{page:null==e?void 0:e.analyticsPage}})},noticeType:n,children:null==e?void 0:e.cta()})]})}}})}},506357:function(e,t,n){n.d(t,{Z:()=>O});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(565138),o=n(241559),c=n(527379),u=n(430824),E=n(944486),d=n(914010),_=n(626135),I=n(528011),T=n(666657),N=n(533244),A=n(981631),S=n(176505),R=n(388032),C=n(40148);function O(e){var t,O;let{onDismiss:P}=e,D=(0,r.e7)([d.Z],()=>d.Z.getGuildId()),m=(0,r.e7)([E.Z],()=>null!=D?E.Z.getChannelId(D):null,[D]),p=null!=D?D:null,h=(0,r.e7)([u.Z],()=>null!=p?u.Z.getGuild(p):null,[p]),{shouldShowIncidentActions:U,incidentData:M,isUnderLockdown:g}=(0,I.mI)(p),k=(0,o.n2)(null!==(t=null==h?void 0:h.id)&&void 0!==t?t:A.lds),Z=l.useCallback(()=>null!=h&&(0,c._X)(h.id),[h]);if(null==h||null==M||!U)return null;let f=e=>{if(e&&k&&m!==S.oC.MEMBER_SAFETY&&Z()){_.default.track(A.rMx.APP_NOTICE_PRIMARY_CTA_OPENED,{notice_type:A.kVF.GUILD_RAID_NOTIFICATION,guild_id:h.id});return}(0,a.ZDy)(async()=>{let e={source:T.Zu.NAGBAR,alertType:(0,N.T1)(M)},{default:t}=await n.e("58175").then(n.bind(n,664452));return n=>(0,i.jsx)(t,{...n,guildId:h.id,analyticsData:e})})},L=(0,i.jsx)(s.Z,{className:C.guildIcon,guild:h,size:s.Z.Sizes.MINI}),V=(0,N.OY)(M,h.name);if(null!=(null!==(O=M.dmsDisabledUntil)&&void 0!==O?O:M.invitesDisabledUntil)&&g)return(0,i.jsxs)(a.qXd,{className:C.notice,color:a.DM8.NEUTRAL,children:[(0,i.jsx)(a.RyX,{onClick:P,noticeType:A.kVF.GUILD_RAID_NOTIFICATION}),L,V,(0,i.jsx)(a.EyT,{className:C.actionButton,onClick:()=>f(!1),children:(0,i.jsxs)("div",{className:C.actionButtonInner,children:[(0,i.jsx)(a.mBM,{size:"xs",color:"currentColor"}),(0,i.jsx)("span",{children:R.intl.string(R.t["c+7oa2"])})]})})]});let F=(0,N.CG)(M)?R.intl.formatToPlainString(R.t.tZTx2N,{guildName:h.name}):(0,N.kk)(M)?R.intl.formatToPlainString(R.t["1bSmxs"],{guildName:h.name}):R.intl.formatToPlainString(R.t.W87xDA,{guildName:h.name}),x=k&&m===S.oC.MEMBER_SAFETY;return(0,i.jsxs)(a.qXd,{className:C.notice,color:a.DM8.WARNING,children:[(0,i.jsx)(a.RyX,{onClick:P,noticeType:A.kVF.GUILD_RAID_NOTIFICATION}),L,F,!x&&(0,i.jsx)(a.EyT,{className:C.actionButton,onClick:()=>f(!0),children:(0,i.jsx)("div",{className:C.actionButtonInner,children:(0,i.jsx)("span",{children:R.intl.string(R.t.zDJDho)})})})]})}},295474:function(e,t,n){n.d(t,{Ux:()=>S,gS:()=>R,ww:()=>C}),n(789020);var i=n(192379),l=n(399606),r=n(230711),a=n(906732),s=n(18438),o=n(314897),c=n(271383),u=n(430824),E=n(496675),d=n(914010),_=n(715903),I=n(981631),T=n(372897),N=n(526761),A=n(388032);function S(e){return(0,l.e7)([o.default,c.ZP],()=>{if(null==e)return!1;let t=o.default.getId();return(0,_.EY)(c.ZP.getMember(e,t))},[e])}function R(e){return(0,l.cj)([o.default,c.ZP,d.Z,u.Z],()=>{let t={nick:void 0,bio:void 0},n=d.Z.getGuildId(),i=null!=e?e:n,l=u.Z.getGuild(i);if(null==l||null==i)return t;let r=o.default.getId(),a=c.ZP.getMember(i,r),s=(0,_.Ow)(null==a?void 0:a.flags);if(0===s.size)return t;if(s.has(T.q.AUTOMOD_QUARANTINED_USERNAME_OR_GUILD_NICKNAME)){if(null==e){var E;t.nick=[A.intl.formatToPlainString(A.t.WBUh3N,{guildName:null!==(E=l.name)&&void 0!==E?E:""})]}else t.nick=[A.intl.string(A.t.EPZCrK)]}return s.has(T.q.AUTOMOD_QUARANTINED_BIO)&&(t.bio=[A.intl.string(A.t.dZh1v7)]),t},[e])}function C(e){let{guildId:t,scrollPosition:n,analyticsLocation:o,analyticsLocations:c,openWithoutBackstack:d}=e,{analyticsLocations:_}=(0,a.ZP)(),T=(0,l.e7)([u.Z],()=>u.Z.getGuild(t),[t]),A=(0,l.e7)([E.Z],()=>null!=T&&E.Z.can(I.Plq.CHANGE_NICKNAME,T),[T]);return[i.useCallback(()=>{if(null==T)return;let e=I.oAB.PROFILE_CUSTOMIZATION,t=N.NB.GUILD;A?(0,s.Fq)(T,null!=c?c:_):t=N.NB.USER_PROFILE,r.Z.open(e,t,{scrollPosition:n,analyticsLocation:o,analyticsLocations:c,openWithoutBackstack:d})},[A,n,o,c,d,T,_]),A]}},236069:function(e,t,n){n.d(t,{Z:()=>o}),n(47120);var i=n(200651);n(192379);var l=n(481060),r=n(295474),a=n(388032),s=n(693763);function o(e){let{guildId:t,analyticsLocations:n,analyticsLocation:o}=e,[c,u]=(0,r.ww)({guildId:t,analyticsLocations:n,analyticsLocation:o,openWithoutBackstack:!0}),E=u?a.intl.string(a.t["6ndMcn"]):a.intl.string(a.t["0eiu6O"]),d=u?a.intl.string(a.t.S09nw8):a.intl.string(a.t.tEttXV);return(0,i.jsxs)(l.qXd,{color:l.DM8.CUSTOM,className:s.quarantineNotice,children:[E,(0,i.jsx)(l.EyT,{onClick:c,children:d})]})}},574650:function(e,t,n){n.d(t,{Z:()=>O}),n(653041),n(47120);var i=n(200651);n(192379);var l=n(120356),r=n.n(l);if(12633==n.j)var a=n(512969);var s=n(442837),o=n(481060),c=n(430824),u=n(914010),E=n(693546),d=n(305325),_=n(246364),I=n(983736),T=n(937111),N=n(981631),A=n(176505),S=n(388032),R=n(31740),C=n(384049);let O=12633==n.j?()=>{var e,t;let l=(0,s.e7)([u.Z],()=>u.Z.getGuildId(),[]),O=(0,s.e7)([c.Z],()=>c.Z.getGuild(l),[l]),P=(0,s.e7)([T.Z],()=>null!=l?T.Z.getRequest(l):null,[l]),D=(0,a.TH)(),m=(null===(e=(0,a.LX)(D.pathname,N.Z5c.CHANNEL(null==O?void 0:O.id,A.oC.GUILD_ONBOARDING)))||void 0===e?void 0:e.isExact)===!0;if(null==O||!(0,I.Dc)(O)||m)return null;let p=null!==(t=null==P?void 0:P.applicationStatus)&&void 0!==t?t:_.wB.STARTED,h=null,U=null,M=null,g=[R.notice,C.notice];switch(p){case _.wB.SUBMITTED:h=S.intl.string(S.t["5iLvS0"]),U=S.intl.string(S.t.mqtdmZ),M=()=>{(0,o.h7j)(e=>(0,i.jsx)(o.ConfirmModal,{header:S.intl.string(S.t.aIz1oa),confirmText:S.intl.string(S.t["cY+Ooa"]),cancelText:S.intl.string(S.t["ETE/oK"]),onConfirm:()=>E.Z.removeGuildJoinRequest(O.id),confirmButtonColor:o.zxk.Colors.BRAND,...e,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:S.intl.string(S.t["13tjTU"])})}))};break;case _.wB.REJECTED:h=S.intl.string(S.t.lk30cX),U=S.intl.string(S.t["8RrsHh"]),M=()=>{(0,o.ZDy)(async()=>{let{default:e}=await n.e("3378").then(n.bind(n,76075));return t=>(0,i.jsx)(e,{guildId:O.id,...t})})},g.push(R.error);break;default:h=S.intl.string(S.t.G5YKXF),U=S.intl.string(S.t["r8/DT0"]),M=()=>{(0,d.hk)(O.id)}}return(0,i.jsxs)("div",{className:r()(...g),children:[(0,i.jsx)(o.Text,{className:R.header,variant:"text-sm/normal",children:h}),(0,i.jsx)(o.zxk,{className:R.button,look:o.zxk.Looks.OUTLINED,color:o.zxk.Colors.WHITE,size:o.zxk.Sizes.NONE,onClick:M,children:U})]})}:null},665302:function(e,t,n){n.d(t,{h:()=>o});var i=n(200651);n(192379);var l=n(481060),r=n(671533),a=n(981631),s=n(201923);function o(e){let{buttonText:t,onGoBack:n,onDismiss:o,showCloseButton:c}=e;return(0,i.jsxs)(l.qXd,{className:s.backNotice,children:[c&&(0,i.jsx)(l.RyX,{onClick:o,noticeType:a.kVF.BACK_TO_PREVIOUS_SCREEN}),(0,i.jsxs)(l.zxk,{className:s.backButton,innerClassName:s.backButtonInner,look:l.zxk.Looks.OUTLINED,color:l.zxk.Colors.WHITE,size:l.zxk.Sizes.NONE,onClick:n,children:[(0,i.jsx)(r.Z,{width:16,height:16,direction:r.Z.Directions.LEFT,className:s.__invalid_backArrow}),t]})]})}},11868:function(e,t,n){n.d(t,{Qt:()=>L,ZP:()=>v});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(447543),u=n(287734),E=n(372769),d=n(955415),_=n(922482),I=n(601964),T=n(592125),N=n(430824),A=n(15274),S=n(924301),R=n(725436),C=n(978227),O=n(236373),P=n(854698),D=n(405613),m=n(95291),p=n(742593),h=n(217804),U=n(139712),M=n(765305),g=n(388032),k=n(684936);let Z=(e,t)=>n=>{n.stopPropagation(),u.default.selectVoiceChannel(e.channel_id,!1),null==t||t(n)},f=(e,t)=>n=>{let i=T.Z.getChannel(e.channel_id);null!=i&&(n.stopPropagation(),(0,_.Cq)(i),null==t||t(n))},L=(e,t)=>{switch(null==e?void 0:e.entity_type){case M.WX.STAGE_INSTANCE:return f(e,t);case M.WX.VOICE:return Z(e,t)}return()=>{}},V=(e,t)=>t&&[M.WX.STAGE_INSTANCE,M.WX.VOICE].includes(null==e?void 0:e.entity_type),F=l.memo(function(e){var t;let{guild:n,guildScheduledEvent:r,channel:a,isMember:u}=e,_=(0,s.e7)([N.Z],()=>{var e;return null==n?null:null!==(e=N.Z.getGuild(n.id))&&void 0!==e?e:new I.ZP(n)},[n]),T=(0,h.u)(r,a),A=l.useCallback(e=>{u&&null!=r&&(e.stopPropagation(),(0,c.B)(r))},[u,r]),S=l.useCallback(e=>{L(r)(e)},[r]);if(null==_)return null;let C=null==T?void 0:T.IconComponent,O=(0,i.jsxs)(i.Fragment,{children:[null!=C&&(0,i.jsx)(C,{size:"xs",color:"currentColor",className:k.channelIcon}),(0,i.jsx)(o.Text,{className:k.channelDescription,variant:"text-xs/normal",children:(0,R.m)(null!==(t=null==T?void 0:T.locationName)&&void 0!==t?t:"",!0)})]});return(0,i.jsxs)("div",{className:k.inviteDetailsContainer,children:[(0,i.jsx)(d.Z.Icon,{guild:_,onClick:A}),(0,i.jsxs)("div",{className:k.verticalContainer,children:[(0,i.jsxs)("div",{className:k.guildChannelInfoContainer,children:[(0,i.jsx)(E.Z,{guild:_,tooltipPosition:"top",tooltipColor:o.ua7.Colors.PRIMARY,size:16,className:k.guildBadge}),(0,i.jsx)(o.P3F,{className:k.guildNameClickable,onClick:A,children:(0,i.jsx)(o.X6q,{className:u?k.guildNameLinkable:k.guildName,variant:"text-sm/medium",children:_.name})})]}),(0,i.jsx)("div",{className:k.channelInfoContainer,children:V(r,u)?(0,i.jsx)(o.P3F,{className:k.channelLocationLink,onClick:S,children:O}):O})]})]})}),x=l.memo(function(e){let{guildId:t,guildScheduledEventId:n,recurrenceId:l,isActive:r,isEnded:a,isMember:c,isExternal:u,onAcceptInstantInvite:E,onTransitionToInviteChannel:d}=e,_=(0,s.e7)([S.ZP],()=>S.ZP.isInterestedInEventRecurrence(n,l),[n,l]),I=e=>{e.stopPropagation(),c?r&&d():E()};return c?r?(0,i.jsx)(o.zxk,{className:k.button,size:o.zxk.Sizes.SMALL,onClick:e=>{u||I(e)},color:u?o.zxk.Colors.TRANSPARENT:o.zxk.Colors.GREEN,children:u?g.intl.string(g.t.GoCQxc):g.intl.string(g.t.XpeFYm)}):a?(0,i.jsx)(o.zxk,{className:k.button,size:o.zxk.Sizes.SMALL,disabled:!0,color:o.zxk.Colors.PRIMARY,look:o.zxk.Looks.OUTLINED,children:g.intl.string(g.t.Pj7Xrq)}):(0,i.jsxs)(o.zxk,{className:k.button,innerClassName:k.innerButton,size:o.zxk.Sizes.SMALL,color:o.zxk.Colors.PRIMARY,look:_?o.zxk.Looks.OUTLINED:o.zxk.Looks.FILLED,onClick:e=>{e.stopPropagation(),(0,U.Z)(n,l,t)},children:[_?(0,i.jsx)(o.dz2,{size:"xs",color:"currentColor",className:k.buttonIcon}):(0,i.jsx)(o.Dkj,{size:"xs",color:"currentColor",className:k.buttonIcon}),g.intl.string(g.t.DlcqlZ)]}):(0,i.jsx)(o.zxk,{className:k.button,size:o.zxk.Sizes.SMALL,onClick:I,color:o.zxk.Colors.GREEN,children:g.intl.string(g.t.XpeFYm)})}),v=l.memo(function(e){var t;let{guildScheduledEvent:n,guild:r,channel:s,isMember:c,recurrenceId:u,onAcceptInstantInvite:E,onTransitionToInviteChannel:_}=e,I=null!=u?u:null!=n?(0,P.DK)(n):null,T=(null==n?void 0:n.recurrence_rule)==null||null==I||(0,P.Rp)((0,O.KV)(null==n?void 0:n.recurrence_rule),I),N=(0,C.Z)(n),R=l.useCallback(()=>{c&&null!=n&&(0,A.bO)({eventId:n.id,recurrenceId:I})},[c,n,I]);if(null==n||!T)return null;let h=(0,S.xt)(n),U=(0,S.Z2)(n),g=n.entity_type===M.WX.EXTERNAL;return(0,i.jsx)(d.Z,{className:a()({[k.clickable]:c}),children:(0,i.jsxs)(o.P3F,{onClick:R,children:[null!=n.image&&(0,i.jsx)(m.Z,{source:(0,D.Z)(n),className:k.banner}),(0,i.jsx)(p.ZP,{name:n.name,description:null!==(t=n.description)&&void 0!==t?t:void 0,descriptionClassName:k.eventDescription,guildId:n.guild_id,creator:N,guildEvent:n,eventPreview:n,recurrenceId:I}),(0,i.jsxs)("div",{className:k.footerContainer,children:[(0,i.jsx)(F,{guild:r,channel:s,guildScheduledEvent:n,isMember:c}),(0,i.jsx)(x,{isActive:h,isEnded:U,isMember:c,guildId:n.guild_id,guildScheduledEventId:n.id,recurrenceId:I,onAcceptInstantInvite:E,onTransitionToInviteChannel:_,isExternal:g})]})]})})})},984370:function(e,t,n){n.d(t,{O:()=>Z,Z:()=>F});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(873546),s=n(442837),o=n(475179),c=n(100527),u=n(906732),E=n(174556),d=n(358221),_=n(185935),I=n(320007),T=n(540059),N=n(141321),A=n(2818),S=n(954551),R=n(208450),C=n(975146),O=n(979651),P=n(358085),D=n(998502),m=n(665149),p=n(300986),h=n(314451),U=n(35583),M=n(981631),g=n(176505),k=n(256501);async function Z(){if((0,P.isMac)()&&P.isPlatformEmbedded){var e,t,n;let i=null!==(n=await (null===(e=(t=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===e?void 0:e.call(t)))&&void 0!==n?n:"Maximize";"Minimize"===i?D.ZP.minimize():"Maximize"===i&&D.ZP.maximize()}}function f(e){let{children:t,className:n,channelId:l,channelType:r,guildId:c,innerClassname:u,transparent:P=!1,toolbar:D,mobileToolbar:f,"aria-label":L,"aria-labelledby":V,scrollable:F,role:x,hideSearch:v,showDivider:y}=e,G=null==l||(0,g.AB)(l)?null:l,j=(0,s.e7)([O.Z],()=>O.Z.isInChannel(G)||!1),b=(0,s.e7)([d.Z],()=>null!=G&&d.Z.getParticipantsListOpen(G)),{hasBugReporterAccess:B}=E.Z.useExperiment({location:"HeaderBar"},{autoTrackExposure:!1}),{enabled:w,inInbox:z}=A.Z.useExperiment({location:"HeaderBar"}),{hasParticipantsPanel:Y}=(0,_.Z)({location:"HeaderBar"}),W=(0,T.Q3)("HeaderBar");return(0,i.jsx)(m.ZP,{className:n,innerClassName:u,toolbar:function(){if(null==D)return null;let e=null!=l&&!v;return a.tq?f:(0,i.jsxs)(i.Fragment,{children:[D,e?(0,i.jsx)(R.Z,{className:k.search},null!=c?c:l):null,y&&(0,i.jsx)(m.ZP.Divider,{}),!W&&(0,i.jsx)(U.Z,{}),!W&&(0,i.jsx)(I.Z,{canShowReminder:!0}),!W&&(0,i.jsx)(N.Z,{}),w&&!z?(0,i.jsx)(S.Z,{}):null,!W&&(B?(0,i.jsx)(h.Z,{}):(0,i.jsx)(p.Z,{})),Y&&j&&null!=G&&!b&&r===M.d4z.GROUP_DM&&(0,i.jsxs)("div",{className:k.controlButtonWrapper,children:[(0,i.jsx)(m.ZP.Divider,{}),(0,i.jsx)(C.Z,{onClick:()=>o.Z.toggleParticipantsList(G,!b)})]})]})}(),transparent:P,onDoubleClick:Z,"aria-label":L,"aria-labelledby":V,role:x,scrollable:F,children:t})}function L(e){let{children:t,className:n,"aria-label":l,"aria-labelledby":r,role:a}=e;return(0,i.jsx)(m.ZP,{className:n,onDoubleClick:Z,"aria-label":l,"aria-labelledby":r,role:a,children:t})}function V(e){let{isAuthenticated:t=!0,...n}=e,{analyticsLocations:l}=(0,u.ZP)(c.Z.HEADER_BAR),a=r()(n.className,{[k.forumOrHome]:null!=n.channelType&&M.TPd.GUILD_THREADS_ONLY.has(n.channelType)||n.channelId===g.oC.GUILD_HOME});return(0,i.jsx)(u.Gt,{value:l,children:t?(0,i.jsx)(f,{...n,className:a}):(0,i.jsx)(L,{...n,className:a})})}V.Title=m.ZP.Title,V.Icon=m.ZP.Icon,V.Divider=m.ZP.Divider,V.Caret=m.ZP.Caret;let F=V},918658:function(e,t,n){n.d(t,{Z:()=>Z,d:()=>f});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(692547),o=n(481060),c=n(549817),u=n(819553),E=n(17181),d=n(303737),_=n(434404),I=n(703656),T=n(944486),N=n(914010),A=n(671533),S=n(259580),R=n(358085),C=n(962086),O=n(160404),P=n(889695),D=n(981631),m=n(176505),p=n(302463),h=n(293810),U=n(388032),M=n(513519);function g(e){let{className:t,onClick:n,children:l}=e;return(0,i.jsx)(o.zxk,{className:r()(M.button,t),innerClassName:M.buttonInner,look:o.zxk.Looks.OUTLINED,color:o.zxk.Colors.WHITE,size:o.zxk.Sizes.NONE,onClick:n,children:l})}function k(e){let{onClick:t}=e;return(0,i.jsx)(g,{onClick:t,children:U.intl.string(U.t.R9GHyc)})}function Z(){let e=(0,a.e7)([N.Z],()=>N.Z.getGuildId()),t=(0,a.e7)([T.Z],()=>T.Z.getChannelId(e)),{viewingRoles:n,backNavigationSection:l,isFullServerPreview:r,isServerShopPreview:R}=(0,a.cj)([O.Z],()=>({viewingRoles:null!=e?O.Z.getViewingRoles(e):null,backNavigationSection:O.Z.getBackNavigationSection(e),isFullServerPreview:null!=e&&O.Z.isFullServerPreview(e),isServerShopPreview:null!=e&&O.Z.isViewingServerShop(e)}));if(null==n||null==e)return null;let Z=function(e){switch(e){case D.pNK.INTEGRATIONS:return U.intl.string(U.t.k7LGdn);case D.pNK.ROLE_SUBSCRIPTIONS:return U.intl.string(U.t.bRqiqa);case D.pNK.ONBOARDING:return U.intl.string(U.t.qZpU3d);default:return U.intl.string(U.t.MTIXho)}}(l),f=l===D.pNK.ROLE_SUBSCRIPTIONS?U.intl.string(U.t.hZUCzc):U.intl.string(U.t["/djIh4"]),L=t===m.oC.GUILD_ONBOARDING,V=t=>{let{backToSettings:n}=t;null!=e&&(O.Z.isFullServerPreview(e)&&(0,I.uL)(D.Z5c.CHANNEL(e)),u.ZP.shouldShowOnboarding(e)&&(c.Z.finishOnboarding(e),(0,E.EI)(e)),(0,C.mL)(e),n&&_.Z.open(e,l),l===D.pNK.ROLE_SUBSCRIPTIONS&&(0,d.GN)(e))};return(0,i.jsxs)(o.qXd,{color:o.DM8.BRAND,className:M.notice,children:[(0,i.jsxs)(g,{onClick:()=>V({backToSettings:!0}),className:M.backButton,children:[(0,i.jsx)(A.Z,{width:16,height:16,direction:A.Z.Directions.LEFT,className:M.backArrow}),Z]}),L&&r?(0,i.jsx)("div",{className:M.noticeContents,children:(0,i.jsx)("div",{className:M.noticeText,children:U.intl.string(U.t.PxbiAQ)})}):(0,i.jsxs)("div",{className:M.noticeContents,children:[(0,i.jsx)("div",{className:M.noticeText,children:r?U.intl.formatToPlainString(U.t["0PHahI"],{numRoles:Object.keys(n).length}):U.intl.formatToPlainString(U.t.vMlK8v,{numRoles:Object.keys(n).length})}),(0,i.jsx)(o.yRy,{position:"bottom",renderPopout:()=>(0,i.jsx)(P.Z,{guildId:e}),children:e=>{let{onClick:t}=e;return(0,i.jsxs)(g,{onClick:t,children:[f,(0,i.jsx)(S.Z,{width:16,height:16,direction:S.Z.Directions.DOWN,className:M.selectCaret})]})}}),r&&(0,i.jsx)(o.DY3,{className:M.previewWarning,text:U.intl.string(U.t.mW4DUF),children:(0,i.jsx)(o.P4T,{size:"xs",color:s.Z.unsafe_rawColors.YELLOW_300.css})}),R&&(0,i.jsx)(o.DY3,{className:M.previewWarning,text:U.intl.formatToPlainString(U.t.eummvb,{maxTiers:h.fF,maxProducts:p.dD}),children:(0,i.jsx)(o.P4T,{size:"xs",color:s.Z.unsafe_rawColors.YELLOW_300.css})})]}),r||l===D.pNK.ROLE_SUBSCRIPTIONS?null:(0,i.jsx)(k,{onClick:()=>V({backToSettings:!1})})]})}function f(e){let{guildId:t}=e;return(0,a.e7)([O.Z],()=>O.Z.isViewingRoles(t))?(0,i.jsx)("div",{className:r()(M.settingsWrapper,{[M.windows]:(0,R.isWindows)(),[M.osx]:(0,R.isMac)()}),children:(0,i.jsx)(Z,{})}):null}},859428:function(e,t,n){n.d(t,{Z:()=>R}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(749210),u=n(703656),E=n(430824),d=n(914010),_=n(900849),I=n(41776),T=n(981631),N=n(388032),A=n(253928),S=n(384049);let R=12633==n.j?()=>{let e=(0,s.e7)([d.Z],()=>d.Z.getGuildId(),[]),t=(0,s.e7)([E.Z],()=>E.Z.getGuild(e),[e]),n=(0,s.e7)([I.Z],()=>I.Z.getHistorySnapshot(),[]),[r,R]=l.useState(!1);if(null==t)return null;let C=async()=>{R(!0);try{_.mT(t.id),await c.Z.joinGuild(t.id,{source:T.vtS.NOTICE_BAR})}catch{R(!1)}};return(0,i.jsxs)("div",{className:a()(A.notice,S.notice),children:[(0,i.jsxs)(o.zxk,{look:o.zxk.Looks.OUTLINED,color:o.zxk.Colors.WHITE,size:o.zxk.Sizes.NONE,className:a()(A.button,A.back),innerClassName:A.iconButton,onClick:()=>{let e=(0,u.s1)();null!=n&&null!=n.location?(0,u.dL)({...n.location}):e.goBack()},children:[(0,i.jsx)(o.whL,{size:"xs",color:"currentColor",className:A.arrow}),N.intl.string(N.t["13/7kZ"])]}),(0,i.jsx)(o.Text,{className:A.header,variant:"text-sm/normal",children:N.intl.string(N.t["N/y2WF"])}),(0,i.jsx)(o.zxk,{className:A.button,look:o.zxk.Looks.OUTLINED,color:o.zxk.Colors.WHITE,size:o.zxk.Sizes.NONE,submitting:r,onClick:C,children:N.intl.format(N.t.uHN7n5,{guild:t.name})})]})}:null},290323:function(e,t,n){n.d(t,{h:()=>l});var i,l=((i={})[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PENDING=1]="PENDING",i[i.ACCEPTED=2]="ACCEPTED",i[i.REJECTED=3]="REJECTED",i)},346585:function(e,t,n){n.d(t,{IE:()=>O,K9:()=>R,NX:()=>A,R_:()=>S,e$:()=>_,ti:()=>C,zV:()=>d}),n(757143),n(47120),n(627341);var i=n(913527),l=n.n(i),r=n(278074),a=n(768581),s=n(709054),o=n(624138),c=n(219496),u=n(801461),E=n(388032);function d(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a.ZP.getUserAvatarURL({id:e.id,avatar:e.avatar,bot:e.bot,discriminator:"0000"},t,80)}function _(e){let t=(0,o._I)(e.username).replace(u.RN,"").replace(u.iF,".").toLowerCase();return"".concat(t).concat(e.discriminator).substring(0,32)}let I=["@","#",":"],T=["```","discord","hypesquad","system message","system mesage","sustem message","sustem mesage","clyde"],N=["discordtag","everyone","here","discord nitro","discord","snowsgiving"];function A(e){var t;let n=e.username.toLowerCase();if((t=u.kt,n.split("").filter(e=>!t.includes(e.charCodeAt(0))).join("")).length<2)return!0;for(let e of I)if(n.includes(e))return!0;for(let e of N)if(n===e.toLowerCase())return!0;for(let e of T)if(n.includes(e.toLowerCase()))return!0;return!1}function S(e){return e.toLowerCase().replace(/\s/g,"").replace("@","")}function R(e){let t=s.default.extractTimestamp(e);try{return l()(new Date(t)).format("MMM DD, YYYY")}catch(e){}return null}function C(e){return(0,r.EQ)(e).with({rateLimited:!0},()=>({type:c.K.RATE_LIMIT,message:E.intl.string(E.t.T15lqq)})).with({error:r.P.not(r.P.nullish)},e=>{let{error:t}=e;return{type:c.K.ERROR,message:t}}).with({taken:!1},()=>({type:c.K.AVAILABLE,message:E.intl.string(E.t.PgfBS0)})).with({taken:!0},()=>({type:c.K.ERROR,message:E.intl.string(E.t.mCrAUV)})).with({error:r.P.nullish},()=>({type:c.K.INTERNAL_ERROR,message:""})).otherwise(()=>void 0)}function O(e){return new Date(2024,2,4).toLocaleDateString(e,{month:"long",day:"numeric",year:"numeric"})}},774276:function(e,t,n){n.d(t,{ZP:()=>l,cI:()=>i});let i=(0,n(818083).B)({kind:"user",id:"2023-10_premium_tier_2_trial_offer_expiring_notice",label:"Premium Tier 2 Trial Offer Expiring Notice",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]}),l=12633==n.j?function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.useExperiment({location:"experiment_hook"},{autoTrackExposure:e,disable:t})}:null},14335:function(e,t,n){n.d(t,{Z:()=>O});var i=n(200651),l=n(192379),r=n(793030),a=n(442837),s=n(481060),o=n(230711),c=n(2052),u=n(906732),E=n(963249),d=n(594174),_=n(626135),I=n(74538),T=n(163684),N=n(748770),A=n(474936),S=n(981631),R=n(388032),C=n(343118);function O(){let e=(0,a.e7)([d.default],()=>I.ZP.isPremiumExactly(d.default.getCurrentUser(),A.p9.TIER_2)),{enabled:t,getNitroCTA:n}=T.g.useExperiment({location:"OutboundPromotionNotice"},{autoTrackExposure:!1,disable:e}),{location:O}=(0,c.O)(),{analyticsLocations:P}=(0,u.ZP)(),D=l.useCallback(()=>{(0,E.Z)({subscriptionTier:I.ZP.getSkuIdForPremiumType(A.p9.TIER_2),analyticsLocations:P,analyticsObject:{...O,object:S.qAy.BUTTON_CTA,objectType:S.Qqv.TIER_2}})},[P,O]),m=l.useCallback(()=>{o.Z.open(S.oAB.INVENTORY),N.ZP.dismissOutboundPromotionNotice()},[]),p=l.useCallback(()=>{_.default.track(S.rMx.OUTBOUND_PROMOTION_NOTICE_CLICKED),n?D():m()},[n,D,m]);return(0,i.jsxs)(s.qXd,{color:s.DM8.PREMIUM_TIER_2,children:[(0,i.jsx)(s.RyX,{noticeType:S.kVF.OUTBOUND_PROMOTION,onClick:()=>{N.ZP.dismissOutboundPromotionNotice()}}),(0,i.jsx)(s.SrA,{size:"md",color:"currentColor",className:C.premiumIcon}),t?n?(0,i.jsxs)(r.xv,{variant:"text-sm/normal",className:C.text,children:[R.intl.string(R.t["5JMiOj"])," ",R.intl.format(R.t.fjSvsL,{onClick:m})]}):R.intl.string(R.t["B3a/cH"]):R.intl.string(R.t["Pzh+Gx"]),(0,i.jsx)(s.NoS,{noticeType:S.kVF.OUTBOUND_PROMOTION,onClick:p,children:n?R.intl.string(R.t.pj0XBA):R.intl.string(R.t.jVcuVV)})]})}},463230:function(e,t,n){n.d(t,{Z:()=>_});var i=n(200651);n(192379);var l=n(481060),r=n(230711),a=n(985754),s=n(91802),o=n(222727),c=n(981631),u=n(921944),E=n(388032),d=n(693763);let _=12633==n.j?e=>{let{notice:t,noticeType:n,dismissCurrentNotice:_}=e,I=(null==t?void 0:t.metadata.premiumSubscription)!=null,T=(0,s.n)();if((0,o.U)(c.jXE.NOTIFICATION_BAR,null==T?void 0:T.countryCode),null==T)return null;let N=T.countryCode,A=T.currency,S=T.paymentSourceTypes.length>0;return(0,i.jsxs)(l.qXd,{color:I?l.DM8.BRAND:l.DM8.PREMIUM_TIER_2,children:[(0,i.jsx)(l.RyX,{onClick:()=>_(u.L.UNKNOWN),noticeType:n}),!I&&(0,i.jsx)(l.SrA,{size:"md",color:"currentColor",className:d.premiumIcon}),(0,a.Gv)(N,A,S,I),(0,i.jsx)(l.NoS,{onClick:()=>{_(u.L.UNKNOWN),r.Z.open(c.oAB.PREMIUM)},noticeType:n,children:E.intl.string(E.t.hvVgAQ)})]})}:null},246965:function(e,t,n){n.d(t,{Z:()=>N}),n(411104);var i=n(200651);n(192379);var l=n(990547),r=n(481060),a=n(774078),s=n(100527),o=n(906732),c=n(213609),u=n(963249),E=n(639119),d=n(474936),_=n(981631),I=n(388032),T=n(693763);let N=12633==n.j?function(e){var t;let{dismissCurrentNotice:n,subscriptionTier:N}=e,{analyticsLocations:A}=(0,o.ZP)(function(e){switch(e){case d.Si.TIER_0:return s.Z.PREMIUM_TIER_0_TRIAL_ENDING_NOTICE;case d.Si.TIER_2:return s.Z.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE;default:throw Error("Unsupported subscription tier: ".concat(e))}}(N)),S=(0,E.N)(),R=(0,a.Z)(null!=S&&null!=S.expires_at?Date.parse(S.expires_at):0),C=null==S||(null===(t=S.subscription_trial)||void 0===t?void 0:t.sku_id)!==N||null==S.expires_at||Object.values(R).every(e=>0===e);return((0,c.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.TRIAL_NOTICE,properties:{trial_id:null==S?void 0:S.trial_id}},{disableTrack:C}),C)?null:(0,i.jsxs)(r.qXd,{color:function(e){switch(e){case d.Si.TIER_0:return r.DM8.PREMIUM_TIER_0;case d.Si.TIER_2:return r.DM8.PREMIUM_TIER_2;default:throw Error("Unsupported subscription tier: ".concat(e))}}(N),children:[(0,i.jsx)(r.RyX,{onClick:n}),(0,i.jsx)(r.SrA,{size:"md",color:"currentColor",className:T.premiumIcon}),function(e,t){switch(e){case d.Si.TIER_0:return t.days>0?I.intl.formatToPlainString(I.t.sP5OqK,{days:t.days}):t.hours>0?I.intl.formatToPlainString(I.t["7Lhfu7"],{hours:t.hours}):I.intl.formatToPlainString(I.t.coDiS0,{minutes:Math.max(t.minutes,1)});case d.Si.TIER_2:return t.days>0?I.intl.formatToPlainString(I.t["4prs5e"],{days:t.days}):t.hours>0?I.intl.formatToPlainString(I.t.OD5nIS,{hours:t.hours}):I.intl.formatToPlainString(I.t.rvyXjI,{minutes:Math.max(t.minutes,1)});default:throw Error("Unsupported subscription tier: ".concat(e))}}(N,R),(0,i.jsx)(r.EyT,{onClick:()=>{(0,u.Z)({trialId:S.trial_id,subscriptionTier:N,analyticsLocations:A,analyticsObject:{page:_.ZY5.IN_APP,section:_.jXE.NOTIFICATION_BAR,object:_.qAy.BUTTON_CTA}})},children:function(e){switch(e){case d.Si.TIER_0:return I.intl.string(I.t.mCG029);case d.Si.TIER_2:return I.intl.string(I.t["7590PT"]);default:throw Error("Unsupported subscription tier: ".concat(e))}}(N)})]})}:null},801249:function(e,t,n){let i;n.d(t,{Z:()=>u});var l,r=n(442837),a=n(570140);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o={lastGuildDismissedTime:{}};class c extends(l=r.ZP.DeviceSettingsStore){initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;i=e}getUserAgnosticState(){return i}getLastGuildDismissedTime(e){return i.lastGuildDismissedTime[e]}}s(c,"displayName","ApplicationSubscriptionChannelNoticeStore"),s(c,"persistKey","ApplicationSubscriptionChannelNoticeStore");let u=new c(a.Z,{APPLICATION_SUBSCRIPTIONS_CHANNEL_NOTICE_DISMISSED:function(e){let{guildId:t}=e;i.lastGuildDismissedTime[t]=Date.now()}})},610674:function(e,t,n){n.d(t,{Z:()=>i});let i="https://dis.gd/appeal"},523255:function(e,t,n){n.d(t,{SI:()=>c,hZ:()=>E});var i=n(913527),l=n.n(i),r=n(835913),a=n(675478),s=n(581883),o=n(905567);let c=e=>{var t;if(!u(e))return!1;let n=null===(t=s.Z.settings.userContent)||void 0===t?void 0:t.safetyUserSentimentNoticeDismissedAt,i=null!=n?r.E.toDate(n):void 0,a=null!=i?l()().diff(i,"days"):null;if(null!=n&&!(null!=a&&a>30))return!1;let{isEligible:c}=o.C.getCurrentConfig({location:"657a81_1"},{autoTrackExposure:!0});return c},u=e=>null!=e&&Date.now()-e.createdAt.getTime()>2592e6,E=()=>{let e=r.E.now();a.hW.updateAsync("userContent",t=>{t.safetyUserSentimentNoticeDismissedAt=e},a.fy.INFREQUENT_USER_ACTION)}},471253:function(e,t,n){n.d(t,{DT:()=>P,Ef:()=>h,HO:()=>p,NZ:()=>U,Pq:()=>m,Q1:()=>S,RK:()=>C,_0:()=>R,hz:()=>D,yi:()=>O});var i=n(512722),l=n.n(i),r=n(149765),a=n(544891),s=n(493683);n(749210);var o=n(911969),c=n(367907),u=n(944486),E=n(979651),d=n(700785),_=n(922482),I=n(192079),T=n(706058),N=n(590415),A=n(981631);function S(e,t){let n=e.getGuildId();return l()(null!=n,"This channel cannot be guildless."),t&&(0,c.yw)(A.rMx.REQUEST_TO_SPEAK_INITIATED,{...(0,I.s$)(e)}),a.tn.patch({url:A.ANM.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?new Date().toISOString():null,channel_id:e.id},rejectWithError:!1})}function R(e,t){let n=e.getGuildId();return l()(null!=n,"This channel cannot be guildless."),a.tn.patch({url:A.ANM.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:new Date().toISOString(),channel_id:e.id},rejectWithError:!1})}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null==e?void 0:e.getGuildId();l()(null!=i,"This channel cannot be guildless.");let r=E.Z.getVoiceStateForChannel(e.id);return(0,N.gf)(r)!==N.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,c.yw)(A.rMx.PROMOTED_TO_SPEAKER,{...(0,I.s$)(e)}),a.tn.patch({url:A.ANM.UPDATE_VOICE_STATE(i),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id,...n?{silent:n}:{}},rejectWithError:!1})}function O(e){let t=null==e?void 0:e.getGuildId();return l()(null!=t,"This channel cannot be guildless."),a.tn.patch({url:A.ANM.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1},rejectWithError:!1})}function P(e,t,n){let i=e.getGuildId();return l()(null!=i,"This channel cannot be guildless."),a.tn.patch({url:A.ANM.UPDATE_VOICE_STATE(i,t),body:{suppress:n,channel_id:e.id},rejectWithError:!1})}function D(e,t){if(null==t||null==e)return;let n=t.getGuildId();return l()(null!=n,"This channel cannot be guildless."),P(t,e.id,!0),a.tn.patch({url:A.ANM.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1},rejectWithError:!1})}function m(e,t,n){let i=e.getGuildId();l()(null!=i,"Channel cannot be guildless");let a=e.permissionOverwrites[i],c={id:i,type:o.BN.ROLE,allow:d.Hn,deny:d.Hn,...a};n?(c.allow=r.IH(c.allow,t),c.deny=r.Od(c.deny,t)):(c.allow=r.Od(c.allow,t),c.deny=r.IH(c.deny,t)),s.Z.updatePermissionOverwrite(e.id,c)}async function p(e,t,n,i){if(""===t)return;u.Z.getVoiceChannelId()!==e.id&&(0,_.TM)(e);let l=await (0,T.me)(e.id,t,n,i);return C(e,!1,!0),l}async function h(e,t,n){if(""!==t)return await (0,T.Dk)(e.id,t,n)}async function U(e){await (0,T.Ix)(e.id)}},623633:function(e,t,n){n.d(t,{Z:()=>a});var i=n(442837),l=n(592125),r=n(944486);function a(){return(0,i.e7)([r.Z,l.Z],()=>{let e=r.Z.getVoiceChannelId();if(null!=e){let t=l.Z.getChannel(e);if(null==t?void 0:t.isGuildStageVoice())return t}return null})}},852923:function(e,t,n){n.d(t,{Z:()=>A});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(922611),o=n(592125),c=n(944486),u=n(471253),E=n(623633),d=n(930180),_=n(388032),I=n(476959);function T(e){let t=c.Z.getVoiceChannelId();if(null==t)return;let n=o.Z.getChannel(t);null!=n&&(0,u.RK)(n,e)}function N(e){var t,n;let{channelId:l}=e,o=null!==(t=(0,d._d)(l))&&void 0!==t?t:0,c=null!==(n=(0,d.K3)(l))&&void 0!==n?n:0,u=(0,s.Do)({location:"invited_to_speak_header"});return o>0&&c>0?(0,i.jsx)("div",{className:I.blocked,children:(0,i.jsx)("div",{className:r()(I.blockedText,I.noIcon),children:_.intl.string(_.t.xlJRfn)})}):u&&o>0?(0,i.jsx)("div",{className:I.blocked,children:(0,i.jsx)("div",{className:r()(I.blockedText,I.noIcon),children:_.intl.string(_.t.WYad9f)})}):o>0?(0,i.jsxs)("div",{className:I.blocked,children:[u?null:(0,i.jsx)(a.t6m,{size:"xxs",color:"currentColor",className:I.blockedIcon}),(0,i.jsx)("div",{className:r()(I.blockedText,{[I.noIcon]:u}),children:_.intl.format(_.t.ATpigY,{number:o})})]}):c>0?(0,i.jsx)("div",{className:I.blocked,children:(0,i.jsx)("div",{className:r()(I.blockedText,I.noIcon),children:_.intl.string(_.t.eHq2OD)})}):null}function A(){let e=(0,E.Z)();return null==e?null:(0,i.jsxs)(a.qXd,{className:I.container,color:a.DM8.DEFAULT,children:[(0,i.jsx)("div",{children:_.intl.string(_.t.Ul1RJS)}),(0,i.jsx)(N,{channelId:e.id}),(0,i.jsx)(a.zxk,{className:I.acceptButton,size:a.zxk.Sizes.MIN,color:a.zxk.Colors.WHITE,onClick:()=>T(!1),children:(0,i.jsx)(a.Text,{className:I.acceptText,variant:"text-xs/normal",color:"none",children:_.intl.string(_.t.MpO0p6)})}),(0,i.jsx)(a.zxk,{className:I.declineButton,look:a.zxk.Looks.OUTLINED,size:a.zxk.Sizes.MIN,color:a.zxk.Colors.WHITE,onClick:()=>T(!0),children:(0,i.jsx)(a.Text,{className:I.declineText,variant:"text-xs/normal",color:"none",children:_.intl.string(_.t["1YDv7e"])})})]})}},441729:function(e,t,n){n.d(t,{Z:()=>u});var i,l=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={speechRate:1,currentMessage:null},o=s;class c extends(i=l.ZP.DeviceSettingsStore){initialize(e){o={...s,...null!=e?e:null}}isSpeakingMessage(e,t){let{currentMessage:n}=o;return null!==n&&n.channelId===e&&n.messageId===t}get currentMessage(){return o.currentMessage}get speechRate(){return o.speechRate}getUserAgnosticState(){return o}}a(c,"displayName","TTSStore"),a(c,"persistKey","TTSStore"),a(c,"migrations",[]);let u=new c(r.Z,__OVERLAY__?{}:{SPEAKING_MESSAGE:function(e){let{messageId:t,channelId:n}=e;o={...o,currentMessage:{messageId:t,channelId:n}}},STOP_SPEAKING:function(){o={...o,currentMessage:null}},SET_TTS_SPEECH_RATE:function(e){o={...o,speechRate:e.speechRate}}})},933429:function(e,t,n){n.d(t,{ZP:()=>eX,m9:()=>ef,o:()=>eL}),n(47120);var i,l,r,a=n(913527),s=n.n(a),o=n(442837),c=n(743426),u=n(704215),E=n(433517),d=n(570140),_=n(579806),I=n(726542),T=n(812206),N=n(223892),A=n(674525),S=n(605236),R=n(353926),C=n(594190),O=n(38618),P=n(569545),D=n(615365),m=n(528011),p=n(487419),h=n(715903),U=n(223606),M=n(160404),g=n(41776),k=n(347649),Z=n(332473),f=n(30684),L=n(646476),V=n(616106),F=n(995598),x=n(774276),v=n(518638),y=n(1844),G=n(621615),j=n(417626),b=n(569984),B=n(523255),w=n(900735),z=n(768419),Y=n(590415),W=n(581883),H=n(199902),K=n(314897),X=n(881998),q=n(463395),Q=n(592125),J=n(553795),$=n(427123),ee=n(271383),et=n(430824),en=n(131951),ei=n(292959),el=n(496675),er=n(571474),ea=n(19780),es=n(944486),eo=n(914010),ec=n(215427),eu=n(246946),eE=n(558724),ed=n(23434),e_=n(594174),eI=n(979651),eT=n(351402),eN=n(853872),eA=n(78839),eS=n(431),eR=n(580130),eC=n(695103),eO=n(358085),eP=n(74538),eD=n(922156),em=n(436181),ep=n(941128),eh=n(981631),eU=n(188785),eM=n(474936),eg=n(46140),ek=n(231338),eZ=n(65154);let ef={[eh.kVF.LOCALIZED_PRICING]:u.z.NAGBAR_NOTICE_LOCALIZED_PRICING,[eh.kVF.DOWNLOAD_NAG]:u.z.NAGBAR_NOTICE_DOWNLOAD,[eh.kVF.CONNECT_SPOTIFY]:u.z.NAGBAR_NOTICE_CONNECT_SPOTIFY,[eh.kVF.CONNECT_PLAYSTATION]:u.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION,[eh.kVF.MFA_SMS_BACKUP]:u.z.NAGBAR_NOTICE_MFA_SMS_BACKUP,[eh.kVF.PREMIUM_TIER_2_TRIAL_ENDING]:u.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING,[eh.kVF.PREMIUM_REACTIVATE]:u.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE,[eh.kVF.BOUNCED_EMAIL_DETECTED]:u.z.NAGBAR_BOUNCED_EMAIL_NOTICE,[eh.kVF.ACTIVATE_SERVER_SUBSCRIPTION]:u.z.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION,[eh.kVF.PREMIUM_TIER_0_TRIAL_ENDING]:u.z.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING,[eh.kVF.POMELO_ELIGIBLE]:u.z.NAGBAR_NOTICE_POMELO,[eh.kVF.UU_MIGRATION]:u.z.UU_MIGRATION_NOTICE,[eh.kVF.CHECKOUT_RECOVERY_NAGBAR]:u.z.CHECKOUT_RECOVERY_NAGBAR},eL={[eh.kVF.GIFTING_PROMOTION_REMINDER]:u.z.GIFTING_PROMOTION_REMINDER},eV={[eh.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]:"hideDetectedOffPlatformPremiumPerkUpsell",[eh.kVF.PREMIUM_UNCANCEL]:"hideUncancelReminder",[eh.kVF.PREMIUM_MISSING_PAYMENT]:"hideMissingPaymentReminder",[eh.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT]:"hidePastDueMissingPaymentReminder",[eh.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT]:"hidePastDueInvalidPaymentReminder",[eh.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT]:"hidePastDueOneTimePaymentReminder",[eh.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION]:"hideAutoModerationMentionRaidDetectionNotice",[eh.kVF.GUILD_RAID_NOTIFICATION]:"hideGuildRaidDetectionNotice",[eh.kVF.SERVER_USAGE_SURVEY]:"hideServerUsageSurvey",[eh.kVF.WIN32_DEPRECATED_MESSAGE]:"hideWin32DeprecationMessageNotice",[eh.kVF.WIN7_8_DEPRECATED_MESSAGE]:"hideWin78DeprecationMessageNotice",[eh.kVF.PREMIUM_TIER_2_TRIAL_ENDING]:"hidePremiumTier2TrialOfferEndingNotice",[eh.kVF.BLOCK_USER_FEEDBACK_NAGBAR]:"hideNagbarBlockUserFeedbackNotice",[eh.kVF.MACOS_19_DEPRECATED_MESSAGE]:"hideMacOS19DeprecationMessageNotice"},eF=new Set([eh.kVF.NO_INPUT_DETECTED,eh.kVF.NO_INPUT_DEVICES_DETECTED,eh.kVF.STREAMER_MODE,eh.kVF.VIDEO_UNSUPPORTED_BROWSER,eh.kVF.SPOTIFY_AUTO_PAUSED,eh.kVF.DISPATCH_ERROR,eh.kVF.DISPATCH_ERROR,eh.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,eh.kVF.BLOCKED_BY_PROXY]),ex={},ev={},ey=Object.freeze({id:null,message:null,buttonText:null,callback:void 0,metadata:null}),eG=null;function ej(e){return eV[e]+"-untilAtLeast"}function eb(e,t,n){if(null==e)return;let i=eV[e];(null==i||t||E.K.set(i,!0),eF.has(e)&&(ex[e]=!0),null!=n&&null!=i)?E.K.set(ej(e),n.format("YYYY-MM-DDTHH:mm:ss.SSSZ")):E.K.remove(ej(e))}function eB(e){if(null==e)return!1;let t=eL[e];if(null!=t)return(0,S.H4)(t).isDismissed;let n=function(e){let{enabled:t}=x.cI.getCurrentConfig({location:"NoticeStore_isNoticeDismissed"},{autoTrackExposure:!0,disable:e!==eh.kVF.PREMIUM_TIER_2_TRIAL_ENDING});return t?null:ef[e]}(e);if(null!=n)return(0,S.un)(n);let i=eV[e];if(null!=i){let t=function(e){let t=E.K.get(ej(e));return null!=t?s()(t):null}(e);if(null!=t)return null==t?void 0:t.isAfter(s()())}let l=ex[e];return!!l||(null!=i&&""!==i?E.K.get(i):!!eF.has(e)&&l)}let ew=[eh.kVF.QUARANTINED,eh.kVF.AUTOMOD_QUARANTINED_USER_PROFILE,eh.kVF.VIEWING_ROLES,eh.kVF.INVITED_TO_SPEAK,eh.kVF.LURKING_GUILD,eh.kVF.VOICE_DISABLED,eh.kVF.NO_INPUT_DEVICES_DETECTED,eh.kVF.NO_INPUT_DETECTED,eh.kVF.HARDWARE_MUTE,eh.kVF.H264_DISABLED,eh.kVF.DISPATCH_ERROR,eh.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,eh.kVF.SPOTIFY_AUTO_PAUSED,eh.kVF.WIN32_DEPRECATED_MESSAGE,eh.kVF.WIN7_8_DEPRECATED_MESSAGE,eh.kVF.MACOS_19_DEPRECATED_MESSAGE,eh.kVF.BLOCKED_BY_PROXY,eh.kVF.VOICE_CONNECTED_LAST_SESSION,eh.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,eh.kVF.GUILD_RAID_NOTIFICATION,eh.kVF.GIFTING_PROMOTION_REMINDER,eh.kVF.QUESTS_PROGRESS_INTERRUPTION,eh.kVF.UNCLAIMED_ACCOUNT,eh.kVF.POMELO_ELIGIBLE,eh.kVF.PENDING_MEMBER,eh.kVF.CHECKOUT_RECOVERY_NAGBAR,eh.kVF.OUTBOUND_PROMOTION,eh.kVF.CORRUPT_INSTALLATION,eh.kVF.VIDEO_UNSUPPORTED_BROWSER,eh.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,eh.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,eh.kVF.STREAMER_MODE,eh.kVF.SCHEDULED_MAINTENANCE,eh.kVF.BOUNCED_EMAIL_DETECTED,eh.kVF.UNVERIFIED_ACCOUNT,eh.kVF.PREMIUM_TIER_2_TRIAL_ENDING,eh.kVF.PREMIUM_TIER_0_TRIAL_ENDING,eh.kVF.PREMIUM_UNCANCEL,eh.kVF.PREMIUM_MISSING_PAYMENT,eh.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,eh.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,eh.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,eh.kVF.PREMIUM_REACTIVATE,eh.kVF.ACTIVATE_SERVER_SUBSCRIPTION,eh.kVF.MFA_SMS_BACKUP,eh.kVF.APPLICATION_TEST_MODE,eh.kVF.LOCALIZED_PRICING,eh.kVF.DOWNLOAD_NAG,eh.kVF.CONNECT_SPOTIFY,eh.kVF.CONNECT_PLAYSTATION,eh.kVF.SURVEY,eh.kVF.SERVER_USAGE_SURVEY,eh.kVF.SAFETY_USER_SENTIMENT_NAGBAR,eh.kVF.UU_MIGRATION,eh.kVF.BLOCK_USER_FEEDBACK_NAGBAR],ez=[eh.kVF.QUARANTINED,eh.kVF.AUTOMOD_QUARANTINED_USER_PROFILE,eh.kVF.VIEWING_ROLES,eh.kVF.INVITED_TO_SPEAK,eh.kVF.LURKING_GUILD,eh.kVF.VOICE_DISABLED,eh.kVF.NO_INPUT_DETECTED,eh.kVF.HARDWARE_MUTE,eh.kVF.H264_DISABLED,eh.kVF.DISPATCH_ERROR,eh.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,eh.kVF.SPOTIFY_AUTO_PAUSED,eh.kVF.BLOCKED_BY_PROXY,eh.kVF.VOICE_CONNECTED_LAST_SESSION,eh.kVF.PENDING_MEMBER,eh.kVF.STREAMER_MODE,eh.kVF.SCHEDULED_MAINTENANCE],eY={[eh.kVF.GIFTING_PROMOTION_REMINDER]:{predicate:()=>{let{enabled:e}=L.Ys.getCurrentConfig({location:"NoticeStore"},{autoTrackExposure:!1}),{enabled:t}=L.ZP.getCurrentConfig({location:"NoticeStore"},{autoTrackExposure:!1});return e&&t&&(0,S.H4)(u.z.GIFTING_PROMOTION_DESKTOP_FIRST_TIME_COACHMARK).isDismissed&&!eB(eh.kVF.GIFTING_PROMOTION_REMINDER)}},[eh.kVF.GUILD_RAID_NOTIFICATION]:{predicate:()=>(0,m.g)().show&&!eB(eh.kVF.GUILD_RAID_NOTIFICATION),metadata:()=>({dismissUntil:s()().add(3,"hours").toDate()})},[eh.kVF.AUTOMOD_QUARANTINED_USER_PROFILE]:{predicate:e=>{let{currentUser:t,selectedGuildId:n}=e;if(null==n)return!1;let i=ee.ZP.getMember(n,t.id);return null!=i&&!i.isPending&&(0,h.EY)(i)}},[eh.kVF.QUARANTINED]:{predicate:e=>{let{currentUser:t}=e;return t.hasFlag(eh.xW$.QUARANTINED)}},[eh.kVF.VIEWING_ROLES]:{predicate:e=>{let{selectedGuildId:t}=e;return M.Z.isViewingRoles(t)}},[eh.kVF.INVITED_TO_SPEAK]:{predicate:e=>{let{voiceState:t}=e;return(0,Y.gf)(t)===Y.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK}},[eh.kVF.LURKING_GUILD]:{predicate:e=>{let{selectedGuildId:t}=e;return null!=t&&g.Z.isLurking(t)}},[eh.kVF.VOICE_DISABLED]:{predicate:()=>null!=ea.Z.getRemoteDisconnectVoiceChannelId()},[eh.kVF.VOICE_CONNECTED_LAST_SESSION]:{predicate:()=>null!=ea.Z.getLastSessionVoiceChannelId()},[eh.kVF.NO_INPUT_DETECTED]:{predicate:e=>{let{voiceChannelId:t,voiceState:n}=e,i=Q.Z.getChannel(t),l=(null==i?void 0:i.isGuildStageVoice())&&(null==n?void 0:n.suppress);return!1===en.Z.getInputDetected()&&!l}},[eh.kVF.NO_INPUT_DEVICES_DETECTED]:{predicate:e=>{let{voiceChannelId:t,voiceState:n}=e,i=Q.Z.getChannel(t),l=(null==i?void 0:i.isGuildStageVoice())&&(null==n?void 0:n.suppress);return 0===Object.keys(en.Z.getInputDevices()).length&&null!=i&&!l}},[eh.kVF.H264_DISABLED]:{predicate:e=>{let{voiceChannelId:t}=e,n=Q.Z.getChannel(t);return!en.Z.getOpenH264()&&null!=t&&eI.Z.hasVideo(t)&&null!=n&&n.isGuildStageVoice()}},[eh.kVF.HARDWARE_MUTE]:{predicate:()=>ea.Z.isConnected()&&en.Z.isHardwareMute()&&en.Z.isEnableHardwareMuteNotice(),metadata:()=>{let e=en.Z.getInputDeviceId(),t=q.Z.getVendor(e),n=q.Z.getModel(e);if(null!=t&&null!=n)return{vendor:t,model:n}}},[eh.kVF.DISPATCH_ERROR]:{predicate:()=>null!=eD.Z.getLastError(),metadata:()=>({error:eD.Z.getLastError()})},[eh.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS]:{predicate:()=>null!=em.Z.getLastProgress(),metadata:()=>em.Z.getLastProgress()},[eh.kVF.SPOTIFY_AUTO_PAUSED]:{predicate:()=>z.Z.wasAutoPaused()},[eh.kVF.BLOCKED_BY_PROXY]:{predicate:()=>!eB(eh.kVF.BLOCKED_BY_PROXY)&&j.Z.blockedByProxy&&G.Z.getCurrentConfig({location:"notice_store"}).eligibleForNotice},[eh.kVF.UNCLAIMED_ACCOUNT]:{predicate:e=>{let{currentUser:t}=e;return null!=t&&!t.isClaimed()}},[eh.kVF.PENDING_MEMBER]:{predicate:e=>{var t,n,i;let{selectedGuildId:l,currentUser:r}=e;return null!==(i=null!=l&&null!=r&&!(null===(t=et.Z.getGuild(l))||void 0===t?void 0:t.hasFeature(eh.oNc.GUILD_ONBOARDING))&&(null===(n=ee.ZP.getMember(l,r.id))||void 0===n?void 0:n.isPending))&&void 0!==i&&i}},[eh.kVF.OUTBOUND_PROMOTION]:{predicate:()=>(0,v.tq)()},[eh.kVF.CORRUPT_INSTALLATION]:{predicate:()=>eO.isPlatformEmbedded&&(!c.Z.supported()||ep.Z.isCorruptInstallation())},[eh.kVF.VIDEO_UNSUPPORTED_BROWSER]:{predicate:e=>{let{voiceChannelId:t}=e;return null!=t&&eI.Z.hasVideo(t)&&!en.Z.supports(eZ.AN.VIDEO)&&!eB(eh.kVF.VIDEO_UNSUPPORTED_BROWSER)}},[eh.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK]:{predicate:e=>{let{currentUser:t}=e;return eP.ZP.canRedeemPremiumPerks(t)&&$.Z.getDetectedOffPlatformPremiumPerks().length>0},metadata:()=>$.Z.getDetectedOffPlatformPremiumPerks()[0]},[eh.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]:{predicate:()=>!eB(eh.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL)&&$.Z.getDetectedOffPlatformPremiumPerks().length>0,metadata:()=>$.Z.getDetectedOffPlatformPremiumPerks()[0]},[eh.kVF.STREAMER_MODE]:{predicate:()=>eu.Z.enabled},[eh.kVF.DOWNLOAD_NAG]:{predicate:()=>!eO.isPlatformEmbedded&&!eB(eh.kVF.DOWNLOAD_NAG)},[eh.kVF.SCHEDULED_MAINTENANCE]:{predicate:()=>null!=ec.Z.getScheduledMaintenance(),metadata:()=>{let e=ec.Z.getScheduledMaintenance();if(null!=e)return{id:e.id,start:new Date(e.scheduled_for),end:new Date(e.scheduled_until)}}},[eh.kVF.SURVEY]:{predicate:()=>null!=eE.Z.getCurrentSurvey(),metadata:()=>eE.Z.getCurrentSurvey()},[eh.kVF.SERVER_USAGE_SURVEY]:{predicate:e=>{let{selectedGuildId:t}=e;return null!=t&&D.Z.getCurrentConfig({location:"notice_store"}).showSurvey&&!eB(eh.kVF.SERVER_USAGE_SURVEY)},metadata:e=>{let{selectedGuildId:t,currentUser:n}=e;return{selectedGuildId:t,currentUser:n}}},[eh.kVF.UNVERIFIED_ACCOUNT]:{predicate:e=>{let{currentUser:t}=e;return(null==t?void 0:t.email)!=null&&!t.verified}},[eh.kVF.BOUNCED_EMAIL_DETECTED]:{predicate:e=>{let{currentUser:t}=e;return null==t?void 0:t.hasBouncedEmail}},[eh.kVF.CONNECT_SPOTIFY]:{predicate:()=>!z.Z.hasConnectedAccount()&&C.ZP.isObservedAppRunning(I.Z.get(eh.ABu.SPOTIFY).name)&&!eB(eh.kVF.CONNECT_SPOTIFY)},[eh.kVF.WIN32_DEPRECATED_MESSAGE]:{predicate:()=>(null===_.Z||void 0===_.Z?void 0:_.Z.os.arch)==="ia32"&&(null===_.Z||void 0===_.Z?void 0:_.Z.process.platform)==="win32",metadata:()=>({dismissUntil:s()().add(5,"days").toDate()})},[eh.kVF.WIN7_8_DEPRECATED_MESSAGE]:{predicate:()=>{if((null===_.Z||void 0===_.Z?void 0:_.Z.process.platform)==="win32")try{return 10>parseInt(null===_.Z||void 0===_.Z?void 0:_.Z.os.release.split(".")[0])}catch(e){}return!1},metadata:()=>({dismissUntil:s()().add(5,"days").toDate()})},[eh.kVF.MACOS_19_DEPRECATED_MESSAGE]:{predicate:()=>{if((null===_.Z||void 0===_.Z?void 0:_.Z.process.platform)==="darwin")try{return 20>parseInt(null===_.Z||void 0===_.Z?void 0:_.Z.os.release.split(".")[0])}catch(e){}return!1},metadata:()=>({dismissUntil:s()().add(5,"days").toDate()})},[eh.kVF.CONNECT_PLAYSTATION]:{predicate:()=>J.Z.isSuggestedAccountType(eh.ABu.PLAYSTATION)&&null==J.Z.getAccount(null,eh.ABu.PLAYSTATION)&&!eB(eh.kVF.CONNECT_PLAYSTATION)},[eh.kVF.PREMIUM_TIER_2_TRIAL_ENDING]:{predicate:()=>eS.Z.getAlmostExpiringTrialOffers([eM.Si.TIER_2]).length>0&&!eB(eh.kVF.PREMIUM_TIER_2_TRIAL_ENDING)},[eh.kVF.PREMIUM_TIER_0_TRIAL_ENDING]:{predicate:()=>eS.Z.getAlmostExpiringTrialOffers([eM.Si.TIER_0]).length>0&&!eB(eh.kVF.PREMIUM_TIER_0_TRIAL_ENDING)},[eh.kVF.PREMIUM_UNCANCEL]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t?s()(t.currentPeriodEnd).diff(s()().startOf("day"),"days"):0,l=(null==t?void 0:t.canceledAt)!=null&&(null==t?void 0:t.status)===eh.O0b.CANCELED&&1>=s()().diff(s()(t.canceledAt),"days"),r=null!=t&&s()(t.currentPeriodEnd).isBefore(s()()),a=null!=t&&t.status===eh.O0b.CANCELED&&!r&&i<=7&&i>=0&&(0,eP.M5)(n,eM.p9.TIER_2)&&!l&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!eB(eh.kVF.PREMIUM_UNCANCEL)&&a},metadata:e=>{var t;let{premiumSubscription:n}=e,i=null!=n?s()(n.currentPeriodEnd).diff(s()().startOf("day"),"days"):0,l=null!=n?null===(t=(0,eP.Af)(n))||void 0===t?void 0:t.planId:null;return{daysLeft:i,premiumType:null!=l?eP.ZP.getPremiumType(l):null,premiumSubscription:n}}},[eh.kVF.PREMIUM_MISSING_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t?s()(t.currentPeriodEnd).diff(s()().startOf("day"),"days"):0,l=null!=t?s()(t.currentPeriodEnd).diff(s()(t.currentPeriodStart).startOf("day"),"days"):0,r=null!=t&&s()(t.currentPeriodEnd).isBefore(s()()),a=eR.Z.applicationIdsFetched.has(eM.CL),o=eR.Z.getForApplication(eM.CL),c=null!=t?(0,eP.Af)(t):null,u=null!=c?eP.ZP.getSkuIdForPlan(c.planId):null,E=null!=o&&null!=c&&Array.from(o).filter(e=>{let{skuId:t,consumed:n}=e;return!n&&t===u}).length>0,d=null!=t&&i<=(l>14?7:2)&&i>=0&&t.status!==eh.O0b.PAST_DUE&&!r&&a&&!E&&null===t.paymentSourceId&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!eB(eh.kVF.PREMIUM_MISSING_PAYMENT)&&d},metadata:e=>{var t;let{premiumSubscription:n}=e,i=null!=n?s()(n.currentPeriodEnd).diff(s()().startOf("day"),"days"):0,l=null!=n?null===(t=(0,eP.Af)(n))||void 0===t?void 0:t.planId:null;return{daysLeft:i,premiumType:null!=l?eP.ZP.getPremiumType(l):null,premiumSubscription:n}}},[eh.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t&&null!=t.paymentSourceId?eN.Z.getPaymentSource(t.paymentSourceId):null,l=null!=t&&s()(t.currentPeriodEnd).isBefore(s()()),r=null!=t&&t.status===eh.O0b.PAST_DUE&&!l&&null!=i&&i.invalid&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!eB(eh.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT)&&r},metadata:e=>{let{premiumSubscription:t}=e;return{premiumSubscription:t}}},[eh.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t&&s()(t.currentPeriodEnd).isBefore(s()()),l=null!=t&&t.status===eh.O0b.PAST_DUE&&!i&&null===t.paymentSourceId&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!eB(eh.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT)&&l},metadata:e=>{let{premiumSubscription:t}=e;return{premiumSubscription:t}}},[eh.kVF.MFA_SMS_BACKUP]:{predicate:e=>{let{currentUser:t}=e;return null!=t&&t.mfaEnabled&&!t.hasFlag(eh.xW$.MFA_SMS)&&!t.hasFlag(eh.xW$.STAFF)&&!t.hasFlag(eh.xW$.PARTNER)&&!eB(eh.kVF.MFA_SMS_BACKUP)}},[eh.kVF.APPLICATION_TEST_MODE]:{predicate:()=>null!=eC.Z.testModeApplicationId,metadata:()=>{if(null==eC.Z.testModeApplicationId)return{};let e=eC.Z.testModeApplicationId,t=T.Z.getApplication(e);return{applicationName:null!=t?t.name:e,applicationId:e}}},[eh.kVF.PREMIUM_REACTIVATE]:{predicate:()=>!eB(eh.kVF.PREMIUM_REACTIVATE)&&V.Z.shouldShowReactivateNotice()},[eh.kVF.LOCALIZED_PRICING]:{predicate:e=>{let{isLocalizedPromoEnabled:t}=e;return!eB(eh.kVF.LOCALIZED_PRICING)&&t},metadata:e=>{let{premiumSubscription:t}=e;return{premiumSubscription:t}}},[eh.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT]:{predicate:e=>{let{premiumSubscription:t,currentUser:n}=e,i=null!=t&&s()(t.currentPeriodEnd).isBefore(s()()),l=null!=t&&null!=t.paymentSourceId?eN.Z.getPaymentSource(t.paymentSourceId):null,r=null!=l&&ek.Uk.has(l.type),a=null!=t&&t.status===eh.O0b.PAST_DUE&&!i&&r&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!eB(eh.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT)&&a},metadata:e=>{let{premiumSubscription:t}=e;return null==t?{daysPastDue:0,dismissUntil:s()().toDate()}:{daysPastDue:t.status===eh.O0b.PAST_DUE?s()().diff(t.currentPeriodStart,"days"):0,dismissUntil:(0,eP.lY)(t).expiresDate.toDate()}}},[eh.kVF.POMELO_ELIGIBLE]:{predicate:()=>(0,Z.e)()&&!eB(eh.kVF.POMELO_ELIGIBLE)&&!(0,k.ov)()},[eh.kVF.UU_MIGRATION]:{predicate:()=>(0,Z.e)()&&!eB(eh.kVF.UU_MIGRATION)&&(0,k.ov)()},[eh.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION]:{predicate:e=>{let{selectedGuildId:t}=e,n=null!=t?et.Z.getGuild(t):null;return null!=t&&null!=U.Z.getMentionRaidDetected(t)&&(null==n?void 0:n.hasFeature(eh.oNc.COMMUNITY))&&!eB(eh.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION)||!1},metadata:e=>{let{selectedGuildId:t}=e,n={dismissUntil:s()().add(2,"hours").toDate()};if(null!=t){let e=U.Z.getMentionRaidDetected(t);null!=e&&(n.decisionId=e.decisionId)}return n}},[eh.kVF.ACTIVATE_SERVER_SUBSCRIPTION]:{predicate:()=>!eB(eh.kVF.ACTIVATE_SERVER_SUBSCRIPTION)&&0!==A.Z.getEligibleGuildsForNagActivate().length&&(0,N.Lm)()},[eh.kVF.SAFETY_USER_SENTIMENT_NAGBAR]:{predicate:e=>{let{currentUser:t}=e;return B.SI(t)}},[eh.kVF.QUESTS_PROGRESS_INTERRUPTION]:{predicate:()=>{let e=H.Z.getCurrentUserActiveStream();if(null==e)return!1;let t=(0,P.V9)(e),n=b.Z.getStreamHeartbeatFailure(t);return null!=n&&Date.now()-n.firstFailedAt>=eg.Ot},metadata:()=>{let e=H.Z.getCurrentUserActiveStream();return{streamKey:null!=e?(0,P.V9)(e):null}}},[eh.kVF.CHECKOUT_RECOVERY_NAGBAR]:{predicate:e=>{var t;let{currentUser:n}=e,i=null!==(t=eN.Z.paymentSources)&&void 0!==t?t:{};return f.Z.getIsTargeted()&&!(0,eP.I5)(n)&&0!==Object.keys(i).length&&(0,F.Y)()}},[eh.kVF.BLOCK_USER_FEEDBACK_NAGBAR]:{predicate:()=>!eB(eh.kVF.BLOCK_USER_FEEDBACK_NAGBAR)&&w.S(),metadata:()=>({dismissUntil:s()().add(180,"days").toDate(),sampleRate:.1})}};function eW(){var e,t,n;if(!O.Z.isConnected())return!1;eG=null;let i=e_.default.getCurrentUser();if(null==i)return!1;let l=eA.ZP.getPremiumSubscription(),r=eT.Z.isLocalizedPromoEnabled,a=eo.Z.getGuildId(),s=es.Z.getVoiceChannelId(),o=null!=s?eI.Z.getVoiceStateForChannel(s):null;for(let n of eU.a?ez:ew)if(null!=eY[n]&&eY[n].predicate({selectedGuildId:a,voiceChannelId:s,voiceState:o,currentUser:i,premiumSubscription:l,isLocalizedPromoEnabled:r})){let r=null===(e=(t=eY[n]).metadata)||void 0===e?void 0:e.call(t,{currentUser:i,premiumSubscription:l,selectedGuildId:a});eG={...ey,type:n,metadata:r};break}if(null!=eG){(null===(n=eG.metadata)||void 0===n?void 0:n.sampleRate)!=null&&null==ev[eG.type]&&(ev[eG.type]=Math.random()<=eG.metadata.sampleRate);let e=!1===ev[eG.type];(eB(eG.type)||e)&&(eG=null)}}function eH(){return eu.Z.enabled||delete ex[eh.kVF.STREAMER_MODE],eW()}class eK extends(i=o.ZP.Store){initialize(){this.syncWith([eE.Z,er.Z,$.Z,eo.Z,y.Z,eS.Z,X.Z,J.Z,W.Z,p.Z,b.Z,H.Z],eW),this.waitFor(e_.default,ec.Z,et.Z,ee.ZP,ea.Z,en.Z,eu.Z,R.Z,eo.Z,ed.Z,z.Z,C.ZP,er.Z,eD.Z,em.Z,eC.Z,ei.Z,eA.ZP,ep.Z,$.Z,eN.Z,el.Z,y.Z,eR.Z,eS.Z,J.Z,g.Z,A.Z,j.Z,b.Z,H.Z)}hasNotice(){return null!=eG&&null!=eG.type}getNotice(){return null==ed.Z.getAction()?eG:null}isNoticeDismissed(e){return eB(e)}}r="NoticeStore",(l="displayName")in eK?Object.defineProperty(eK,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):eK[l]=r;let eX=new eK(d.Z,{CURRENT_USER_UPDATE:eW,MEDIA_ENGINE_SET_AUDIO_ENABLED:eW,CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID:eW,CLEAR_LAST_SESSION_VOICE_CHANNEL_ID:eW,STATUS_PAGE_SCHEDULED_MAINTENANCE:eW,STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:eW,GUILD_CREATE:eW,GUILD_DELETE:eW,AUDIO_INPUT_DETECTED:eW,AUDIO_SET_DISPLAY_SILENCE_WARNING:eW,CERTIFIED_DEVICES_SET:eW,AUDIO_SET_INPUT_DEVICE:eW,AUDIO_SET_OUTPUT_DEVICE:eW,MEDIA_ENGINE_DEVICES:eW,RTC_CONNECTION_STATE:eW,RPC_APP_AUTHENTICATED:eW,RPC_APP_DISCONNECTED:eW,USER_CONNECTIONS_UPDATE:eW,WINDOW_FOCUS:eW,INSTANT_INVITE_CREATE:eW,INSTANT_INVITE_REVOKE_SUCCESS:eW,SPOTIFY_PLAYER_PAUSE:eW,RUNNING_GAMES_CHANGE:eW,EXPERIMENTS_FETCH_SUCCESS:eW,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:eW,DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:eW,DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:eW,DEVELOPER_TEST_MODE_RESET:eW,BILLING_SUBSCRIPTION_FETCH_SUCCESS:eW,DISPATCH_APPLICATION_INSTALL:eW,IMPERSONATE_STOP:eW,IMPERSONATE_UPDATE:eW,GUILD_MEMBER_ADD:function(e){return e.user.id===K.default.getId()&&eW()},GUILD_MEMBER_UPDATE:eW,SURVEY_FETCHED:eW,ENTITLEMENT_FETCH_APPLICATION_SUCCESS:eW,BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS:eW,BILLING_SUBSCRIPTION_UPDATE_SUCCESS:eW,BILLING_MOST_RECENT_SUBSCRIPTION_FETCH_SUCCESS:eW,VOICE_STATE_UPDATES:function(e){let{voiceStates:t}=e;return t.some(e=>{let{userId:t}=e;return t!==K.default.getId()})&&eW()},STREAMER_MODE_UPDATE:eH,RUNNING_STREAMER_TOOLS_CHANGE:eH,DISPATCH_APPLICATION_ERROR:function(){return delete ex[eh.kVF.DISPATCH_ERROR],eW()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(){return delete ex[eh.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS],eW()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(){return eW()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(){return eW()},NOTICE_SHOW:function(e){eG=e.notice},NOTICE_DISMISS:function(e){return null!=eG&&(null==e.id||e.id===eG.id)&&(eb(eG.type,e.isTemporary,e.untilAtLeast),eW())},NOTICE_DISABLE:function(e){let{noticeType:t}=e;return eb(t),eW()},LOGOUT:function(){ex={},ev={},eG=null},SUBSCRIPTION_PLANS_FETCH_SUCCESS:eW,AUTO_MODERATION_MENTION_RAID_DETECTION:eW,CREATOR_MONETIZATION_NAG_ACTIVATE_ELIGIBLITY_FETCH_SUCCESS:eW,PROXY_BLOCKED_REQUEST:eW})},256147:function(e,t,n){n.d(t,{M:()=>l});var i=n(250683);function l(e){return i.fromByteArray(e)}}}]);
//# sourceMappingURL=865d7c9bb38d4c27.js.map