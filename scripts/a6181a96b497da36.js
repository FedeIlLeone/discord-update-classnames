"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["51343"],{387852:function(e){e.exports="/assets/a37490430fba083d.png"},424071:function(e,t,a){a.d(t,{Z:()=>s});var r=a(200651);a(192379);var l=a(522137);function s(e){let{children:t}=e;return(0,r.jsx)("div",{className:l.slideContainer,children:t})}},798930:function(e,t,a){a.d(t,{O:()=>l});var r,l=((r={}).LANDING="landing",r.PRE_CONNECT="pre-connect",r.PRE_CONNECT_WAITING="pre-connect-waiting",r.DISCORD_CONSENT="discord-consent",r.SUCCESS="success",r.ERROR="error",r)},585183:function(e,t,a){a.d(t,{h:()=>C}),a(47120);var r=a(200651),l=a(192379),s=a(512722),n=a.n(s),o=a(481060),c=a(457330),i=a(600164),d=a(710845),x=a(69580),u=a(424071),h=a(388032),m=a(522137);let N=new d.Z("TwoWayLinkDiscordConsentWeb");function C(e){let{platformType:t,clientId:a,scopes:s,authToken:d,onContinue:C,onError:j,onClose:k,redirectUri:v}=e,[p,f]=l.useState(!1),b=l.useCallback(async e=>{let a,r,{location:l}=e,{callbackCode:s,callbackState:n}=d;try{a=await c.Z.completeTwoWayLink(t,l,s,n)}catch(e){var o;N.error("".concat(t," link error:"),e),r=null===(o=e.body)||void 0===o?void 0:o.code}null!=a?C():j(r)},[t,d,C,j]),{header:E,body:T,appDetails:g,sendAuthorize:O}=(0,x.useOAuth2AuthorizeForm)({clientId:a,scopes:s,responseType:"code",callback:b,isTrustedName:!0,isEmbeddedFlow:!0,redirectUri:v}),R=l.useCallback(()=>{n()(null!=O,"sendAuthorize not available"),f(!0),O(!0)},[O]);return(0,r.jsxs)(u.Z,{children:[(0,r.jsxs)(o.xBx,{direction:i.Z.Direction.VERTICAL,className:m.header,separator:!1,children:[(0,r.jsx)(o.Text,{className:m.stepHeader,variant:"text-xs/bold",color:"header-secondary",children:h.intl.format(h.t.fHz6eX,{number:2,total:2})}),null!=k&&(0,r.jsx)(o.olH,{className:m.closeButton,onClick:k})]}),(0,r.jsxs)(o.hzk,{className:m.consentContent,paddingFix:!1,children:[E,T,g]}),(0,r.jsx)(o.mzw,{className:m.footer,children:(0,r.jsx)(o.zxk,{className:m.footerButton,color:o.zxk.Colors.BRAND,submitting:p,onClick:R,children:h.intl.string(h.t.ZN4hkZ)})})]})}},859097:function(e,t,a){a.d(t,{C:()=>d});var r=a(200651);a(192379);var l=a(481060),s=a(600164),n=a(424071),o=a(388032),c=a(522137),i=a(387852);function d(e){let{onContinue:t,onClose:a,title:d,body:x}=e;return(0,r.jsxs)(n.Z,{children:[(0,r.jsxs)(l.xBx,{direction:s.Z.Direction.VERTICAL,className:c.header,separator:!1,children:[(0,r.jsx)("img",{src:i,className:c.illustration,width:"254",height:"127",alt:""}),(0,r.jsx)(l.X6q,{className:c.title,variant:"heading-xl/extrabold",children:d}),null!=a&&(0,r.jsx)(l.olH,{className:c.closeButton,onClick:a})]}),(0,r.jsx)(l.hzk,{className:c.body,paddingFix:!1,children:(0,r.jsx)(l.Text,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:x})}),(0,r.jsx)(l.mzw,{className:c.footer,children:(0,r.jsxs)(l.zxk,{className:c.footerButton,color:l.zxk.Colors.BRAND,onClick:t,children:[o.intl.string(o.t["7NqTJi"]),(0,r.jsx)(l.rgF,{color:"currentColor",className:c.launchIcon,size:"xs"})]})})]})}},921869:function(e,t,a){a.d(t,{m:()=>h});var r=a(200651),l=a(192379),s=a(442837),n=a(481060),o=a(600164),c=a(553795),i=a(424071),d=a(239358),x=a(388032),u=a(522137);function h(e){let{platformType:t,onContinue:a,onClose:h,img:m,headerConnect:N,headerReconnect:C,body:j,learnMoreLink:k,valueProps:v}=e,p=(0,s.e7)([c.Z],()=>{let e=c.Z.getAccount(null,t);return(null==e?void 0:e.twoWayLink)===!1});return(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(n.xBx,{direction:o.Z.Direction.VERTICAL,className:u.header,separator:!1,children:[(0,r.jsxs)("div",{className:u.illustration,children:[m," "]}),(0,r.jsx)(n.X6q,{className:u.title,variant:"heading-xl/extrabold",children:p&&null!=C?C:N}),(0,r.jsx)(n.olH,{className:u.closeButton,onClick:h})]}),(0,r.jsxs)(n.hzk,{className:u.body,children:[(0,r.jsx)(n.Text,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:j}),(0,r.jsx)("div",{className:u.valueProps,children:v.map((e,t)=>{let{label:a,subLabel:s,icon:n}=e;return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(d.Z,{label:a,subLabel:s,icon:n},a),t!==v.length-1&&(0,r.jsx)("div",{className:u.valuePropDivider})]},a)})}),null!=k?(0,r.jsx)(n.Text,{tag:"p",variant:"text-sm/normal",color:"header-secondary",children:x.intl.format(x.t["/l3n+/"],{helpCenterLink:k})}):null]}),(0,r.jsx)(n.mzw,{className:u.footer,children:(0,r.jsx)(n.zxk,{className:u.footerButton,color:n.zxk.Colors.BRAND,onClick:a,children:x.intl.string(x.t["3PatS0"])})})]})}},212598:function(e,t,a){a.d(t,{t:()=>k}),a(411104);var r=a(200651),l=a(192379),s=a(512722),n=a.n(s),o=a(478677),c=a(481060),i=a(570140),d=a(275759),x=a(202120),u=a(600164),h=a(710845),m=a(424071),N=a(388032),C=a(522137);let j=new h.Z("TwoWayLink");function k(e){let{platformType:t,isWaitingForConnection:a,onWaitingForConnection:s,expectedCallbackState:h,onAuthToken:k,onError:v,onClose:p,img:f,title:b,body:E,redirectDestination:T}=e,g=l.useCallback(async()=>{let e;try{if(e=await (0,x.H)(t,{twoWayLinkType:o.g.DESKTOP}),null==e)throw Error("missing authorizeURL")}catch(e){j.error("Error opening provider authorize page",e),v();return}let{state:a}=(0,d.xp)(e);n()(null!=a,"Authorize URL state query parameter must be present"),null==s||s(a)},[t,v,s]),O=l.useCallback(e=>{let{callbackCode:a,callbackState:r}=e;if(r!==h){j.warn("".concat(t," link: received mismatching callback state!"));return}k({callbackCode:a,callbackState:r})},[t,h,k]);return l.useEffect(()=>(i.Z.subscribe("USER_CONNECTIONS_LINK_CALLBACK",O),()=>{i.Z.unsubscribe("USER_CONNECTIONS_LINK_CALLBACK",O)}),[O]),(0,r.jsxs)(m.Z,{children:[(0,r.jsxs)(c.xBx,{direction:u.Z.Direction.VERTICAL,className:C.header,separator:!1,children:[(0,r.jsx)(c.Text,{className:C.stepHeader,variant:"text-xs/bold",color:"header-secondary",children:N.intl.format(N.t.fHz6eX,{number:1,total:2})}),(0,r.jsxs)("div",{className:C.illustration,children:[f," "]}),(0,r.jsx)(c.X6q,{className:C.title,variant:"heading-xl/extrabold",children:b}),null!=p&&(0,r.jsx)(c.olH,{className:C.closeButton,onClick:p})]}),(0,r.jsxs)(c.hzk,{className:C.body,paddingFix:!1,children:[(0,r.jsx)(c.Text,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:E}),!a&&null!=T&&(0,r.jsx)(c.Text,{tag:"p",variant:"text-sm/normal",color:"header-secondary",children:N.intl.format(N.t.XhlYYm,{redirectUrl:T})})]}),(0,r.jsx)(c.mzw,{className:C.footer,children:(0,r.jsxs)(c.zxk,{className:C.footerButton,color:a?c.zxk.Colors.PRIMARY:c.zxk.Colors.BRAND,onClick:g,children:[a?N.intl.string(N.t["5911LS"]):N.intl.string(N.t["3PatS0"]),(0,r.jsx)(c.rgF,{color:"currentColor",className:C.launchIcon,size:"xs"})]})})]})}},376340:function(e,t,a){a.d(t,{L:()=>i});var r=a(200651);a(192379);var l=a(481060),s=a(600164),n=a(424071),o=a(388032),c=a(522137);function i(e){let{onClose:t,img:a,title:i,body:d,content:x}=e;return(0,r.jsxs)(n.Z,{children:[(0,r.jsxs)(l.xBx,{direction:s.Z.Direction.VERTICAL,className:c.header,separator:!1,children:[(0,r.jsx)("div",{className:c.illustration,children:a}),(0,r.jsx)(l.X6q,{className:c.title,variant:"heading-xl/extrabold",children:i}),(0,r.jsx)(l.olH,{className:c.closeButton,onClick:t})]}),(0,r.jsxs)(l.hzk,{className:c.body,paddingFix:!1,children:[(0,r.jsx)(l.Text,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:d}),x]}),(0,r.jsx)(l.mzw,{className:c.footer,children:(0,r.jsx)(l.zxk,{className:c.footerButton,color:l.zxk.Colors.BRAND,onClick:t,children:o.intl.string(o.t.i4jeWV)})})]})}},239358:function(e,t,a){a.d(t,{Z:()=>n});var r=a(200651);a(192379);var l=a(481060),s=a(522137);let n=function(e){let{label:t,subLabel:a,icon:n}=e;return(0,r.jsxs)("div",{className:s.valueProp,children:[(0,r.jsx)("div",{className:s.valuePropIconContainer,children:(0,r.jsx)(n,{size:"md",color:"currentColor"})}),(0,r.jsxs)("div",{className:s.valuePropText,children:[(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-normal",children:t}),null!=a&&(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"text-secondary",children:a})]})]})}},864762:function(e,t,a){a.d(t,{k:()=>c}),a(47120);var r=a(192379),l=a(110924),s=a(626135),n=a(798930),o=a(981631);function c(e,t){let[a,c]=r.useState(n.O.LANDING),i=(0,l.Z)(a),[d,x]=r.useState(null),[u,h]=r.useState(null),[m,N]=r.useState(void 0),C=r.useCallback(()=>{switch(a){case n.O.LANDING:c(n.O.PRE_CONNECT);break;case n.O.DISCORD_CONSENT:c(n.O.SUCCESS);break;case n.O.ERROR:c(n.O.PRE_CONNECT)}},[a]),j=r.useCallback(e=>{x(null),N(e),c(n.O.ERROR)},[]),k=r.useCallback(e=>{x(e),c(n.O.PRE_CONNECT_WAITING)},[]),v=r.useCallback(e=>{x(null),h(e),c(n.O.DISCORD_CONSENT)},[]);return r.useEffect(()=>{a!==i&&s.default.track(o.rMx.ACCOUNT_LINK_STEP,{location_stack:e,previous_step:i,current_step:a,platform_type:t})},[a,i,e,t]),{slide:a,gotoNext:C,gotoError:j,handleWaitingForConnection:k,handleAuthToken:v,expectedCallbackState:d,callbackData:u,errorCode:m}}},478677:function(e,t,a){a.d(t,{g:()=>l}),a(47120);var r,l=((r={}).MOBILE="mobile",r.DESKTOP="desktop",r.WEB="web",r.DEVICE_CODE="device_code",r)}}]);
//# sourceMappingURL=a6181a96b497da36.js.map