"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["12192"],{894582:function(e,t,n){n.d(t,{Z:()=>l});var a=n(987609),r=n(190031),i=n(192379),c=n(616295),o="hcaptcha-api-script-id",s="hcaptchaOnLoad",p=[],d=function(e){void 0===e&&(e={});var t=(0,c.as)(e.scriptLocation);delete e.scriptLocation;var n=(0,c.$h)(t),a=p.find(function(e){return e.scope===n.window});if(n.document.getElementById(o)&&a)return a.promise;var r=new Promise(function(a,r){n.window[s]=a;var i=e.apihost||"https://js.hcaptcha.com";delete e.apihost;var p=n.document.createElement("script");p.id=o,p.src=i+"/1/api.js?render=explicit&onload="+s,p.async=void 0===e.loadAsync||e.loadAsync,delete e.loadAsync,p.onerror=function(e){return r("script-error")};var d=(0,c.Ku)(e);p.src+=""!==d?"&"+d:"",t.appendChild(p)});return p.push({promise:r,scope:n.window}),r};let l=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hcaptcha=void 0,n.renderCaptcha=n.renderCaptcha.bind((0,a.Z)(n)),n.resetCaptcha=n.resetCaptcha.bind((0,a.Z)(n)),n.removeCaptcha=n.removeCaptcha.bind((0,a.Z)(n)),n.isReady=n.isReady.bind((0,a.Z)(n)),n.loadCaptcha=n.loadCaptcha.bind((0,a.Z)(n)),n.handleOnLoad=n.handleOnLoad.bind((0,a.Z)(n)),n.handleSubmit=n.handleSubmit.bind((0,a.Z)(n)),n.handleExpire=n.handleExpire.bind((0,a.Z)(n)),n.handleError=n.handleError.bind((0,a.Z)(n)),n.handleOpen=n.handleOpen.bind((0,a.Z)(n)),n.handleClose=n.handleClose.bind((0,a.Z)(n)),n.handleChallengeExpired=n.handleChallengeExpired.bind((0,a.Z)(n)),n.ref=i.createRef(),n.apiScriptRequested=!1,n.state={isApiReady:!1,isRemoved:!1,elementId:t.id,captchaId:""},n}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=(0,c.as)(this.props.scriptLocation),n=(0,c.$h)(t);if(this._hcaptcha=n.window.hcaptcha||void 0,void 0!==this._hcaptcha){this.setState({isApiReady:!0},function(){e.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var e=this.state.captchaId,t=this._hcaptcha;this.isReady()&&(t.reset(e),t.remove(e))},n.shouldComponentUpdate=function(e,t){return this.state.isApiReady===t.isApiReady&&this.state.isRemoved===t.isRemoved},n.componentDidUpdate=function(e){var t=this;["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(function(n){return e[n]===t.props[n]})||this.removeCaptcha(function(){t.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var e=this.props,t=e.apihost,n=e.assethost,a=e.endpoint,r=e.host,i=e.imghost;d({apihost:t,assethost:n,endpoint:a,hl:e.languageOverride,host:r,imghost:i,recaptchacompat:!1===e.reCaptchaCompat?"off":null,reportapi:e.reportapi,sentry:e.sentry,custom:e.custom,loadAsync:e.loadAsync,scriptLocation:e.scriptLocation}).then(this.handleOnLoad).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(e){if(this.state.isApiReady){var t=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),n=this._hcaptcha.render(this.ref.current,t);this.setState({isRemoved:!1,captchaId:n},function(){e&&e()})}},n.resetCaptcha=function(){var e=this.state.captchaId,t=this._hcaptcha;this.isReady()&&t.reset(e)},n.removeCaptcha=function(e){var t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&this.setState({isRemoved:!0},function(){n.remove(t),e&&e()})},n.handleOnLoad=function(){var e=this;this.setState({isApiReady:!0},function(){var t=(0,c.as)(e.props.scriptLocation),n=(0,c.$h)(t);e._hcaptcha=n.window.hcaptcha,e.renderCaptcha(function(){var t=e.props.onLoad;t&&t()})})},n.handleSubmit=function(e){var t=this.props.onVerify,n=this.state,a=n.isRemoved,r=n.captchaId,i=this._hcaptcha;if(void 0!==i&&!a){var c=i.getResponse(r),o=i.getRespKey(r);t&&t(c,o)}},n.handleExpire=function(){var e=this.props.onExpire,t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&(n.reset(t),e&&e())},n.handleError=function(e){var t=this.props.onError,n=this.state.captchaId,a=this._hcaptcha;this.isReady()&&a.reset(n),t&&t(e)},n.isReady=function(){var e=this.state,t=e.isApiReady,n=e.isRemoved;return t&&!n},n.handleOpen=function(){this.isReady()&&this.props.onOpen&&this.props.onOpen()},n.handleClose=function(){this.isReady()&&this.props.onClose&&this.props.onClose()},n.handleChallengeExpired=function(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()},n.execute=function(e){void 0===e&&(e=null);var t=this.state.captchaId,n=this._hcaptcha;if(this.isReady())return e&&"object"!=typeof e&&(e=null),n.execute(t,e)},n.setData=function(e){var t=this.state.captchaId,n=this._hcaptcha;this.isReady()&&(e&&"object"!=typeof e&&(e=null),n.setData(t,e))},n.getResponse=function(){return this._hcaptcha.getResponse(this.state.captchaId)},n.getRespKey=function(){return this._hcaptcha.getRespKey(this.state.captchaId)},n.render=function(){var e=this.state.elementId;return i.createElement("div",{ref:this.ref,id:e})},t}(i.Component)},616295:function(e,t,n){function a(e){return Object.entries(e).filter(function(e){e[0];var t=e[1];return t||!1===t}).map(function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&")}function r(e){var t=e&&e.ownerDocument||document,n=t.defaultView||t.parentWindow||window;return{document:t,window:n}}function i(e){return e||document.head}n.d(t,{$h:()=>r,Ku:()=>a,as:()=>i})},29978:function(e,t,n){n.d(t,{Z:()=>s});var a=n(192379);function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i=function(e){var t=document.createElement("script");t.async=!0,t.defer=!0,t.src=e,document.head&&document.head.appendChild(t)},c=/(http|https):\/\/(www)?.+\/recaptcha/,o=["sitekey","theme","size","badge","tabindex","hl","isolated"],s=function(e){function t(){for(var t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).container=void 0,t.timer=void 0,t.state={instanceKey:Date.now(),ready:!1,rendered:!1,invisible:"invisible"===t.props.size},t._isAvailable=function(){var e;return!!(null==(e=window.grecaptcha)?void 0:e.ready)},t._inject=function(){t.props.inject&&!Array.from(document.scripts).reduce(function(e,t){return e||c.test(t.src)},!1)&&i("https://recaptcha.net/recaptcha/api.js?render=explicit"+(t.props.hl?"&hl="+t.props.hl:""))},t._prepare=function(){var e=t.props,n=e.explicit,a=e.onLoad;window.grecaptcha.ready(function(){t.setState({ready:!0},function(){n||t.renderExplicitly(),a&&a()})})},t._renderRecaptcha=function(e,t){return window.grecaptcha.render(e,t)},t._resetRecaptcha=function(){return window.grecaptcha.reset(t.state.instanceId)},t._executeRecaptcha=function(){return window.grecaptcha.execute(t.state.instanceId)},t._getResponseRecaptcha=function(){return window.grecaptcha.getResponse(t.state.instanceId)},t._onVerify=function(e){return t.props.onVerify(e)},t._onExpire=function(){return t.props.onExpire&&t.props.onExpire()},t._onError=function(){return t.props.onError&&t.props.onError()},t._stopTimer=function(){t.timer&&clearInterval(t.timer)},t.componentDidMount=function(){t._inject(),t._isAvailable()?t._prepare():t.timer=window.setInterval(function(){t._isAvailable()&&(t._prepare(),t._stopTimer())},500)},t.componentWillUnmount=function(){t._stopTimer()},t.renderExplicitly=function(){return new Promise(function(e,n){if(t.state.rendered)return n(Error("This recaptcha instance has been already rendered."));if(!t.state.ready||!t.container)return n(Error("Recaptcha is not ready for rendering yet."));var a=t._renderRecaptcha(t.container,{sitekey:t.props.sitekey,theme:t.props.theme,size:t.props.size,badge:t.state.invisible?t.props.badge:void 0,tabindex:t.props.tabindex,callback:t._onVerify,"expired-callback":t._onExpire,"error-callback":t._onError,isolated:t.state.invisible?t.props.isolated:void 0,hl:t.state.invisible?void 0:t.props.hl});t.setState({instanceId:a,rendered:!0},function(){t.props.onRender&&t.props.onRender(),e()})})},t.reset=function(){return new Promise(function(e,n){if(t.state.rendered)return t._resetRecaptcha(),e();n(Error("This recaptcha instance did not render yet."))})},t.execute=function(){return new Promise(function(e,n){return t.state.invisible?(t.state.rendered&&(t._executeRecaptcha(),e()),n(Error("This recaptcha instance did not render yet."))):n(Error("Manual execution is only available for invisible size."))})},t.getResponse=function(){return new Promise(function(e,n){if(t.state.rendered)return e(t._getResponseRecaptcha());n(Error("This recaptcha instance did not render yet."))})},t.render=function(){var e=a.createElement("div",{key:t.state.instanceKey,id:t.props.id,className:t.props.className,ref:function(e){return t.container=e}});return t.props.children?t.props.children({renderExplicitly:t.renderExplicitly,reset:t.reset,execute:t.execute,getResponse:t.getResponse,recaptchaComponent:e}):e},t}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e),t.getDerivedStateFromProps=function(e,t){var n="invisible"===e.size;return n!==t.invisible?{invisible:n}:null},t.prototype.componentDidUpdate=function(e){var t=this;o.reduce(function(n,a){return t.props[a]!==e[a]?[].concat(n,[a]):n},[]).length>0&&this.setState({instanceKey:Date.now(),rendered:!1},function(){t.props.explicit||t.renderExplicitly()})},t}(a.Component);s.defaultProps={id:"",className:"g-recaptcha",theme:"light",size:"normal",badge:"bottomright",tabindex:0,explicit:!1,inject:!0,isolated:!1,hl:""}},480781:function(e){e.exports="/assets/80ecc5a9adc6d2fe.svg"},140238:function(e){e.exports="/assets/a1c385fb82c39bab.svg"},644947:function(e,t,n){n.d(t,{Zq:()=>d,_8:()=>s,s$:()=>p}),n(47120);var a=n(15729),r=n(286379),i=n(731965),c=n(797614);let o=(0,a.U)(e=>({captchaServeVolume:{}}));function s(){return 0===Object.keys(o.getState().captchaServeVolume).length}function p(e){(0,i.j)(()=>{o.setState(t=>null==e?t:e in t.captchaServeVolume?{captchaServeVolume:{...t.captchaServeVolume,[e]:t.captchaServeVolume[e]+1}}:{captchaServeVolume:{...t.captchaServeVolume,[e]:1}})})}function d(){for(let[e,t]of Object.entries(o.getState().captchaServeVolume))c.Z.distribution({name:r.V.CAPTCHA_SERVE_VOLUME_DISTRIBUTION,tags:["user_flow:".concat(e)]},t,!0);(0,i.j)(()=>o.setState({captchaServeVolume:{}}))}},353250:function(e,t,n){n.r(t),n.d(t,{CaptchaError:()=>c,emitCaptchaDistributionMetric:()=>s,extractCaptchaPropsFromResponse:()=>o});var a,r=n(644947),i=n(234888),c=((a={}).CANCEL="cancel",a.ERROR="error",a.EXPIRED="expired",a);function o(e){var t;return{captchaService:e.captcha_service,sitekey:e.captcha_sitekey,options:{rqdata:e.captcha_rqdata,rqtoken:e.captcha_rqtoken,serveInvisible:null!==(t=e.should_serve_invisible)&&void 0!==t&&t,userflow:e.user_flow}}}function s(e){(0,r._8)()&&setTimeout(()=>(0,r.Zq)(),i.i),(0,r.s$)(e)}},637538:function(e,t,n){n.d(t,{Z:()=>s});var a=n(192379),r=n(493773),i=n(626135),c=n(353250),o=n(981631);function s(e){let t=a.useRef(!0);return(0,r.ZP)(()=>()=>{t.current&&(null==e||e(c.CaptchaError.CANCEL))}),a.useEffect(()=>(i.default.track(o.rMx.OPEN_MODAL,{type:"Guild Join Captcha"}),()=>{t.current&&i.default.track(o.rMx.MODAL_DISMISSED,{type:"Guild Join Captcha"})}),[]),()=>{t.current=!1}}},747387:function(e,t,n){n.d(t,{Z:()=>v}),n(47120);var a=n(200651),r=n(192379),i=n(894582),c=n(29978),o=n(772848),s=n(286379),p=n(343817),d=n(797614),l=n(626135),h=n(353250),u=n(599857),f=n(981631);let v=e=>{let{captchaService:t=p.hP.RECAPTCHA,sitekey:n,rqdata:v,onRender:m,onVerify:y,onError:C,onOpen:E,onClose:b,onChalExpired:_,size:R,userflow:g,...x}=e,w=r.useRef(null),A=(0,o.Z)(),[S,k]=r.useState(!1),j=r.useCallback(e=>{l.default.track(f.rMx.CAPTCHA_EVENT,{captcha_event_name:e,captcha_service:t,sitekey:n,captcha_flow_key:A})},[A,t,n]),I=r.useCallback(e=>{d.Z.increment({name:s.V.CAPTCHA_EVENT,tags:["event_name:".concat(e),"captcha_service:".concat(t)]})},[t]),N=r.useCallback(()=>{if(t===p.hP.HCAPTCHA){var e,n;null!=v&&""!==v&&null!=w.current&&(null===(e=w.current)||void 0===e||e.setData({rqdata:v})),"invisible"===R&&null!=w.current&&(null===(n=w.current)||void 0===n||n.execute())}},[v,w,R,t]),O=r.useCallback(()=>{S||(j("initial-load"),I("initial-load"),k(!0)),N()},[I,S,j,N]);r.useEffect(()=>{N()},[N]),r.useEffect(()=>{O()},[O]);let L=r.useCallback(()=>{j("error"),I("error"),N(),null==C||C()},[j,I,N,C]),P=r.useCallback(e=>{j("verify"),I("verify"),y(e)},[I,y,j]),V=r.useCallback(()=>{j("render"),(0,h.emitCaptchaDistributionMetric)(g),null==m||m()},[m,j,g]),T=r.useCallback(()=>{j("open"),I("open"),(0,h.emitCaptchaDistributionMetric)(g),null==E||E()},[I,E,j,g]),Z=r.useCallback(()=>{j("close"),null==b||b(),N()},[b,j,N]),D=r.useCallback(()=>{j("chal-expire"),null==_||_()},[_,j]);return((null==n||""===n)&&(n=f.OL7),t===p.hP.RECAPTCHA)?(0,a.jsx)(c.Z,{...x,onLoad:O,onRender:V,onVerify:P,onError:L,sitekey:n}):t===p.hP.RECAPTCHA_ENTERPRISE?(0,a.jsx)(u._,{...x,onLoad:O,onRender:V,onVerify:P,onError:L,sitekey:n,action:g}):t===p.hP.HCAPTCHA?(0,a.jsx)(i.Z,{ref:w,...x,sitekey:n,onLoad:O,onError:L,onVerify:P,onChalExpired:D,onOpen:T,onClose:Z,size:R,reCaptchaCompat:!1}):(0,a.jsx)(c.Z,{...x,sitekey:n,onLoad:O,onRender:V,onVerify:P,onError:L})}},718742:function(e,t,n){n.d(t,{default:()=>C}),n(47120);var a=n(200651),r=n(192379),i=n(120356),c=n.n(i),o=n(481060),s=n(540059),p=n(585483),d=n(637538),l=n(747387),h=n(981631),u=n(388032),f=n(460377),v=n(480781),m=n(140238);let y=new Set([o.Dvm.ENTERING,o.Dvm.ENTERED]);function C(e){let{onClose:t,onCaptchaVerify:n,onReject:i,transitionState:C,headerText:E,bodyText:b,rqtoken:_,serveInvisible:R,...g}=e,x=(0,d.Z)(i),w=(0,s.Q3)("CaptchaModal");return(r.useEffect(()=>{p.S.subscribe(h.CkL.LAYER_POP_ESCAPE_KEY,t)},[t]),null!=C&&y.has(C))?(0,a.jsx)(o.Y0X,{transitionState:C,"aria-label":"CAPTCHA",className:c()(f.modal,f.gradientBorder),children:(0,a.jsxs)(o.hzk,{className:f.container,children:[(0,a.jsx)(o.olH,{className:f.close,onClick:t}),(0,a.jsx)("div",{className:f.content,children:C!==o.Dvm.ENTERED?(0,a.jsx)(o.$jN,{type:o.$jN.Type.SPINNING_CIRCLE}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:w?m:v,alt:""})}),(0,a.jsx)("div",{className:f.title,"aria-hidden":!0,children:null!=E?E:u.intl.string(u.t.FpoiHR)}),(0,a.jsx)("div",{children:null!=b?b:u.intl.string(u.t["/CidxM"])}),(0,a.jsxs)("div",{className:f.captchaContainer,children:[R&&(0,a.jsx)(o.$jN,{type:o.$jN.Type.SPINNING_CIRCLE}),(0,a.jsx)(l.Z,{size:R?"invisible":void 0,onVerify:e=>{x(),n(e,_),t()},onClose:R?t:void 0,...g})]})]})})]})}):null}},599857:function(e,t,n){n.d(t,{Z:()=>h,_:()=>d}),n(47120);var a=n(200651),r=n(192379),i=n(29978),c=n(780384),o=n(481060),s=n(756148),p=n(981631);function d(e){let{sitekey:t,action:n,onVerify:i}=e,[c,p]=r.useState(!1),d=r.useCallback(e=>{i(e)},[i]),l=r.useCallback(()=>{var e,a,r;null===(r=window)||void 0===r||null===(a=r.grecaptcha)||void 0===a||null===(e=a.enterprise)||void 0===e||e.ready(async()=>{var e;d(await (null===(e=window)||void 0===e?void 0:e.grecaptcha).enterprise.execute(t,null!=n?{action:n}:void 0)),p(!1)})},[t,n,d]),h=r.useCallback(()=>{p(!0),s.I.loadRecaptchaScript(t,l)},[t,l]);return r.useEffect(()=>{c||h()},[c,h]),r.useEffect(()=>()=>{document.querySelectorAll('script[src*="recaptcha/enterprise.js"],.grecaptcha-badge').forEach(e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}),null!=window.grecaptcha&&delete window.grecaptcha},[]),(0,a.jsx)(o.$jN,{})}let l=e=>{let{theme:t,...n}=e,r=(0,c.wj)(t)?"dark":"light";return(0,a.jsx)(i.Z,{sitekey:p.OL7,...n,theme:r})};l.Themes={LIGHT:"light",DARK:"dark"},l.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};let h=12633==n.j?l:null},756148:function(e,t,n){n.d(t,{I:()=>a});class a{static getSiteKey(e){return null!=e?e:"production"===window.GLOBAL_ENV.PROJECT_ENV?"6LeYqFcqAAAAAD6iZesmNgVulsO4PkpBdr6NVG6M":"6LdtfVMqAAAAAMurhtf2pDhK0oqD4eLqeQPh025y"}static loadRecaptchaScript(e,t){if(null!=document.getElementById("recaptcha-script-".concat(this.getSiteKey(e)))){null!=t&&t();return}let n=document.createElement("script");n.src="https://www.google.com/recaptcha/enterprise.js?render=".concat(this.getSiteKey(e)),n.id="recaptcha-script-".concat(this.getSiteKey(e)),n.async=!0,n.defer=!0,document.body.appendChild(n),null!=t&&(n.onload=()=>{t()})}}},460377:function(e,t,n){e.exports={modal:"modal_deee3a",container:"container_deee3a",close:"close_deee3a",content:"content_deee3a",title:"title_deee3a",captchaContainer:"captchaContainer_deee3a",gradientBorder:"gradientBorder_deee3a"}}}]);
//# sourceMappingURL=063dbbfa2bff6277.js.map