"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["45585"],{584088:function(e){e.exports="/assets/5673195a37135698.svg"},847881:function(e){e.exports="/assets/7754945e6f2e36d1.svg"},26229:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);let s=n(192379).memo(function(e){let{layout:t,layoutSize:n,className:s,renderWidget:l}=e;return null!=t?(0,i.jsx)("div",{className:s,style:{width:n.width,height:n.height},children:t.widgets.map(e=>l(e,n))}):null})},312839:function(e,t,n){n.d(t,{P:()=>c,R:()=>d});var i=n(13245),s=n(556296),l=n(237997),a=n(13140),o=n(981631),r=n(987650);function d(e,t){return{trackView(){i.Z.track(o.rMx.NOTIFICATION_VIEWED,t),i.Z.notificationEvent(e,r.bv.Viewed)},trackClick(n){let s=l.Z.isInstanceLocked()?o.Sbl.LOCKED_OVERLAY:o.Sbl.UNLOCKED_OVERLAY;i.Z.track(o.rMx.NOTIFICATION_CLICKED,{...t,location:s,action_type:n}),i.Z.notificationEvent(e,r.bv.Clicked)}}}function c(){let e=s.ZP.getOverlayKeybind();return null!=e?(0,a.BB)(e.shortcut,!0).split(" + "):["???"]}},836932:function(e,t,n){n.d(t,{Z:()=>c});var i=n(224706),s=n(13245),l=n(593481),a=n(150097),o=n(312839),r=n(987650),d=n(388032);function c(e,t,n,c,u){if(null==t.activity)return null;let h=t.activity.type,p=u.session_id;if(null==p)return null;let{icon:g,title:m,body:f}=(0,a.Xi)(e,t,n),{trackView:v,trackClick:Z}=(0,o.R)(r.n0.ActivityInvite,{notif_type:r.n0.ActivityInvite,notif_user_id:n.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,activity_type:h,activity_name:u.name});return{icon:g,title:m,body:f,hint:e=>(0,l.QR)(e,(0,o.P)(),d.t.aB5xLy),onNotificationShow:()=>{v()},confirmText:d.intl.string(d.t.VJlc0d),onConfirmClick:(l,a)=>{i.Z.join({userId:n.id,sessionId:p,applicationId:c.id,channelId:e.id,messageId:t.id}),s.Z.updateNotificationStatus(a),Z("join")},onDismissClick:()=>{Z("dismiss")}}}},175553:function(e,t,n){n.d(t,{Z:()=>d});var i=n(593481),s=n(768581),l=n(312839),a=n(981631),o=n(987650),r=n(388032);function d(e,t){let n=e.username,d=r.intl.format(r.t["Yk+uYG"],{username:""}),c=(0,s.ov)(e),{trackView:u,trackClick:h}=(0,l.R)(o.n0.ActivityUserJoin,{notif_type:o.n0.ActivityUserJoin,notif_user_id:e.id,activity_type:a.mFx.JOIN,activity_name:t.name});return{icon:c,title:n,body:d,hint:e=>(0,i.Yj)(e,r.intl.string(r.t.WRj1Wl)),onNotificationShow:()=>{u()},onDismissClick:()=>{h("dismiss")}}}},158979:function(e,t,n){n.d(t,{Z:()=>m});var i=n(200651);n(192379);var s=n(481060),l=n(13245),a=n(371651),o=n(594174),r=n(145597),d=n(312839),c=n(981631),u=n(987650),h=n(388032),p=n(820377);function g(){return(0,i.jsx)("div",{className:p.footer,children:(0,i.jsx)(s.zxk,{color:s.zxk.Colors.GREEN,size:s.zxk.Sizes.SMALL,className:p.ctaButton,children:h.intl.string(h.t.U76Ft7)})})}function m(e){switch(e.type){case u.nc.GO_LIVE_VOICE:{let{game:t,voiceGuild:p}=e,{trackView:m,trackClick:f}=(0,d.R)(u.n0.GoLiveNudge,{notif_type:u.n0.GoLiveNudge});return{icon:n(847881),title:null,body:h.intl.formatToPlainString(h.t.z9znpa,{game:t.name,server:p.toString()}),hint:()=>(0,i.jsx)(g,{}),renderFooter:()=>(0,i.jsx)(g,{}),onNotificationShow:()=>{m()},onNotificationClick:(e,t)=>{f("unlock"),l.Z.updateNotificationStatus(t);let d=a.default.isOverlayOOPEnabledForPid((0,r.QF)());if(d?l.Z.setInputLocked(!1,(0,r.QF)()):l.Z.setInstanceLocked(!1),null==o.default.getCurrentUser())return;let u=d?{contextKey:s.u1M}:void 0;(0,s.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("93382"),n.e("79477"),n.e("8211")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{...t,selectSource:!1,guildId:p.id,analyticsLocation:c.Sbl.OVERLAY_NUDGE})},u)},onDismissClick:()=>{f("dismiss")}}}case u.nc.GO_LIVE_NON_VOICE:{let{game:t}=e,{trackView:o,trackClick:p}=(0,d.R)(u.n0.GoLiveNonVoiceNudge,{notif_type:u.n0.GoLiveNonVoiceNudge});return{icon:n(847881),title:null,body:h.intl.formatToPlainString(h.t["0SVWgI"],{game:t.name}),hint:()=>(0,i.jsx)(g,{}),renderFooter:()=>(0,i.jsx)(g,{}),onNotificationShow:()=>{o()},onNotificationClick:(e,t)=>{p("unlock"),l.Z.updateNotificationStatus(t);let o=a.default.isOverlayOOPEnabledForPid((0,r.QF)());o?l.Z.setInputLocked(!1,(0,r.QF)()):l.Z.setInstanceLocked(!1);let d=o?{contextKey:s.u1M}:void 0;(0,s.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("93382"),n.e("79477"),n.e("8211")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{...t,selectSource:!1,selectGuild:!0,analyticsLocation:c.Sbl.OVERLAY_NUDGE})},d)},onDismissClick:()=>{p("dismiss")}}}}}},181912:function(e,t,n){n.d(t,{Z:()=>f});var i=n(26151),s=n(13245),l=n(287734),a=n(43267),o=n(933557),r=n(593481),d=n(614554),c=n(699516),u=n(594174),h=n(312839),p=n(981631),g=n(987650),m=n(388032);function f(e){let t=(0,o.F6)(e,u.default,c.Z),n=m.intl.string(m.t.ssrVzM),f=(0,a.x)(e),v=(0,d.Z)(e),{trackView:Z,trackClick:x}=(0,h.R)(g.n0.IncomingCall,{notif_type:g.n0.IncomingCall,notif_user_id:v,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type});return{icon:f,title:t,body:n,hint:e=>(0,r.QR)(e,(0,h.P)(),m.t["Odi54+"]),confirmText:m.intl.string(m.t["0D/6R0"]),cancelText:m.intl.string(m.t.BVN4pK),onNotificationShow:()=>{Z()},onConfirmClick:()=>{if(p.TPd.CALLABLE.has(e.type))s.Z.callPrivateChannel(e.id);else{if(e.type!==p.d4z.GUILD_VOICE)return;l.default.selectVoiceChannel(e.id)}x("join"),s.Z.track(p.rMx.VOICE_CHANNEL_SELECTED,{location:"Overlay Notificaiton",guild_id:e.guild_id,channel_id:e.id,video_enabled:!1})},onCancelClick:()=>{i.Z.stopRinging(e.id),x("decline")},onDismissClick:()=>{x("dismiss")}}}},877183:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651);n(192379);var s=n(704215),l=n(13245),a=n(605236),o=n(593481),r=n(371651),d=n(237997),c=n(145597),u=n(312839),h=n(987650),p=n(388032);let g=()=>({icon:n(639525),title:p.intl.string(p.t.r0ObgY),body:p.intl.string(p.t.hc6XFx),hint:m,notifType:h.n0.OopWelcomeNudge}),m=e=>(0,o.QR)(e,(0,u.P)(),p.t["z8/sgI"]);function f(e){var t;let{isFirstTimeNux:n}=e,{icon:o,title:h,body:m,hint:f,notifType:v}=(t=g(),e.isFirstTimeNux?{...t,title:p.intl.string(p.t.xxADho),body:p.intl.string(p.t.GtUrGB)}:t),{trackView:Z,trackClick:x}=(0,u.R)(v,{notif_type:v});return{icon:o,title:h,body:m,hint:f,renderFooter:()=>(0,i.jsx)("div",{style:{textAlign:"center",padding:2},children:p.intl.string(p.t["9MyuT0"])}),confirmText:n?p.intl.string(p.t.TxyTbm):void 0,onConfirmClick:n?()=>{x("unlock"),l.Z.setInputLocked(!1,(0,c.QF)())}:void 0,onNotificationShow:()=>{Z(),n&&(0,a.EW)(s.z.OVERLAY_OOP_WELCOME_SWITCH_FROM_IP_NUX)},onNotificationClick:(e,t)=>{x("unlock"),r.default.isOverlayOOPEnabledForPid((0,c.QF)())?l.Z.setInputLocked(!1,(0,c.QF)()):d.Z.isInstanceLocked()&&l.Z.setInstanceLocked(!1)},onDismissClick:()=>{x("dismiss")}}}},791288:function(e,t,n){n.d(t,{Z:()=>z}),n(47120);var i=n(200651),s=n(192379),l=n(512722),a=n.n(l),o=n(442837),r=n(481060),d=n(493683),c=n(13245),u=n(99690),h=n(835473),p=n(194082),g=n(442550),m=n(297781),f=n(371991),v=n(656709),Z=n(561308),x=n(593481),S=n(371651),E=n(703656),C=n(199902),y=n(592125),N=n(158776),I=n(594174),_=n(237997),O=n(5192),j=n(145597),T=n(312839),k=n(981631),M=n(701488),b=n(987650),P=n(388032),w=n(969396);function R(e){let{game:t,trackClick:n,onDismissClick:l}=e,a=(0,h.q)(t.id),d=(0,o.e7)([_.Z],()=>_.Z.showInviteNotification),u=s.useCallback(e=>{e.stopPropagation(),n(d?"muted":"unmuted"),c.Z.setShowGameInviteNotification(!d)},[d,n]);if(null==a)return null;let p=a.getIconURL(M.Si.LARGE);return(0,i.jsxs)("div",{className:w.header,children:[(0,i.jsxs)("div",{className:w.headerLeft,children:[(0,i.jsx)(g.f,{src:p,size:16}),(0,i.jsx)(r.Text,{className:w.gameInfo,variant:"text-sm/semibold",color:"header-primary",children:a.name})]}),(0,i.jsxs)("div",{className:w.headerRight,children:[(0,i.jsx)(r.zxk,{look:r.zxk.Looks.BLANK,size:r.zxk.Sizes.NONE,className:w.muteButton,onClick:u,children:d?(0,i.jsx)(r.Dkj,{size:"xs",color:r.TVs.colors.WHITE,className:w.muteIcon}):(0,i.jsx)(r.owu,{size:"xs",color:r.TVs.colors.WHITE,className:w.muteIcon})}),(0,i.jsx)(r.zxk,{look:r.zxk.Looks.BLANK,size:r.zxk.Sizes.NONE,onClick:l,className:w.dismissButton,children:(0,i.jsx)(r.CTb,{size:"xs",color:r.TVs.colors.WHITE,className:w.dismissIcon})})]})]})}function D(e){let{entry:t,idx:n}=e,l=(0,o.e7)([I.default],()=>I.default.getUser(t.author_id)),h=(0,Z.kr)(t),g=h?r.TVs.colors.TEXT_POSITIVE:r.TVs.colors.CONTENT_INVENTORY_OVERLAY_TEXT_SECONDARY,[x,S]=s.useState("unsent"),[j,T]=s.useState(!1),M=(0,o.e7)([_.Z],()=>_.Z.customInviteMessage),b=(0,o.e7)([C.Z],()=>null!=l?C.Z.getAnyStreamForUser(l.id):null,[l]),{isMobileOnline:R,status:D}=(0,o.cj)([N.Z],()=>null==l?{isMobileOnline:void 0,status:void 0}:{isMobileOnline:N.Z.isMobileOnline(l.id),status:N.Z.getStatus(l.id)},[l]);s.useEffect(()=>{if("sent"===x){let e=setTimeout(()=>T(!0),2e3);return()=>clearTimeout(e)}},[x]);let A=async e=>{if(null!=l&&"unsent"===x){e.stopPropagation();try{var i;S("sending");let e=await d.Z.getOrEnsurePrivateChannel(l.id),s=null!==(i=y.Z.getChannel(e))&&void 0!==i?i:null;a()(null!=s,"Send channel must be defined"),(0,E.uL)(k.Z5c.CHANNEL(s.guild_id,s.id)),await (0,v.p)({channel:s,content:null!=M?M:P.intl.string(P.t.DwAcMz),entry:t,whenReady:!0}),c.Z.track(k.rMx.OVERLAY_GAME_INVITE_SENT,{target_user_id:l.id,target_content_entry_id:t.id,target_index:n,sent_custom_message:null!=M}),S("sent")}catch(e){S("unsent")}}},L=async()=>{var e;if(null==l)return;let t=await d.Z.getOrEnsurePrivateChannel(l.id),n=null!==(e=y.Z.getChannel(t))&&void 0!==e?e:null;a()(null!=n,"Send channel must be defined"),(0,E.uL)(k.Z5c.CHANNEL(n.guild_id,n.id))};return null==l?null:(0,i.jsxs)("div",{className:w.userRow,children:[(0,i.jsx)(u.Z,{className:w.avatarContainer,user:l,isMobile:R,status:D}),(0,i.jsxs)("div",{className:w.userInfo,children:[(0,i.jsxs)("div",{className:w.usernameWrapper,children:[(0,i.jsx)(r.Text,{className:w.username,variant:"text-md/medium",color:"header-primary",children:O.ZP.getName(void 0,void 0,l)}),null!=b&&(0,i.jsx)(p.ZP,{})]}),(0,i.jsxs)(m.m7,{children:[(0,i.jsx)(r.iWm,{size:"xxs",color:g}),(0,i.jsx)(f.ZP,{entry:t,textColor:h?"text-positive":"content-inventory-overlay-text-secondary",bold:!0})]})]}),(0,i.jsx)("div",{className:w.inviteButtonWrapper,children:(0,i.jsx)(r.zxk,{submitting:"sending"===x,onClick:j?L:A,className:w.inviteButton,color:r.Ttl.PRIMARY,look:"sent"===x?r.iLD.OUTLINED:r.iLD.FILLED,size:r.PhG.MAX,children:"sent"===x?j?(0,i.jsx)(r.kBi,{size:"sm"}):(0,i.jsx)(r.kSu,{size:"sm",color:r.TVs.colors.WHITE}):(0,i.jsx)(r.Uuj,{size:"sm"})})})]})}function A(e){let{onCancel:t,onSave:n}=e,l=(0,o.e7)([_.Z],()=>_.Z.customInviteMessage),a=s.createRef(),[d,u]=s.useState(null!=l?l:P.intl.string(P.t.DwAcMz)),[h,p]=s.useState(d.length),g=e=>{e.stopPropagation(),c.Z.setInviteMessage(d),n(e)};return(0,i.jsxs)("div",{className:w.editMessageContainer,children:[(0,i.jsx)(r.oil,{autoFocus:!0,inputRef:a,onClick:e=>e.stopPropagation(),onKeyDown:e=>{if(e.stopPropagation()," "===e.key){var n,i;if(e.preventDefault(),null==a.current)return;let t=a.current,s=null!==(n=t.selectionStart)&&void 0!==n?n:0,l=null!==(i=t.selectionEnd)&&void 0!==i?i:0,o=t.value;t.value=o.substring(0,s)+" "+o.substring(l),t.setSelectionRange(s+1,s+1),p(o.length)}"Enter"===e.key&&g(e),"Escape"===e.key&&(e.preventDefault(),t(e))},onKeyUp:e=>e.stopPropagation(),maxLength:99,onChange:e=>{u(e),p(e.length)},value:d}),(0,i.jsxs)("div",{className:w.editMessageButtons,children:[(0,i.jsxs)(r.Text,{className:w.charCount,variant:"text-xs/normal",color:"header-muted",children:[h,"/",99]}),(0,i.jsx)(r.zxk,{onClick:t,className:w.cancelButton,look:r.zxk.Looks.BLANK,size:r.zxk.Sizes.TINY,children:P.intl.string(P.t["ETE/oK"])}),(0,i.jsx)(r.zxk,{onClick:g,color:r.zxk.Colors.PRIMARY,look:r.zxk.Looks.FILLED,size:r.zxk.Sizes.TINY,children:P.intl.string(P.t.R3BPHx)})]})]})}function L(e){let{entries:t}=e,n=t.slice(0,5),l=(0,o.e7)([_.Z],()=>_.Z.customInviteMessage),a=P.intl.formatToPlainString(P.t["5uzKGB"],{inviteMessage:null!=l?l:P.intl.string(P.t.DwAcMz)}),[d,u]=s.useState(!1);return(0,i.jsxs)("div",{children:[(0,i.jsx)(x.iz,{}),(0,i.jsxs)(r.Text,{className:w.helpText,variant:"text-sm/medium",color:"header-secondary",children:[a,(0,i.jsx)(r.zxk,{onClick:e=>{e.stopPropagation(),u(!d),c.Z.setInstanceLocked(d)},className:w.editButton,look:r.zxk.Looks.BLANK,size:r.zxk.Sizes.NONE,children:(0,i.jsx)(r.vdY,{color:"currentColor",size:"xxs"})})]}),d&&(0,i.jsx)(A,{onSave:e=>{e.stopPropagation(),u(!1)},onCancel:e=>{e.stopPropagation(),u(!1),c.Z.setInstanceLocked(!0)}}),!d&&n.map((e,t)=>(0,i.jsx)(D,{idx:t,entry:e},t))]})}function z(e,t){let{trackView:n,trackClick:s}=(0,T.R)(b.n0.SendGameInvitesNotification,{notif_type:b.n0.SendGameInvitesNotification});return a()(t.length>0,"Some entries must be present"),{icon:null,title:t=>(0,i.jsx)(R,{game:e,trackClick:s,onDismissClick:t}),body:(0,i.jsx)(L,{entries:t}),onNotificationShow:()=>{n(),c.Z.track(k.rMx.OVERLAY_GAME_INVITE_NOTIFICATION_SHOWN,{user_ids:t.map(e=>e.author_id),entry_ids:t.map(e=>e.id)})},onNotificationClick:(e,t)=>{e.stopPropagation(),s("unlock"),S.default.isOverlayOOPEnabledForPid((0,j.QF)())?c.Z.setInputLocked(!1,(0,j.QF)()):c.Z.setInstanceLocked(!1)},onDismissClick:()=>{s("dismiss")}}}},194295:function(e,t,n){n.d(t,{Z:()=>h});var i=n(278323),s=n(13245),l=n(45114),a=n(593481),o=n(237997),r=n(312839),d=n(981631),c=n(987650),u=n(388032);function h(e,t,n,h){let p=t.username,g=u.intl.format(u.t.VDODnp,{username:"",game:n.name}),m=t.getAvatarURL(e.guild_id,80),{trackView:f,trackClick:v}=(0,r.R)(c.n0.ActivityInvite,{notif_type:c.n0.ActivityInvite,notif_user_id:t.id,activity_type:d.mFx.JOIN_REQUEST,activity_name:n.name});return{icon:m,title:p,body:g,hint:e=>(0,a.QR)(e,(0,r.P)(),u.t["Odi54+"]),confirmText:u.intl.string(u.t["fgP/wc"]),cancelText:u.intl.string(u.t.tpXzJy),onNotificationShow:()=>{f()},onConfirmClick:(t,n)=>{i.Z.sendActivityInvite({channelId:e.id,type:d.mFx.JOIN,activity:h,location:o.Z.isInstanceLocked()?d.Sbl.LOCKED_OVERLAY:d.Sbl.UNLOCKED_OVERLAY}),v("join"),s.Z.updateNotificationStatus(n)},onCancelClick:(t,n)=>{(0,l.In)(e.id,!0,!0),s.Z.updateNotificationStatus(n),v("decline")},onDismissClick:()=>{v("dismiss")}}}},998033:function(e,t,n){n.d(t,{Z:()=>Z});var i=n(200651);n(192379);var s=n(13245),l=n(371651),a=n(703656),o=n(460181),r=n(974180),d=n(237997),c=n(150097),u=n(358085),h=n(998502),p=n(145597),g=n(312839),m=n(981631),f=n(987650),v=n(388032);function Z(e,t,n,Z){var x;let{icon:S,title:E,body:C}=(0,c.Xi)(e,t,n),{trackView:y,trackClick:N}=(0,g.R)(f.n0.TextChat,{notif_type:f.n0.TextChat,notif_user_id:null===(x=t.author)||void 0===x?void 0:x.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type});return{icon:S,title:E,body:C,renderFooter:e=>e?(0,i.jsx)("div",{style:{textAlign:"center"},children:v.intl.string(v.t["+MJm39"])}):null,maxBodyLines:2,onNotificationShow:()=>{Z&&(0,o.GN)(r.Ay,r.yk),y()},onNotificationClick:()=>{if(l.default.isOverlayOOPEnabledForPid((0,p.QF)())){let n=(0,p.QF)();d.Z.isInstanceLocked()?(N("unlock"),s.Z.setInputLocked(!1,n)):(N("jump"),(0,a.uL)(m.Z5c.CHANNEL(e.guild_id,e.id,t.id)),u.isPlatformEmbedded&&h.ZP.focus())}else(0,a.uL)(m.Z5c.CHANNEL(e.guild_id,e.id)),N("jump"),d.Z.isInstanceLocked()&&s.Z.setInstanceLocked(!1)},onDismissClick:()=>{N("dismiss")}}}},181364:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var s=n(13245),l=n(593481),a=n(371651),o=n(237997),r=n(145597),d=n(312839),c=n(987650),u=n(388032);let h=()=>({icon:n(328756),title:u.intl.string(u.t.pkXAeH),body:null,hint:p,notifType:c.n0.WelcomeNudge}),p=e=>(0,l.QR)(e,(0,d.P)(),u.t["z8/sgI"]);function g(e){let{type:t}=e,{icon:n,title:l,body:p,hint:g,notifType:m}=function(e,t){if(t.type===c.nc.NEWS){var n,i,s,l,a,o,r,d;return{icon:null!==(a=null===(n=t.news)||void 0===n?void 0:n.icon)&&void 0!==a?a:e.icon,title:null!==(o=null===(i=t.news)||void 0===i?void 0:i.title)&&void 0!==o?o:e.title,body:null!==(r=null===(s=t.news)||void 0===s?void 0:s.body)&&void 0!==r?r:e.body,hint:null!==(d=null===(l=t.news)||void 0===l?void 0:l.hint)&&void 0!==d?d:e.hint,notifType:null!=t.news?c.n0.NewsNudge:e.notifType}}return e}(h(),e),{trackView:f,trackClick:v}=(0,d.R)(m,{notif_type:m});return{icon:n,title:l,body:p,hint:g,renderFooter:()=>(0,i.jsx)("div",{style:{textAlign:"center",padding:2},children:u.intl.string(u.t["9MyuT0"])}),onNotificationShow:()=>{f()},onNotificationClick:(e,n)=>{v("unlock"),t===c.nc.NEWS&&s.Z.updateNotificationStatus(n),a.default.isOverlayOOPEnabledForPid((0,r.QF)())?s.Z.setInputLocked(!1,(0,r.QF)()):o.Z.isInstanceLocked()&&s.Z.setInstanceLocked(!1)},onDismissClick:()=>{v("dismiss")}}}},668761:function(e,t,n){n.d(t,{f:()=>h,y:()=>u});var i=n(200651);n(192379);var s=n(481060),l=n(312839),a=n(556296),o=n(13140),r=n(981631),d=n(987650),c=n(388032);function u(){let{trackView:e,trackClick:t}=(0,l.R)(d.n0.ClipsReminderNotification,{notif_type:d.n0.ClipsReminderNotification}),n=a.ZP.getKeybindForAction(r.kg4.SAVE_CLIP);if(null==n)return null;let u=o.BB(n.shortcut,!0);return{title:c.intl.format(c.t.S5uhCA,{keybind:u,keybindHook:()=>(0,i.jsx)("span",{style:{display:"inline-block"},children:(0,i.jsx)(s.M2$,{shortcut:u})})}),icon:(0,i.jsx)(s.AlX,{size:"xs",color:"currentColor"}),onNotificationShow:()=>{e()},onDismissClick:()=>{t("dismiss")}}}function h(e){let{trackView:t,trackClick:n}=(0,l.R)(d.n0.ClipsNotification,{notif_type:d.n0.ClipsNotification});return{title:e,icon:(0,i.jsx)(s.AlX,{size:"xs",color:"currentColor"}),onNotificationShow:()=>{t()},onDismissClick:()=>{n("dismiss")}}}},552062:function(e,t,n){n.d(t,{B:()=>m,Z:()=>y}),n(47120),n(411104);var i,s,l=n(200651),a=n(192379),o=n(120356),r=n.n(o),d=n(902704),c=n(434529),u=n(981631),h=n(739858);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=(e,t,n,i)=>Math.pow(e-n,2)+Math.pow(t-i,2);var m=((s={}).MOVE="MOVE",s.RESIZE_NORTH="RESIZE_NORTH",s.RESIZE_WEST="RESIZE_WEST",s.RESIZE_EAST="RESIZE_EAST",s.RESIZE_SOUTH="RESIZE_SOUTH",s.RESIZE_NORTH_WEST="RESIZE_NORTH_WEST",s.RESIZE_NORTH_EAST="RESIZE_NORTH_EAST",s.RESIZE_SOUTH_WEST="RESIZE_SOUTH_WEST",s.RESIZE_SOUTH_EAST="RESIZE_SOUTH_EAST",s);let f=new Set(["RESIZE_NORTH","RESIZE_WEST","RESIZE_EAST","RESIZE_SOUTH","RESIZE_NORTH_WEST","RESIZE_NORTH_EAST","RESIZE_SOUTH_WEST","RESIZE_SOUTH_EAST"]);function v(e,t,n){let{width:i,height:s}=e;return{width:"auto"===i?"auto":Math.max(t,i),height:"auto"===s?"auto":Math.max(n,s)}}function Z(e){let{top:t,left:n,bottom:i,right:s}=e;return null==n&&null==s&&(n=0),null!=n&&null!=s&&(s=void 0),null==t&&null==i&&(t=0),null!=t&&null!=i&&(i=void 0),{top:t,left:n,bottom:i,right:s}}function x(e){return"auto"===e||null==e?"auto":"".concat(e,"px")}function S(e,t){let n=0,i=0;return{width:n="auto"===t.width?null!=e?e.clientWidth:0:t.width,height:"auto"===t.height?null!=e?e.clientHeight:0:t.height}}function E(e,t){let{top:n,left:i,bottom:s,right:l}=t;switch(e){case"RESIZE_EAST":case"RESIZE_NORTH_EAST":case"RESIZE_NORTH":return{bottom:s,left:i,right:void 0,top:void 0};case"RESIZE_WEST":case"RESIZE_NORTH_WEST":return{bottom:s,right:l,left:void 0,top:void 0};case"RESIZE_SOUTH_EAST":return{top:n,left:i,bottom:void 0,right:void 0};case"RESIZE_SOUTH":case"RESIZE_SOUTH_WEST":return{top:n,right:l,bottom:void 0,left:void 0};default:throw Error("getOrientedCoords: Invalid orientation: ".concat(e))}}class C extends(i=a.Component){shouldComponentUpdate(e,t){return!(0,d.Z)(t,this.state)||!(0,d.Z)(e,this.props,["anchor","size","minSize","container"])||!(0,d.Z)(e.anchor,this.props.anchor)||!(0,d.Z)(e.size,this.props.size)||!(0,d.Z)(e.minSize,this.props.minSize)||!(0,d.Z)(e.container,this.props.container)}componentDidUpdate(e,t){null!=t.operation||((0,d.Z)(this.props.anchor,e.anchor)||this.setDOMPositions(Z(this.props.anchor)),(0,d.Z)(this.props.size,e.size)||this.setDOMSize(v(this.props.size,this.props.minSize.width,this.props.minSize.height)))}componentWillUnmount(){this.handleOperationEnd()}handleResizeMouseDown(e,t){let{clientX:n,clientY:i}=e;e.stopPropagation(),this.handleOperationStart(t,n,i)}handleDragMove(e,t){let{ref:{current:n},props:{id:i,container:{maxX:s,maxY:l,minX:a,minY:o},onDragStart:r,onDrag:d,snapOrientation:u},dragState:{offsetX:h,offsetY:p},state:{operationStarted:g}}=this;if(null==n)return null;e=Math.max(Math.min(s,e),a),t=Math.max(Math.min(l,t),o);let{width:m,height:f}=S(n,this.size),v=t-p,Z=e-h,x=(0,c.ou)((0,c.PY)({top:v,left:Z,bottom:void 0,right:void 0},s,l,m,f)),C=u?(0,c.R)(x):E("RESIZE_SOUTH_EAST",x);this.setDOMPositions(C),g||(null!=r&&r(),this.setState({operationStarted:!0})),null!=d&&d(i,"MOVE",this.anchor,this.size)}handleResizeMove(e,t){let{props:{id:n,minSize:i,container:{maxX:s,maxY:l,minX:a,minY:o},onDragStart:r,onDrag:d},state:{operation:c,operationStarted:u}}=this,{startX:h,startY:p,offsetWidth:g,offsetHeight:m}=this.dragState,f=0,v=0;if(null!=c){switch(e=Math.max(Math.min(s,e),a),t=Math.max(Math.min(l,t),o),c){case"RESIZE_EAST":case"RESIZE_SOUTH_EAST":case"RESIZE_NORTH_EAST":f-=h-e;break;case"RESIZE_WEST":case"RESIZE_SOUTH_WEST":case"RESIZE_NORTH_WEST":f+=h-e}switch(c){case"RESIZE_SOUTH":case"RESIZE_SOUTH_WEST":case"RESIZE_SOUTH_EAST":v-=p-t;break;case"RESIZE_NORTH":case"RESIZE_NORTH_WEST":case"RESIZE_NORTH_EAST":v+=p-t}g=Math.max(g+f,i.width),m=Math.max(m+v,i.height),this.setDOMSize({width:g,height:m}),u||(null!=r&&r(),this.setState({operationStarted:!0})),null!=d&&d(n,c,this.anchor,this.size)}}setDOMPositions(e){let{top:t,left:n,bottom:i,right:s}=e,{current:l}=this.ref;this.anchor={top:t,left:n,bottom:i,right:s},null!=l&&(l.style.top=x(t),l.style.bottom=x(i),l.style.left=x(n),l.style.right=x(s))}setDOMSize(e){let{width:t,height:n}=e,{current:i}=this.ref;t="auto"===this.size.width?"auto":t,n="auto"===this.size.height?"auto":n,this.size={width:t,height:n},null!=i&&(i.style.width=x(t),i.style.height=x(n))}renderResizeHandles(){let{resizeY:e,resizeX:t,active:n}=this.props;return(0,l.jsxs)(a.Fragment,{children:[e?(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)("div",{className:r()(h.resizeNorth,{[h.resizeNSCursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_NORTH")}),(0,l.jsx)("div",{className:r()(h.resizeSouth,{[h.resizeNSCursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_SOUTH")})]}):null,t?(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)("div",{className:r()(h.resizeEast,{[h.resizeEWCursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_EAST")}),(0,l.jsx)("div",{className:r()(h.resizeWest,{[h.resizeEWCursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_WEST")})]}):null,t&&e?(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)("div",{className:r()(h.resizeNorthWest,{[h.resizeNWSECursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_NORTH_WEST")}),(0,l.jsx)("div",{className:r()(h.resizeNorthEast,{[h.resizeNESWCursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_NORTH_EAST")}),(0,l.jsx)("div",{className:r()(h.resizeSouthWest,{[h.resizeNESWCursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_SOUTH_WEST")}),(0,l.jsx)("div",{className:r()(h.resizeSouthEast,{[h.resizeNWSECursor]:n}),onMouseDown:e=>this.handleResizeMouseDown(e,"RESIZE_SOUTH_EAST")})]}):null]})}render(){let{props:{children:e,hidden:t,onClick:n,id:i,style:s},size:a,anchor:o,state:{operation:d,operationStarted:c}}=this;return(0,l.jsxs)("div",{ref:this.ref,style:{...o,...a,...s,...null!=d?{zIndex:1e3}:void 0,...t?{visibility:"hidden"}:void 0},className:r()({[h.wrapper]:!0,[h.operation]:c}),onMouseDown:this.handleMouseDown,onClick:null!=n?()=>n(i):void 0,children:[e(this.handleOperationStart),this.renderResizeHandles()]})}constructor(e){super(e),p(this,"anchor",void 0),p(this,"size",void 0),p(this,"ref",a.createRef()),p(this,"dragState",{startX:0,startY:0,offsetX:0,offsetY:0,offsetWidth:0,offsetHeight:0}),p(this,"state",{operation:null,operationStarted:!1}),p(this,"handleMouseDown",e=>{e.stopPropagation();let{dragAnywhere:t}=this.props,{current:n}=this.ref;null!=n&&e.button===u.AeJ.PRIMARY&&t&&this.handleOperationStart("MOVE",e.clientX,e.clientY)}),p(this,"handleMouseMove",e=>{e.preventDefault(),e.stopPropagation();let{clientX:t,clientY:n}=e,{dragState:{startX:i,startY:s},state:{operation:l,operationStarted:a}}=this;!(null==l||!a&&3>g(i,s,t,n))&&("MOVE"===l?this.handleDragMove(t,n):f.has(l)&&this.handleResizeMove(t,n))}),p(this,"handleOperationStart",(e,t,n)=>{let{ref:{current:i},props:{targetWindow:s,active:l,container:{maxX:a,maxY:o}}}=this;if(null==i||!l)return;let{width:r,height:d}=S(i,this.size),u=(0,c.PY)(this.anchor,a,o,r,d);if("MOVE"===e){let{x:e,y:i}=function(e){let{top:t,left:n}=e;return{x:n,y:t}}(u);this.dragState={...this.dragState,startX:t,startY:n,offsetX:t-e,offsetY:n-i}}else{let i=E(e,u);this.setDOMPositions(i),this.dragState={...this.dragState,startX:t,startY:n,offsetWidth:r,offsetHeight:d}}this.setState({operation:e,operationStarted:!1},()=>{s.addEventListener("mousemove",this.handleMouseMove),s.addEventListener("mouseup",this.handleOperationEnd)})}),p(this,"handleOperationEnd",()=>{let{operation:e,operationStarted:t}=this.state,{targetWindow:n,onDragEnd:i}=this.props;n.removeEventListener("mousemove",this.handleMouseMove),n.removeEventListener("mouseup",this.handleOperationEnd);let s=t?()=>{let{onUpdate:t,id:n}=this.props;t(e,n,this.anchor,this.size,S(this.ref.current,this.size))}:void 0;if(t){let{maxX:e,maxY:t}=this.props.container,{width:n,height:s}=S(this.ref.current,this.size),l=(0,c.PY)(this.anchor,e,t,n,s),a=(0,c.R)(l);this.setDOMPositions(a),this.setDOMSize({width:n,height:s}),null!=i&&i()}this.setState({operation:null,operationStarted:!1},s)}),this.anchor=Z(e.anchor),this.size=v(e.size,e.minSize.width,e.minSize.height)}}p(C,"Operations",m),p(C,"defaultProps",{snapOrientation:!0,minSize:{width:0,height:0},container:{minX:0,minY:0,maxX:1/0,maxY:1/0},resizeX:!0,resizeY:!0,hidden:!1,dragAnywhere:!0,active:!0,targetWindow:window});let y=C},294033:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),o=n(968623);function r(e){let{keybind:t,separator:n="+",className:l}=e;return(0,i.jsx)(i.Fragment,{children:t.map((e,r)=>(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)("span",{className:a()(o.key,l),children:e}),r===t.length-1?void 0:n]},r))})}},593481:function(e,t,n){n.d(t,{QR:()=>v,Yj:()=>Z,ZP:()=>S,iz:()=>f});var i,s=n(200651),l=n(192379),a=n(120356),o=n.n(a),r=n(481060),d=n(294033),c=n(388032),u=n(194694),h=n(483938);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=e=>e.stopPropagation(),m=()=>(0,s.jsx)("div",{className:u.clickBlocker,onClick:g,onMouseEnter:g,onMouseOver:g}),f=()=>(0,s.jsx)("div",{className:u.divider}),v=(e,t,n)=>(0,s.jsx)("div",{className:u.keybindMessage,children:c.intl.format(n,{keybind:t,keybindHook:(e,n)=>(0,s.jsx)(d.Z,{keybind:t,className:u.keybind},n)})}),Z=(e,t)=>(0,s.jsx)("div",{className:u.hintSubtleText,children:t});class x extends(i=l.PureComponent){static getDerivedStateFromProps(e,t){let{expand:n}=e,{expanded:i}=t;return!i&&n?{expanded:!0}:null}componentDidMount(){let{onNotificationShow:e}=this.props;null==e||e()}componentDidUpdate(e){let{onNotificationShow:t}=this.props;null!=t&&null==e.onNotificationShow&&t()}renderCloseButton(){return"function"==typeof this.props.title?null:(0,s.jsx)(r.zxk,{look:r.zxk.Looks.BLANK,size:r.zxk.Sizes.NONE,onClick:this.handleDismiss,className:u.dismissButton,"aria-label":c.intl.string(c.t.LnEgqa),children:(0,s.jsx)(r.Dio,{size:"xs",color:"currentColor",className:u.dismissIcon})})}renderHint(){let{props:{hint:e},state:{expanded:t}}=this;if(null==e)return null;if("function"==typeof e){let n=e(t);return null!=n?(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(f,{}),n]},"hint-custom"):null}return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(f,{}),(0,s.jsx)("div",{className:"string"==typeof e?u.hintText:void 0,children:e},"hint-text")]},"hint-text")}renderFooter(){let{props:{cancelText:e,confirmText:t,onConfirmClick:n,onCancelClick:i,hint:a},state:{expanded:o}}=this;if(!o)return null!=a?this.renderHint():null;if(null!=this.props.renderFooter){let e=this.props.renderFooter(o);return null!=e?(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(f,{}),e]},"footer-custom-content"):null}if(null!=n||null!=i){let a=r.zxk.Colors.GREEN,o=r.zxk.Colors.PRIMARY,d=r.zxk.Looks.FILLED;return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)("div",{className:u.buttonContainer,children:[null!=n?(0,s.jsx)(r.zxk,{fullWidth:!0,size:r.zxk.Sizes.SMALL,color:a,onClick:this.handleConfirmClick,className:u.button,innerClassName:u.innerText,children:null!=t?t:c.intl.string(c.t.BddRzc)}):null,null!=i?(0,s.jsx)(r.zxk,{fullWidth:!0,size:r.zxk.Sizes.SMALL,look:d,color:o,onClick:this.handleCancelClick,className:u.button,children:null!=e?e:c.intl.string(c.t["ETE/oK"])}):null]})]},"footer-button-content")}return this.renderHint()}renderIcon(){let{icon:e}=this.props;return null==e?null:"string"==typeof e?(0,s.jsx)(r.qEK,{src:e,size:r.EFr.SIZE_40,className:u.avatar,"aria-hidden":!0}):(0,s.jsx)("div",{className:u.avatar,children:e})}renderContent(){let{body:e,title:t,maxBodyLines:n}=this.props;return(0,s.jsxs)("div",{className:u.content,children:[this.renderIcon(),(0,s.jsxs)("div",{className:u.details,children:[(0,s.jsx)("div",{className:u.title,children:"function"==typeof t?t(this.handleDismiss):t}),null!=e?(0,s.jsx)("div",{className:o()(u.body,h.marginTop4),style:{WebkitLineClamp:n,lineClamp:n},children:e}):null]})]})}render(){let{props:{onNotificationClick:e,disabled:t},state:{expanded:n}}=this,i=null!=e?r.P3F:"div";return(0,s.jsxs)(i,{onMouseOver:n?null:this.handleMouseEnter,onFocus:n?null:this.handleMouseEnter,onClick:e,className:o()(u.container,{[u.themePrimary]:!0,[u.clickable]:null!=e&&!t}),children:[this.renderCloseButton(),this.renderContent(),this.renderFooter(),t?(0,s.jsx)(m,{}):null]})}constructor(e){super(e),p(this,"handleDismiss",e=>{e.stopPropagation();let{onDismissClick:t}=this.props;null==t||t(e)}),p(this,"handleConfirmClick",e=>{e.stopPropagation();let{onConfirmClick:t}=this.props;null==t||t(e)}),p(this,"handleCancelClick",e=>{e.stopPropagation();let{onCancelClick:t}=this.props;null==t||t(e)}),p(this,"handleMouseEnter",()=>{this.props.disabled||this.setState({expanded:!0})});let{expand:t}=e;this.state={expanded:t}}}p(x,"defaultProps",{maxBodyLines:void 0,expand:!1,disabled:!1});let S=x},766032:function(e,t,n){n.d(t,{Z:()=>s});var i=n(987650);function s(e){switch(e){case i.wF.BOTTOM:return i.wF.BOTTOM;case i.wF.LOWER:return i.wF.LOWER;case i.wF.UPPER:return i.wF.UPPER;default:return i.wF.TOP}}},519591:function(e,t,n){n.d(t,{Z:()=>s});var i=n(987650);function s(e){switch(e){case i.wF.BOTTOM:return i.ap.LOW;case i.wF.LOWER:return i.ap.MEDIUM;case i.wF.UPPER:return i.ap.HIGH;case i.wF.TOP:return i.ap.FULL;default:return}}},692546:function(e,t,n){n.d(t,{Z:()=>y}),n(47120);var i,s=n(192379),l=n(392711),a=n.n(l),o=n(995295),r=n(374470),d=n(902704),c=n(846519),u=n(13245),h=n(808506),p=n(372679),g=n(671999),m=n(358085);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let v={x:0,y:0},Z=!1;function x(e){let{clientX:t,clientY:n}=e;Z=!0,v.x=t,v.y=n}let S=new Map;function E(e,t){if(null==t)S.delete(e),0===S.size&&(window.removeEventListener("mousemove",x),Z=!1);else{let n=S.get(e);if(null!=n&&(0,d.Z)(n.zone,t.zone))return;0===S.size&&window.addEventListener("mousemove",x),S.set(e,t)}if(m.isPlatformEmbedded){if(h.Z.isFocusedPidOutOfProcess()){let e=Array.from(S.values()).map(e=>{let{zone:t}=e;return{name:t.name,left:t.left/window.innerWidth,top:t.top/window.innerHeight,right:t.right/window.innerWidth,bottom:t.bottom/window.innerHeight*1.5}});u.Z.setClickZones(e)}else{var n;let e=(0,p.M)();if(null==e)return;e.broadcastCommand({message:"set_click_zones",zones:Array.from(S.values()).map(e=>{let{zone:t}=e;return t})}),n=e,C||(n.setClickZoneCallback((e,t,n)=>{let i=S.get(e);null!=i&&(Z||(v.x=t,v.y=n),i.instance.click())}),C=!0)}}}let C=!1;class y extends(i=s.PureComponent){componentDidMount(){this.props.observe?this.observeZone():this.updateZone()}componentWillUnmount(){this.interval.stop(),E(this.zone,null)}componentDidUpdate(e){let{observe:t}=this.props;t!==e.observe&&(t?this.observeZone():this.interval.stop())}render(){return s.Children.only(this.props.children)}observeZone(){this.updateZone(),this.interval.start(this.props.observeInterval,this.updateZone)}click(){let e=(0,g.B)("click",v.x,v.y);(0,g.J)(e,v.x,v.y)}constructor(...e){super(...e),f(this,"zone",a().uniqueId("ClickArea")),f(this,"interval",new c.Xp),f(this,"updateZone",()=>{let e=(0,o.findDOMNode)(this);if((0,r.k)(e)){let{left:t,top:n,right:i,bottom:s}=e.getBoundingClientRect();E(this.zone,{instance:this,zone:{name:this.zone,left:Math.floor(t),top:Math.floor(n),right:Math.ceil(i),bottom:Math.ceil(s)}})}})}}f(y,"defaultProps",{observe:!0,observeInterval:1e3})},244073:function(e,t,n){n.d(t,{Z:()=>b}),n(47120);var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),o=n(568611),r=n(442837),d=n(481060),c=n(846027),u=n(925549),h=n(287734),p=n(933557),g=n(600164),m=n(870569),f=n(345243),v=n(873596),Z=n(917405),x=n(430824),S=n(131951),E=n(699516),C=n(594174),y=n(979651),N=n(362446),I=n(518084),_=n(981631),O=n(388032),j=n(737290),T=n(74671);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends s.PureComponent{handleDisconnect(){h.default.selectVoiceChannel(null)}renderChannelLink(e){let{guild:t}=this.props,n=(0,p.F6)(e,C.default,E.Z),s=null!=t?"".concat(n," / ").concat(t.name):n,l=null!=t?t.id:_.ME;return(0,i.jsx)(o.rU,{to:_.Z5c.CHANNEL(l),onClick:t=>{t.stopPropagation(),u.Z.channelListScrollTo(l,e.id)},children:(0,i.jsx)(f.Z,{className:T.channel,children:s})})}render(){let{className:e,contentClassName:t,pinned:n,lobbyId:s,channel:l,quality:o,lastPing:r,hasVideo:c,connectionState:u,deaf:h,mute:p}=this.props;return null==l?null:(0,i.jsx)(I.ZP.Bar,{className:a()(e,j.controls,{[j.unpinned]:!n}),children:(0,i.jsxs)(I.ZP.Content,{className:a()(t,j.content),dynamicSize:!0,children:[(0,i.jsx)("div",{className:T.inner,children:(0,i.jsx)(d.yRy,{renderPopout:()=>this.renderPopout(l.id),position:"top",children:e=>(0,i.jsx)(d.P3F,{...e,children:(0,i.jsx)(Z.Z,{channelId:l.id,quality:o,lastPing:r,hasVideo:c,state:u,children:this.renderChannelLink(l)})})})}),(0,i.jsxs)(g.Z,{grow:0,children:[(0,i.jsx)(m.Z,{tooltipText:p?O.intl.string(O.t.YqAjX1):O.intl.string(O.t["w4m94+"]),icon:p?d.nRN:d.S6n,iconForeground:p?j.strikethrough:null,onClick:this.handleToggleSelfMute}),(0,i.jsx)(m.Z,{tooltipText:h?O.intl.string(O.t["2US87+"]):O.intl.string(O.t.wjcRFR),icon:h?d.wE8:d.VWR,onClick:this.handleToggleSelfDeaf,iconForeground:h?j.strikethrough:null}),null==s&&(0,i.jsx)(m.Z,{tooltipText:O.intl.string(O.t["6vrfgo"]),onClick:this.handleDisconnect,icon:d.gkL})]})]})})}constructor(...e){super(...e),k(this,"handleToggleSelfMute",()=>{let{context:e}=this.props;c.Z.toggleSelfMute({context:e,location:"Overlay Controls"})}),k(this,"handleToggleSelfDeaf",()=>{let{context:e}=this.props;c.Z.toggleSelfDeaf({context:e,location:"Overlay Controls"})}),k(this,"renderPopout",e=>{let{lobbyId:t}=this.props;return(0,i.jsx)(v.Z,{channelId:e,lobbyId:t,isOverlay:!0})})}}function b(e){let{context:t,lobbyId:n,channel:s,...l}=e,a=(0,r.e7)([x.Z],()=>x.Z.getGuild(null==s?void 0:s.getGuildId())),o=(0,r.e7)([y.Z],()=>null!=s&&y.Z.hasVideo(s.id)),[d,c]=(0,r.Wu)([S.Z],()=>[S.Z.isSelfMute(t)||S.Z.isSelfMutedTemporarily(t),S.Z.isSelfDeaf(t)]),[u,h,p]=(0,r.Wu)([N.Z],()=>[N.Z.getConnectionState(n),N.Z.getLastPing(n),N.Z.getQuality(n)]);return(0,i.jsx)(M,{...l,context:t,lobbyId:n,channel:s,guild:a,hasVideo:o,mute:d,deaf:c,connectionState:u,lastPing:h,quality:p})}},382790:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i,s=n(200651),l=n(192379),a=n(120356),o=n.n(a),r=n(442837),d=n(552062),c=n(416568),u=n(914010),h=n(518084),p=n(178528),g=n(669083),m=n(483962),f=n(711553),v=n(388032),Z=n(230466);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){let{closePopout:t}=e;return(0,s.jsx)(g.Z,{onClose:t})}class E extends(i=l.PureComponent){render(){let{selectedGuildId:e,locked:t,contained:n,className:i}=this.props,l=null!=e?(0,s.jsx)(p.Z,{guildId:e,onDragStart:this.onDragStart},e):(0,s.jsx)(f.Z,{title:v.intl.string(v.t.YUU0RE),renderSettings:S,onDragStart:this.onDragStart,children:(0,s.jsx)(m.Z,{})}),a=n?"div":h.ZP;return(0,s.jsxs)(a,{className:o()(Z.base,{[Z.widget]:!n},i),children:[(0,s.jsx)(c.Z,{isOverlay:!0,disableAppDownload:!0,isVisible:!t}),l]})}constructor(...e){super(...e),x(this,"onDragStart",e=>{let{dragStart:t}=this.props;t(d.B.MOVE,e.clientX,e.clientY)})}}x(E,"defaultProps",{contained:!1});let C=r.ZP.connectStores([u.Z],()=>({selectedGuildId:u.Z.getGuildId()}))(E)},990673:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var s=n(120356),l=n.n(s),a=n(382790),o=n(430036),r=n(518084),d=n(829501);function c(e){let{dragStart:t,dragging:n,pinned:s,locked:c,className:u}=e;return(0,i.jsxs)(r.ZP,{className:l()(d.wrapper,u),children:[(0,i.jsx)(a.Z,{contained:!0,dragStart:t,locked:c}),(0,i.jsx)(o.Z,{dragStart:t,locked:c,pinned:s,dragging:n,contained:!0})]})}},876205:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var s=n(120356),l=n.n(s),a=n(442837),o=n(481060),r=n(556296),d=n(13140),c=n(981631),u=n(67043);let h={[c.kg4.TOGGLE_MUTE]:{legacy:{slash:o.nRN,default:o.S6n},new:{slash:o.nRN,default:o.S6n}}};function p(e){let{value:t,action:n,shouldShow:s}=e,c=(0,a.e7)([r.ZP],()=>r.ZP.getKeybindForAction(n,!1,!0)),p=(0,o.bWb)().enabled;if(null==c||!s)return null;let g=d.BB(c.shortcut),m=p?h[n].new:h[n].legacy,f=t?m.slash:m.default;return(0,i.jsxs)("div",{className:u.keybindIndicator,children:[(0,i.jsx)(f,{className:u.keybindIcon,size:"xs",color:"currentColor"}),(0,i.jsx)(o.Text,{variant:"text-xxs/semibold",className:l()(u.keybindIndicatorText),children:g})]})}},358446:function(e,t,n){n.d(t,{K:()=>g,Z:()=>m}),n(47120);var i=n(200651);n(192379);var s=n(704215),l=n(481060),a=n(13245),o=n(312839),r=n(706140),d=n(809357),c=n(987650),u=n(921944),h=n(388032),p=n(966635);function g(){let[e,t]=(0,r.cv)([s.z.OVERLAY_KEYBIND_NOTIFICATION]),n=(0,d.Z)({location:"Overlay",options:{autoTrackExposure:!1}});return{showKeybindIndicators:null!=e&&n,dismissKeybindNotification:t}}function m(e){let{markAsDismissed:t}=e,{trackView:n,trackClick:s}=(0,o.R)(c.n0.KeybindIndicatorsNotification,{notif_type:c.n0.KeybindIndicatorsNotification});return{icon:null,body:(0,i.jsxs)("div",{className:p.notificationBody,children:[(0,i.jsx)("div",{className:p.iconContainer,children:(0,i.jsx)(l.S6n,{size:"custom",color:"currentColor",height:28,width:28})}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",children:h.intl.string(h.t.EFRNtL)})]}),onDismissClick:(e,n)=>{s("dismiss"),t(u.L.DISMISS),a.Z.updateNotificationStatus(n)},onNotificationShow:()=>{t(u.L.AUTO_DISMISS),n()}}}},438015:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(200651),s=n(192379),l=n(13245),a=n(593481),o=n(981631);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends s.Component{getStyle(){let e,t,n,i;let{props:{position:s,zIndex:l}}=this;switch(s){case o._vf.TOP_LEFT:case o._vf.BOTTOM_LEFT:e=0;break;default:t=0}switch(s){case o._vf.BOTTOM_LEFT:case o._vf.BOTTOM_RIGHT:n=0;break;default:i=0}return{left:e,right:t,bottom:n,top:i,zIndex:l}}render(){let{props:{locked:e,notification:{props:{renderFooter:t,onNotificationShow:n,onDismissClick:s,onNotificationClick:l,onConfirmClick:o,onCancelClick:r,...d}}}}=this;return(0,i.jsx)(a.ZP,{...d,onNotificationShow:this.handleNotificationShow,onDismissClick:null!=s?this.handleDismissClick:void 0,onNotificationClick:null!=l?this.handleNotificationClick:null,onConfirmClick:null!=o?this.handleConfirmClick:null,onCancelClick:null!=r?this.handleCancelClick:null,renderFooter:this.renderFooter,expand:!e})}constructor(...e){super(...e),r(this,"handleNotificationShow",()=>{let{id:e,props:{onNotificationShow:t}}=this.props.notification;t(e)}),r(this,"handleDismissClick",e=>{let{id:t,props:{onDismissClick:n}}=this.props.notification;l.Z.updateNotificationStatus(t),null==n||n(e,t)}),r(this,"handleNotificationClick",e=>{let{id:t,props:{onNotificationClick:n}}=this.props.notification;null!=n&&n(e,t)}),r(this,"handleConfirmClick",e=>{let{id:t,props:{onConfirmClick:n}}=this.props.notification;null!=n&&n(e,t)}),r(this,"handleCancelClick",e=>{let{id:t,props:{onCancelClick:n}}=this.props.notification;null!=n&&n(e,t)}),r(this,"renderFooter",e=>{let{id:t,props:{renderFooter:n}}=this.props.notification;return null!=n?n(e,t):null})}}let c=d},348733:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(200651);n(192379);var s=n(120356),l=n.n(s),a=n(392711),o=n(442837),r=n(261435),d=n(237997),c=n(692546),u=n(438015),h=n(981631),p=n(855134);function g(e){let{locked:t,keybind:n}=e,s=(0,o.Wu)([r.Z],()=>r.Z.getNotifications()),u=(0,o.e7)([d.Z],()=>d.Z.getNotificationPositionMode());if(u===h._vf.DISABLED)return null;let g=s.filter(e=>!t||e.status!==h._1z.TIMED_OUT),f=(0,a.groupBy)(g,e=>e.type);return(0,i.jsx)(c.Z,{observeInterval:200,children:(0,i.jsx)("div",{className:l()(p.container,p[u]),children:Object.entries(f).map(e=>{let[s,l]=e;return 0===l.length?null:(0,i.jsx)(m,{locked:t,keybind:n,position:u,notification:l[0]},s)})})})}function m(e){let{notification:t,position:n,keybind:s,locked:l}=e;return(0,i.jsx)("div",{className:p.notificationGroup,children:(0,i.jsx)(u.Z,{zIndex:100,position:n,notification:t,keybind:s,locked:l},t.id)})}},312178:function(e,t,n){n.d(t,{Z:()=>_,p:()=>C}),n(47120);var i=n(200651),s=n(192379),l=n(442837),a=n(765250),o=n(13245),r=n(26229),d=n(552062),c=n(355863),u=n(237997),h=n(451478),p=n(434529),g=n(145597),m=n(382790),f=n(990673),v=n(906037),Z=n(430036),x=n(839434),S=n(981631);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let C={[S.Odu.TEXT](e){let{dragging:t,locked:n,pinned:s,dragStart:l,className:a}=e;return(0,i.jsx)(Z.Z,{dragStart:l,locked:n,pinned:s,dragging:t,className:a})},[S.Odu.GUILDS](e){let{locked:t,dragStart:n,className:s}=e;return(0,i.jsx)(m.Z,{dragStart:n,locked:t,className:s})},[S.Odu.VOICE](e){let{id:t,anchor:n,isPreviewingInGame:s,locked:l,pinned:a}=e;return(0,i.jsx)(x.Z,{anchor:n,id:t,locked:l,pinned:a,widget:S.Odu.VOICE,isPreviewingInGame:s})},[S.Odu.GUILDS_TEXT](e){let{dragging:t,locked:n,dragStart:s,className:l}=e;return(0,i.jsx)(f.Z,{dragStart:s,dragging:t,locked:n,pinned:!1,className:l})}};class y extends s.PureComponent{componentDidUpdate(e){this.props.locked&&!e.locked&&null!=this.state.lastLayoutUpdate&&(o.Z.track(S.rMx.OVERLAY_LAYOUT_UPDATED,this.state.lastLayoutUpdate),this.setState({lastLayoutUpdate:null}))}renderWidget(e,t,n){let{props:{locked:i,isPreviewingInGame:s},state:{dragging:l}}=this,a=C[e.type];return null==a?null:o=>a({id:e.id,locked:i,pinned:e.pinned,dragging:l,isPreviewingInGame:s,anchor:t,size:n,dragStart:o})}render(){let{widget:e,widgetConfig:t,layoutSize:n,locked:s,isPreviewingInGame:l,isActiveRegion:a}=this.props;if(null==e||null==t)return null;let{id:o,pinned:r,zIndex:c,size:u,anchor:h}=e,g=(0,p.w_)(u,n),m=(0,p.KR)(h,n),{minSize:f,resizeX:Z,resizeY:x,dragAnywhere:S}=t,E=(0,v.eM)({locked:s,isPreviewingInGame:l,pinned:r}),C={minX:0,minY:0,maxX:n.width,maxY:n.height},y=this.renderWidget(e,m,g);return null==y?null:(0,i.jsx)(d.Z,{id:o,size:g,anchor:m,container:C,minSize:f,hidden:!E,resizeX:Z,resizeY:x,style:{zIndex:c},dragAnywhere:S,active:!s||a,onUpdate:this.handleUpdate,onClick:this.handleFocus,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,children:y})}constructor(...e){super(...e),E(this,"state",{lastLayoutUpdate:null,dragging:!1}),E(this,"handleUpdate",(e,t,n,i,s)=>{let{props:{layoutSize:l},state:{lastLayoutUpdate:o}}=this;if(!(0,g.Te)(l))return;let r=(0,p.jL)(n,l),u=(0,p.Ox)(i,l);(0,a.Os)(t),(0,a.nv)({widgetId:t,anchor:r,size:u});let h=e===d.B.MOVE,m=(0,p.PY)(n,l.width,l.height,s.width,s.height);this.setState({lastLayoutUpdate:{was_resized:null!=o&&o.was_resized||!h,was_dragged:null!=o&&o.was_dragged||h,widget_type:c.Z.getWidgetType(t),window_width:l.width,window_height:l.height,widget_width:s.width,widget_height:s.height,widget_left:m.left,widget_top:m.top}})}),E(this,"handleFocus",e=>{let{layoutSize:t}=this.props;(0,g.Te)(t)&&(0,a.Os)(e)}),E(this,"handleDragStart",()=>{let{widget:e}=this.props;null!=e&&(e.pinned&&o.Z.setPreviewInGameMode(!0),this.setState({dragging:!0}))}),E(this,"handleDragEnd",()=>{let{widget:e}=this.props;null!=e&&(e.pinned&&o.Z.setPreviewInGameMode(!1),this.setState({dragging:!1}))})}}let N=l.ZP.connectStores([c.Z,u.Z],e=>{let{widgetId:t}=e,n=c.Z.getWidget(t),i=u.Z.getActiveRegions();return{widget:n,widgetConfig:null!=n?c.Z.getWidgetConfig(n.type):null,locked:u.Z.isInstanceLocked(),isPreviewingInGame:u.Z.isPreviewingInGame(),isActiveRegion:null!=n&&n.type===S.Odu.TEXT&&i.has(S.O0n.TEXT_WIDGET)}})(y);function I(e,t){return(0,i.jsx)(N,{widgetId:e,layoutSize:t},e)}let _=l.ZP.connectStores([c.Z,h.Z],()=>{var e;return{layout:null!==(e=c.Z.getLayout(g.qU))&&void 0!==e?e:void 0,layoutSize:h.Z.windowSize(),renderWidget:I}})(r.Z)},708383:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651),s=n(192379),l=n(512969),a=n(749210),o=n(287734),r=n(765717),d=n(893607),c=n(703656),u=n(981631);class h extends s.Component{componentDidUpdate(e){let{location:t}=this.props;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()}checkGuildAndChannel(){let{match:e}=this.props;if(null==e)return;let{guildId:t,channelId:n,messageId:i}=function(e){let{guildId:t,channelId:n,messageId:i}=e.params;return{guildId:null!=t&&""!==t?t:u.ME,channelId:n,messageId:i}}(e);(0,d.Ss)(t)&&(0,d.cq)(n)?(a.Z.selectGuild(t),o.default.selectChannel({guildId:t,channelId:n,messageId:i})):(0,c.dL)(u.Z5c.ME)}render(){return null}}let p=()=>(0,i.jsxs)(l.rs,{children:[(0,i.jsx)(r.Z,{path:u.Z5c.CHANNEL(d.Hw.guildId(),d.Hw.channelId({optional:!0}),":messageId?"),component:h}),(0,i.jsx)(r.Z,{component:h})]})},923532:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651),s=n(192379),l=n(512722),a=n.n(l),o=n(399606),r=n(822183),d=n(673125),c=n(90753),u=n(594174),h=n(591679);function p(e){let{streamerId:t,channelId:n}=e,l=s.useRef(null),r=(0,o.e7)([u.default],()=>u.default.getCurrentUser());return a()(null!=r,"user cannot be null"),(0,c.Z)(l,r,t,n),(0,i.jsx)("canvas",{className:h.canvas,ref:l})}function g(e){let{guildId:t,channelId:n,streamerId:s}=e,{isSharedCanvasEnabled:l}=r.Z.useExperiment({guildId:t,location:"f0d1b1_1"},{autoTrackExposure:!0}),a=(0,o.e7)([d.Z],()=>d.Z.visibleOverlayCanvas);return l&&a?(0,i.jsx)(p,{guildId:t,channelId:n,streamerId:s}):null}},430036:function(e,t,n){n.d(t,{Z:()=>el}),n(47120);var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),o=n(512722),r=n.n(o),d=n(442837),c=n(481060),u=n(239091),h=n(430742),p=n(904245),g=n(13245),m=n(144144),f=n(738619),v=n(744061),Z=n(36311),x=n(655687),S=n(823748),E=n(25007),C=n(199649),y=n(1397),N=n(541716),I=n(752305),_=n(974251),O=n(893718),j=n(249458),T=n(552062),k=n(957730),M=n(400023),b=n(623292),P=n(807092),w=n(592125),R=n(703558),D=n(731290),A=n(430824),L=n(375954),z=n(944486),V=n(914010),W=n(594174),F=n(556296),U=n(237997),B=n(585483),G=n(838440),H=n(13140),Y=n(519591),K=n(906037),X=n(786906),Q=n(518084),J=n(987650),q=n(981631),$=n(388032),ee=n(404486);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let en=J.wF.TOP;class ei extends s.Component{componentDidUpdate(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props),(this.props.channel!==e.channel||this.props.isTemporarilyActive&&!e.isTemporarilyActive)&&this.setState({focused:!0})}componentWillUnmount(){R.Z.removeChangeListener(this.draftDidChange),B.S.unsubscribe(q.CkL.TEXTAREA_FOCUS,this.focusInput),B.S.unsubscribe(q.CkL.TEXTAREA_BLUR,this.blurInput)}render(){let{channel:e,placeholder:t,...n}=this.props,{focused:s,textValue:l,contentWarningProps:a,richValue:o}=this.state,d=(0,i.jsx)(c.yRy,{position:"top",onRequestClose:()=>{var e;null==a||null===(e=a.onCancel)||void 0===e||e.call(a),this.setState({contentWarningProps:null})},shouldShow:null!=a,renderPopout:e=>{let{closePopout:t}=e;return r()(null!=a,"ConnectedChannelTextArea.render - renderPopout: contentWarningProps cannot be null"),(0,i.jsx)(v.Z,{onClose:t,...a})},children:()=>(0,i.jsx)(O.Z,{...n,renderAttachButton:this.renderAttachButton,channel:e,type:N.Ie.OVERLAY,onFocus:()=>this.setState({focused:!0}),onBlur:()=>this.setState({focused:!1}),placeholder:t,textValue:l,richValue:o,onSubmit:this.handleSendMessage,onChange:this.handleTextareaChange,onKeyDown:this.handleTextareaKeyDown,focused:s})});return e.isPrivate()?(0,i.jsx)(C.Z,{channel:e,children:d},e.id):(0,i.jsx)(y.Z,{channel:e,children:d},e.id)}constructor(e){var t;super(e),t=this,et(this,"draftDidChange",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,{textValue:n}=t.state,i=R.Z.getDraft(e.channel.id,R.d.ChannelMessage);n!==i&&""===i&&t.setState((0,I.eK)(i))}),et(this,"handleTextareaKeyDown",e=>{if(e.which===q.yXg.ARROW_UP&&!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&0===this.state.textValue.length){e.preventDefault();let{channel:t}=this.props,n=L.Z.getLastEditableMessage(t.id);null!=n&&p.Z.startEditMessage(t.id,n.id,n.content)}}),et(this,"handleTextareaChange",(e,t,n)=>{let{channel:{id:i}}=this.props;h.Z.changeDraft(i,this.state.textValue,R.d.ChannelMessage),""!==t?m.Z.startTyping(i):m.Z.stopTyping(i),this.setState({textValue:t,richValue:n})}),et(this,"handleSendMessage",e=>{let{value:t}=e,{channel:n,pendingReply:i,isTemporarilyActive:s}=this.props;return 0===t.length?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):(0,G.v)({openWarningPopout:e=>this.setState({contentWarningProps:e}),type:N.Ie.OVERLAY,content:t,channel:n}).then(e=>{let{valid:l,failureReason:a}=e;if(!l)return a===q.zYc.SLOWMODE_COOLDOWN?(B.S.dispatch(q.CkL.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1};let o=p.Z.getSendMessageOptionsForReply(i);return(p.Z.sendMessage(n.id,k.ZP.parse(n,t),!0,o),this.setState((0,I.H2)()),(0,b.A6)(n.id),s)?(g.Z.deactivateAllRegions(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!0,shouldRefocus:!0}})}),et(this,"focusInput",()=>{this.setState({focused:!0})}),et(this,"blurInput",()=>{this.setState({focused:!1})}),et(this,"renderAttachButton",(e,t)=>(0,i.jsx)(_.Z,{className:t,channel:this.props.channel,draftType:R.d.ChannelMessage,editorTextContent:this.state.textValue,setValue:e=>this.handleTextareaChange(null,e,(0,I.JM)(e)),canOnlyUseTextCommands:e})),R.Z.addChangeListener(this.draftDidChange);let n=R.Z.getDraft(e.channel.id,R.d.ChannelMessage);this.state={...(0,I.eK)(n),focused:!1,contentWarningProps:null},B.S.subscribe(q.CkL.TEXTAREA_FOCUS,this.focusInput),B.S.subscribe(q.CkL.TEXTAREA_BLUR,this.blurInput)}}class es extends s.PureComponent{componentDidUpdate(e){let{channel:t,activated:n}=this.props;(0,K.CR)(e,this.props,this.shouldDisplay),null!=t&&n&&!e.activated&&g.Z.track(q.rMx.OVERLAY_UNLOCKED,{channel_id:t.id,channel_type:t.type,guild_id:t.guild_id})}componentDidMount(){(0,K.m3)(this.props,this.shouldDisplay())}getOpacity(){let e;let{locked:t,activated:n,opacity:i,isPreviewingInGame:s}=this.props;return t&&!n||s?i/100:n||!t?Math.min(1,(i+25)/100):Q.wB}renderContent(){let e;let{channel:t,placeholder:n,nsfwAgree:l,guild:o,locked:r,activated:d,chatKeybind:c,pinned:u,isPreviewingInGame:h,dragging:p,pendingReply:g}=this.props;if(null==t)return null;let m=r||h,v=!l&&null!=t&&t.isNSFW(),x=!m||d;return e=v&&null!=o?(0,i.jsx)(Z.Z,{guild:o}):(0,i.jsx)(M.Z,{channel:t,className:ee.messages,forceCompact:u,showNewMessagesBar:!m,scrollerClassName:u?ee.scroller:void 0,showingQuarantineBanner:!1},t.id),(0,i.jsx)(j.G.Provider,{value:{disableInteractions:u&&r&&!d,disableAnimations:u&&m&&!d},children:(0,i.jsxs)(s.Fragment,{children:[!r&&!h&&(0,i.jsx)(E.Z,{channel:t,guild:o}),(0,i.jsx)(Q.ZP.Background,{opacityOverride:r||h?null:en,children:(0,i.jsx)("div",{className:a()(ee.messagesContainer,{[ee.isDragging]:p,[ee.disableHoverStates]:u&&r&&!d}),children:e})}),v?null:(0,i.jsx)("div",{children:x?(0,i.jsx)(Q.ZP.Background,{opacityOverride:r||h?null:en,children:(0,i.jsxs)("div",{className:ee.footerContent,children:[(0,i.jsx)(ei,{channel:t,placeholder:n,isTemporarilyActive:d,pendingReply:g}),(0,i.jsx)("div",{className:ee.typingWrapper,children:(0,i.jsx)(f.Z,{channel:t,className:ee.typing})})]})}):(0,i.jsx)("div",{className:ee.activateContainer,children:(0,i.jsx)(Q.ZP.Background,{opacityOverride:J.wF.LOWER,children:(0,i.jsx)("div",{className:a()(ee.activateKeybind,ee.__invalid_mediumBackgroundOpacity),children:null!=t.name&&t.name.length>0?$.intl.formatToPlainString($.t["9TkYMD"],{keybind:c,channelName:t.isMultiUserDM()?t.name:"#".concat(t.name)}):$.intl.formatToPlainString($.t["hxz/4O"],{keybind:c})})})})})]})})}renderWidgetWrapper(e){let{locked:t,pinned:n,activated:s,isPreviewingInGame:l,opacity:o,className:r}=this.props,d=q.t_t.UNPINNED;s?d=q.t_t.IN_GAME_ACTIVE:n&&t||l?d=q.t_t.IN_GAME_TEXT:n&&(d=q.t_t.PINNED);let c=t&&!s||l,u=n&&(c||s),h=n&&s,p=n&&c&&!s,g=(0,Y.Z)(o);return(0,i.jsx)(Q.ZP,{className:a()(g,{[ee.widgetWrapper]:!n,[ee.widgetWrapperPinned]:n,[ee.locked]:p,[ee.inGame]:u,[ee.inGameActive]:h,[ee.pinned]:n,"overlay-unlocked":!t},r),type:d,opacity:o,children:e})}renderContainedWrapper(e){return(0,i.jsx)("div",{className:ee.contained,children:e})}shouldDisplay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return null!=e.channel}render(){let{locked:e,channel:t,pinned:n,isPreviewingInGame:l,contained:a}=this.props;if(null==t||!this.shouldDisplay())return null;let o=(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(X.Z,{draggableClassName:ee.draggableStartArea,className:ee.headerDefault,channel:t,locked:e,pinned:n,disableDragIndicator:a,isPreviewingInGame:l,handlePin:this.handlePin,onContextMenu:this.handleContextMenu,onMouseDown:this.moveDragStart}),this.renderContent(),e||l?null:(0,i.jsx)("div",{className:ee.resizeIcon,onMouseDown:this.resizeDragStart})]});return a?this.renderContainedWrapper(o):this.renderWidgetWrapper(o)}constructor(...e){super(...e),et(this,"handlePin",()=>{var e,t,n;let i=!this.props.pinned;g.Z.track(q.rMx.OVERLAY_PIN_TOGGLED,{pinned:i,guild_id:null===(e=this.props.channel)||void 0===e?void 0:e.guild_id,channel_id:null===(t=this.props.channel)||void 0===t?void 0:t.id,channel_type:null===(n=this.props.channel)||void 0===n?void 0:n.type,widget_type:q.Odu.TEXT}),g.Z.setPinChat(i)}),et(this,"handleContextMenu",e=>{let{channel:t,user:s}=this.props;null!=t&&null!=s&&(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("56826"),n.e("90384")]).then(n.bind(n,131404));return n=>(0,i.jsx)(e,{...n,user:s,channelSelected:!0,channel:t})})}),et(this,"moveDragStart",e=>{let{dragStart:t}=this.props;t(T.B.MOVE,e.clientX,e.clientY)}),et(this,"resizeDragStart",e=>{let{dragStart:t}=this.props;t(T.B.RESIZE_SOUTH_EAST,e.clientX,e.clientY)})}}function el(e){let{contained:t=!1,...n}=e,s=(0,d.e7)([V.Z],()=>V.Z.getGuildId()),l=(0,d.e7)([z.Z],()=>z.Z.getChannelId(s)),a=(0,d.e7)([w.Z],()=>w.Z.getChannel(l)),o=(0,d.e7)([F.ZP],()=>F.ZP.getOverlayChatKeybind()),r=null!=o?(0,H.BB)(o.shortcut,!0):"]",[c,u,h]=(0,d.Wu)([U.Z],()=>[U.Z.getTextWidgetOpacity(),U.Z.getActiveRegions(),!t&&U.Z.isPreviewingInGame()]),p=(0,d.e7)([A.Z],()=>A.Z.getGuild(s)),g=(0,d.e7)([D.Z],()=>null!=s&&D.Z.didAgree(s)),m=null!=a&&a.isPrivate()?a.getRecipientId():null,f=(0,d.e7)([P.Z],()=>null!=l?P.Z.getPendingReply(l):void 0),v=(0,d.e7)([W.default],()=>null!=m?W.default.getUser(m):null),{placeholder:Z}=(0,x.Z)({channel:a});return null!=a&&null!=p&&q.TPd.GUILD_THREADS_ONLY.has(a.type)?(0,i.jsx)(S.Z,{}):(0,i.jsx)(es,{guild:p,channel:a,user:v,opacity:c,nsfwAgree:g,chatKeybind:r,activated:u.has(q.O0n.TEXT_WIDGET),isPreviewingInGame:h,pendingReply:f,contained:t,placeholder:Z,widget:q.Odu.TEXT,...n})}},786906:function(e,t,n){n.d(t,{Z:()=>_}),n(47120);var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),o=n(442837),r=n(481060),d=n(13245),c=n(287734),u=n(933557),h=n(984370),p=n(910611),g=n(131704),m=n(523746),f=n(592125),v=n(430824),Z=n(699516),x=n(944486),S=n(707878),E=n(518084),C=n(388032),y=n(588);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends s.Component{componentDidUpdate(){this.props.locked&&this.state.showOpacitySlider&&this.setState({showOpacitySlider:!1})}renderCallButton(){let e,t;let{channel:n,channelHasActiveCall:s,userIsInChannelCall:l,isBlocked:a}=this.props;if(!(0,g.hv)(n.type))return null;let o=r.Csw,d=!1;return s?l?(e=C.intl.string(C.t["4ry6ys"]),o=r.gkL):e=C.intl.string(C.t["0D/6R0"]):a?(e=C.intl.string(C.t.PHzjvb),t=r.ua7.Colors.RED,d=!0):e=C.intl.string(C.t.focH1t),(0,i.jsx)(h.Z.Icon,{icon:o,tooltip:e,onClick:this.handleClickCall,tooltipColor:t,disabled:d})}render(){let{className:e,draggableClassName:t,locked:n,channel:s,channelName:l,guild:o,onMouseDown:d,onContextMenu:c,isPreviewingInGame:u,disableDragIndicator:g}=this.props,{showOpacitySlider:m}=this.state;return m&&!n?(0,i.jsxs)(E.ZP.Bar,{className:y.opacityHeader,children:[(0,i.jsx)(S.Z,{}),(0,i.jsx)(h.Z.Icon,{icon:r.Dio,onClick:this.handleCloseOpacitySettings,tooltip:C.intl.string(C.t.cpT0Cg)})]}):(0,i.jsx)(E.ZP.Background,{opacityOverride:n||u?null:1,children:(0,i.jsx)("div",{className:a()(e,t,y.headerContainer),onMouseDown:d,onContextMenu:c,children:(0,i.jsxs)(h.Z,{guildId:s.guild_id,channelId:s.id,toolbar:this.renderWidgetButtons(),transparent:!0,children:[u||n||g?null:(0,i.jsx)(r.Vni,{size:"custom",color:"currentColor",className:a()(y.dragIcon,t),width:20,height:20}),(0,p.ud)({channel:s,channelName:l}),n?null:(0,p.v0)(s,o)]})})})}constructor(...e){super(...e),N(this,"state",{showOpacitySlider:!1}),N(this,"handleClickCall",e=>{let{channel:t,userIsInChannelCall:n,channelHasActiveCall:i}=this.props;if(i)n?c.default.selectVoiceChannel(null):d.Z.callPrivateChannel(t.id,!1);else{let n=!i&&!e.shiftKey;d.Z.callPrivateChannel(t.id,n)}}),N(this,"handleOpenOpacitySettings",()=>{let{pinned:e}=this.props;this.setState({showOpacitySlider:!0}),e&&d.Z.setPreviewInGameMode(!0)}),N(this,"handleCloseOpacitySettings",()=>{let{pinned:e}=this.props;this.setState({showOpacitySlider:!1}),e&&d.Z.setPreviewInGameMode(!1)}),N(this,"handleMouseDown",e=>{let{onMouseDown:t}=this.props;null!=t&&t(e)}),N(this,"renderWidgetButtons",()=>{let{locked:e,handlePin:t,pinned:n}=this.props,l=n?C.intl.string(C.t.cSu80t):C.intl.string(C.t.cM8Vnp);return e?null:(0,i.jsxs)(s.Fragment,{children:[this.renderCallButton(),n?(0,i.jsx)(h.Z.Icon,{icon:r._S3,tooltip:C.intl.string(C.t.OVovCQ),onClick:this.handleOpenOpacitySettings}):null,(0,i.jsx)(h.Z.Icon,{icon:n?r.QVc:r.k5M,tooltip:l,selected:n,onClick:t})]})})}}function _(e){let{channel:t,...n}=e,s=(0,o.e7)([x.Z,f.Z],()=>{let e=x.Z.getVoiceChannelId();return f.Z.getChannel(e)}),l=(0,o.e7)([v.Z],()=>v.Z.getGuild(t.guild_id)),a=(0,o.e7)([m.Z],()=>m.Z.isCallActive(t.id)),r=(0,u.ZP)(t),d=(0,o.e7)([Z.Z],()=>!!t.isDM()&&null!=t.getRecipientId()&&Z.Z.isBlocked(t.getRecipientId()));return(0,i.jsx)(I,{channel:t,channelName:r,guild:l,channelHasActiveCall:a,userIsInChannelCall:null!=s&&s.id===t.id,isBlocked:d,...n})}},707878:function(e,t,n){n.d(t,{Z:()=>Z}),n(47120);var i=n(200651),s=n(192379),l=n(442837),a=n(481060),o=n(13245),r=n(313201),d=n(237997),c=n(766032),u=n(987650),h=n(981631),p=n(388032),g=n(788278);let m=Object.values(u.wF).map(e=>100*e),f=(0,r.hQ)();class v extends s.PureComponent{handleUpdateBackgroundOpacity(e){o.Z.setTextWidgetOpacity((0,c.Z)(e/100)),o.Z.track(h.rMx.OVERLAY_SETTINGS_UPDATED,{text_opacity_slider:e})}handlePreviewBackgroundOpacity(e){o.Z.setTextWidgetOpacity((0,c.Z)(e/100))}render(){return(0,i.jsxs)("div",{className:g.container,children:[(0,i.jsx)(a.vwX,{id:f,tag:a.RB0.H5,className:g.title,children:p.intl.string(p.t.OVovCQ)}),(0,i.jsx)("div",{className:g.sliderContainer,children:(0,i.jsx)(a.iRW,{mini:!0,initialValue:this.initialValue,defaultValue:this.initialValue,minValue:m[0],maxValue:m[m.length-1],handleSize:10,onValueChange:this.handleUpdateBackgroundOpacity,asValueChanges:this.handlePreviewBackgroundOpacity,markers:m,onMarkerRender:h.dG4,equidistant:!0,stickToMarkers:!0,"aria-labelledby":f})})]})}constructor(...e){var t,n;super(...e),t="initialValue",n=100*this.props.opacity,t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let Z=l.ZP.connectStores([d.Z],()=>({opacity:d.Z.getTextWidgetOpacity()}))(v)},839434:function(e,t,n){n.d(t,{Z:()=>el}),n(47120);var i,s=n(200651),l=n(192379),a=n(120356),o=n.n(a),r=n(442837),d=n(692547),c=n(477690),u=n(481060),h=n(239091),p=n(765250),g=n(13245),m=n(872810),f=n(586902),v=n(835473),Z=n(933557),x=n(600164),S=n(118012),E=n(594190),C=n(925329),y=n(569545),N=n(914923),I=n(165393),_=n(989941),O=n(552282),j=n(345243),T=n(565799),k=n(501655),M=n(786915),b=n(7188),P=n(597998),w=n(199902),R=n(314897),D=n(592125),A=n(77498),L=n(131951),z=n(944486),V=n(606304),W=n(449224),F=n(938475),U=n(237997),B=n(136015),G=n(51144),H=n(145597),Y=n(244073),K=n(876205),X=n(906037),Q=n(518084),J=n(809357),q=n(981631),$=n(65154),ee=n(388032),et=n(114454);function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e){let{flipped:t=!1,locked:n=!1,user:i,nick:a,displayNameMode:d,displayUserMode:c,size:u=q.ipw.LARGE,onClick:h,onContextMenu:p,context:g,guildId:m,voiceState:v}=e,Z=(0,J.Z)({location:"overlay_voice_widget"}),x=(0,r.e7)([U.Z],()=>U.Z.showKeybindIndicators),S=(0,r.e7)([R.default],()=>R.default.getId()),E=(0,r.e7)([L.Z],()=>L.Z.isLocalMute(i.id)),C=(0,r.e7)([w.Z],()=>w.Z.getCurrentUserActiveStream()),y=(0,r.Wu)([w.Z],()=>null!=C?w.Z.getViewerIds(C):[]),N=(0,f.Z)({userId:i.id,context:g}),I=(0,r.e7)([V.Z],()=>V.Z.isPrioritySpeaker(i.id,g)),_=(0,r.e7)([w.Z],()=>null!=w.Z.getStreamForUser(i.id,m)),O=l.useMemo(()=>null!=C&&C.ownerId!==i.id&&y.includes(i.id),[C,i.id,y]);if(c===q.OYC.ONLY_WHILE_SPEAKING&&n&&!N)return null;let j=i.id===S,{mute:T,selfMute:k,suppress:M,deaf:b,selfDeaf:D}=v,A=Z&&x,z=k&&(!j||!A);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P.ZP,{guildId:m,onClick:n?void 0:e=>null==h?void 0:h(e,i),onContextMenu:n?void 0:e=>null==p?void 0:p(e,i),className:o()(et.voiceUserWrapper,{[et.faded]:!N,[et.interactive]:!n}),user:i,nick:a,speaking:!1,flipped:t,isStreaming:_,iconClassName:o()(et.voiceIcon,{[et.locked]:n}),isWatching:O,isOverlay:!0,size:u,priority:I,mute:T||z||E,localMute:E,serverMute:T||M,deaf:b||D,serverDeaf:b,userNameClassName:o()(et.username,{[et.locked]:n,[et.hidden]:n&&(d===q.wC$.NEVER||!N&&d===q.wC$.ONLY_WHILE_SPEAKING)})}),j&&A&&(0,s.jsx)(K.Z,{value:k,action:q.kg4.TOGGLE_MUTE,shouldShow:!T&&!M})]})}class es extends(i=l.PureComponent){renderVoiceUsers(){let{context:e,sortedVoiceStates:t,displayNameMode:n,displayUserMode:i,locked:l,isPreviewingInGame:a,channel:r,anchor:d,avatarSizeMode:u}=this.props,h=null!=d.right,p=t.map(t=>{var o;let{user:d,voiceState:c,member:p}=t;if(null==d||null==r||null==e)return null;let g=l||a;return(0,s.jsx)(ei,{guildId:null==r?void 0:r.guild_id,user:d,nick:null!==(o=null==p?void 0:p.nick)&&void 0!==o?o:G.ZP.getName(d),flipped:h,voiceState:c,displayNameMode:n,displayUserMode:i,size:u,locked:g,onContextMenu:this.handleUserContextMenu,onClick:this.handleUserContextMenu,context:e},d.id)});return(0,s.jsx)(Q.ZP.Body,{className:o()({[c.Z.VOICE_WIDGET_TOP_MARGIN]:l,[et.lockedContainer]:l}),children:(0,s.jsx)(P.eJ,{className:et.voiceList,children:p})})}renderHeader(){let{pinned:e,title:t,isPreviewingInGame:n}=this.props;return(0,s.jsxs)(Q.ZP.Bar,{className:o()(et.draggableStartArea,{[et.preview]:n}),children:[(0,s.jsxs)(Q.ZP.Content,{dynamicSize:!0,className:o()(et.content,{[et.hidden]:n}),children:[(0,s.jsx)(u.Vni,{size:"custom",color:d.Z.unsafe_rawColors.WHITE_500.css,width:20,height:20,className:o()(et.icon,et.faded,et.dragIcon)}),(0,s.jsx)(u.gj8,{size:"custom",color:d.Z.unsafe_rawColors.WHITE_500.css,width:20,height:20,className:o()(et.icon,et.faded,et.speakerIcon)}),(0,s.jsx)(S.Z,{color:d.Z.unsafe_rawColors.PRIMARY_200.css,className:et.title,children:t})]}),n?null:(0,s.jsx)(Q.ZP.Icon,{icon:u.ewm,label:ee.intl.string(ee.t.NiTd0d),onClick:this.handleOpenVoiceSettings,tooltipPosition:"left",size:18}),n?null:(0,s.jsx)(Q.ZP.Icon,{icon:e?u.QVc:u.k5M,label:e?ee.intl.string(ee.t.cSu80t):ee.intl.string(ee.t.cM8Vnp),onClick:this.handlePin,tooltipPosition:"left",size:18,isActive:e})]})}renderStreamerSettings(){var e;let{locked:t,pinned:n,isPreviewingInGame:i,channel:l,application:a,streamMetadata:r,streamApplication:d,stream:c}=this.props;if(t||null==c||null==l)return null;let{sanitizedTitle:h,title:p}=(0,N.Z)(r);return(0,s.jsx)(Q.ZP.Bar,{className:o()(et.streamerControls,{[et.hidden]:i,[et.unpinned]:!n}),children:(0,s.jsxs)(Q.ZP.Content,{className:et.streamerContent,dynamicSize:!0,children:[(0,s.jsxs)("div",{className:et.streamerInner,children:[(null==d?void 0:d.id)!=null&&d.id===(null==a?void 0:a.id)?(0,s.jsx)(C.Z,{className:et.gameIcon,game:a}):(0,s.jsx)(I.Z,{title:h}),(0,s.jsxs)(x.Z,{direction:x.Z.Direction.VERTICAL,justify:x.Z.Justify.BETWEEN,className:et.streamerInfo,children:[(0,s.jsx)(u.Text,{className:et.streaming,variant:"text-sm/normal",children:ee.intl.string(ee.t.XKYej4)}),(0,s.jsx)(j.Z,{children:null!==(e=null==d?void 0:d.name)&&void 0!==e?e:p})]})]}),(0,s.jsxs)(x.Z,{grow:0,children:[(0,s.jsx)("div",{className:et.streamerIconWrapper,children:(0,s.jsx)(M.Z,{stream:c,iconClassName:et.streamerIcon,appContext:q.IlC.OVERLAY})}),(0,s.jsx)("div",{className:et.streamerIconWrapper,children:(0,s.jsx)(b.Z,{stream:c,appContext:q.IlC.OVERLAY})}),(0,s.jsx)("div",{className:et.streamerIconWrapper,children:(0,s.jsx)(u.DY3,{text:ee.intl.string(ee.t.S5anIS),children:(0,s.jsx)(u.zxk,{onClick:this.handleStopStream,look:u.zxk.Looks.BLANK,size:u.zxk.Sizes.NONE,children:(0,s.jsx)(u.g5r,{size:"md",color:"currentColor",className:et.streamerIcon})})})})]})]})})}componentDidMount(){(0,X.m3)(this.props,this.shouldDisplay())}componentDidUpdate(e){(0,X.CR)(e,this.props,this.shouldDisplay)}shouldDisplay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,{context:t,locked:n,pinned:i,sortedVoiceStates:s,channel:l}=e;return 0!==s.length&&null!=t&&null!=l&&(!n||!!i)}render(){let{context:e,lobbyId:t,locked:n,pinned:i,isPreviewingInGame:l,channel:a}=this.props;if(null==a||null==e||!this.shouldDisplay())return null;let r=q.t_t.UNPINNED;return i&&(r=q.t_t.PINNED),l&&(r=q.t_t.IN_GAME_PREVIEW),n&&(r=q.t_t.IN_GAME),(0,s.jsxs)(Q.ZP,{type:r,width:380,children:[n?null:this.renderHeader(),this.renderVoiceUsers(),this.renderStreamerSettings(),n?null:(0,s.jsx)(Y.Z,{className:o()({[et.preview]:l}),contentClassName:o()({[et.hidden]:l}),channel:a,lobbyId:t,context:e,pinned:i})]})}constructor(...e){super(...e),en(this,"handleUserContextMenu",(e,t)=>{let{context:i}=this.props;(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("4616")]).then(n.bind(n,881351));return n=>(0,s.jsx)(e,{...n,user:t,showMediaItems:!0,mediaEngineContext:i})})}),en(this,"handleOpenVoiceSettings",()=>{let{context:e,channel:t,title:i}=this.props;(0,u.ZDy)(async()=>{let{default:l}=await n.e("66063").then(n.bind(n,344516));return n=>(0,s.jsx)(l,{...n,mediaEngineContext:e,title:null!=t?null:i})})}),en(this,"handlePin",()=>{var e,t,n;let i=!this.props.pinned;g.Z.track(q.rMx.OVERLAY_PIN_TOGGLED,{pinned:i,guild_id:null===(e=this.props.channel)||void 0===e?void 0:e.guild_id,channel_id:null===(t=this.props.channel)||void 0===t?void 0:t.id,channel_type:null===(n=this.props.channel)||void 0===n?void 0:n.type,widget_type:q.Odu.VOICE});let{id:s}=this.props;(0,p.xh)(s)}),en(this,"handleStopStream",()=>{let{stream:e}=this.props;null!=e&&m.g((0,y.V9)(e))})}}function el(e){var t;let n=(0,r.e7)([z.Z,D.Z],()=>D.Z.getChannel(z.Z.getVoiceChannelId())),i=(0,Z.ZP)(n),a=function(){let[e]=(0,r.e7)([F.ZP,T.Z,z.Z,D.Z],()=>{let e=D.Z.getChannel(z.Z.getVoiceChannelId());return null==e?[[],-1]:e.isGuildStageVoice()?[T.Z.getMutableParticipants(e.id,k.pV.SPEAKER),T.Z.getParticipantsVersion(e.id)]:[F.ZP.getVoiceStatesForChannel(e),F.ZP.getVoiceStateVersion(e.getGuildId())]},[],B.Q),t=(0,r.e7)([R.default],()=>R.default.getId()),n=(0,J.Z)({location:"voice_widget"});return l.useMemo(()=>n?[...e].sort((e,n)=>e.user.id===t?-1:n.user.id===t?1:0):e,[e,t,n])}(),o=(0,r.e7)([w.Z],()=>w.Z.getStreamerActiveStreamMetadata()),d=(0,r.e7)([E.ZP,W.Z,A.Z],()=>{var e;let t=(0,_.Z)(E.ZP,W.Z);return null!=t?null===(e=A.Z.getGameByGameData(t))||void 0===e?void 0:e.id:null}),c=(0,v.q)(d),u=(0,r.cj)([E.ZP,W.Z,w.Z,U.Z],()=>{let e=(0,_.Z)(E.ZP,W.Z),t=w.Z.getCurrentUserActiveStream();return{displayUserMode:U.Z.getDisplayUserMode(),displayNameMode:U.Z.getDisplayNameMode(),avatarSizeMode:U.Z.getAvatarSizeMode(),streamApplication:(null==o?void 0:o.pid)===(0,H.QF)()?(0,O.Z)(e):null,stream:t}});return(0,s.jsx)(es,{...u,application:c,...e,sortedVoiceStates:a,channel:n,title:null!=i?i:"",streamMetadata:o,streamApplication:null!==(t=u.streamApplication)&&void 0!==t?t:{id:null,name:null==o?void 0:o.sourceName}})}en(es,"defaultProps",{context:$.Yn.DEFAULT})},518084:function(e,t,n){n.d(t,{ZP:()=>N,wB:()=>v}),n(411104);var i,s,l,a=n(200651),o=n(192379),r=n(120356),d=n.n(r),c=n(877921),u=n.n(c),h=n(481060),p=n(981631),g=n(492090),m=n(179683);let f=p.t_t.DEFAULT,v=1,Z=o.createContext({type:f,opacity:v}),x=o.createContext(void 0),S=e=>{let{children:t,className:n,...i}=e;return(0,a.jsx)(Z.Consumer,{children:e=>{let{type:s}=e;return(0,a.jsx)(x.Consumer,{children:e=>(0,a.jsx)("div",{className:d()(g.bar,g[u()(s)],n),style:e,...i,children:t})})}})};class E extends(i=o.PureComponent){render(){let{disableScroll:e,children:t,className:n}=this.props;return(0,a.jsx)(x.Consumer,{children:i=>(0,a.jsx)(Z.Consumer,{children:s=>{let l=d()(g.body,g[u()(s.type)],n);return e?(0,a.jsx)("div",{className:l,style:i,children:t}):(0,a.jsx)(h.Ttm,{fade:!0,className:l,children:t})}})})}}l={disableScroll:!1},(s="defaultProps")in E?Object.defineProperty(E,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):E[s]=l;let C=e=>{let{type:t=f,width:n,height:i,children:s,className:l,opacity:o=v,onClick:r}=e;return(0,a.jsx)(Z.Provider,{value:{type:t,opacity:o},children:(0,a.jsx)("div",{className:d()(g.widget,g[u()(t)],l),style:{width:n,height:i},onClick:r,children:s})})},y=e=>{let{children:t,className:n,dynamicSize:i=!1}=e;return(0,a.jsx)(x.Consumer,{children:e=>(0,a.jsx)("div",{className:d()(g.content,{[g.staticSize]:!i},n),style:e,children:t})})};C.Background=e=>{let{children:t,opacityOverride:n}=e;if(null==t)return null;let i=[S,E,y];return(0,a.jsx)(Z.Consumer,{children:e=>{let{opacity:s}=e,l={backgroundColor:"rgba(54, 57, 63, ".concat(""+(null!=n?n:s),")")};if("string"==typeof t.type)return o.cloneElement(t,{style:l});if(i.includes(t.type))return(0,a.jsx)(x.Provider,{value:l,children:t});{let e=t.type.displayName;throw Error("Widget.Background cannot be wrapped around ".concat(e,". Pass a DOM node or one of ").concat(i.map(e=>"Widget."+e.name).join(",")))}}})},C.Body=E,C.Content=y,C.Icon=e=>{let{icon:t,label:n,onClick:i,isActive:s,tooltipPosition:l="top",size:o=20,isTutorial:r=!1}=e;return(0,a.jsx)(h.ua7,{text:r?(0,a.jsx)("div",{className:g.tutorialTip,children:n}):n,"aria-label":n,position:l,forceOpen:r,color:r?h.ua7.Colors.BRAND:h.ua7.Colors.BLACK,children:e=>{let{onMouseEnter:l,onMouseLeave:r}=e;return(0,a.jsx)(h.zxk,{look:h.zxk.Looks.BLANK,size:h.zxk.Sizes.NONE,onClick:i,onMouseEnter:l,onMouseLeave:r,className:d()(g.icon,{[g.toggledIconOn]:s}),innerClassName:m.flexCenter,"aria-label":n,children:(0,a.jsx)(t,{color:"currentColor",size:"custom",width:o,height:o,role:"img"})})}})},C.Bar=S;let N=C},178528:function(e,t,n){n.d(t,{Z:()=>A}),n(47120);var i=n(200651),s=n(192379),l=n(642128),a=n(442837),o=n(481060),r=n(619915),d=n(554747),c=n(373274),u=n(315174),h=n(591190),p=n(840780),g=n(905423),m=n(680089),f=n(58468),v=n(796974),Z=n(324067),x=n(984933),S=n(888369),E=n(430824),C=n(496675),y=n(878884),N=n(19780),I=n(944486),_=n(9156),O=n(938475),j=n(518084),T=n(669083),k=n(711553),M=n(981631),b=n(647086),P=n(388032),w=n(852434);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends s.PureComponent{static getDerivedStateFromProps(e){let{guild:t}=e;return null==t||null==t.banner?{renderBanner:!1,bannerVisible:!1}:null}componentDidMount(){let{guildId:e}=this.props,{scrollTop:t}=v.Z.getGuildDimensions(e);this.setAnimatedValue(null!=t?t:0)}componentDidUpdate(e){let{guild:t,guildId:n}=this.props;if(e.guild!==t){let{scrollTop:e}=v.Z.getGuildDimensions(n);this.setAnimatedValue(null!=e?e:0)}}renderSettings(e){let{closePopout:t}=e;return(0,i.jsx)(T.Z,{onClose:t})}setAnimatedValue(e){let{guild:t}=this.props,n=null==t?void 0:t.hasCommunityInfoSubheader();null!=t&&(null!=t.banner||n)&&(null!=t.banner?this.setAnimatedValueForBanner(e):this.setAnimatedValueForCommunityInfo(e))}setAnimatedValueForBanner(e){let{renderBanner:t,communityInfoVisible:n,bannerVisible:i,controller:s}=this.state;(e>=54&&i||e<54&&!i)&&(i=!i),(e>=78&&!t||e<78&&t)&&(t=!t),n=i,(t!==this.state.renderBanner||i!==this.state.bannerVisible||n!==this.state.communityInfoVisible)&&this.setState({renderBanner:t,bannerVisible:i,communityInfoVisible:n}),s.update({value:Math.min(1,Math.max(0,1-e/78)),immediate:!0}).start()}setAnimatedValueForCommunityInfo(e){let{communityInfoVisible:t,controller:n}=this.state;(e>=20&&t||e<20&&!t)&&this.setState({communityInfoVisible:!t}),n.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()}render(){let{onDragStart:e,...t}=this.props,{guild:n}=t,{controller:s,renderBanner:l,bannerVisible:a,communityInfoVisible:r}=this.state,d=(null==n?void 0:n.id)===b._?c.j:c.E;return(0,i.jsxs)(k.Z,{header:null!=n?(0,i.jsx)(u.ZP,{guild:n,controller:s,renderBanner:l,bannerVisible:a,className:w.guildHeader,headerClassName:w.guildHeaderInner,onMouseDown:e,disableBannerAnimation:!1,communityInfoVisible:r,children:(0,i.jsx)(o.yRy,{position:"right",renderPopout:this.renderSettings,children:e=>(0,i.jsx)(j.ZP.Icon,{icon:o.ewm,label:P.intl.string(P.t["3D5yo6"]),...e})})}):null,children:[(0,i.jsx)("div",{className:w.channelList,children:null!=n?(0,i.jsx)(d,{...t,guild:n,disableManageChannels:!0,onScroll:null!=n&&null!=n.banner?this.handleScroll:null}):(0,i.jsx)(h.Z,{withBannerPadding:!1})}),null!=n&&(0,i.jsx)("section",{className:w.panels,"aria-label":P.intl.string(P.t.StREWF),children:(0,i.jsx)(p.Z,{guildId:n.id})})]})}constructor(...e){super(...e),R(this,"state",{controller:new l.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1}),R(this,"handleScroll",e=>{let{scrollTop:t}=e;this.setAnimatedValue(t)})}}function A(e){var t;let{guildId:n}=e,s=(0,a.e7)([E.Z],()=>E.Z.getGuild(n)),l=(0,a.e7)([x.ZP],()=>x.ZP.getChannels(n)),o=(0,a.e7)([Z.Z],()=>Z.Z.getCategories(n)),{mutedChannels:c,collapseMuted:u}=(0,a.cj)([_.ZP],()=>({mutedChannels:_.ZP.getMutedChannels(n),collapseMuted:_.ZP.isGuildCollapsed(n)})),h=(0,a.e7)([O.ZP],()=>O.ZP.getVoiceStates(n)),p=(0,a.e7)([f.Z],()=>f.Z.getCollapsed()),{scrollTo:j}=(0,a.e7)([v.Z],()=>v.Z.getGuildDimensions(n)),T=(0,g.Z)(e=>{let{channelId:t}=e;return t}),k=(0,a.e7)([I.Z],()=>I.Z.getVoiceChannelId()),b=(0,a.e7)([C.Z],()=>C.Z.getGuildVersion(n)),P=(0,a.e7)([m.Z],()=>m.Z.version),w=(0,a.e7)([S.default],()=>S.default.getGuildChangeSentinel(n)),R=(0,r.QN)(null==s?void 0:s.id),A=(0,d.gM)(null==s?void 0:s.id),L=null!==(t=null==s?void 0:s.hasFeature(M.oNc.COMMUNITY))&&void 0!==t&&t,z=(0,a.e7)([N.Z],()=>N.Z.getChannelId()),V=(0,a.e7)([y.Z],()=>y.Z.desyncedVoiceStatesCount);return(0,i.jsx)(D,{guildId:n,guild:s,channels:l,categories:o,mutedChannels:c,scrollToChannel:j,selectedChannelId:T,selectedVoiceChannelId:k,voiceStates:h,rtcConnectedChannelId:z,rtcDesyncedVoiceStatesCount:V,collapsedChannels:p,collapseMuted:u,guildReadStateSentinel:w,permissionVersion:b,categoryCollapseVersion:P,embeddedAppsByChannel:R,activeEventsByChannel:A,showNewUnreadsBar:L,optInEnabled:!1})}},669083:function(e,t,n){n.d(t,{Z:()=>_}),n(47120);var i=n(200651),s=n(192379),l=n(442837),a=n(481060),o=n(13245),r=n(600164),d=n(212632),c=n(906467),u=n(556296),h=n(237997),p=n(998502),g=n(13140),m=n(809357),f=n(981631),v=n(388032),Z=n(637511),x=n(483938);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let E=()=>[{value:f.ipw.LARGE,name:v.intl.string(v.t.YcOxtr)},{value:f.ipw.SMALL,name:v.intl.string(v.t.BKIKq6)}],C=()=>[{value:f.wC$.ALWAYS,name:v.intl.string(v.t.nBmDra)},{value:f.wC$.ONLY_WHILE_SPEAKING,name:v.intl.string(v.t["2OvIZW"])},{value:f.wC$.NEVER,name:v.intl.string(v.t.ekjlPD)}],y=()=>[{value:f.OYC.ALWAYS,name:v.intl.string(v.t.nBmDra)},{value:f.OYC.ONLY_WHILE_SPEAKING,name:v.intl.string(v.t["2OvIZW"])}];function N(){let e=h.Z.getNotificationPositionMode(),t=e!==f._vf.DISABLED,n=u.ZP.getOverlayKeybind(),i=u.ZP.getOverlayChatKeybind();o.Z.track(f.rMx.OVERLAY_SETTINGS_UPDATED,{enabled:!0,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:h.Z.getTextChatNotificationMode(),text_opacity_slider:h.Z.getTextWidgetOpacity(),hotkey:null!=n?(0,g.BB)(n.shortcut):null,text_activation_hotkey:null!=i?(0,g.BB)(i.shortcut):null})}class I extends s.PureComponent{componentDidMount(){o.Z.track(f.rMx.SETTINGS_PANE_VIEWED,{settings_type:"overlay",destination_pane:"OVERLAY SETTINGS",origin_pane:null})}handleChangeNotificationPositionMode(e,t){o.Z.setNotificationPositionMode(t),N()}handleChangeAvatarSizeMode(e){let{value:t}=e;o.Z.setAvatarSizeMode(t)}handleChangeDisplayNameMode(e){let{value:t}=e;o.Z.setDisplayNameMode(t)}handleChangeDisplayUserMode(e){let{value:t}=e;o.Z.setDisplayUserMode(t)}renderHeader(){return(0,i.jsxs)(r.Z,{direction:r.Z.Direction.VERTICAL,grow:0,shrink:0,className:Z.header,children:[(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.vwX,{className:Z.headerTitle,tag:"h1",children:v.intl.string(v.t["35G2Mj"])}),(0,i.jsx)(a.olH,{className:Z.headerClose,onClick:this.props.onClose})]}),this.renderTabBar()]})}renderTabBar(){let{selectedSection:e}=this.state,t=c.Z.isDeveloper?(0,i.jsx)(a.njP.Item,{id:"DEVELOPER",className:Z.tabBarItem,children:"Developer"}):null;return(0,i.jsxs)(a.njP,{selectedItem:e,type:"top",className:Z.__invalid_tabBar,onItemSelect:this.handleSelectSection,children:[(0,i.jsx)(a.njP.Item,{id:"GENERAL",className:Z.tabBarItem,children:v.intl.string(v.t["0FYxx8"])}),(0,i.jsx)(a.njP.Item,{id:"VOICE",className:Z.tabBarItem,children:v.intl.string(v.t["3WeSiI"])}),t]})}renderBody(){let e;let{selectedSection:t}=this.state;switch(t){case"DEVELOPER":e=this.renderDeveloperSettings();break;case"VOICE":e=this.renderVoiceSettings();break;default:e=this.renderGeneralSettings()}return(0,i.jsx)(a.hzk,{className:Z.content,children:e},t)}renderGeneralSettings(){let{textChatNotificationMode:e,notificationPositionMode:t,shouldShowKeybindIndicators:n,showKeybindIndicators:l,shouldShowInviteNotification:r}=this.props,c=t!==f._vf.DISABLED;return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(a.xJW,{title:v.intl.string(v.t.IQv8Eh),className:x.marginBottom20,children:(0,i.jsx)(d.Z,{position:t,onChange:this.handleChangeNotificationPositionMode})}),(0,i.jsx)(a.j7V,{value:c&&e===f.Ypu.ENABLED,onChange:this.handleToggleTextChatNotifications,disabled:!c,hideBorder:!0,children:v.intl.string(v.t.Fy5kPj)}),(0,i.jsx)(a.j7V,{value:r,onChange:this.handleToggleInviteNotification,hideBorder:!0,note:v.intl.string(v.t.W9DVVV),children:v.intl.string(v.t["f+c48/"])}),l&&(0,i.jsx)(a.j7V,{value:n,onChange:e=>o.Z.setShowKeybindIndicators(e),hideBorder:!0,children:v.intl.string(v.t.XZTl9v)})]})}renderVoiceSettings(){let{avatarSizeMode:e,displayNameMode:t,displayUserMode:n}=this.props;return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(a.xJW,{title:v.intl.string(v.t.dnvZSk),className:x.marginBottom20,children:(0,i.jsx)(a.FXm,{onChange:this.handleChangeAvatarSizeMode,options:E(),value:e,size:a.FXm.Sizes.SMALL})}),(0,i.jsx)(a.xJW,{title:v.intl.string(v.t.J0dpcH),className:x.marginBottom20,children:(0,i.jsx)(a.FXm,{onChange:this.handleChangeDisplayNameMode,options:C(),value:t,size:a.FXm.Sizes.SMALL})}),(0,i.jsx)(a.xJW,{title:v.intl.string(v.t.swsWWF),className:x.marginBottom20,children:(0,i.jsx)(a.FXm,{onChange:this.handleChangeDisplayUserMode,options:y(),value:n,size:a.FXm.Sizes.SMALL})})]})}renderDeveloperSettings(){return(0,i.jsx)(s.Fragment,{children:(0,i.jsx)(a.xJW,{title:"Crashes",className:x.marginBottom20,children:(0,i.jsx)(a.q4e,{value:void 0,options:[{value:void 0,label:"Native crash"},{value:0,label:"Abort()"},{value:1,label:"SIGSEGV()"},{value:2,label:"EXCEPTION_ACCESS_VIOLATION"},{value:3,label:"RaiseFailFastException"},{value:4,label:"Out of Memory"}],onChange:e=>null!=e&&p.ZP.crash(e)})})})}render(){return(0,i.jsxs)(a.Y0X,{"aria-label":v.intl.string(v.t["35G2Mj"]),transitionState:a.Dvm.ENTERED,children:[this.renderHeader(),this.renderBody()]})}constructor(...e){super(...e),S(this,"state",{selectedSection:"GENERAL"}),S(this,"handleSelectSection",e=>{this.setState({selectedSection:e})}),S(this,"handleToggleTextChatNotifications",()=>{let{ENABLED:e,DISABLED:t}=f.Ypu,n=this.props.textChatNotificationMode===e?t:e;o.Z.setTextChatNotificationMode(n),N()}),S(this,"handleToggleInviteNotification",()=>{let e=this.props.shouldShowInviteNotification;o.Z.setShowGameInviteNotification(!e)})}}function _(e){let{onClose:t}=e,{avatarSizeMode:n,displayNameMode:s,displayUserMode:a,notificationPositionMode:o,textChatNotificationMode:r,shouldShowKeybindIndicators:d,shouldShowInviteNotification:c}=(0,l.cj)([h.Z],()=>({avatarSizeMode:h.Z.getAvatarSizeMode(),displayNameMode:h.Z.getDisplayNameMode(),displayUserMode:h.Z.getDisplayUserMode(),notificationPositionMode:h.Z.getNotificationPositionMode(),textChatNotificationMode:h.Z.getTextChatNotificationMode(),shouldShowKeybindIndicators:h.Z.showKeybindIndicators,shouldShowInviteNotification:h.Z.showInviteNotification})),u=(0,m.Z)({location:"Overlay Settings"});return(0,i.jsx)(I,{onClose:t,avatarSizeMode:n,displayNameMode:s,displayUserMode:a,notificationPositionMode:o,textChatNotificationMode:r,shouldShowKeybindIndicators:d,showKeybindIndicators:u,shouldShowInviteNotification:c})}},483962:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651),s=n(192379),l=n(442837),a=n(831218),o=n(840780),r=n(51596),d=n(905423),c=n(237997),u=n(145597),h=n(981631),p=n(388032),g=n(757353);let m=()=>(0,r.$Z)("DM_SEARCH"),f=s.memo(function(){let e=(0,l.e7)([c.Z],()=>c.Z.isLocked((0,u.QF)())?"true":"false"),t=(0,d.Z)(e=>{let{channelId:t}=e;return t});return(0,i.jsxs)("div",{className:g.privateChannels,children:[(0,i.jsx)("div",{className:g.searchBar,children:(0,i.jsx)("button",{type:"button",className:g.searchBarComponent,onClick:m,children:p.intl.string(p.t.LzcpeX)})}),(0,i.jsx)(a.Z,{padding:8,theme:h.BRd.DARK,version:e,selectedChannelId:t}),(0,i.jsx)("section",{className:g.panels,"aria-label":p.intl.string(p.t.StREWF),children:(0,i.jsx)(o.Z,{guildId:null})})]})})},711553:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var s=n(120356),l=n.n(s),a=n(481060),o=n(518084),r=n(981631),d=n(388032),c=n(764547);let u=function(e){let t;let{title:n,header:s,children:u,renderSettings:h,onDragStart:p}=e;return t=null!=n?(0,i.jsxs)(o.ZP.Bar,{className:l()(c.header,c.draggableStartArea),onMouseDown:p,children:[(0,i.jsx)(o.ZP.Content,{className:l()(c.headerTitle,c.draggableStartArea),dynamicSize:!0,children:n}),(0,i.jsx)(o.ZP.Content,{children:(0,i.jsx)(a.yRy,{position:"right",renderPopout:null!=h?h:r.dG4,autoInvert:!1,children:e=>(0,i.jsx)(o.ZP.Icon,{...e,icon:a.ewm,label:d.intl.string(d.t["3D5yo6"])})})})]}):s,(0,i.jsxs)("div",{className:c.sidebar,children:[t,(0,i.jsx)("div",{className:c.children,children:u})]})}},261435:function(e,t,n){n.d(t,{Z:()=>er}),n(47120),n(653041);var i,s,l,a=n(512722),o=n.n(a),r=n(772848),d=n(442837),c=n(570140),u=n(13245),h=n(836932),p=n(175553),g=n(158979),m=n(181912),f=n(877183),v=n(791288),Z=n(194295),x=n(998033),S=n(181364),E=n(435064),C=n(668761),y=n(86071),N=n(358446),I=n(371651),_=n(428598),O=n(695346),j=n(163612),T=n(314897),k=n(592125),M=n(292959),b=n(158776),P=n(944486),w=n(885110),R=n(246946),D=n(594174),A=n(974180),L=n(808506),z=n(237997),V=n(70956),W=n(150097),F=n(129724),U=n(145597),B=n(449224),G=n(981631),H=n(987650),Y=n(388032);let K=5*V.Z.Millis.SECOND,X=8*V.Z.Millis.SECOND,Q=30*V.Z.Millis.SECOND,J=Object.freeze({priority:0,duration:K,expirationExternallyManaged:!1,type:0}),q=[],$=[],ee=(e,t,n)=>{let i=t?G._1z.TIMED_OUT:G._1z.DISMISSED;return setTimeout(()=>u.Z.updateNotificationStatus(e,i),null!=n?n:K)};function et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G._1z.DISMISSED;if(null==e)return!1;let n=q.findIndex(t=>t.id===e);if(-1===n)return!1;let i=q[n];clearTimeout(i.timerId),q=[...q],t===G._1z.DISMISSED?q.splice(n,1):q[n]={...i,status:t}}function en(e){let t=q.length;return(q=q.filter(t=>1!==t.type||t.channelId!==e)).length!==t}function ei(e){let t=q.find(t=>2===t.type&&t.channelId===e);return null!=t?t.id:null}function es(e,t){let n={...J,...t};if(2!==n.priority&&!z.Z.isInstanceFocused())return null;let i=(0,r.Z)(),s={id:i,status:G._1z.ACTIVE,timerId:ee(i,n.expirationExternallyManaged,n.duration),props:e,...n},l=(q=[...q]).findIndex(e=>e.priority<=n.priority);return -1===l?q.push(s):q.splice(l,0,s),q.length>10&&clearTimeout(q.pop().timerId),i}function el(e){let{contentInventoryEntries:t}=e;if(!z.Z.showInviteNotification)return!1;let n=B.Z.getGame();if(null==n||0===t.length)return;let{affinityThreshold:i}=y.Z.getCurrentConfig({location:"OverlayNotificationsStore"}),s=t;if(null!=i){var l;let e=_.Z.getUserAffinitiesMap();s=null!==(l=t.filter(t=>{var n;let s=null===(n=e.get(t.author_id))||void 0===n?void 0:n.communicationProbability;return null!=s&&s>=i}))&&void 0!==l?l:[]}0!==s.length&&es((0,v.Z)(n,s),{priority:2,type:"content-inventory",expirationExternallyManaged:!0,duration:X})}function ea(e){let{channelId:t,ringing:n}=e,i=ei(t);if(!n.includes(T.default.getId()))return et(i);if(null!=i)return!1;let s=k.Z.getChannel(t);if(null==s||!s.isRingable()||"GUILD_RING_START"===e.type&&!j.Z.getCurrentConfig({guildId:e.guildId,location:"OverlayStartRinging"}).enabled||w.Z.getStatus()===G.Skl.DND||O.QZ.getSetting())return!1;let l=q.find(e=>1===e.type&&e.channelId===t&&e.messageType===G.uaV.CALL);null!=l&&et(l.id),es((0,m.Z)(s),{priority:1,expirationExternallyManaged:!0,type:2,channelId:s.id})}class eo extends(i=d.ZP.Store){initialize(){this.waitFor(k.Z,D.default)}getNotifications(){return q}}l="OverlayNotificationsStore",(s="displayName")in eo?Object.defineProperty(eo,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):eo[s]=l;let er=new eo(c.Z,{OVERLAY_UPDATE_NOTIFICATION_STATUS:function(e){let{notificationId:t,status:n}=e;et(t,n)},OVERLAY_MOUNTED:function(e){var t;let{nudges:n}=e;if(I.default.hasChangedRenderMode(null!==(t=L.Z.getFocusedPID())&&void 0!==t?t:(0,U.QF)()))return;let i=function(e){switch(e.type){case H.nc.OOP_WELCOME:return(0,f.Z)(e);case H.nc.GO_LIVE_VOICE:case H.nc.GO_LIVE_NON_VOICE:return(0,g.Z)(e);case H.nc.KEYBIND_INDICATORS:return(0,N.Z)(e);case H.nc.NEWS:default:return(0,S.Z)(e)}}(n[0]);null!=i&&es(i,{priority:2,duration:X})},OVERLAY_SET_INPUT_LOCKED:function(e){let{locked:t}=e;if(t)return!1;q=q.map(e=>e.status===G._1z.ACTIVE?(clearTimeout(e.timerId),{...e,timerId:ee(e.id,e.expirationExternallyManaged)}):e)},MESSAGE_CREATE:function(e){var t,n,i;let{channelId:s,message:l}=e,a=k.Z.getChannel(s),r=D.default.getUser(null===(t=l.author)||void 0===t?void 0:t.id);if(null==a||null==r)return!1;if((null===(n=l.activity)||void 0===n?void 0:n.type)===G.mFx.JOIN||(null===(i=l.activity)||void 0===i?void 0:i.type)===G.mFx.JOIN_REQUEST){if(!(0,W.eF)(l,s,!0,!0))return!1;let e=function(e,t,n){let i,s;if(o()(null!=t.activity,"received null message activity"),n.id===T.default.getId())return!1;let l=B.Z.getGame();if(null==l)return!1;switch(t.activity.type){case G.mFx.JOIN:if(null==(i=b.Z.getApplicationActivity(n.id,l.id))||null==i.party||i.party.id!==t.activity.party_id)return!1;s=(0,h.Z)(e,t,n,l,i);break;case G.mFx.JOIN_REQUEST:if(null==(i=w.Z.getApplicationActivity(l.id))||null==i.party||i.party.id!==t.activity.party_id)return!1;s=(0,Z.Z)(e,n,l,i)}if(null==s)return!1;let a=es(s,{priority:2,expirationExternallyManaged:!0,channelId:e.id});return null!=a&&ee(a,!1,Q),!0}(a,l,r);if(!1!==e)return e}if((!z.Z.isInstanceLocked()||z.Z.isPinned(G.Odu.TEXT))&&s===P.Z.getChannelId()||z.Z.getTextChatNotificationMode()===G.Ypu.DISABLED||R.Z.disableNotifications||!(0,W.eF)(l,s))return!1;let d=!M.Z.isSoundDisabled(A.Ay);es((0,x.Z)(a,l,r,d),{type:1,channelId:a.id,messageType:l.type})},CHANNEL_SELECT:function(e){let{channelId:t}=e;return null!=t&&en(t)},MESSAGE_ACK:function(e){let{channelId:t}=e;return en(t)},CALL_CREATE:ea,CALL_UPDATE:ea,CALL_DELETE:function(e){let{channelId:t}=e;et(ei(t))},GUILD_RING_START:ea,GUILD_RING_STOP:function(e){let{channelId:t,guildId:n,ringing:i}=e;if(!j.Z.getCurrentConfig({guildId:n,location:"OverlayStopRinging"}).enabled)return!1;i.includes(T.default.getId())&&et(ei(t))},ACTIVITY_USER_ACTION:function(e){let t,{actionType:n,user:i,applicationId:s}=e,l=B.Z.getGame();return null!=l&&l.id===s&&(n===G.mFx.JOIN&&(t=(0,p.Z)(i,l)),null!=t&&void es(t,{priority:2,type:0}))},CLIPS_SAVE_CLIP_START:function(){es((0,C.f)(Y.intl.string(Y.t.NBMK9v)))},CLIPS_SAVE_CLIP:function(){es((0,C.f)(Y.intl.formatToPlainString(Y.t.KLhk6u,{duration:(0,F.A)(E.Z.getSettings().clipsLength/1e3,!0)})))},CLIPS_SAVE_CLIP_ERROR:function(){es((0,C.f)(Y.intl.string(Y.t["1ZbZur"])))},STREAM_START:function(e){let t=(0,C.y)();null!=t&&es(t)},OVERLAY_CONTENT_INVENTORY_READY:function(e){var t;let{contentInventoryEntries:n}=e;if(0===n.length||($=n,I.default.hasChangedRenderMode(null!==(t=L.Z.getFocusedPID())&&void 0!==t?t:(0,U.QF)())||null==B.Z.getGame()))return;let{enabled:i,affinityThreshold:s}=y.Z.getCurrentConfig({location:"OverlayNotificationsStore"});i&&(0!==_.Z.getUserAffinities().length||null==s)&&el({contentInventoryEntries:n})},LOAD_USER_AFFINITIES_V2_SUCCESS:function(e){let{affineUsers:t}=e;0!==t.length&&0!==$.length&&el({contentInventoryEntries:$})}})}}]);
//# sourceMappingURL=8c9ec8ddda0e84a4.js.map