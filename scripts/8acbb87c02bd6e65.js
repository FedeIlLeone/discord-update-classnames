"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["35567"],{56831:function(e){e.exports="/assets/142df9b603ff6d7d.svg"},298237:function(e,t,n){n.d(t,{default:()=>g}),n(47120);var l=n(200651),r=n(192379),a=n(990547),i=n(442837),o=n(481060),s=n(390885),c=n(594174),u=n(626135),f=n(63063),_=n(771308),d=n(13430),p=n(723359),m=n(981631),A=n(630724),N=n(388032),E=n(118174);function g(e){let{transitionState:t,onClose:n}=e,[g,S]=r.useState(null),[T,C]=r.useState(null),[v,w]=r.useState(!1),b=r.createRef(),h=(0,i.e7)([c.default],()=>c.default.getCurrentUser()),y=r.createRef();r.useEffect(()=>{s.Z.flowStep(A.MK.ANY,A.FF.AGE_GATE),u.default.track(m.rMx.OPEN_MODAL,{type:"Claim Age Gate"})},[]),r.useEffect(()=>{(null==h?void 0:h.nsfwAllowed)!=null&&n()},[h,n]);let U=async e=>{if(e.preventDefault(),null!=g){w(!0);try{await _.Av(g,m.jXE.CLAIM_ACCOUNT_MODAL)}catch(e){if(null!=e.body&&null!=e.body.date_of_birth)s.Z.flowStep(A.MK.ANY,A.FF.AGE_GATE_UNDERAGE),_.wE(p.L0.CLAIM_ACCOUNT),_.hp(p.L0.CLAIM_ACCOUNT),n();else{var t;(null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.username)!=null?C(N.intl.string(N.t["TGg/2t"])):C(null==e?void 0:e.body.message)}}w(!1)}},G=r.useCallback(()=>{var e;null===(e=y.current)||void 0===e||e.focus()},[y]);return(0,l.jsx)(o.Y0X,{transitionState:t,size:o.CgR.DYNAMIC,"aria-label":N.intl.string(N.t.QpSKo6),className:E.modal,impression:{impressionName:a.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!1}},children:(0,l.jsxs)(o.hzk,{className:E.content,children:[(0,l.jsx)("div",{className:E.image}),(0,l.jsxs)("form",{onSubmit:U,children:[(0,l.jsx)(o.X6q,{className:E.title,variant:"heading-xl/semibold",children:N.intl.string(N.t.QpSKo6)}),(0,l.jsx)(o.Text,{color:"header-secondary",className:E.description,variant:"text-md/normal",children:N.intl.format(N.t.EcJBEB,{helpURL:f.Z.getArticleURL(m.BhN.AGE_GATE)})}),(0,l.jsx)(d.Z,{required:!0,autoFocus:!0,wrapperClassName:E.formItem,label:N.intl.string(N.t.rhBeKS),name:"birthday",onChange:e=>S(e),onPopulated:G,error:T,value:g,ref:b}),(0,l.jsx)(o.zxk,{buttonRef:y,type:"submit",size:o.zxk.Sizes.LARGE,submitting:v,disabled:null==g,fullWidth:!0,children:N.intl.string(N.t.i4jeWV)})]})]})})}},959776:function(e,t,n){n.d(t,{Z:()=>o});var l=n(913527),r=n.n(l),a=n(626135),i=n(981631);function o(e,t){a.default.track(i.rMx.AGE_GATE_SUBMITTED,{dob:18>r()().diff(e,"years")?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})}},630724:function(e,t,n){n.d(t,{EW:()=>_,FF:()=>c,MK:()=>s,X2:()=>f,mx:()=>u});var l,r,a,i,o,s=((l={}).UNKNOWN="unknown",l.ANY="any",l.INVITE="invite",l.ORGANIC="organic_registration",l.ORGANIC_MARKETING="organic_marketing",l.ORGANIC_GUILD_TEMPLATES="organic_guild_template",l.CREATE_GUILD="create_guild",l),c=((r={}).AGE_GATE="age_gate",r.AGE_GATE_UNDERAGE="age_gate_underage",r),u=((a={}).CLAIM_ACCOUNT="claim_account",a.CLAIM_ACCOUNT_SUCCESS="claim_account_success",a),f=((i={}).GUILD_TEMPLATES="guild_templates",i.GUILD_CREATE="guild_create",i.CREATION_INTENT="creation_intent",i.CHANNEL_PROMPT="channel_prompt",i.JOIN_GUILD="join_guild",i.SUCCESS="create_success",i),_=((o={}).NUF_STARTED="nuf_started",o.AGE_GATE="age_gate",o.NUF_COMPLETE="nuf_complete",o.HUB_CONNECTION="hub_connection",o)},390885:function(e,t,n){n.d(t,{Z:()=>E});var l=n(15729),r=n(877124),a=n(731965),i=n(433517),o=n(710845),s=n(626135),c=n(630724),u=n(981631);let f="UserFlowAnalyticsStore_current",_="UserFlowAnalyticsStore";function d(e){if(e===c.MK.UNKNOWN)return null;let t=i.K.get("".concat(_,"-").concat(e));if(null==t)return null;let{version:n,...l}=t;return 1!==n?null:l}new o.Z("UserFlowAnalytics");let p=(0,l.U)()((0,r.XR)((e,t)=>({flows:{},currentFlow:null,activeFlow:()=>{var e;let n=null!==(e=t().currentFlow)&&void 0!==e?e:i.K.get(f);if(null==n)return null;let{[n]:l}=t().flows,r=null!=l?l:d(n);return(null==r?void 0:r.currentStep)!=null?n:null}})));function m(e,t){let{[e]:n,...l}=p.getState().flows,r=null!=n?n:d(e);((null==r?void 0:r.currentStep)==null||r.currentStep!==t)&&(0,a.j)(()=>{p.setState({flows:{...l,[e]:{type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1}},currentFlow:e})})}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=e;if(e===c.MK.ANY){var r;l=null!==(r=p.getState().activeFlow())&&void 0!==r?r:c.MK.UNKNOWN}let{[l]:i,...o}=p.getState().flows,s=null!=i?i:d(l);null!=s&&null!=s.currentStep&&s.currentStep!==t&&(0,a.j)(()=>{p.setState({flows:{...o,[l]:{...s,lastStep:s.currentStep,lastTimestamp:s.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}},currentFlow:l})})}function N(){return null!=p.getState().activeFlow()}p.subscribe(e=>null!=e.currentFlow?e.flows[e.currentFlow]:void 0,e=>{var t;if(null!=e&&(!function(e){if(e.type===c.MK.UNKNOWN)return;let t="".concat(_,"-").concat(e.type);e.ended?(i.K.remove(t),i.K.remove(f)):(i.K.set("".concat(_,"-").concat(e.type),{...e,version:1}),i.K.set(f,e.type))}(e),s.default.track(u.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0}),e.ended)){let t={...p.getState().flows};delete t[e.type],(0,a.j)(()=>{p.setState({flows:t,currentFlow:null})})}});let E={flowStart:m,flowStepOrStart:function(e,t){N()?A(e,t):m(e,t)},flowStep:A,hasActiveFlow:N}},438343:function(e,t,n){n.r(e.exports={container:"container_b0f4cc",title:"title_b0f4cc",inputs:"inputs_b0f4cc",day:"day_b0f4cc",month:"month_b0f4cc",year:"year_b0f4cc",errors:"errors_b0f4cc"})},118174:function(e,t,n){e.exports={modal:"modal__5fa9f",content:"content__5fa9f",image:"image__5fa9f",title:"title__5fa9f",description:"description__5fa9f",formItem:"formItem__5fa9f"}},474973:function(e,t,n){e.exports={select:"select_d48ec6",error:"error_d48ec6",errorMessage:"errorMessage_d48ec6"}}}]);
//# sourceMappingURL=8acbb87c02bd6e65.js.map