"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["91717"],{621054:function(e){e.exports="/assets/822cb9ca19556451.svg"},724757:function(e,t,n){n.d(t,{Z:()=>r});var a=n(192379),l=n(924826),i=n(442837),s=n(607070);function r(e,t,n){let r=(0,i.e7)([s.Z],()=>s.Z.keyboardModeEnabled),o=a.useCallback(e=>{let n=document.querySelector(e),a=t.current;null!=n&&null!=a&&(n.focus(),a.scrollIntoViewNode({node:n,padding:80}))},[t]),c=a.useCallback(()=>new Promise(e=>{let n=t.current;if(null==n)return e();n.scrollTo({to:0,callback:()=>requestAnimationFrame(()=>e())})}),[t]),d=a.useCallback(()=>new Promise(e=>{let n=t.current;if(null==n)return e();n.scrollTo({to:Number.MAX_SAFE_INTEGER,callback:()=>requestAnimationFrame(()=>e())})}),[t]);return(0,l.ZP)({id:e,isEnabled:r,setFocus:o,scrollToStart:c,scrollToEnd:d,orientation:null==n?void 0:n.orientation})}},289823:function(e,t,n){n.d(t,{Z:()=>I});var a=n(200651),l=n(192379),i=n(120356),s=n.n(i),r=n(974674),o=n(438784),c=n(481060),d=n(686546),u=n(3682),m=n(974193);let _={},h=1/4;function g(e){let{height:t,fillColor:n}=e;return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:t/2,backgroundColor:n,height:t,width:t*u.jR},children:(0,a.jsx)(o.b,{className:m.dots,dotRadius:t*h})})}function p(e){let{isTyping:t,statusCoords:n,status:l}=e,i=(0,c.vjg)(c.Skl.ONLINE);return t?(0,a.jsx)("div",{style:{position:"absolute",top:n.y,left:n.x},children:(0,a.jsx)(g,{height:n.height,fillColor:i})}):null!=l?(0,a.jsx)(c.qbd,{size:n.height,status:l,style:{position:"absolute",top:n.y,left:n.x}}):null}function f(e){let{src:t,size:n}=e;return(0,a.jsx)("img",{className:m.circularImage,src:t,alt:"",width:n,height:n})}let E={[c.EFr.SIZE_16]:{default:d.QS.DIAGONAL_FACEPILE_16,typing:d.QS.DIAGONAL_FACEPILE_TYPING_16,status:d.QS.DIAGONAL_FACEPILE_STATUS_16},[c.EFr.SIZE_20]:{default:d.QS.DIAGONAL_FACEPILE_20,typing:d.QS.DIAGONAL_FACEPILE_TYPING_20,status:d.QS.DIAGONAL_FACEPILE_STATUS_20},[c.EFr.SIZE_24]:{default:d.QS.DIAGONAL_FACEPILE_24,typing:d.QS.DIAGONAL_FACEPILE_TYPING_24,status:d.QS.DIAGONAL_FACEPILE_STATUS_24},[c.EFr.SIZE_32]:{default:d.QS.DIAGONAL_FACEPILE_32,typing:d.QS.DIAGONAL_FACEPILE_TYPING_32,status:d.QS.DIAGONAL_FACEPILE_STATUS_32},[c.EFr.SIZE_40]:{default:d.QS.DIAGONAL_FACEPILE_32,typing:d.QS.DIAGONAL_FACEPILE_TYPING_32,status:d.QS.DIAGONAL_FACEPILE_STATUS_32},[c.EFr.SIZE_48]:{default:d.QS.DIAGONAL_FACEPILE_40,typing:d.QS.DIAGONAL_FACEPILE_TYPING_40,status:d.QS.DIAGONAL_FACEPILE_STATUS_40},[c.EFr.SIZE_56]:{default:d.QS.DIAGONAL_FACEPILE_56,typing:d.QS.DIAGONAL_FACEPILE_TYPING_56,status:d.QS.DIAGONAL_FACEPILE_STATUS_56},[c.EFr.SIZE_80]:{default:d.QS.DIAGONAL_FACEPILE_80,typing:d.QS.DIAGONAL_FACEPILE_TYPING_80,status:d.QS.DIAGONAL_FACEPILE_STATUS_80},[c.EFr.SIZE_120]:{default:d.QS.DIAGONAL_FACEPILE_120,typing:d.QS.DIAGONAL_FACEPILE_TYPING_120,status:d.QS.DIAGONAL_FACEPILE_STATUS_120}},I=function(e){var t;let{backSrc:n,frontSrc:i,size:o,isTyping:h,status:g,style:I,className:C,...x}=e,{size:A}=c.ny6[o],{statusCoords:S,frontAvatarOffsetPx:T,frontAvatarSizePx:v,backAvatarSizePx:b}=l.useMemo(()=>{var e;let t="".concat(A,"-").concat(h);return null!==(e=_[t])&&void 0!==e?e:function(e,t,n){let a=c.ny6[e],l=a.size/(u.z3+u.o),i=l*u.z3,s=l*u.o,o={statusCoords:(0,r.Vq)(a,c.Skl.ONLINE,!1,t),frontAvatarSizePx:i,backAvatarSizePx:l,frontAvatarOffsetPx:s,frontAvatarCenter:s+i/2};return _[n]=o,o}(o,h,t)},[A,h,o]),L=(t=null!=g,h?E[o].typing:t?E[o].status:E[o].default);return(0,a.jsxs)("div",{style:{width:A,height:A,...I},"aria-label":x["aria-label"],"aria-hidden":x["aria-hidden"],className:s()(m.container,C),children:[(0,a.jsxs)(d.ZP,{mask:L,height:A,width:A,children:[(0,a.jsx)("img",{src:n,alt:"",width:b,height:b}),(0,a.jsx)("div",{style:{position:"absolute",top:T,left:T},children:(0,a.jsx)(f,{src:i,size:v,isTyping:h,status:g})})]}),(0,a.jsx)(p,{statusCoords:S,status:g,isTyping:h})]})}},859155:function(e,t,n){n.d(t,{Z:()=>_}),n(411104);var a=n(991637),l=n.n(a),i=n(388123),s=n(904245),r=n(761080),o=n(957730),c=n(592125),d=n(496675),u=n(784384);let m={async sendForward(e,t,n){let a=c.Z.getChannel(t),l=c.Z.getChannel(e.channel_id),m=(null==n?void 0:n.isICYMIGameContentForwarding)?r.KF:null==l?void 0:l.guild_id;if(null==l&&null==m)throw Error("Unable to find original channel for message");if(null==a)throw Error("Unable to find destination channel for message");let _=o.ZP.parse(a,""),h={guild_id:m,channel_id:e.channel_id,message_id:e.id,type:i.U.FORWARD,forward_only:(null==n?void 0:n.onlyAttachmentIds)!=null||(null==n?void 0:n.onlyEmbedIndices)!=null?{attachment_ids:n.onlyAttachmentIds,embed_indices:n.onlyEmbedIndices}:void 0};await s.Z.sendMessage(a.id,_,!1,{messageReference:h,eagerDispatch:!1}),(null==n?void 0:n.withMessage)==null||(0,u.pU)(a,d.Z)||await s.Z.sendMessage(a.id,o.ZP.parse(a,n.withMessage),!1)},sendForwards:(e,t,n)=>l()(t.map(t=>m.sendForward(e,t,n)))},_=m},819727:function(e,t,n){n.d(t,{G:()=>a});let a=5},784384:function(e,t,n){n.d(t,{HY:()=>C,nm:()=>I,pU:()=>x,y:()=>A}),n(47120),n(390547);var a=n(192379),l=n(106351),i=n(442837),s=n(933557),r=n(987509),o=n(926491),c=n(378233),d=n(131704),u=n(592125),m=n(496675),_=n(699516),h=n(594174),g=n(408433),p=n(823379),f=n(981631),E=n(388032);function I(e){let t=e.map(r.hl).find(p.lm),n=(0,i.e7)([u.Z],()=>u.Z.getChannel(t),[t]);return a.useMemo(()=>null!=n?n:(0,d.kt)({id:"1",type:l.d.DM}),[n])}function C(e,t,n){let a=n instanceof d.Sf;if(t.isNSFW()&&!(a&&n.isNSFW()))return{label:E.intl.string(E.t.KgPx1N)};if(a&&(0,d.Km)(n.type)){if((e.attachments.length>0||e.messageSnapshots.some(e=>e.message.attachments.length>0))&&!m.Z.can(f.Plq.ATTACH_FILES,n))return{label:E.intl.string(E.t.P7yvbm)};if((e.embeds.length>0||e.messageSnapshots.some(e=>e.message.embeds.length>0))&&!(0,g.eC)(n,m.Z)&&!(0,g.En)(e))return{label:E.intl.string(E.t.Wr4RIS)};let t=[...(0,c.cv)(e),...e.messageSnapshots.flatMap(e=>{let{message:t}=e;return(0,c.cv)(t)})];if(t.length>0&&!m.Z.can(f.Plq.USE_EXTERNAL_STICKERS,n)&&t.some(e=>(function(e,t){let n=o.Z.getStickerById(e.id);return!!(null!=n&&(0,c.J8)(n))&&(n.guild_id!==t.guild_id||void 0)})(e,n)))return{label:E.intl.string(E.t["0Yyrub"])};if((e.hasFlag(f.iLy.IS_VOICE_MESSAGE)||e.messageSnapshots.some(e=>e.message.hasFlag(f.iLy.IS_VOICE_MESSAGE)))&&!m.Z.can(f.Plq.SEND_VOICE_MESSAGES,n))return{label:E.intl.string(E.t.quj4DQ)}}}function x(e,t){return null!=e.rateLimitPerUser&&e.rateLimitPerUser>0&&!(t.can(f.Plq.MANAGE_CHANNELS,e)||t.can(f.Plq.MANAGE_MESSAGES,e))}function A(e){let t=(0,i.Wu)([u.Z,m.Z],()=>e.map(e=>{let{type:t,id:n}=e;return"channel"===t?u.Z.getChannel(n):null}).filter(p.lm).filter(e=>x(e,m.Z)),[e]);return(0,i.Wu)([h.default,_.Z],()=>t.map(e=>(0,s.F6)(e,h.default,_.Z,!0)),[t])}},318616:function(e,t,n){n.d(t,{c:()=>s});var a=n(442837),l=n(496675),i=n(408433);function s(e){var t,n,s;let{message:r,channel:o,forwardOptions:c}=e,d=null==c?void 0:c.onlyAttachmentIds,u=null==c?void 0:c.onlyEmbedIndices,m=null!==(s=null===(t=r.messageSnapshots[0])||void 0===t?void 0:t.message)&&void 0!==s?s:r,_=m.attachments;null!=d?_=m.attachments.filter(e=>d.includes(e.id)):null!=u&&(_=[]);let h=[];return(0,a.e7)([l.Z],()=>null!=o&&!(0,i.eC)(o,l.Z)&&(0,i.En)(r))||(h=m.embeds,null!=u?h=m.embeds.filter((e,t)=>u.includes(t)):null==d||(h=[])),(null!=u||""===m.content&&h.length>0)&&(m=m.set("content",h.map(e=>e.url).join("\n"))),""===m.content&&(null===(n=m.embeds[0])||void 0===n?void 0:n.rawDescription)!=null&&(m=m.set("content",m.embeds[0].rawDescription)),{attachments:_,embeds:h,hasContent:""!==m.content&&null==d,contentMessage:m}}},895442:function(e,t,n){n.d(t,{Z:()=>o});var a=n(592125),l=n(430824),i=n(594174),s=n(981631);function r(e){if(!e.isPrivate()){let t=l.Z.getGuild(e.guild_id);return null!=t&&t.hasFeature(s.oNc.INTERNAL_EMPLOYEE_ONLY)}return e.recipients.every(e=>{let t=i.default.getUser(e);return null!=t&&t.isStaff()})}function o(e,t){var n;if(!(null===(n=i.default.getCurrentUser())||void 0===n?void 0:n.isStaff()))return!1;let l=a.Z.getChannel(e.channel_id);return!!(null!=l&&r(l))&&t.some(e=>{let t=a.Z.getChannel(e);return!(null==t||t.isPrivate())&&!r(t)})}},757853:function(e,t,n){n.d(t,{F:()=>H,G:()=>j}),n(47120);var a,l=n(200651),i=n(192379),s=n(120356),r=n.n(s),o=n(913527),c=n.n(o),d=n(91192),u=n(442837),m=n(481060),_=n(700582),h=n(493773),g=n(724757),p=n(212819),f=n(933557),E=n(266076),I=n(810123),C=n(448486),x=n(987509),A=n(592125),S=n(430824),T=n(158776),v=n(306680),b=n(699516),L=n(594174),y=n(626135),N=n(55935),P=n(823379),Z=n(51144),M=n(784384),w=n(981631),R=n(490897),D=n(388032),O=n(121059),j=((a={}).TOGGLE="toggle",a.SEND="send",a);function k(e){let{message:t,destination:n,rowMode:a,icon:s,label:o,subLabel:c,selected:u,disabled:_,onPressDestination:g,"aria-setsize":p,"aria-posinset":f}=e,E=(0,d.JA)(n.id),[I,C]=i.useState(!1),x=i.useRef(!1),A=i.useCallback(()=>{if("send"===a){C(!0),x.current=!0;return}null==g||g(n)},[a,g,n]),S=i.useCallback(()=>{y.default.track(w.rMx.FORWARD_ONE_TAP_VIEW,{channel_id:t.channel_id,message_id:t.id}),x.current=!1,null==g||g(n,{transitionToDestination:!0,closeAfterSend:!0})},[t.channel_id,t.id,g,n]),T=i.useCallback(()=>{C(!1),x.current=!1,y.default.track(w.rMx.FORWARD_ONE_TAP_UNDO,{channel_id:t.channel_id,message_id:t.id})},[t]);return(0,h.ZP)(()=>()=>{x.current&&(x.current=!1,null==g||g(n,{transitionToDestination:!1,closeAfterSend:!1}))}),(0,l.jsxs)(m.P3F,{className:r()(O.destinationRow,{[O.disabled]:_}),onClick:_||I?void 0:A,"aria-selected":u,"aria-setsize":p,"aria-posinset":f,...E,children:[(0,l.jsxs)("div",{className:O.identity,children:[(0,l.jsx)("div",{className:O.iconWrapper,children:s}),(0,l.jsxs)("div",{className:O.labels,children:[(0,l.jsx)(m.Text,{tag:"strong",className:O.label,variant:"text-md/semibold",lineClamp:1,children:o}),(0,l.jsx)(m.Text,{className:O.subLabel,variant:"text-xs/normal",color:"text-muted",children:c})]})]}),"toggle"===a&&!_&&(0,l.jsx)(m.XZJ,{type:m.XZJ.Types.INVERTED,displayOnly:!0,size:24,value:u,className:O.checkbox}),"send"===a&&!_&&(0,l.jsxs)("div",{className:O.actions,children:[I?(0,l.jsx)(m.zxk,{size:m.zxk.Sizes.SMALL,color:m.zxk.Colors.PRIMARY,look:m.zxk.Looks.LINK,onClick:S,children:D.intl.string(D.t["HO/oXl"])}):(0,l.jsx)("div",{className:r()((0,m.nYM)({size:m.zxk.Sizes.SMALL,color:m.zxk.Colors.BRAND}),O.fauxButton),children:D.intl.string(D.t.TXNS7e)}),I&&(0,l.jsx)(m.zxk,{size:m.zxk.Sizes.SMALL,color:m.zxk.Colors.BRAND,look:m.zxk.Looks.OUTLINED,onClick:T,children:D.intl.string(D.t.KyUKhY)})]})]})}function F(e){let{user:t,subLabel:n,...a}=e,i=Z.ZP.useName(t),s=Z.ZP.useUserTag(t,{decoration:"never"}),r=(0,u.e7)([b.Z],()=>b.Z.getNickname(t.id)),o=(0,u.e7)([T.Z],()=>T.Z.getStatus(t.id));return(0,l.jsx)(k,{...a,icon:(0,l.jsx)(_.Z,{"aria-hidden":!0,size:m.EFr.SIZE_32,user:t,status:o}),label:null!=r?r:i,subLabel:null!=n?n:s})}function G(e){let{channel:t,subLabel:n,...a}=e,i=(0,f.ZP)(t),s=(0,C._)(t);return(0,l.jsx)(k,{...a,icon:(0,l.jsx)(E.Z,{"aria-hidden":!0,size:m.EFr.SIZE_32,channel:t,experimentLocation:"forward-modal"}),label:i,subLabel:null!=n?n:s})}function U(e){let{channel:t,subLabel:n,...a}=e,i=(0,u.e7)([S.Z],()=>S.Z.getGuild(null==t?void 0:t.guild_id)),s=(0,f.ZP)(t),r=(0,u.e7)([A.Z,L.default,b.Z],()=>{let e=A.Z.getChannel(t.parent_id);return null==e?null:(0,f.F6)(e,L.default,b.Z,!1)}),o=(0,u.e7)([v.ZP],()=>v.ZP.lastMessageTimestamp(t.id,R.W.CHANNEL)),d=null==i?void 0:i.name;if(t.isThread()||t.isForumPost()){let e=t.isForumPost()?m.Mmi:m.VL1;d=(0,l.jsxs)("div",{className:O.threadSubLabel,children:[(0,l.jsx)(e,{color:m.TVs.colors.TEXT_SECONDARY,className:O.subLabelIcon}),(0,l.jsx)(m.Text,{variant:"text-xs/medium",color:"text-secondary",lineClamp:1,children:r}),null!=o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Text,{className:O.subLabelSeparator,variant:"text-xs/medium",color:"text-secondary",children:"•"}),(0,l.jsx)(m.Text,{variant:"text-xs/medium",color:"text-secondary",children:(0,N.Xf)(c()(o))})]}):null]})}return(0,l.jsx)(k,{...a,icon:(0,l.jsx)(I.Z,{size:I.E.SMALL_32,guild:i,channel:t}),label:s,subLabel:null!=n?n:d})}function H(e){let{rowData:t,rowMode:n,message:a,originChannel:s,selectedDestinations:r,handleToggleDestination:o,disableSelection:c,...u}=e,_=i.useMemo(()=>[t.length],[t.length]),h=i.useCallback(()=>48,[]),f=i.useMemo(()=>{var e;return null!==(e=null==r?void 0:r.map(x.hC))&&void 0!==e?e:[]},[r]),E=i.useCallback(e=>{let{section:i,row:r}=e;if(i>0)return;let{type:d,record:u}=t[r];if(d===p.h8.HEADER)return;let m=d===p.h8.USER?{type:"user",id:u.id}:{type:"channel",id:u.id},_=(0,x.hC)(m),h=(0,M.HY)(a,s,u),g=f.includes(_),E={key:_,message:a,destination:m,rowMode:n,subLabel:null!=h?h.label:void 0,disabled:c&&!g||null!=h,selected:g,onPressDestination:o,"aria-posinset":r+1,"aria-setsize":t.length};return d===p.h8.USER?(0,l.jsx)(F,{user:u,...E}):d===p.h8.GROUP_DM?(0,l.jsx)(G,{channel:u,...E}):d===p.h8.TEXT_CHANNEL||d===p.h8.VOICE_CHANNEL?(0,l.jsx)(U,{channel:u,...E}):void(0,P.vE)(d)},[c,o,a,s,t,n,f]),I=i.useRef(null),C=(0,g.Z)("forward-modal",I);return(0,l.jsx)(d.bG,{navigator:C,children:(0,l.jsx)(d.SJ,{children:e=>{let{ref:t,...n}=e;return(0,l.jsx)(m.YAO,{scrollerRef:e=>{var n;I.current=e,t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},...n,...u,sections:_,sectionHeight:0,renderRow:E,rowHeight:h})}})})}},388275:function(e,t,n){n.d(t,{n:()=>I}),n(47120);var a=n(200651),l=n(192379),i=n(442837),s=n(481060),r=n(430742),o=n(541716),c=n(752305),d=n(893718),u=n(849522),m=n(703558),_=n(784384),h=n(822869),g=n(912332),p=n(646746),f=n(388032),E=n(121059);function I(e){let{message:t,forwardOptions:n,sendLabel:I,canSend:C,selectedDestinations:x,isSending:A,onSend:S,showPreview:T}=e,v=(0,u.Z)(),b=(0,_.nm)(x),L=(0,_.y)(x),y=(0,h.Ad)(),N=(0,i.e7)([m.Z],()=>m.Z.getDraft(t.channel_id,m.d.ForwardContextMessage)),[P,Z]=l.useState(()=>(0,c.eK)(N)),{textValue:M,richValue:w}=P,[R,D]=l.useState(!1),O=l.useCallback(()=>D(!0),[]),j=l.useCallback(()=>D(!1),[]),k=l.useCallback((e,n,a)=>{Z({textValue:n,richValue:a}),r.Z.saveDraft(t.channel_id,n,m.d.ForwardContextMessage),y(t.channel_id,t.id)},[y,t]),F=l.useCallback(()=>{r.Z.clearDraft(t.channel_id,m.d.ForwardContextMessage),S(M)},[t.channel_id,S,M]),G=l.useCallback(()=>(!C||M.length>v||F(),Promise.resolve({shouldClear:!1,shouldRefocus:!0})),[F,M,v,C]);return(0,a.jsxs)(s.mzw,{className:E.footerWithMessage,children:[T&&(0,a.jsx)("div",{className:E.forwardPreviewWrapper,children:(0,a.jsx)(p.O,{message:t,forwardOptions:n,channel:b})}),(0,a.jsxs)("div",{className:E.footerWarningWrapper,children:[(0,a.jsxs)("div",{className:E.footerButtons,children:[(0,a.jsx)(d.Z,{innerClassName:E.messageInput,onChange:k,placeholder:f.intl.string(f.t.ZroO3N),channel:b,textValue:M,richValue:w,type:o.Ie.FORWARD_MESSAGE_INPUT,onBlur:j,onFocus:O,focused:R,onSubmit:G,parentModalKey:g.so,autoCompletePosition:"bottom",emojiPickerCloseOnModalOuterClick:!0,disableThemedBackground:!0}),(0,a.jsx)(s.zxk,{className:E.sendWithMessage,submitting:A,disabled:!C||M.length>v,onClick:F,children:I})]}),L.length>0&&M.length>0&&(0,a.jsx)(s.Text,{variant:"text-sm/normal",color:"text-warning",children:f.intl.format(f.t.xJFpio,{count:L.length,channelNames:L.join(", ")})})]})]})}},930864:function(e,t,n){n.d(t,{ForwardModal:()=>N}),n(47120);var a=n(200651),l=n(192379),i=n(392711),s=n(442837),r=n(481060),o=n(348245),c=n(359110),d=n(987509),u=n(72214),m=n(592125),_=n(375954),h=n(934415),g=n(572004),p=n(823379),f=n(859155),E=n(822869),I=n(346610),C=n(895442),x=n(757853),A=n(388275),S=n(912332),T=n(646746),v=n(819727),b=n(388032),L=n(121059),y=n(621054);function N(e){let{message:t,initialSelectedDestinations:N,forwardOptions:P,onClose:Z,onRequestSent:M,...w}=e,{channel_id:R,id:D}=t,{hasOneTapSendButton:O,hasMessageInput:j,hasPreview:k}=(0,I.yk)({location:"ForwardModal"}),F=l.useMemo(()=>(0,d.dL)(R),[R]),[G,U]=l.useState(!1),H=(0,s.e7)([_.Z],()=>{var e;return null!==(e=_.Z.getMessage(t.channel_id,t.id))&&void 0!==e?e:t},[t]),W=(0,s.e7)([m.Z],()=>m.Z.getChannel(R),[R]),z=(0,E.ZF)(),Q=(0,E.mh)(),V=l.useRef(0),B=l.useRef(0),[q,K]=l.useState(N),X=q.length,Y=X>=v.G,[J,$]=l.useState(""),{results:ee,updateSearchText:et}=(0,u.s)({selectedDestinations:q,originDestination:F,includeMissingDMs:!0}),en=l.useCallback(e=>{$(e),et(e),B.current+=1,""!==e&&Q(R,D)},[R,D,Q,et]),ea=l.useCallback(()=>{(0,E.sF)({channelId:R,messageId:D,numDestinationChanges:V.current,numQueryChanges:B.current}),Z()},[R,D,Z]),el=l.useCallback(()=>{var e;let t=null===(e=m.Z.getChannel(R))||void 0===e?void 0:e.guild_id,n=(0,h.wR)(t,R,D);(0,r.showToast)((0,r.createToast)(b.intl.string(b.t["L/PwZW"]),r.ToastType.LINK)),(0,g.JG)(n),(0,E.xp)(R,D)},[R,D]),ei=l.useCallback(()=>{$("")},[$]),es=l.useRef(null);l.useEffect(()=>{if(""===J){var e;null===(e=es.current)||void 0===e||e.focus()}},[J]);let er=l.useMemo(()=>(0,i.throttle)(()=>{(0,r.showToast)((0,r.createToast)(b.intl.string(b.t.kwmYkp),r.ToastType.FORWARD))},3e3,{leading:!0,trailing:!1}),[]),eo=l.useCallback(e=>{z(R,D,""!==J),K(t=>{let n=t.findIndex(t=>{let{type:n,id:a}=t;return n===e.type&&a===e.id});if(-1===n)return Y?t:($(""),V.current+=1,[e,...t]);let a=[...t];return a.splice(n,1),V.current+=1,a})},[R,Y,D,J,z]),ec=l.useCallback(async function(e){var l;let{withMessage:i,transitionToDestination:s,closeAfterSend:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=null!==(l=_.Z.getMessage(R,D))&&void 0!==l?l:t;if(null==h){(0,r.showToast)((0,r.createToast)(b.intl.string(b.t.R0RpRU),r.ToastType.FAILURE));return}U(!0);let g=(await Promise.all(e.map(d.qx))).filter(p.lm);if((0,C.Z)(h,g)&&!await new Promise(e=>{(0,r.ZDy)(async()=>{let{default:t}=await n.e("88643").then(n.bind(n,466080));return n=>(0,a.jsx)(t,{...n,onConfirm:()=>e(!0),onBack:()=>e(!1)})})})){U(!1);return}u&&(0,S.mc)(),null==M||M(),s&&(await o.Z.fetchMessages({channelId:g[0]}),(0,c.Kh)(g[0],{openTextInVoiceIfVoiceChannel:!0}));let I=await f.Z.sendForwards(h,g,{...P,withMessage:i}),x=g.some(e=>{let t=m.Z.getChannel(e);return null!=t&&t.rateLimitPerUser>0});if(I.every(e=>{let{status:t}=e;return"fulfilled"===t})){(0,E.gP)({channelId:R,messageId:D,hasError:!1,hasContextMessage:null!=i&&""!==i,numDestinations:g.length,numDestinationChanges:V.current,numQueryChanges:B.current,anyDestinationHasSlowmode:x}),er();return}(0,E.gP)({channelId:R,messageId:D,hasError:!0,hasContextMessage:null!=i&&""!==i,numDestinations:g.length,numDestinationChanges:V.current,numQueryChanges:B.current,anyDestinationHasSlowmode:x});let A=e.filter((e,t)=>"rejected"===I[t].status);(0,S.Np)({message:h,failedDestinations:A,forwardOptions:P})},[R,P,D,t,M,er]),ed=l.useCallback(e=>{ec(q,{withMessage:e,transitionToDestination:1===q.length,closeAfterSend:!0})},[ec,q]),eu=l.useCallback(()=>ed(),[ed]),em=l.useCallback(function(e){let{transitionToDestination:t,closeAfterSend:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ec([e],{transitionToDestination:t,closeAfterSend:n})},[ec]);if(null==H||null==W)return null;let e_=ee.length>0?(0,a.jsx)(x.F,{paddingBottom:16,paddingTop:16,rowData:ee,rowMode:O?x.G.SEND:x.G.TOGGLE,message:H,originChannel:W,handleToggleDestination:O?em:eo,selectedDestinations:q,disableSelection:Y}):(0,a.jsxs)(r.hzk,{className:L.noResults,children:[(0,a.jsx)("img",{className:L.noResultsImg,src:y,alt:""}),(0,a.jsx)(r.Text,{variant:"text-md/normal",color:"text-muted",children:b.intl.string(b.t.V6nAfH)})]}),eh=X<=1?b.intl.string(b.t.TXNS7e):b.intl.formatToPlainString(b.t.jWtYUl,{count:X});return(0,a.jsxs)(r.Y0X,{className:L.modal,"aria-label":b.intl.string(b.t["+SkRRk"]),...w,children:[(0,a.jsxs)(r.xBx,{className:L.header,children:[(0,a.jsxs)("div",{className:L.titleLine,children:[(0,a.jsx)("div",{className:L.title,children:(0,a.jsx)(r.y5t,{component:(0,a.jsx)(r.X6q,{variant:"heading-lg/semibold",children:b.intl.string(b.t["+SkRRk"])}),children:Y?(0,a.jsx)(r.Text,{variant:"text-sm/normal",color:"text-warning",children:b.intl.format(b.t["3Fbkio"],{count:v.G})}):(O||j)&&(0,a.jsx)(r.X6q,{variant:"heading-sm/normal",color:"header-muted",children:b.intl.string(b.t["VA+btL"])})})}),(0,a.jsx)(r.olH,{className:L.closeButton,onClick:ea})]}),O&&k&&(0,a.jsx)("div",{className:L.forwardPreviewWrapperInset,children:(0,a.jsx)(T.O,{message:H,forwardOptions:P})}),(0,a.jsx)(r.E1j,{ref:es,size:r.E1j.Sizes.MEDIUM,query:J,onChange:en,onClear:ei,placeholder:b.intl.string(b.t["5h0QOD"]),"aria-label":b.intl.string(b.t["5h0QOD"]),autoFocus:!0})]}),e_,!O&&(j?(0,a.jsx)(A.n,{message:H,forwardOptions:P,sendLabel:eh,canSend:X>0,selectedDestinations:q,isSending:G,onSend:ed,showPreview:k}):(0,a.jsxs)(r.mzw,{className:L.footer,children:[(0,a.jsx)(r.zxk,{submitting:G,disabled:0===X,onClick:eu,children:eh}),(0,a.jsx)(r.zxk,{onClick:el,look:r.zxk.Looks.OUTLINED,color:r.zxk.Colors.PRIMARY,children:b.intl.string(b.t.WqhZsr)})]}))]})}},646746:function(e,t,n){n.d(t,{O:()=>f});var a=n(200651),l=n(192379),i=n(120356),s=n.n(i),r=n(392711),o=n(481060),c=n(686546),d=n(124347),u=n(499376),m=n(937889),_=n(930282),h=n(318616),g=n(388032),p=n(477530);function f(e){let{message:t,forwardOptions:n,channel:i}=e,{attachments:f,embeds:E,hasContent:I,contentMessage:C}=(0,h.c)({message:t,channel:i,forwardOptions:n}),x=l.useMemo(()=>I?(0,m.ZP)(t,{formatInline:!0,allowLinks:!0,allowHeading:!0,allowList:!0,hideSimpleEmbedContent:!1,contentMessage:C}).content:null,[C,I,t]),A=f.length,S=null,T=null,v=null;if(A>0||E.length>0){var b,L,y,N;let e=(0,r.countBy)(f,e=>(0,u.aw)(e,!0)),t=null!==(y=e.IMAGE)&&void 0!==y?y:0,n=null!==(N=e.VIDEO)&&void 0!==N?N:0;t>0&&n>0?(S=g.intl.formatToPlainString(g.t.Lr0Toq,{image_count:t,video_count:n}),T=o.Ka2):n>0?(S=g.intl.formatToPlainString(g.t.SJ6pPT,{count:n}),T=o.g8d):t>0?(S=g.intl.formatToPlainString(g.t.h4pFfX,{count:t}),T=1===t?o.XBm:o.Ka2):(S=g.intl.formatToPlainString(g.t["89ihS0"],{count:A}),T=o.Ujz),n>0&&A===n?v=(0,a.jsxs)("div",{className:s()(p.attachmentPreview,p.attachmentPreviewVideo),children:[(0,a.jsx)(d.ZP,{className:p.thumbnail,src:f[0].proxy_url,width:56,height:56}),(0,a.jsx)(o.g8d,{className:p.playIcon,size:"md",color:"white"})]}):A>0?v=(0,a.jsx)("div",{className:p.attachmentPreview,children:(0,a.jsx)(d.ZP,{src:f[0].proxy_url,width:56,height:56})}):(null===(L=E[0])||void 0===L?void 0:null===(b=L.thumbnail)||void 0===b?void 0:b.proxyURL)!=null&&(v=(0,a.jsx)("div",{className:p.attachmentPreview,children:(0,a.jsx)(d.ZP,{src:E[0].thumbnail.proxyURL,width:56,height:56})}))}return A>1&&null!=v&&(v=(0,a.jsxs)("div",{className:p.attachmentPreviewOverflow,children:[(0,a.jsx)(c.ZP,{mask:c.ZP.Masks.FORWARD_ATTACHMENT_PILE_OVERFLOW,width:56,height:56,children:v}),(0,a.jsxs)(o.Text,{className:p.overflowCount,variant:"text-xs/semibold",color:"text-normal",children:["+",A-1]})]})),(0,a.jsxs)("div",{className:p.forwardPreview,children:[(0,a.jsx)("div",{className:p.quote}),(0,a.jsxs)("div",{className:p.contentWrapper,children:[I&&(0,a.jsx)(_.ZP,{className:s()(p.forwardPreviewMessage,A>0&&p.hasAttachments),message:t,content:x}),A>0&&(0,a.jsxs)("div",{className:p.attachmentRow,children:[null!=T&&(0,a.jsx)(T,{size:"custom",width:I?18:20,color:o.TVs.colors.TEXT_LOW_CONTRAST}),null!=S&&(0,a.jsx)(o.Text,{variant:I?"text-sm/medium":"text-md/medium",color:"text-low-contrast",children:S})]})]}),v]})}},761080:function(e,t,n){n.d(t,{KF:()=>i}),n(47120);var a=n(70956),l=n(981631);a.Z.Millis.MINUTE;let i="1312632705086787756";l.hBH.IMAGE,l.hBH.GIFV},93687:function(e,t,n){n.d(t,{Z:()=>a});let a=(0,n(818083).B)({kind:"user",id:"2024-04_gdm_presence",label:"Group DM Presence",defaultConfig:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!1},treatments:[{id:1,label:"Status Indicator Only",config:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!1}},{id:2,label:"Typing Indicator Only",config:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!0}},{id:3,label:"Status Indicator + Typing Indicator",config:{isFacepileEnabled:!1,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!0}},{id:4,label:"Facepile Only",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!1}},{id:5,label:"Facepile + Status Indicator",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!1}},{id:6,label:"Facepile + Typing Indicator",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!1,isTypingIndicatorEnabled:!0}},{id:7,label:"Facepile + Typing Indicator + Status Indicator",config:{isFacepileEnabled:!0,isStatusIndicatorEnabled:!0,isTypingIndicatorEnabled:!0}}]})},266076:function(e,t,n){n.d(t,{Z:()=>c});var a=n(200651),l=n(192379),i=n(481060),s=n(43267),r=n(93687),o=n(785232);let c=l.memo(function(e){let{channel:t,size:n,facepileSizeOverride:l,experimentLocation:c,isTyping:d,status:u,className:m,animated:_=!1,...h}=e,{isFacepileEnabled:g}=r.Z.useExperiment({location:c},{autoTrackExposure:!0});return t.recipients.length>=2&&g&&null==t.icon?(0,a.jsx)(o.Z,{"aria-label":h["aria-label"],"aria-hidden":h["aria-hidden"],className:m,recipients:t.recipients,size:null!=l?l:n,isTyping:d,status:u}):(0,a.jsx)(i.qEK,{"aria-hidden":h["aria-hidden"],"aria-label":h["aria-label"],className:m,size:n,src:(0,s.x)(t,80,_)})})},785232:function(e,t,n){n.d(t,{Z:()=>o});var a=n(200651);n(192379);var l=n(442837),i=n(481060),s=n(289823),r=n(594174);let o=function(e){let{recipients:t,size:n,status:o,isTyping:c,className:d,...u}=e,m=i.ny6[n],_=(0,l.Wu)([r.default],()=>t.slice(0,2).map(e=>{let t=r.default.getUser(e);if(null!=t)return t.getAvatarURL(void 0,m.size,!1)}),[t,m.size]);return(0,a.jsx)(s.Z,{"aria-label":u["aria-label"],"aria-hidden":u["aria-hidden"],backSrc:_[0],frontSrc:_[1],size:n,status:o,isTyping:null!=c&&c,className:d})}},810123:function(e,t,n){n.d(t,{E:()=>u,Z:()=>h});var a,l=n(200651),i=n(120356),s=n.n(i),r=n(468194),o=n(471445),c=n(686546),d=n(954528),u=((a={}).SMALL_32="SMALL_32",a);let m={SMALL_32:24},_={SMALL_32:[13,11,10,10,10,10,10]},h=function(e){var t;let{className:n,iconClassName:a,size:i,channel:u,guild:h,locked:g,hasActiveThreads:p}=e;if(null==h)return null;let f=h.getIconURL(48),E=_[i],I=m[i],C=(0,o.KS)(u,h,{locked:g,hasActiveThreads:p});if(null==C)return null;let x=(0,r.Zg)(null!==(t=null==h?void 0:h.toString())&&void 0!==t?t:null);return(0,l.jsxs)("div",{role:"img",className:n,children:[(0,l.jsx)(c.ZP,{mask:c.QS.GUILD_ICON_WITH_CHANNEL_TYPE,children:null!=f?(0,l.jsx)("img",{alt:"",src:f,className:d.channelGuildIcon,style:{width:I,height:I}}):(0,l.jsx)("div",{className:s()(d.channelGuildIcon,d.acronym),style:{fontSize:x.length-1>E.length?E[E.length-1]:E[x.length-1],width:I,height:I},children:x})}),(0,l.jsx)(C,{className:s()(d.icon,d.iconWithGuildIcon,a),color:"currentColor"})]})}},448486:function(e,t,n){n.d(t,{_:()=>c});var a=n(192379),l=n(442837),i=n(594174),s=n(823379),r=n(51144),o=n(388032);function c(e){let t=(0,l.Wu)([i.default],()=>e.recipients.map(e=>i.default.getUser(e)).filter(s.lm).map(e=>r.ZP.getName(e)));return a.useMemo(()=>""===e.name?null:function(e){if(0===e.length)return null;if(1===e.length)return o.intl.formatToPlainString(o.t["J+Wpsr"],{first:e[0]});if(2===e.length)return o.intl.formatToPlainString(o.t.gwRP0d,{first:e[0],second:e[1]});if(3===e.length)return o.intl.formatToPlainString(o.t.QDB5en,{first:e[0],second:e[1],third:e[2]});let t=e.length-3;return o.intl.formatToPlainString(o.t.VYfueX,{first:e[0],second:e[1],third:e[2],count:t})}(t),[e,t])}},499376:function(e,t,n){n.d(t,{Ld:()=>c,R_:()=>o,aw:()=>d,pU:()=>u}),n(789020);var a=n(630388),l=n(406432),i=n(828061),s=n(981631);let r=/\.(mp3|m4a|ogg|opus|wav|flac)$/i,o=e=>"IMAGE"===e||"VIDEO"===e||"CLIP"===e||"VISUAL_PLACEHOLDER"===e,c=e=>"IMAGE"===e||"VIDEO"===e||"VISUAL_PLACEHOLDER"===e;function d(e,t){let{filename:n,width:o,height:c}=e;if(t&&null!=o&&o>0&&null!=c&&c>0){var d;if((0,l.CO)(n))return"IMAGE";if(!(0,l.NU)(n)||null==e.proxy_url)return"INVALID";return(0,a.yE)(null!==(d=e.flags)&&void 0!==d?d:0,s.J0y.IS_CLIP)?"CLIP":"VIDEO"}return null!=t&&r.test(n)&&null!=e.url?"AUDIO":null!=e.url&&(0,i.O)(n)?"PLAINTEXT_PREVIEW":"OTHER"}function u(e){let{contentType:t,width:n,height:a}=e;if(null!=n&&n>0&&null!=a&&a>0){if((0,l.tw)(t))return"IMAGE";if((0,l.X2)(t))return"VIDEO"}return"VISUAL_PLACEHOLDER"}},453687:function(e,t,n){n.d(t,{Dv:()=>c,Gq:()=>r,Gx:()=>_,XX:()=>o,bX:()=>u,bY:()=>d,iG:()=>m,ut:()=>s});var a=n(446108),l=n(901461),i=n(981631);function s(e){return"message-content-".concat(e.id)}function r(e){return"message-reply-context-".concat(e.id)}function o(e,t){let n=null!=t?t:e.id;return"message-username-".concat(n)}function c(e){return"message-timestamp-".concat(e.id)}function d(e){return"message-reactions-".concat(e.id)}function u(e){return"message-accessories-".concat(e.id)}function m(e,t,n){let d=e.type===i.uaV.REPLY&&null!=e.messageReference,m=e.embeds.length>0,_=e.attachments.length>0,h=e.stickerItems.length>0,g=e.codedLinks.length>0,p=e.hasFlag(i.iLy.HAS_THREAD),f=m||_||h||g||p||e.type===i.uaV.THREAD_CREATED,E=m&&e.content===e.embeds[0].url&&e.embeds[0].type===i.hBH.GIFV,I=e.type!==i.uaV.DEFAULT||!E&&""!==e.content,C=(0,l.Z)(e),x=!C&&(null==n?void 0:n.hasTimestamp)!==!1,A=o(e,t),S=r(e),T=C?"":"".concat(d?S:A," ").concat(a.Z0);if(I){let t=s(e);T+=" ".concat(t)}if(f){let t=u(e);T+=" ".concat(t)}if(x){let t=c(e);T+=" ".concat(a.fy," ").concat(t)}return T.trim()}function _(e){if(0===e.reactions.length)return;let t=d(e);return"".concat(a.Mb," ").concat(t)}},930282:function(e,t,n){n.d(t,{HR:()=>f,L5:()=>p,ZP:()=>E});var a=n(200651),l=n(192379),i=n(120356),s=n.n(i),r=n(653603),o=n.n(r),c=n(902704),d=n(453687),u=n(318713),m=n(981631),_=n(388032),h=n(732175),g=n(663362);function p(e,t){return e.type===m.uaV.VOICE_HANGOUT_INVITE?"":e.hasFlag(m.iLy.SOURCE_MESSAGE_DELETED)?_.intl.string(_.t.JOtgS0):t}function f(e,t){var n,a;let{message:l}=t,{message:i}=e;return(0,c.Z)(e,t,["message"])&&l.content===i.content&&l.state===i.state&&(null===(n=l.editedTimestamp)||void 0===n?void 0:n.toString())===(null===(a=i.editedTimestamp)||void 0===a?void 0:a.toString())}let E=l.memo(function(e){var t;let{className:n,message:i,children:r,content:c,onUpdate:f,contentRef:E}=e,I=i.isEdited(),C=i.state===m.yb.SEND_FAILED,x=i.state===m.yb.SENDING,A=i.isCommandType(),S=null===(t=i.editedTimestamp)||void 0===t?void 0:t.toString(),T=l.useRef(!1);return l.useLayoutEffect(()=>{T.current?null!=f&&f():T.current=!0},[f,i.content,c,S,r]),(0,a.jsxs)("div",{id:(0,d.ut)(i),ref:E,className:s()(n,g.markup,{[h.messageContent]:!0,[h.isSending]:x&&!A,[h.markupRtl]:"rtl"===o()(i.content),[h.isFailed]:C,[h.isUnsupported]:i.isUnsupported}),children:[null!=r?r:p(i,c),I&&null!=i.editedTimestamp&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(u.Z,{timestamp:i.editedTimestamp,isEdited:!0,isInline:!1,children:(0,a.jsxs)("span",{className:h.edited,children:["(",_.intl.string(_.t.C8sXIC),")"]})})]})]})},f)},318713:function(e,t,n){n.d(t,{Z:()=>_});var a=n(200651);n(192379);var l=n(120356),i=n.n(l),s=n(481060),r=n(55935),o=n(543388),c=n(223021),d=n(388032),u=n(732175);function m(e){let{tooltipProps:t,timeFormatted:n,children:l,compact:i,timestamp:s,id:r}=e;return(0,a.jsx)("time",{...t,id:r,dateTime:s.toISOString(),children:null!=l?l:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:u.separator,"aria-hidden":!0,children:i?"[":" — "}),n,i&&(0,a.jsxs)("i",{className:u.separator,"aria-hidden":!0,children:["]"," "]})]})})}let _=function(e){let{children:t,className:n,compact:l=!1,timestamp:_,isVisibleOnlyOnHover:h=!1,cozyAlt:g=!1,isInline:p=!0,id:f,isEdited:E=!1,application:I}=e,C=new Date(_),x=(0,r.Hg)(C),A=l?(0,r.vc)(C,"LT"):(0,r.Y4)(C),S=l?(0,c.Z)(A):null,T=E?d.intl.formatToPlainString(d.t.CDzOFR,{timeFormatted:x}):x;return(0,a.jsx)("span",{className:i()(n,S,{[u.timestamp]:!0,[u.timestampVisibleOnHover]:h,[u.timestampInline]:p,[u.alt]:g}),children:null==I?(0,a.jsx)(s.ua7,{text:(0,r.vc)(C,"LLLL"),"aria-label":T,tooltipClassName:u.timestampTooltip,delay:750,children:e=>(0,a.jsx)(m,{tooltipProps:e,timeFormatted:A,timestamp:C,id:f,compact:l,children:t})}):(0,a.jsx)(o.Z,{application:I,timestamp:C,compact:l,children:(0,a.jsx)(m,{timeFormatted:A,timestamp:C,id:f,compact:l,children:t})})})}},543388:function(e,t,n){n.d(t,{Z:()=>m,j:()=>u});var a=n(200651);n(192379);var l=n(913527),i=n.n(l),s=n(481060),r=n(925329),o=n(388032),c=n(511464);function d(e){let{application:t,timestamp:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{size:r.Z.Sizes.LARGE,game:t}),(0,a.jsxs)("div",{className:c.textContainer,children:[(0,a.jsx)(s.Text,{className:c.timestamp,variant:"text-xs/medium",color:"text-muted",children:i()(n).format("LLLL")}),(0,a.jsx)(s.Text,{variant:"text-md/normal",color:"interactive-active",children:o.intl.format(o.t.J3s8JC,{applicationName:t.name})})]})]})}function u(e){let{application:t,timestamp:n,children:l}=e;return(0,a.jsx)(s.ua7,{hideOnClick:!0,position:"top","aria-label":o.intl.string(o.t["5nMcv7"]),tooltipClassName:c.gameMessageTooltip,tooltipContentClassName:c.gameMessageTooltipContent,text:(0,a.jsx)(d,{application:t,timestamp:n}),children:e=>(0,a.jsx)(s.P3F,{tag:"span",...e,children:l})})}function m(e){let{application:t,timestamp:n,compact:l,children:i}=e;return(0,a.jsxs)(u,{application:t,timestamp:n,children:[l?null:(0,a.jsx)(s.iWm,{className:c.gameIcon,size:"custom",width:14,height:14}),i]})}},223021:function(e,t,n){n.d(t,{Z:()=>s});var a=n(732175);let l={LATIN12:a.latin12CompactTimeStamp,LATIN24:a.latin24CompactTimeStamp,ASIAN:a.asianCompactTimeStamp},i=/(AM|PM)$/;function s(e){return null!=e.match(i)?l.LATIN24:e.length<=5?l.LATIN12:l.ASIAN}},51596:function(e,t,n){n.d(t,{$Z:()=>Z,Cp:()=>M,F_:()=>y,Se:()=>D,tF:()=>R,yC:()=>w}),n(757143),n(47120);var a=n(570140),l=n(493683),i=n(475179),s=n(925549),r=n(287734),o=n(230711),c=n(212819),d=n(815372),u=n(336197),m=n(359110),_=n(769654),h=n(722589),g=n(131704),p=n(592125),f=n(283595),E=n(944486),I=n(914010),C=n(626135),x=n(777754),A=n(823385),S=n(981631),T=n(176505);let v=()=>Promise.resolve();v=n(346329).playApplication;let b=Object.freeze({[c.xQ.USER]:c.h8.USER,[c.xQ.TEXT_CHANNEL]:c.h8.TEXT_CHANNEL,[c.xQ.VOICE_CHANNEL]:c.h8.VOICE_CHANNEL,[c.xQ.GUILD]:c.h8.GUILD,[c.xQ.APPLICATION]:c.h8.APPLICATION}),L=new RegExp("^".concat(c.xQ.USER,"|").concat(c.xQ.TEXT_CHANNEL,"|").concat(c.xQ.VOICE_CHANNEL,"|\\").concat(c.xQ.GUILD,"|\\").concat(c.xQ.APPLICATION));function y(e){var t;let n;let[a,l]=(n=null!==(t=b[e.charAt(0)])&&void 0!==t?t:null,[e.replace(L,""),n]);return{query:a,queryMode:l}}function N(e,t){let{results:n,queryMode:a,query:l,maxQueryLength:i}=A.Z.getProps(),s=I.Z.getGuildId(),r=E.Z.getChannelId(s),o=n[(0,c.gJ)(c.a8.DOWN,-1,n)],d=x.Z.isEmail(l),u=x.Z.isPhoneNumber(l),m=x.Z.isUserTagLike(l),_=null!=r&&(0,T.AB)(r),h=e=>null==e?null:e.type===c.h8.IN_APP_NAVIGATION?e.type+"_"+e.record.type:e.type,f={current_channel_id:_?void 0:r,current_channel_static_route:_?r:void 0,current_guild_id:s,query_mode:null!=a?a:"GENERAL",query_length:l.length,max_query_length:i,is_email_like:d,is_phone_like:u,is_username_like:m,query:d||u||m?null:l,top_result_type:h(o),top_result_score:null!=o?o.score:null,num_results_total:A.Z.getResultTotals(),num_results_users:A.Z.getResultTotals(c.h8.USER),num_results_text_channels:A.Z.getResultTotals(c.h8.TEXT_CHANNEL),num_results_voice_channels:A.Z.getResultTotals(c.h8.VOICE_CHANNEL),num_results_guilds:A.Z.getResultTotals(c.h8.GUILD),num_results_group_dms:A.Z.getResultTotals(c.h8.GROUP_DM)};if(null!=r){let e=p.Z.getChannel(r);f.current_channel_type=null!=e?e.type:null}if(null!=t){let{type:e,score:a,record:l}=t;switch(f.selected_type=h(t),f.selected_score=a,f.selected_index=n.indexOf(t),e){case c.h8.GUILD:f.selected_guild_id=l.id;break;case c.h8.TEXT_CHANNEL:case c.h8.VOICE_CHANNEL:l instanceof g.Sf&&(f.selected_guild_id=null!=l.guild_id?l.guild_id:null),f.selected_channel_id=l.id;break;case c.h8.GROUP_DM:f.selected_channel_id=l.id;break;case c.h8.USER:f.selected_user_id=l.id}}C.default.track(e,f)}function P(){a.Z.dispatch({type:"QUICKSWITCHER_HIDE"})}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e){let t;if(A.Z.isOpen())return;let n=I.Z.getGuildId(),a=E.Z.getChannelId(n);if(null!=a){let e=p.Z.getChannel(a);t=null!=e?e.type:null}C.default.track(S.rMx.QUICKSWITCHER_OPENED,{source:e,current_guild_id:n,current_channel_id:a,current_channel_type:t})}(e),a.Z.dispatch({type:"QUICKSWITCHER_SHOW",...y(t)})}function M(){N(S.rMx.QUICKSWITCHER_CLOSED),P()}function w(e){a.Z.dispatch({type:"QUICKSWITCHER_SEARCH",...y(e)})}function R(e){a.Z.dispatch({type:"QUICKSWITCHER_SELECT",selectedIndex:e})}function D(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(),N(S.rMx.QUICKSWITCHER_RESULT_SELECTED,e);let{type:g,record:E}=e,I={page:S.ZY5.QUICK_SWITCHER};switch(g){case c.h8.GUILD:(0,_.X)(E.id,{navigationReplace:!0});break;case c.h8.TEXT_CHANNEL:null!=(t=p.Z.getChannel(E.id))&&(0,m.Kh)(t.id,{state:{analyticsSource:I},navigationReplace:!0});break;case c.h8.VOICE_CHANNEL:null!=(t=p.Z.getChannel(E.id))&&(n?i.Z.updateChatOpen(E.id,!0):r.default.selectVoiceChannel(E.id),(0,m.Kh)(t.id,{state:{analyticsSource:I},navigationReplace:!0}));break;case c.h8.USER:l.Z.openPrivateChannel([E.id],!1,!1,"Quickswitcher"),s.Z.channelListScrollTo(S.ME,p.Z.getDMFromUserId(E.id));break;case c.h8.GROUP_DM:(0,m.Kh)(E.id,{navigationReplace:!0}),s.Z.channelListScrollTo(S.ME,E.id);break;case c.h8.APPLICATION:let C=f.Z.getActiveLibraryApplication(E.id);v(E.id,C,{analyticsParams:{source:S.Sbl.QUICK_SWITCHER,location:S.Sbl.QUICK_SWITCHER}});break;case c.h8.LINK:(0,u.Z)(E.path,{navigationReplace:!0});break;case c.h8.IN_APP_NAVIGATION:if(e.record.type===d.Ky.SETTINGS){let t=(0,h.default)(e.record.path);null!=t&&o.Z.open(t.section,t.subsection,{openWithoutBackstack:!1,impressionSource:t.source})}else(0,u.Z)(E.path,{navigationReplace:!0})}a.Z.dispatch({type:"QUICKSWITCHER_SWITCH_TO",result:e})}},41837:function(e,t,n){n.d(t,{M:()=>l,o:()=>i});var a=n(212819);let l=Array.from([a.h8.USER,a.h8.TEXT_CHANNEL,a.h8.VOICE_CHANNEL,a.h8.GROUP_DM]);function i(e){return l.includes(e.type)}},987509:function(e,t,n){n.d(t,{ZP:()=>x,dL:()=>h,hC:()=>g,hl:()=>p,qx:()=>f}),n(47120),n(653041);var a=n(392711),l=n(493683),i=n(212819),s=n(938078),r=n(823385),o=n(592125),c=n(496675),d=n(594174),u=n(823379),m=n(41837),_=n(981631);function h(e){let t=o.Z.getChannel(e);return(null==t?void 0:t.type)===_.d4z.DM?{type:"user",id:t.recipients[0]}:{type:"channel",id:e}}function g(e){return"".concat(e.type,"-").concat(e.id)}function p(e){if("channel"===e.type)return e.id;let t=o.Z.getDMFromUserId(e.id);if(null!=t)return t}async function f(e){let t=p(e);if(null!=t)return t;if("user"===e.type)try{return await l.Z.getOrEnsurePrivateChannel(e.id)}catch(e){return}}function E(e){if("user"!==e.type)return(0,s.Z)(e.id);{let t=d.default.getUser(e.id);return null!=t?{type:i.h8.USER,record:t,score:0}:null}}function I(e,t){let n;let a=new Set;if(null!=t)for(let e of t)a.add(e);let l=[];for(let t of e)if(null!=t){if(t.type===i.h8.HEADER)n=t;else{let{id:e}=t.record;a.has(e)||(a.add(e),null!=n&&(l.push(n),n=void 0),l.push(t))}}return l}function C(e,t){return e.filter(e=>(0,u.lm)(e)&&(e.type===i.h8.HEADER||(0,m.o)(e)&&(e.type===i.h8.USER?t||null!=o.Z.getDMChannelFromUserId(e.record.id):e.type===i.h8.GROUP_DM||e.record.type!==_.d4z.GUILD_FORUM&&e.record.type!==_.d4z.GUILD_MEDIA&&c.Z.can(_.Plq.VIEW_CHANNEL,e.record)&&c.Z.can(_.Plq.SEND_MESSAGES,e.record))))}function x(e){let{results:t,hasQuery:n,queryMode:l,frequentChannels:i,targetDestination:o,selectedDestinations:c,pinnedDestinations:d,originDestination:u,includeMissingDMs:m}=e;if(n)return I(C(t,m));let _=null!=d&&d.length>0?d.map(e=>E(e)):[],h=r.Z.getChannelHistory(),g=h.length>0?h.map(e=>(0,s.Z)(e)):[],p=i.length>0?i.map(e=>(0,s.Z)(e.id)):[],f=C([..._,null!=o?E(o):null,...g,...p],m),x=(null==c?void 0:c.find(e=>(0,a.isEqual)(e,u)))!=null,A=null==u||x?[]:[u.id];return null!=l?I(f.filter(e=>e.type===l)):I(f,A).slice(0,15)}n(388032)},601565:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var a=n(192379),l=n(211266),i=n(212819);function s(e){let{searchOptions:t}=e,[n,s]=a.useState({results:[],query:""}),r=(0,l.Z)(()=>{let e=new i.ZP((e,t)=>{s({results:e,query:t})});return e.setLimit(20),e.search(""),e});return a.useEffect(()=>()=>r.destroy(),[r]),a.useEffect(()=>{null!=t&&t!==r.options&&r.setOptions(t)},[r,t]),{search:a.useCallback(e=>{var t;let{query:n,resultTypes:a}=e;(null==r.resultTypes||(t=r.resultTypes,!(a.length===t.size&&a.every(e=>t.has(e)))))&&(r.setResultTypes(a),r.setLimit(1===a.length?50:20)),r.search(""===n.trim()?"":n)},[r]),...n}}},72214:function(e,t,n){n.d(t,{s:()=>h}),n(47120);var a=n(192379),l=n(442837),i=n(38618),s=n(51596),r=n(516373),o=n(314897),c=n(580005),d=n(987509),u=n(601565),m=n(41837);function _(e){let{query:t,queryMode:n}=(0,s.F_)(e),a=m.M,l=null;return null!=n&&m.M.includes(n)&&(a=[n],l=n),{query:t,queryMode:l,resultTypes:a}}function h(e){let{targetDestination:t,selectedDestinations:n,originDestination:s,includeMissingDMs:m=!1}=e,h=(0,l.e7)([o.default],()=>o.default.getId()),g=a.useMemo(()=>({searchOptions:{blacklist:new Set(["user:".concat(h)]),frecencyBoosters:!0,userFilters:null}}),[h]),{search:p,query:f,results:E}=(0,u.Z)(g),[I,C]=a.useState(_("")),x=a.useCallback(e=>C(_(e)),[C]),{queryMode:A}=I,[S,T]=a.useState(null!=n?n:[]),v=a.useRef(n);a.useEffect(()=>{v.current=n}),a.useLayoutEffect(()=>{var e;let{query:t,resultTypes:n}=I;p({query:t,resultTypes:n}),T(null!==(e=v.current)&&void 0!==e?e:[])},[p,I]),(0,r.D)();let b=(0,l.e7)([c.Z],()=>c.Z.getFrequentlyWithoutFetchingLatest()),L=(0,l.e7)([i.Z],()=>i.Z.isConnected()),y=""!==f;return{results:a.useMemo(()=>(0,d.ZP)({results:E,hasQuery:y,queryMode:A,targetDestination:t,frequentChannels:b,selectedDestinations:n,pinnedDestinations:S,originDestination:s,includeMissingDMs:m,isConnected:L}),[E,y,A,t,b,n,S,s,m,L]),updateSearchText:x}}},885330:function(e,t,n){e.exports={closeButton:"closeButton__47998",art:"art__47998",description:"description__47998",conflictButton:"conflictButton__47998",linkButtonSize:"linkButtonSize__47998",linkButton:"linkButton__47998",retryButton:"retryButton__47998",conflictButtonInner:"conflictButtonInner__47998",title:"title__47998",buttonBody:"buttonBody__47998",timestamp:"timestamp__47998",choiceWrapper:"choiceWrapper__47998",choiceLine:"choiceLine__47998",choiceTitle:"choiceTitle__47998 title__47998",conflictTitle:"conflictTitle__47998 title__47998",conflictArt:"conflictArt__47998 art__47998",conflictDownloadArt:"conflictDownloadArt__47998 conflictArt__47998 art__47998",conflictUploadArt:"conflictUploadArt__47998 conflictArt__47998 art__47998",errorArt:"errorArt__47998 art__47998",modal:"modal__47998"}},974193:function(e,t,n){e.exports={container:"container__1ce5d",circularImage:"circularImage__1ce5d",dots:"dots__1ce5d"}},121059:function(e,t,n){e.exports={modal:"modal__62280",header:"header__62280",titleLine:"titleLine__62280",title:"title__62280",closeButton:"closeButton__62280",footer:"footer__62280",footerWithMessage:"footerWithMessage__62280",footerWarningWrapper:"footerWarningWrapper__62280",footerButtons:"footerButtons__62280",destinationRow:"destinationRow__62280",disabled:"disabled__62280",identity:"identity__62280",labels:"labels__62280",label:"label__62280",threadSubLabel:"threadSubLabel__62280",subLabelIcon:"subLabelIcon__62280",subLabelSeparator:"subLabelSeparator__62280",iconWrapper:"iconWrapper__62280",subLabel:"subLabel__62280",checkbox:"checkbox__62280",fauxButton:"fauxButton__62280",noResults:"noResults__62280",noResultsImg:"noResultsImg__62280",actions:"actions__62280",sendWithMessage:"sendWithMessage__62280",messageInput:"messageInput__62280",forwardPreviewWrapper:"forwardPreviewWrapper__62280",forwardPreviewWrapperInset:"forwardPreviewWrapperInset__62280"}},477530:function(e,t,n){e.exports={forwardPreview:"forwardPreview__68334",quote:"quote__68334",contentWrapper:"contentWrapper__68334",attachmentRow:"attachmentRow__68334",forwardPreviewMessage:"forwardPreviewMessage__68334",hasAttachments:"hasAttachments__68334",attachmentPreview:"attachmentPreview__68334",attachmentPreviewVideo:"attachmentPreviewVideo__68334",thumbnail:"thumbnail__68334",playIcon:"playIcon__68334",attachmentPreviewOverflow:"attachmentPreviewOverflow__68334",overflowCount:"overflowCount__68334"}},954528:function(e,t,n){e.exports={icon:"icon__2894c",iconWithGuildIcon:"iconWithGuildIcon__2894c",channelGuildIcon:"channelGuildIcon__2894c",acronym:"acronym__2894c"}},732175:function(e,t,n){var a={wrapper:"wrapper_c19a55",compact:"compact_c19a55",cozy:"cozy_c19a55",contentOnly:"contentOnly_c19a55",repliedMessage:"repliedMessage_c19a55",executedCommand:"executedCommand_c19a55",threadMessageAccessory:"threadMessageAccessory_c19a55",latin12CompactTimeStamp:"latin12CompactTimeStamp_c19a55",latin24CompactTimeStamp:"latin24CompactTimeStamp_c19a55",asianCompactTimeStamp:"asianCompactTimeStamp_c19a55",contextCommandMessage:"contextCommandMessage_c19a55",messageSpine:"messageSpine_c19a55",repliedMessageClickableSpine:"repliedMessageClickableSpine_c19a55",repliedMessageContentHovered:"repliedMessageContentHovered_c19a55",executedCommandAvatar:"executedCommandAvatar_c19a55",replyAvatar:"replyAvatar_c19a55",replyBadge:"replyBadge_c19a55",replyChatIconContainer:"replyChatIconContainer_c19a55",threadMessageAccessoryAvatar:"threadMessageAccessoryAvatar_c19a55",replyIcon:"replyIcon_c19a55",clanTagChiplet:"clanTagChiplet_c19a55",ticketIcon:"ticketIcon_c19a55",userJoinSystemMessageIcon:"userJoinSystemMessageIcon_c19a55",commandIcon:"commandIcon_c19a55",commandName:"commandName_c19a55",username:"username_c19a55 "+n(24968).desaturateUserColors,roleDot:"roleDot_c19a55",botTag:"botTag_c19a55",appsIcon:"appsIcon_c19a55",appLauncherOnboardingCommandName:"appLauncherOnboardingCommandName_c19a55",targetUsername:"targetUsername_c19a55",executedCommandSeparator:"executedCommandSeparator_c19a55",repliedTextPreview:"repliedTextPreview_c19a55",threadMessageAccessoryPreview:"threadMessageAccessoryPreview_c19a55",repliedTextContent:"repliedTextContent_c19a55",clickable:"clickable_c19a55",repliedMessageClickableSpineHovered:"repliedMessageClickableSpineHovered_c19a55",threadMessageAccessoryContent:"threadMessageAccessoryContent_c19a55",repliedTextPlaceholder:"repliedTextPlaceholder_c19a55",threadMessageAccessoryPlaceholder:"threadMessageAccessoryPlaceholder_c19a55",repliedTextContentTrailingIcon:"repliedTextContentTrailingIcon_c19a55",threadMessageAccessoryContentTrailingIcon:"threadMessageAccessoryContentTrailingIcon_c19a55",repliedTextContentLeadingIcon:"repliedTextContentLeadingIcon_c19a55",threadMessageAccessoryContentLeadingIcon:"threadMessageAccessoryContentLeadingIcon_c19a55",contents:"contents_c19a55",zalgo:"zalgo_c19a55",messageContent:"messageContent_c19a55",header:"header_c19a55",buttonContainer:"buttonContainer_c19a55",avatar:"avatar_c19a55",avatarDecoration:"avatarDecoration_c19a55",roleIcon:"roleIcon_c19a55",timestamp:"timestamp_c19a55",timestampInline:"timestampInline_c19a55",alt:"alt_c19a55",timestampTooltip:"timestampTooltip_c19a55",timestampVisibleOnHover:"timestampVisibleOnHover_c19a55",nitroAuthorBadgeTootip:"nitroAuthorBadgeTootip_c19a55",headerText:"headerText_c19a55",hasRoleIcon:"hasRoleIcon_c19a55",hasBadges:"hasBadges_c19a55",botTagCompact:"botTagCompact_c19a55 botTag_c19a55",botTagCozy:"botTagCozy_c19a55 botTag_c19a55",nitroBadgeSvg:"nitroBadgeSvg_c19a55 botTag_c19a55",nitroAuthorBadgeContainer:"nitroAuthorBadgeContainer_c19a55",separator:"separator_c19a55",hasThread:"hasThread_c19a55",isSystemMessage:"isSystemMessage_c19a55",hasReply:"hasReply_c19a55",markupRtl:"markupRtl_c19a55",isSending:"isSending_c19a55",isFailed:"isFailed_c19a55",isUnsupported:"isUnsupported_c19a55",edited:"edited_c19a55",communicationDisabled:"communicationDisabled_c19a55",compactCommunicationDisabled:"compactCommunicationDisabled_c19a55",communicationDisabledOpacity:"communicationDisabledOpacity_c19a55",badgesContainer:"badgesContainer_c19a55"};e.exports=a},511464:function(e,t,n){e.exports={gameIcon:"gameIcon__5a366",gameMessageTooltip:"gameMessageTooltip__5a366",gameMessageTooltipContent:"gameMessageTooltipContent__5a366",textContainer:"textContainer__5a366",timestamp:"timestamp__5a366"}}}]);
//# sourceMappingURL=318f2773d3ac60af.js.map