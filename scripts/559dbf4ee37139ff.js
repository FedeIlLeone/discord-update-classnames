(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["23746"],{943418:function(e,t,i){var s=i(383083);t.encode=s.encode,t.decode=s.decode},383083:function(e,t,i){var s=i(413135).Buffer,n=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];t.encode=function(e){s.isBuffer(e)||(e=new s(e));for(var t,i,n=0,r=0,a=0,c=0,l=new s(8*(i=Math.floor((t=e).length/5),t.length%5==0?i:i+1));n<e.length;){var o=e[n];a>3?(c=(c=o&255>>a)<<(a=(a+5)%8)|(n+1<e.length?e[n+1]:0)>>8-a,n++):(c=o>>8-(a+5)&31,0==(a=(a+5)%8)&&n++),l[r]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(c),r++}for(n=r;n<l.length;n++)l[n]=61;return l},t.decode=function(e){var t,i=0,r=0,a=0;s.isBuffer(e)||(e=new s(e));for(var c=new s(Math.ceil(5*e.length/8)),l=0;l<e.length&&61!=e[l];l++){var o=e[l]-48;if(o<n.length)r=n[o],i<=3?0==(i=(i+5)%8)?(t|=r,c[a]=t,a++,t=0):t|=255&r<<8-i:(t|=255&r>>>(i=(i+5)%8),c[a]=t,a++,t=255&r<<8-i);else throw Error("Invalid input - it is not base32 encoded string")}return c.slice(0,a)}},308777:function(e){"use strict";e.exports="/assets/2e11aacc339bafc1.svg"},515695:function(e){"use strict";e.exports="/assets/dd05fd1ea37e7747.png"},340061:function(e){"use strict";e.exports="/assets/c0a09bd4b521cbd2.png"},837651:function(e,t,i){"use strict";i.d(t,{default:()=>x}),i(47120);var s=i(200651),n=i(192379),r=i(481060),a=i(816814),c=i(600164),l=i(198993),o=i(594174),d=i(287880),u=i(388032),h=i(80442);function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let p=e=>{let{image:t,label:i,text:n,children:a}=e;return(0,s.jsxs)(c.Z,{className:h.spacing,children:[(0,s.jsx)(c.Z,{grow:0,shrink:0,basis:"156px",justify:c.Z.Justify.CENTER,className:h.image,children:t}),(0,s.jsx)(c.Z,{direction:c.Z.Direction.VERTICAL,justify:c.Z.Justify.CENTER,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(r.vwX,{tag:"h5",className:h.headerSpacing,children:i}),(0,s.jsx)(r.R94,{type:r.R94.Types.DESCRIPTION,children:n}),a]})})]})};class f extends n.PureComponent{render(){var e;let{transitionState:t,onClose:n}=this.props,{totpSecret:a,code:g,isVerifying:f}=this.state,x=null===(e=o.default.getCurrentUser())||void 0===e?void 0:e.email,m=(0,d.U0)(null!=x?x:"",a),v=(0,s.jsx)("form",{onSubmit:this.handleActivate,children:(0,s.jsxs)(c.Z,{className:h.inputContainer,align:c.Z.Align.START,children:[(0,s.jsx)(r.oil,{value:g,className:h.input,placeholder:"000 000",maxLength:7,autoComplete:"one-time-code",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),(0,s.jsx)(c.Z.Child,{grow:0,shrink:0,children:(0,s.jsx)(r.zxk,{type:"submit",submitting:f,children:u.intl.string(u.t["/a5+YW"])})})]})});return(0,s.jsxs)(r.Y0X,{transitionState:t,size:r.CgR.DYNAMIC,className:h.customWidth,children:[(0,s.jsxs)(r.xBx,{separator:!1,children:[(0,s.jsxs)(c.Z.Child,{grow:1,shrink:1,children:[(0,s.jsx)(r.X6q,{variant:"heading-lg/semibold",children:u.intl.string(u.t.cDgKtb)}),(0,s.jsx)(r.Text,{variant:"text-xs/normal",className:h.subHeader,children:u.intl.string(u.t["7NGwtL"])})]}),(0,s.jsx)(c.Z.Child,{grow:0,children:(0,s.jsx)(r.olH,{onClick:n})})]}),(0,s.jsxs)(r.hzk,{children:[(0,s.jsx)(p,{image:(0,s.jsx)("img",{alt:"",src:i(340061),width:100,height:100}),label:u.intl.string(u.t["9E74Dw"]),text:u.intl.format(u.t.A7Aeh4,{googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),(0,s.jsx)(r.$i$,{className:h.divider}),(0,s.jsx)(p,{image:(0,s.jsx)(l.ZP,{text:m}),label:u.intl.string(u.t["91InFx"]),text:u.intl.string(u.t.hFeBkp),children:(0,s.jsxs)("div",{className:h.topSpacing,children:[(0,s.jsx)(r.vwX,{tag:"h5",className:h.headerSpacing,children:u.intl.string(u.t["76IPws"])}),(0,s.jsx)(r.Text,{variant:"text-md/normal",className:h.secret,selectable:!0,children:a})]})}),(0,s.jsx)(r.$i$,{className:h.divider}),(0,s.jsx)(p,{image:(0,s.jsx)("img",{alt:"",src:i(308777)}),label:u.intl.string(u.t["SaD/LS"]),text:u.intl.string(u.t.vI1ziY),children:v})]})]})}constructor(...e){super(...e),g(this,"state",{code:"",totpSecret:(0,d.bV)(),error:null,isVerifying:!1}),g(this,"handleCodeChange",e=>{this.setState({code:e})}),g(this,"handleActivate",e=>{e.preventDefault();let{password:t}=this.props,{totpSecret:i,code:s}=this.state;this.setState({isVerifying:!0}),a.Z.enable({password:t,code:s,secret:(0,d.Qe)(i)}).then(this.handleActivateSuccess,e=>this.setState({error:e.body.message,isVerifying:!1}))}),g(this,"handleActivateSuccess",()=>{let{onClose:e,handleEnableMFASuccess:t}=this.props;this.setState({isVerifying:!1}),t(),null==e||e()})}}let x=f},198993:function(e,t,i){"use strict";i.d(t,{ZP:()=>v,c2:()=>m,cK:()=>g});var s,n,r,a=i(200651),c=i(192379),l=i(120356),o=i.n(l),d=i(841226),u=i(960337);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g=((s={}).SIZE_40="SIZE_40",s.SIZE_60="SIZE_60",s);let p=Object.freeze({SIZE_40:"size-40",SIZE_60:"size-60"}),f=i(515695);class x extends(n=c.PureComponent){render(){let{className:e,text:t,...i}=this.props;return(0,a.jsx)("div",{style:{width:i.size,height:i.size,backgroundColor:i.bgColor},className:o()(u.qrCodeContainer,e),children:(0,a.jsx)(d.default,{value:t,level:"M",...i})})}}h(x,"defaultProps",{size:128,bgColor:"#ffffff",fgColor:"#000000"});class m extends(r=c.PureComponent){render(){let{overlaySize:e}=this.props,t=p[null!=e?e:"SIZE_40"];return(0,a.jsxs)("div",{className:u.qrCodeOverlayContainer,children:[(0,a.jsx)(x,{...this.props}),(0,a.jsx)("div",{className:u.qrCodeOverlay,children:(0,a.jsx)("img",{className:u[t],src:f,alt:""})})]})}}h(m,"defaultProps",{size:144,bgColor:"#ffffff",fgColor:"#000000"});let v=x},287880:function(e,t,i){"use strict";i.d(t,{Ae:()=>d,Qe:()=>h,U0:()=>g,bV:()=>u,uZ:()=>o}),i(518263),i(970173),i(520712),i(268111),i(941497),i(32026),i(480839),i(744285),i(492257),i(873817),i(757143);var s,n,r,a=i(943418);let c=null!==(r=null===(s=window)||void 0===s?void 0:s.crypto)&&void 0!==r?r:null===(n=window)||void 0===n?void 0:n.msCrypto,l="Uint8Array"in window,o=null!=c&&"getRandomValues"in c&&l,d="PublicKeyCredential"in window&&l;function u(){var e;return e=c.getRandomValues(new Uint8Array(20)),a.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim()}function h(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}function g(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Discord";return"otpauth://totp/".concat(encodeURI(i),":").concat(encodeURI(e),"?secret=").concat(h(t),"&issuer=").concat(encodeURIComponent(i))}},80442:function(e,t,i){"use strict";e.exports={spacing:"spacing_eb51ec",headerSpacing:"headerSpacing_eb51ec",topSpacing:"topSpacing_eb51ec",inputContainer:"inputContainer_eb51ec",input:"input_eb51ec",customWidth:"customWidth_eb51ec",divider:"divider_eb51ec",image:"image_eb51ec",secret:"secret_eb51ec",subHeader:"subHeader_eb51ec"}},960337:function(e,t,i){"use strict";i.r(e.exports={qrCodeOverlay:"qrCodeOverlay_c28498","size-40":"size-40_c28498","size-60":"size-60_c28498",qrCodeOverlayContainer:"qrCodeOverlayContainer_c28498",qrCodeContainer:"qrCodeContainer_c28498"})}}]);
//# sourceMappingURL=559dbf4ee37139ff.js.map