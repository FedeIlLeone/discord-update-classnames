"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["77578"],{845606:function(e,i,a){a.d(i,{S:()=>l,_:()=>n});let n="Guild Welcome Screen",l="hasClickedWelcomeEmojiPicker"},184782:function(e,i,a){a.d(i,{default:()=>T}),a(653041);var n=a(200651),l=a(192379),o=a(442837),s=a(481060),t=a(596454),c=a(471445),r=a(686546),d=a(313201),u=a(339085),m=a(633302),_=a(565138),h=a(372769),p=a(703656),j=a(592125),x=a(430824),N=a(496675),C=a(259580),g=a(626135),b=a(524329),k=a(995532),E=a(845606),Z=a(981631),f=a(231338),I=a(388032),v=a(488936);let S=e=>{var i;let{channelData:a,onClose:l,trackOptionClick:r}=e,d=(0,o.e7)([j.Z],()=>j.Z.getChannel(a.channel_id)),_=(0,o.e7)([N.Z],()=>null!=d&&N.Z.can(f.Pl.VIEW_CHANNEL,d)),h=(0,o.e7)([u.ZP],()=>null!=a.emoji_id?u.ZP.getCustomEmojiById(a.emoji_id):null,[a.emoji_id]),x=null!=a.emoji_name?m.ZP.getByName(m.ZP.convertSurrogateToName(a.emoji_name,!1)):null,g=null!==(i=(0,c.KS)(d))&&void 0!==i?i:s.VL1;return null!=d&&_?(0,n.jsxs)(s.P3F,{className:v.optionContainer,onClick:()=>{r(),l(),(0,p.XU)(d.guild_id,d.id)},children:[null!=h||null!=x?(0,n.jsx)(t.Z,{emojiName:null!=a.emoji_id?null==h?void 0:h.name:a.emoji_name,animated:null!=h&&h.animated,emojiId:null==h?void 0:h.id,autoplay:!0,className:v.optionEmoji}):(0,n.jsx)(g,{className:v.channelIcon}),(0,n.jsxs)("div",{className:v.optionTextContainer,children:[(0,n.jsx)(s.Text,{variant:"text-md/normal",className:v.channelDescription,children:a.description}),(0,n.jsxs)(s.Text,{variant:"text-xs/normal",color:"header-secondary",children:[(0,n.jsx)(g,{className:v.channelTitleIcon,size:"xxs",color:"currentColor"}),(0,n.jsx)("span",{children:d.name})]})]}),(0,n.jsx)(C.Z,{direction:C.Z.Directions.RIGHT,className:v.optionArrow})]}):null},T=e=>{var i;let{onClose:a,transitionState:t,guildId:c,isPreview:u}=e,m=(0,o.e7)([x.Z],()=>x.Z.getGuild(c)),{welcomeScreen:p,fetching:j,hasError:N}=(0,o.cj)([k.Z],()=>({welcomeScreen:k.Z.get(c),fetching:k.Z.isFetching(),hasError:k.Z.hasError()})),C=(0,d.Dt)();l.useEffect(()=>{null==p&&(0,b.RM)(c)},[c,p]),l.useEffect(()=>{!1===j&&!0===N&&null==p&&a()},[j,N,a,p]),l.useEffect(()=>{p===k.a&&!1===j&&a()},[a,p,j]),l.useEffect(()=>{!0!==u&&g.default.track(Z.rMx.OPEN_MODAL,{type:E._,guild_id:c})},[c,u]);let f=l.useCallback(e=>{var i;if(null==p||!0===u)return;let a=[],n=[],l=!1;null===(i=p.welcome_channels)||void 0===i||i.forEach(e=>{a.push(e.description),n.push(e.channel_id),null!=e.emoji_id&&(l=!0)}),g.default.track(Z.rMx.GUILD_WELCOME_SCREEN_OPTION_SELECTED,{index:e,guild_id:c,options:a,options_channel_ids:n,guild_description:p.description,has_custom_emojis:l})},[c,u,p]);return null==m?null:null==p?(0,n.jsx)(s.Y0X,{transitionState:t,className:v.main,"aria-label":I.intl.string(I.t.ZTNur6),children:(0,n.jsx)(s.$jN,{type:s.$jN.Type.SPINNING_CIRCLE})}):(0,n.jsxs)(s.Y0X,{transitionState:t,className:v.main,"aria-labelledby":C,children:[(0,n.jsx)(s.olH,{onClick:a,className:v.close}),(0,n.jsx)(r.ZP,{mask:r.ZP.Masks.SQUIRCLE,width:64,height:64,className:v.guildIcon,children:(0,n.jsx)(_.Z,{size:_.Z.Sizes.LARGER,guild:m,active:!0,animate:!0,tabIndex:-1})}),(0,n.jsx)(s.X6q,{variant:"heading-xl/semibold",className:v.header,id:C,children:I.intl.format(I.t["0aydCA"],{guildName:m.name,guildNameHook:(e,i)=>(0,n.jsxs)("span",{children:[(0,n.jsx)(h.Z,{guild:m,className:v.headerGuildBadge,flowerStarClassName:v.flowerStar,tooltipColor:s.ua7.Colors.PRIMARY}),(0,n.jsx)("strong",{className:v.headerGuildName,children:e})]},i)})}),null!=p.description?(0,n.jsx)(s.Text,{variant:"text-sm/normal",color:"header-secondary",className:v.guildDescription,children:p.description}):null,(0,n.jsx)(s.vwX,{className:v.choiceHeader,children:I.intl.string(I.t["haj5+v"])}),(0,n.jsx)("div",{className:v.options,children:null===(i=p.welcome_channels)||void 0===i?void 0:i.map((e,i)=>(0,n.jsx)(S,{channelData:e,trackOptionClick:()=>f(i),onClose:a},"".concat(e.channel_id,"-").concat(i)))}),(0,n.jsx)(s.zxk,{look:s.zxk.Looks.LINK,color:v.skipColor,className:v.skip,onClick:a,children:I.intl.string(I.t["jizr8/"])})]})}},488936:function(e,i,a){e.exports={headerGuildName:"headerGuildName__949ab",headerGuildBadge:"headerGuildBadge__949ab",flowerStar:"flowerStar__949ab",main:"main__949ab",close:"close__949ab",guildIcon:"guildIcon__949ab",header:"header__949ab",guildDescription:"guildDescription__949ab",choiceHeader:"choiceHeader__949ab",options:"options__949ab",optionContainer:"optionContainer__949ab",optionTextContainer:"optionTextContainer__949ab",optionArrow:"optionArrow__949ab",channelIcon:"channelIcon__949ab",optionEmoji:"optionEmoji__949ab",channelTitleIcon:"channelTitleIcon__949ab",channelDescription:"channelDescription__949ab",skip:"skip__949ab",skipColor:"skipColor__949ab"}}}]);
//# sourceMappingURL=3abe095e62176ed0.js.map