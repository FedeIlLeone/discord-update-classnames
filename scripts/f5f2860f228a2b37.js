"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["83366"],{966390:function(e,t,n){n.d(t,{Z:()=>b}),n(47120),n(789020);var l=n(481060),i=n(570140),r=n(430742),a=n(904245),o=n(166459),s=n(531643),d=n(881052),c=n(673750),u=n(141795),p=n(476326),f=n(680287),m=n(247206),h=n(539573),v=n(786761),g=n(3148),E=n(48854),C=n(785359),P=n(79390),x=n(980463),Z=n(992970),y=n(576645),A=n(317951),S=n(287941),L=n(623292),_=n(807092),I=n(467798),O=n(703558),R=n(117530),D=n(630388),T=n(226351),U=n(981631),w=n(388032);async function j(e){var t,n,l,u;let p,{channelId:j,uploads:b,draftType:M,parsedMessage:N,options:k={},raiseEndpointErrors:F=!1}=e,B=new f.Z(U.ANM.MESSAGES(j)),G=new T.o,z={content:"",nonce:"",channel_id:j,type:U.uaV.DEFAULT,sticker_ids:null==k?void 0:k.stickerIds,poll:null==k?void 0:k.poll,confetti_potion:(0,y.vY)(null==k?void 0:k.confettiPotionData),scheduled_timestamp:null==k?void 0:k.scheduledTimestamp};null!=N&&(z.content=null==N?void 0:N.content),null!=_.Z.getPendingReply(j)&&(z.type=U.uaV.REPLY,z.message_reference=k.messageReference,z.allowed_mentions=k.allowedMentions,(0,L.A6)(j));let[H,V]=(0,I.Z)(z.content);H&&(z.content=V,z.flags=(0,D.pj)(null!==(n=z.flags)&&void 0!==n?n:0,U.iLy.SUPPRESS_NOTIFICATIONS));let J=null!==(l=k.nonce)&&void 0!==l?l:(0,E.r)(),Q=(0,g.ZP)({channelId:j,content:z.content,tts:null!==(u=null==N?void 0:N.tts)&&void 0!==u&&u,type:z.type,messageReference:z.message_reference,flags:z.flags,nonce:J,poll:(0,P.x9)(k.poll)});return z.nonce=J,B.on("start",e=>{p=(0,v.e5)({...Q,id:e.id}),i.Z.dispatch({type:"UPLOAD_START",channelId:j,file:e,message:p,uploader:B})}),B.on("progress",e=>{i.Z.dispatch({type:"UPLOAD_PROGRESS",channelId:j,file:e})}),B.on("error",(e,t,n,l)=>{if(i.Z.dispatch({type:"UPLOAD_FAIL",channelId:j,file:e,messageRecord:p}),(0,C.x)({fileItems:e.items,failureCode:t,errorMessage:null==l?void 0:l.msg}),t===U.evJ.EXPLICIT_CONTENT){a.Z.sendExplicitMediaClydeError(j,null==n?void 0:n.attachments,m.UU.EXPLICIT_MEDIA_MESSAGE_SEND_BLOCKED);return}if(t===U.evJ.AUTOMOD_MESSAGE_BLOCKED){let e={code:t,message:null==n?void 0:n.message},l=null==p?null:{type:c.$V.SEND,message:{...p,channelId:j}};(0,s.openUploadError)({title:w.intl.string(w.t.B3vFdX),help:(0,h.uF)(l,e)});return}if(t!==U.evJ.GUILD_FILE_UPLOAD_RATE_LIMITED_ACCESS){if(F)G.reject(new d.Hx({status:t,body:null!=n?n:{}},t));else{var u;(0,s.openUploadError)({title:w.intl.string(w.t.B3vFdX),help:null!==(u=null==n?void 0:n.message)&&void 0!==u?u:w.intl.string(w.t.zMEjJi)})}""!==z.content&&""===O.Z.getDraft(j,M)&&r.Z.saveDraft(j,z.content,M),0===R.Z.getUploadCount(j,M)&&o.Z.setUploads({channelId:j,uploads:b,draftType:M})}}),B.on("complete",(e,t)=>{i.Z.dispatch({type:"UPLOAD_COMPLETE",channelId:j,file:e,aborted:B._aborted,messageRecord:t});let n=(0,y.ZC)(t);null!=n&&((0,x.gA)(A.D1),(0,S.I)({name:n.name,id:n.id},void 0,!0,Z.LL.MessageSent))}),null==k||null===(t=k.confettiPotionData)||void 0===t||t.callback(),await B.uploadFiles(b,z),G.resolve(),G.promise}let b={instantBatchUpload:function(e){let{channelId:t,files:n,draftType:l,isThumbnail:i=!1,filesMetadata:r=[]}=e,a=Array.from(n).map((e,n)=>{let l=null!=r?r[n]:{};return new u.n({file:e,platform:p.ow.WEB,isThumbnail:i,...l},t)});j({channelId:t,uploads:a,draftType:l})},upload:function e(t){let{channelId:n,file:o,draftType:d,message:c,hasSpoiler:u,filename:p}=t,h={content:"",tts:!1,hasSpoiler:u,filename:p};if(null!=c){h.content=c.content,h.tts=c.tts,h.channel_id=c.channel_id;let e=_.Z.getPendingReply(n);if(null!=e){let t=a.Z.getSendMessageOptionsForReply(e);h.type=U.uaV.REPLY,h.message_reference=t.messageReference,h.allowed_mentions=t.allowedMentions,(0,L.A6)(n)}}let v=new f.Z(U.ANM.MESSAGES(n));v.on("start",e=>{i.Z.dispatch({type:"UPLOAD_START",channelId:n,file:e,uploader:v})}),v.on("progress",e=>{i.Z.dispatch({type:"UPLOAD_PROGRESS",channelId:n,file:e})}),v.on("error",(t,u,p)=>{if(i.Z.dispatch({type:"UPLOAD_FAIL",channelId:n,file:t}),(0,C.x)({fileItems:t.items,failureCode:u}),u===U.evJ.EXPLICIT_CONTENT){a.Z.sendExplicitMediaClydeError(n,null==p?void 0:p.attachments,m.UU.EXPLICIT_MEDIA_MESSAGE_SEND_BLOCKED);return}(0,s.openUploadError)({title:w.intl.string(w.t.B3vFdX),help:w.intl.format(w.t.gIlRx8,{onClick:()=>{(0,l.Mr3)(s.A),e({channelId:n,file:o,draftType:d,message:c})}})}),""!==h.content&&""===O.Z.getDraft(n,d)&&r.Z.saveDraft(n,h.content,d)}),v.on("complete",e=>{i.Z.dispatch({type:"UPLOAD_COMPLETE",channelId:n,file:e})}),v.upload(o,h)},uploadFiles:j,cancel(e){i.Z.dispatch({type:"UPLOAD_CANCEL_REQUEST",file:e}),null!=e.draftContent&&null!=e.channelId&&""===O.Z.getDraft(e.channelId,O.d.ChannelMessage)&&i.Z.dispatch({type:"DRAFT_SAVE",channelId:e.channelId,draft:e.draftContent,draftType:O.d.ChannelMessage})}}},915863:function(e,t,n){n.d(t,{Z:()=>s});var l=n(200651);n(192379);var i=n(120356),r=n.n(i),a=n(481060),o=n(514190);function s(e){let{className:t,size:n,...i}=e;return(0,l.jsx)(a.zxk,{className:r()(o.button,t),size:r()(o.buttonSize,n),...i})}},429589:function(e,t,n){n.d(t,{Z:()=>o});var l=n(200651);n(192379);var i=n(481060),r=n(103450),a=n(915863);function o(e){let{activity:t,embeddedActivity:n,user:o,onAction:s,ButtonComponent:d=a.Z,...c}=e,u=(0,r.e)({activity:null!=t?t:void 0,embeddedActivity:n,user:o,onGameJoin:s});if(null==u)return null;let{isJoining:p,handleJoinRequest:f,buttonCTA:m,tooltip:h,isEnabled:v}=u;return(0,l.jsx)(i.ua7,{text:h,children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,l.jsx)(d,{onClick:f,onMouseEnter:t,onMouseLeave:n,disabled:!v,submitting:p,fullWidth:!0,...c,children:m})}},"join")}},757182:function(e,t,n){n.d(t,{Z:()=>s});var l=n(200651);n(192379);var i=n(655922),r=n(420660),a=n(915863),o=n(388032);function s(e){let{activity:t,onAction:n,ButtonComponent:s=a.Z,...d}=e;return(0,r.Z)(t)?(0,l.jsx)(s,{onClick:()=>{null==n||n();let e=(0,i.Z)(t);return window.open(null!=e?e:void 0)},fullWidth:!0,...d,children:o.intl.string(o.t["I6JG4+"])},"play-activity"):null}},220779:function(e,t,n){n.d(t,{A7:()=>x,ZP:()=>A,dE:()=>y}),n(47120);var l=n(200651),i=n(192379),r=n(120356),a=n.n(r),o=n(481060),s=n(410030),d=n(541716),c=n(752305),u=n(893718),p=n(318766),f=n(931651),m=n(131704),h=n(142550),v=n(981631),g=n(388032),E=n(724372);let C=(0,m.kt)({id:"1",type:v.d4z.DM}),P=i.forwardRef(function(e,t){let{placeholder:n,headerText:i,onEnter:r,showPopout:d,children:c,body:u,hide:p}=e,f=(0,s.ZP)();return(0,l.jsx)(o.yRy,{align:"right",position:"bottom",shouldShow:d,disablePointerEvents:!1,renderPopout:()=>(0,l.jsx)(o.f6W,{theme:f,children:e=>(0,l.jsx)("div",{className:a()([E.reply,e]),ref:t,children:(0,l.jsx)(o.EqS,{containerRef:t,children:(0,l.jsxs)("div",{children:[(0,l.jsx)(o.Text,{variant:"text-xs/bold",className:E.replyHeader,children:null!=i?i:g.intl.string(g.t["/VQax8"])}),u,(0,l.jsx)(x,{onEnter:e=>{r(e),p()},placeholder:null!=n?n:g.intl.string(g.t["/VQax8"])})]})})})}),children:()=>c})});function x(e){let{placeholder:t,onEnter:n,setEditorRef:r,showEmojiButton:o=!1,renderAttachButton:s,autoFocus:p=!0,onFocus:f,channel:m,className:v}=e,[g,P]=i.useState(""),[x,Z]=i.useState((0,c.JM)("")),y=()=>{P(""),Z((0,c.JM)(""))},A=d.Ie.ATOMIC_REACTOR_REPLY_INPUT,S=i.useRef(null);return(0,l.jsx)(u.Z,{ref:S,placeholder:t,editorClassName:v,className:a()(E.replyInput,v),showRemainingCharsAfterCount:-1,allowNewLines:!1,maxCharacterCount:h.z,channel:null!=m?m:C,onChange:(e,t,n)=>{P(t),Z(n)},type:o?{...A,emojis:{button:!0}}:A,textValue:g,richValue:x,onSubmit:e=>{let{value:t}=e;return t.length>h.z?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):(n(t),y(),Promise.resolve({shouldClear:!0,shouldRefocus:!1}))},setEditorRef:r,focused:p,onFocus:f,disableThemedBackground:!0,emojiPickerCloseOnModalOuterClick:!0,disabled:!1,autoCompletePosition:(()=>{if(null==S.current)return"top";let e=S.current.getBoundingClientRect(),t=window.innerHeight;return e.top<t/2?"bottom":"top"})(),renderAttachButton:s})}let Z=(e,t)=>{i.useEffect(()=>{let n=t=>{"Escape"===t.key&&e()},l=n=>{var l;null==n.target||(null==t?void 0:null===(l=t.current)||void 0===l?void 0:l.contains(null==n?void 0:n.target))||e()};return document.addEventListener("keydown",n),document.addEventListener("mousedown",l),()=>{document.removeEventListener("keydown",n),document.removeEventListener("mousedown",l)}},[e,t])},y=e=>{let{onSelectEmoji:t,onClick:n}=e,r=(0,s.ZP)(),[a,d]=i.useState(!1),c=i.useRef(null);return Z(()=>d(!1),c),(0,l.jsx)(o.yRy,{align:"right",position:"top",shouldShow:a,disablePointerEvents:!1,renderPopout:()=>(0,l.jsx)(o.f6W,{theme:r,children:e=>(0,l.jsx)("div",{className:e,ref:c,children:(0,l.jsx)(f.$,{messageId:v.lds,channel:C,closePopout:()=>{d(!1)},onSelectEmoji:(e,n,l)=>{null!=e&&(t(e,n,l),d(!1))}})})}),children:()=>(0,l.jsx)(o.ua7,{text:g.intl.string(g.t.lfIHs7),children:e=>(0,l.jsx)("div",{...e,className:E.reaction,children:(0,l.jsx)(p.Z,{active:!1,tabIndex:0,onClick:()=>{null==n||n(),d(!0)}})})})})},A=e=>{let{onInteraction:t,showReact:n=!0,showReply:r=!0,popoutProps:s={}}=e,{replyHeaderText:d,replyPlaceholder:c,popoutBody:u}=s,[p,f]=i.useState(!1),m=i.useRef(null);return Z(()=>f(!1),m),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:E.reactions,children:[n&&(0,l.jsx)(y,{onSelectEmoji:e=>{null!=e&&t({interactionType:h.L.ReactSubmit,emoji:e,reply:null})},onClick:()=>{t({interactionType:h.L.ReactBegin,emoji:null,reply:null}),f(!1)}}),r&&(0,l.jsx)(P,{hide:()=>f(!1),ref:m,headerText:d,placeholder:c,showPopout:p,body:u,onEnter:e=>{t({interactionType:h.L.ReplySubmit,emoji:null,reply:e})},children:(0,l.jsx)(o.ua7,{text:g.intl.string(g.t["5IEsGx"]),children:e=>(0,l.jsx)("button",{...e,className:a()(E.reaction,E.emojiButton),onClick:()=>{t({interactionType:h.L.ReplyBegin,emoji:null,reply:null}),f(!0)},children:(0,l.jsx)(o.n$P,{})})})})]})})}},142550:function(e,t,n){n.d(t,{L:()=>r,z:()=>l});let l=200;var i,r=((i={}).ReactBegin="React Begin",i.ReplyBegin="Reply Begin",i.ReactSubmit="React Submit",i.ReplySubmit="Reply Submit",i.ReactSend="React Send",i.ReplySend="Reply Send",i)},55e3:function(e,t,n){n.d(t,{Cv:()=>h,En:()=>l,Nv:()=>c,SG:()=>d,W3:()=>a,dI:()=>i,ee:()=>m,ez:()=>u,o3:()=>o,sB:()=>s,sp:()=>f,vS:()=>p});let l=348,i=88;var r,a=((r={}).AssetImage="AssetImage",r.ApplicationImage="ApplicationImage",r.Platform="Platform",r.StreamPreview="StreamPreview",r);let o=12,s=12,d=24,c=16,u=24,p=64,f=335,m=310,h="M5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3H5Zm6.81 7c-.54 0-1 .26-1.23.61A1 1 0 0 1 8.92 8.5 3.49 3.49 0 0 1 11.82 7c1.81 0 3.43 1.38 3.43 3.25 0 1.45-.98 2.61-2.27 3.06a1 1 0 0 1-1.96.37l-.19-1a1 1 0 0 1 .98-1.18c.87 0 1.44-.63 1.44-1.25S12.68 9 11.81 9ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm7-10.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM18.5 20a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM7 18.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM5.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"},201133:function(e,t,n){n.d(t,{B:()=>v,a:()=>h}),n(411104);var l=n(570140),i=n(493683),r=n(957730),a=n(222677),o=n(995774),s=n(314897),d=n(592125),c=n(703558),u=n(62817),p=n(960048);let f=e=>{let t=u.Z.getFiles(e)[0];return null==u.Z.getMessageForFile(t.id)?(p.Z.addBreadcrumb({message:"No message found for upload"}),Promise.reject()):new Promise((e,n)=>{let i=r=>{r.file.id===t.id&&(l.Z.unsubscribe("UPLOAD_COMPLETE",i),l.Z.unsubscribe("UPLOAD_FAIL",i),"UPLOAD_COMPLETE"===r.type?e(r.messageRecord):n(Error("Upload failed")))};l.Z.subscribe("UPLOAD_COMPLETE",i),l.Z.subscribe("UPLOAD_FAIL",i)})},m=async function(e,t){var l;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,u=d.Z.getChannel(t);if(s.default.getToken(),r.ZP.parse(u,""),i);else{if(null==d.Z.getChannel(t))throw Error("AtomicReactor sendUtils: Couldn't resolve channel with id ".concat(t));{let l=n(966390).Z;e.description=a,await l.uploadFiles({channelId:t,uploads:[e],draftType:c.d.ChannelMessage,parsedMessage:o})}}},h=async e=>{let{file:t,reaction:n,user:l,altText:r,requireConfirmation:s=!1}=e,d=await i.Z.openPrivateChannel(l.id,!1,!1);m(t,d,s,r);let c=await f(d);if(null!=c){let e=(0,o.g1)(n);await (0,a.rU)(d,c.id,e)}},v=e=>{let{file:t,reply:n,channel:l,altText:i,requireConfirmation:a=!1}=e,o=r.ZP.parse(l,n);return m(t,l.id,a,i,o)}},665672:function(e,t,n){n.d(t,{Z:()=>a});var l=n(512722),i=n.n(l);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{setExporter(e){this.exporter=e}export(e){i()(null!=this.exporter,"DiscordCanvas: Exporting the canvas requires a valid DiscordCanvasExporter to be initialized.");let t=this.canvas.getCanvasForExport();return i()(null!=t,"DiscordCanvas: Couldn't get a canvas for export."),this.exporter.exportCanvas(t,e)}constructor(e,t){r(this,"canvas",void 0),r(this,"exporter",void 0),this.canvas=e,this.exporter=t}}},97008:function(e,t,n){n.d(t,{Z:()=>o}),n(411104);var l=n(141795),i=n(476326),r=n(956664),a=n(693824);let o=class{toDataUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.toDataURL(t,n)}async exportCanvas(e,t){let{format:n,fileType:o="png",quality:s=1,fileName:d}=t;if(n===a.kH.Base64)return this.toDataUrl(e,o,s);if(n===a.kH.Blob){let t=this.toDataUrl(e,o,s);return(0,r.kD)(t)}if(n===a.kH.File){let t=this.toDataUrl(e,o,s);return await (0,r.Bo)(t,d,"image/png")}if(n===a.kH.CloudUpload){let{channelId:n}=t,a=this.toDataUrl(e,o,s),c=await (0,r.Bo)(a,d,"image/png");return new l.n({file:c,platform:i.ow.WEB,isThumbnail:!1},n)}throw Error("DiscordCanvas: ".concat(n," is not a valid export format."))}}},690725:function(e,t,n){n.d(t,{f:()=>r}),n(411104);var l=n(4646),i=n(665672);async function r(e){let{assetsToLoad:t,drawImage:r,exportConfigs:a}=e,o=await (0,l.k2)(t);await o.loadFonts();{let e=n(503082).Z,t=n(97008).Z,l=document.createElement("canvas"),s=new e(l,o),d=new t,c=new i.Z(s,d);r(c.canvas);let u=await c.export(a);return l.remove(),u}}},871118:function(e,t,n){n.d(t,{Z:()=>v});var l=n(200651),i=n(192379),r=n(120356),a=n.n(r),o=n(442837),s=n(481060),d=n(592125),c=n(496675),u=n(449605),p=n(981631),f=n(388032),m=n(844485);function h(e){let{isLoading:t,noText:n,noImage:i,previewText:r,className:o}=e;return(0,l.jsx)("div",{className:a()(m.emptyPreviewContainer,o),children:t?(0,l.jsx)(s.$jN,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:a()(m.emptyPreviewImage,{[m.noImage]:i})}),n?null:(0,l.jsx)(s.Text,{variant:"text-sm/normal",color:"none",className:m.emptyPreviewText,children:null!=r?r:f.intl.string(f.t.uQZTBQ)})]})})}function v(e){let{stream:t,className:n,noText:r=!1,noImage:a=!1}=e,s=(0,o.e7)([d.Z],()=>d.Z.getBasicChannel(t.channelId)),v=(0,o.e7)([c.Z],()=>null!=s&&c.Z.canBasicChannel(p.S7T.CONNECT,s)),{previewUrl:g,isLoading:E}=(0,u.Z)(t.guildId,t.channelId,t.ownerId),C=i.useRef(E?null:g);i.useEffect(()=>{E||(C.current=g)},[g,E]);let P=null==g||E?C.current:g;return null==P?(0,l.jsx)(h,{className:n,isLoading:E,noText:r,noImage:a,previewText:v?void 0:f.intl.string(f.t.pgUTZG)}):(0,l.jsx)("div",{className:n,children:(0,l.jsx)("img",{src:P,alt:"",className:m.image})})}},931651:function(e,t,n){n.d(t,{$:()=>a});var l=n(200651);n(192379);var i=n(907040),r=n(185923);function a(e){let{channel:t,closePopout:n,analyticsOverride:a,onSelectEmoji:o,messageId:s}=e;return(0,l.jsx)(i.Z,{closePopout:n,channel:t,onSelectEmoji:o,pickerIntention:r.Hz.REACTION,analyticsOverride:a,messageId:s})}},424678:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var l=n(200651),i=n(192379),r=n(481060);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.PureComponent{render(){let{text:e,lastItem:t,className:n}=this.props;return(0,l.jsxs)("span",{children:[(0,l.jsx)(r.eee,{className:n,onClick:this.handleClick,children:e}),t?"":", "]})}constructor(...e){super(...e),a(this,"handleClick",()=>{let{onClick:e,index:t}=this.props;null==e||e(t)})}}class s extends i.PureComponent{render(){let e=this.props.artists.split(";");if(!this.props.canOpen)return e.join(", ");let t=e.length-1;return e.map((e,n)=>(0,l.jsx)(o,{text:e,index:n,lastItem:n===t,onClick:this.handleOpenSpotifyArtist,className:this.props.linkClassName},"spotify-artist-".concat(n)))}constructor(...e){super(...e),a(this,"handleOpenSpotifyArtist",e=>{let{onOpenSpotifyArtist:t}=this.props;null==t||t(e)})}}},62817:function(e,t,n){n.d(t,{Z:()=>C}),n(47120),n(177593);var l,i,r,a=n(442837),o=n(570140),s=n(375954);let d=Object.freeze([]),c={},u={},p={},f={},m={};function h(e,t){}function v(e,t){let n=c[e];return null!=n&&(c[e]=n.filter(e=>e.id!==t),delete u[t],delete p[t],n.length!==c[e].length)}function g(e,t){let n=c[e];if(null==n)return!1;c[e]=n.map(e=>e.id===t.id?{...e,...t}:e);let l=p[t.id];null!=l&&null!=f[l.id]&&(f[l.id]={...f[l.id],...t})}class E extends(l=a.ZP.Store){initialize(){this.waitFor(s.Z)}getFiles(e){var t;return null!==(t=c[e])&&void 0!==t?t:d}getMessageForFile(e){return p[e]}getUploaderFileForMessageId(e){return f[e]}getUploadAttachments(e){if(null!=e)return m[e]}}r="UploadStore",(i="displayName")in E?Object.defineProperty(E,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):E[i]=r;let C=new E(o.Z,{CONNECTION_OPEN:function(){m={}},LOGOUT:function(){m={}},UPLOAD_START:function(e){var t;let{channelId:n,file:l,uploader:i,message:r}=e;if(i._aborted||i._errored)return;let a=null!==(t=c[n])&&void 0!==t?t:d;u[l.id]=i,c[n]=[...a,l],p[l.id]=r;let{items:o}=l;null!=o&&(f[r.id]={...l,items:o}),r.nonce},UPLOAD_COMPRESSION_PROGRESS:function(e){let{channelId:t,file:n}=e;g(t,n)},UPLOAD_PROGRESS:function(e){let{channelId:t,file:n}=e;g(t,n)},UPLOAD_COMPLETE:function(e){let{channelId:t,file:n}=e;return v(t,n.id)},UPLOAD_FAIL:function(e){let{channelId:t,file:n}=e;return v(t,n.id)},UPLOAD_CANCEL_REQUEST:function(e){let{file:t}=e,n=u[t.id];if(null==n)return!1;setImmediate(()=>{var e;return null===(e=n.cancel)||void 0===e?void 0:e.call(n)})},UPLOAD_ITEM_CANCEL_REQUEST:function(e){let{file:t,itemId:n}=e,l=u[t.id];if(null==l)return!1;setImmediate(()=>l.cancelItem(n))},UPLOAD_FILE_UPDATE:function(e){let{channelId:t,file:n}=e,l=p[n.id];null!=l&&l.nonce,g(t,n)},UPLOAD_RESTORE_FAILED_UPLOAD:function(e){let{file:t,messageId:n}=e;f[n]=t}})}}]);
//# sourceMappingURL=f5f2860f228a2b37.js.map