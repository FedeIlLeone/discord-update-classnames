"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["9558"],{570849:function(e,t,a){a.d(t,{l:()=>s,u:()=>r});var n=a(544891),l=a(570140),i=a(981631);function s(e,t){l.Z.dispatch({type:"GUILD_ROLE_SUBSCRIPTIONS_STASH_TEMPLATE_CHANNELS",selectedTemplate:e,guildId:t})}async function r(e){let t=(await n.tn.get({url:i.ANM.GUILD_ROLE_SUBSCRIPTION_LISTING_TEMPLATES(e),rejectWithError:!1})).body;null!=t.templates&&l.Z.dispatch({type:"GUILD_ROLE_SUBSCRIPTIONS_FETCH_TEMPLATES",templates:t.templates,guildId:e})}},34460:function(e,t,a){a.d(t,{default:()=>L}),a(47120);var n=a(200651),l=a(192379),i=a(120356),s=a.n(i),r=a(990547),c=a(399606),o=a(780384),d=a(481060),m=a(935369),x=a(367907),_=a(213609),h=a(44315),u=a(210887),f=a(626135),p=a(923726),T=a(570849),g=a(853439),j=a(303737),N=a(587431),C=a(862239),I=a(847004),v=a(981631),R=a(388032),E=a(633876);function k(e){let{name:t,imageUrl:a,selected:l,onTap:i}=e;return(0,n.jsxs)(d.P3F,{onClick:i,className:E.templateCard,children:[(0,n.jsx)("img",{src:a,alt:"",className:E.templateCardImage}),(0,n.jsxs)("div",{className:E.templateNameRow,children:[(0,n.jsx)(d.X6q,{variant:"heading-md/normal",className:s()({[E.unselectedTemplateName]:!l}),children:t}),l&&(0,n.jsx)(d.owK,{size:"md",secondaryColor:(0,h.Lq)(v.Ilk.WHITE_500),color:(0,h.Lq)(v.Ilk.BRAND_500)})]})]})}function S(e){let{loading:t,error:a,templates:l,selectedTemplateIndex:i,handleTapTemplate:s}=e,r=(0,c.e7)([u.Z],()=>u.Z.theme);return t?(0,n.jsx)(d.$jN,{}):null!=a?(0,n.jsx)(N.Z,{children:a.message}):null==l||0===l.length?null:(0,n.jsx)("div",{className:E.templateCardList,children:l.map((e,t)=>(0,n.jsx)(k,{imageUrl:t===i?e.category_image:(0,o.ap)(r)?e.unselected_light_theme_category_image:e.unselected_dark_theme_category_image,name:e.category,selected:t===i,onTap:()=>s(t)},t))})}function B(e){var t,a;let{guildId:i,templates:s,selectedTemplateIndex:r,priceTiers:c,showPriceReselection:o,setShowPriceReselection:d,handleCreateTierFromTemplate:m}=e,x=(0,j.g4)(i,c,null!=s?null===(a=s[r])||void 0===a?void 0:null===(t=a.listings[0])||void 0===t?void 0:t.price_tier:void 0),_=null!=x&&x.length>0,h=l.useCallback(e=>{_?d(!0):m(e)},[m,_,d]);return null==s||0===s.length?null:o&&_?(0,n.jsx)(I.Z,{selectedTemplate:s[r],handleSelectTemplate:m,newPricesToPick:x}):(0,n.jsx)(C.Z,{selectedTemplate:s[r],handleSelectTemplate:h})}function L(e){let{transitionState:t,onClose:a,guildId:i,addNewEditStateFromTemplate:s,addNewEditStateFromScratch:o,priceTiers:h}=e,u=(0,c.e7)([g.Z],()=>g.Z.getTemplates(i)),[j,{loading:N,error:C}]=(0,m.Z)(T.u),I=l.useRef("voluntarily_exit");l.useEffect(()=>{(null==u||0===u.length)&&j(i)},[j,i,u]),l.useEffect(()=>{t===d.Dvm.EXITING&&f.default.track(v.rMx.ROLE_SUBSCRIPTION_LISTING_TEMPLATE_SELECTOR_EXITED,{exit_reason:I.current,...(0,x.hH)(i)})},[t,i,I]);let[k,L]=l.useState(0),[y,w]=l.useState(!1),b=l.useCallback(e=>{I.current="template_selected",(0,T.l)(e,i),s(e),a()},[i,s,a]),U=l.useCallback(()=>{y?w(!1):a()},[y,a]),D=(0,p.yi)(i);return(0,_.Z)({type:r.ImpressionTypes.MODAL,name:r.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_TEMPLATE_SELECTOR,properties:{guild_id:i}}),(0,n.jsxs)(d.Y0X,{transitionState:t,size:d.CgR.DYNAMIC,className:E.modalRoot,children:[(0,n.jsx)(d.P3F,{onClick:U,className:E.closeButton,children:(0,n.jsx)(d.Dio,{size:"xxs",color:"currentColor"})}),(0,n.jsxs)(d.hzk,{className:E.modalContent,children:[(0,n.jsxs)("div",{className:E.templatesContainer,children:[y&&(0,n.jsx)(d.P3F,{className:E.blackoutOverlay,onClick:()=>{y&&w(!1)},"aria-label":"overlay"}),(0,n.jsxs)(d.zJl,{className:E.templatesContainerBody,children:[(0,n.jsx)(d.X6q,{variant:"heading-xl/semibold",children:R.intl.string(R.t["9QQ+i4"])}),(0,n.jsx)(d.Text,{variant:"text-sm/normal",className:E.modalBodyText,children:R.intl.string(R.t.CvFFOj)}),D&&(0,n.jsx)(d.Text,{variant:"text-sm/normal",className:E.creatorPortalText,children:R.intl.format(R.t.iQML2t,{creatorPortalUrl:"https://discord.com/creator-portal/learn-from-creators?tab=lightning-lessons"})}),(0,n.jsx)("div",{className:E.templatesContentContainer,children:(0,n.jsx)(S,{loading:N,error:C,templates:u,selectedTemplateIndex:k,handleTapTemplate:e=>{L(e)}})})]}),(0,n.jsx)(d.Text,{variant:"text-sm/normal",children:R.intl.string(R.t.jymUTE)}),(0,n.jsxs)(d.zxk,{size:d.zxk.Sizes.MEDIUM,onClick:()=>{I.current="create_from_scratch",o(),a()},look:d.zxk.Looks.OUTLINED,color:d.zxk.Colors.PRIMARY,className:E.createFromStratchButton,innerClassName:E.createFromStratchButtonInner,children:[(0,n.jsx)(d.vdY,{size:"custom",color:"currentColor",width:14,height:14,className:E.editIcon}),R.intl.string(R.t.a3ycUV)]})]}),(0,n.jsx)(B,{guildId:i,templates:u,selectedTemplateIndex:k,priceTiers:h,showPriceReselection:y,setShowPriceReselection:w,handleCreateTierFromTemplate:b})]})]})}},862239:function(e,t,a){a.d(t,{Z:()=>f});var n=a(200651);a(192379);var l=a(866442),i=a(481060),s=a(377171),r=a(937615),c=a(549631),o=a(981631),d=a(388032),m=a(27112);function x(e){let{listing:t}=e,{name:a,image:s,description:c}=t,d=(0,r.T4)(t.price_tier,o.pKx.USD);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:m.listingInfoRow,children:[(0,n.jsx)("img",{src:s,alt:"",className:m.avatar}),(0,n.jsxs)("div",{children:[(0,n.jsx)(i.X6q,{variant:"heading-md/medium",className:m.tierName,children:a}),(0,n.jsx)(i.Text,{variant:"text-md/medium",tag:"span",children:d}),(0,n.jsx)(i.Text,{variant:"text-xxs/medium",tag:"span",children:"/mo."})]})]}),(0,n.jsxs)("div",{className:m.listingRoleRow,children:[(0,n.jsx)("div",{style:{backgroundColor:(0,l.Rf)(t.role_color)},className:m.roleColor}),(0,n.jsx)("img",{src:s,alt:"",className:m.roleIcon}),(0,n.jsx)(i.Text,{variant:"text-xs/medium",children:a})]}),(0,n.jsx)(i.Text,{variant:"text-xs/normal",className:m.tierDescription,children:c})]})}function _(e){let{channel:t}=e,a=function(e){switch(e){case o.d4z.GUILD_TEXT:return i.W4G;case o.d4z.GUILD_VOICE:return i.gjC;case o.d4z.GUILD_STAGE_VOICE:return i.pki;case o.d4z.GUILD_FORUM:return i.BUe;case o.d4z.GUILD_MEDIA:return i.D7T;case o.d4z.GUILD_ANNOUNCEMENT:return i.Fv2;default:return null}}(t.type);return(0,n.jsxs)("div",{className:m.channelBenefitRow,children:[null!=a&&(0,n.jsx)(a,{className:m.channelBenefitIcon,color:"currentColor"}),(0,n.jsxs)("div",{className:m.channelBenefitText,children:[(0,n.jsx)(i.Text,{variant:"text-sm/normal",children:t.name}),(0,n.jsx)(i.Text,{variant:"text-xs/normal",className:m.channelBenefitTagline,children:t.tagline})]}),(0,n.jsx)(c.Z,{className:m.__invalid_emojiIcon,color:s.Z.CREATOR_REVENUE_LOCKED_CHANNEL_ICON})]})}function h(e){let{benefit:t}=e;return void 0===t?null:(0,n.jsxs)("div",{className:m.intangibleBenefitRow,children:[(0,n.jsx)("div",{className:m.intangibleBenefitIcon}),(0,n.jsx)(i.Text,{variant:"text-sm/normal",children:t})]})}function u(e){let{listing:t}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(i.X6q,{variant:"heading-sm/semibold",className:m.perksHeader,children:d.intl.string(d.t.CjC5XV)}),(0,n.jsx)(i.Text,{variant:"text-xs/semibold",className:m.benefitTypeHeader,children:d.intl.string(d.t.rI43W1)}),t.channels.map(e=>(0,n.jsx)(_,{channel:e},e.id)),(0,n.jsx)(i.Text,{variant:"text-xs/semibold",className:m.benefitTypeHeader,children:d.intl.string(d.t.XqWRLi)}),t.additional_perks.map((e,t)=>(0,n.jsx)(h,{benefit:e.name},t))]})}function f(e){let{selectedTemplate:t,handleSelectTemplate:a}=e;if(void 0===t)return null;let l=t.listings[0];return(0,n.jsxs)("div",{className:m.container,children:[(0,n.jsxs)(i.zJl,{className:m.content,children:[(0,n.jsx)(x,{listing:l}),(0,n.jsx)("div",{className:m.divider}),(0,n.jsx)(u,{listing:l})]}),(0,n.jsx)(i.zxk,{size:i.zxk.Sizes.MEDIUM,onClick:()=>{a(t)},children:d.intl.string(d.t["1W7mCg"])})]})}},847004:function(e,t,a){a.d(t,{Z:()=>h}),a(47120);var n=a(200651),l=a(192379),i=a(120356),s=a.n(i),r=a(481060),c=a(44315),o=a(937615),d=a(981631),m=a(388032),x=a(856165);function _(e){let{price:t,selected:a,onClick:l}=e;return(0,n.jsxs)(r.P3F,{className:s()(x.priceRow,{[x.selected]:a}),onClick:l,children:[a?(0,n.jsx)(r.owK,{size:"custom",width:20,height:20,secondaryColor:(0,c.Lq)(d.Ilk.WHITE_500),color:(0,c.Lq)(d.Ilk.BRAND_500)}):(0,n.jsx)("svg",{width:"20",height:"20",children:(0,n.jsx)("circle",{cx:10,cy:10,r:10,className:x.circle})}),(0,n.jsxs)("div",{className:x.priceRowText,children:[(0,n.jsx)(r.Text,{variant:"text-sm/normal",tag:"span",children:(0,o.T4)(t,d.pKx.USD)}),(0,n.jsx)(r.Text,{variant:"text-xxs/medium",tag:"span",children:"/mo."})]})]})}function h(e){let{selectedTemplate:t,handleSelectTemplate:a,newPricesToPick:i}=e,[s,c]=l.useState(0);return(0,n.jsxs)("div",{className:x.container,children:[(0,n.jsxs)("div",{className:x.content,children:[(0,n.jsx)(r.X6q,{variant:"heading-md/semibold",children:m.intl.format(m.t["5WZ9Cg"],{tierName:t.listings[0].name})}),(0,n.jsx)(r.Text,{variant:"text-sm/normal",className:x.bodyText,children:m.intl.format(m.t["5i7UhY"],{price:(0,o.T4)(t.listings[0].price_tier,d.pKx.USD)})}),i.map((e,t)=>(0,n.jsx)(_,{price:e,selected:t===s,onClick:()=>c(t)},e))]}),(0,n.jsx)(r.zxk,{size:r.zxk.Sizes.MEDIUM,onClick:()=>{a({...t,listings:[{...t.listings[0],price_tier:i[s]}]})},children:m.intl.string(m.t["1W7mCg"])})]})}},633876:function(e,t,a){e.exports={modalRoot:"modalRoot__6f8c0",closeButton:"closeButton__6f8c0",modalContent:"modalContent__6f8c0",templatesContainer:"templatesContainer__6f8c0",templatesContainerBody:"templatesContainerBody__6f8c0",templatesContentContainer:"templatesContentContainer__6f8c0",modalBodyText:"modalBodyText__6f8c0",creatorPortalText:"creatorPortalText__6f8c0",templateCardList:"templateCardList__6f8c0",templateCard:"templateCard__6f8c0",templateNameRow:"templateNameRow__6f8c0",unselectedTemplateName:"unselectedTemplateName__6f8c0",templateCardImage:"templateCardImage__6f8c0",createFromStratchButton:"createFromStratchButton__6f8c0",createFromStratchButtonInner:"createFromStratchButtonInner__6f8c0",editIcon:"editIcon__6f8c0",blackoutOverlay:"blackoutOverlay__6f8c0"}},27112:function(e,t,a){e.exports={container:"container_fa0751",content:"content_fa0751",listingInfoRow:"listingInfoRow_fa0751",avatar:"avatar_fa0751",tierName:"tierName_fa0751",listingRoleRow:"listingRoleRow_fa0751",roleColor:"roleColor_fa0751",roleIcon:"roleIcon_fa0751",tierDescription:"tierDescription_fa0751",divider:"divider_fa0751",perksHeader:"perksHeader_fa0751",benefitTypeHeader:"benefitTypeHeader_fa0751",channelBenefitRow:"channelBenefitRow_fa0751",channelBenefitIcon:"channelBenefitIcon_fa0751",channelBenefitText:"channelBenefitText_fa0751",channelBenefitTagline:"channelBenefitTagline_fa0751",intangibleBenefitRow:"intangibleBenefitRow_fa0751",intangibleBenefitIcon:"intangibleBenefitIcon_fa0751"}},856165:function(e,t,a){e.exports={container:"container_afa88e",content:"content_afa88e",bodyText:"bodyText_afa88e",priceRow:"priceRow_afa88e",selected:"selected_afa88e",circle:"circle_afa88e",priceRowText:"priceRowText_afa88e"}}}]);
//# sourceMappingURL=56af49aa75faf153.js.map