"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["68241"],{892561:function(e){e.exports="/assets/21190bc58471d8ab.svg"},494536:function(e){e.exports="/assets/cb41612cfd13681f.svg"},249842:function(e,l,a){a.d(l,{P:()=>t});var s=a(544891),n=a(570140),i=a(981631);async function t(e){n.Z.dispatch({type:"GUILD_POPOUT_FETCH_START",guildId:e});try{let l=await s.tn.get({url:i.ANM.GUILD_PREVIEW(e),oldFormErrors:!0,rejectWithError:!0});n.Z.dispatch({type:"GUILD_POPOUT_FETCH_SUCCESS",guildId:e,guild:l.body})}catch(l){n.Z.dispatch({type:"GUILD_POPOUT_FETCH_FAILURE",guildId:e})}}},838367:function(e,l,a){a.d(l,{Z:()=>m});var s,n,i,t=a(442837),r=a(570140),d=a(314897),c=a(900849);let o={};class u extends(i=t.ZP.Store){initialize(){this.waitFor(d.default)}isFetchingGuild(e){let l=o[e];return null!=l&&"fetching"===l.fetchState}getGuild(e){let l=o[e];return null!=l?l.guild:null}hasFetchFailed(e){let l=o[e];return null!=l&&"failed"===l.fetchState}}n="GuildPopoutStore",(s="displayName")in u?Object.defineProperty(u,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):u[s]=n;let m=new u(r.Z,{GUILD_POPOUT_FETCH_START:function(e){let{guildId:l}=e;o[l]={...o[l],fetchState:"fetching"}},GUILD_POPOUT_FETCH_SUCCESS:function(e){let{guildId:l,guild:a}=e,s=(0,c.PP)(a);o[l]={...o[l],guild:s,fetchState:"succeeded"}},GUILD_POPOUT_FETCH_FAILURE:function(e){let{guildId:l}=e;o[l]={...o[l],fetchState:"failed"}}})},576306:function(e,l,a){a.d(l,{h:()=>n});let s=(0,a(818083).B)({kind:"user",id:"2024-12_new_guild_profile",label:"Enables new guild profile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"On",config:{enabled:!0}}]});function n(){let{enabled:e}=s.useExperiment({location:"GuildProfileExperiment"},{autoTrackExposure:!1});return e}},83474:function(e,l,a){a.d(l,{SK:()=>y,ZP:()=>k,sK:()=>R}),a(47120);var s=a(200651),n=a(192379),i=a(120356),t=a.n(i),r=a(442837),d=a(692547),c=a(780384),o=a(481060),u=a(410030),m=a(686546),h=a(372769),x=a(134432),j=a(703656),g=a(314897),v=a(271383),N=a(768581),f=a(900849),p=a(249842),P=a(838367),b=a(576306),C=a(914620),Z=a(981631),I=a(388032),E=a(485612),T=a(892561),_=a(494536);function S(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:E.splashPlaceholder}),(0,s.jsxs)("div",{className:t()(E.body,E.hasSplash),children:[(0,s.jsx)("div",{className:E.iconPlaceholder}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:E.namePlaceholder})}),(0,s.jsxs)("div",{className:E.memberInfo,children:[(0,s.jsx)("div",{className:E.memberCount,children:(0,s.jsx)("div",{className:E.memberInfoPlaceholder})}),(0,s.jsx)("div",{className:E.memberCount,children:(0,s.jsx)("div",{className:E.memberInfoPlaceholder})})]}),(0,s.jsx)("div",{className:E.viewButtonPlaceholder})]})]})}function y(){let e=(0,u.ZP)();return(0,s.jsx)(o.VqE,{"aria-label":I.intl.string(I.t["8LKcho"]),className:E.guildPopout,children:(0,s.jsxs)("div",{className:E.body,children:[(0,s.jsx)("img",{src:(0,c.wj)(e)?T:_,className:E.unavailableIcon,width:80,height:80,alt:""}),(0,s.jsx)(o.X6q,{className:E.unavailableHeader,variant:"heading-md/semibold",children:I.intl.string(I.t["+kdPHx"])}),(0,s.jsx)(o.Text,{variant:"text-sm/normal",children:I.intl.string(I.t["Yn1+xs"])})]})})}function R(e){var l,a;let{guild:i,channelId:c,messageId:u}=e,{name:p,id:P,discoverySplash:b,icon:C,description:T,presenceCount:_,memberCount:S,emojis:y}=i,R=(0,r.e7)([g.default],()=>g.default.getId()),U=(0,r.e7)([v.ZP],()=>v.ZP.isMember(P,R),[P,R]),[k,L]=n.useState(!1),F=e=>{if(e.stopPropagation(),U)(0,j.XU)(P,c,u);else{let e={page:Z.ZY5.GUILD_CHANNEL,section:Z.jXE.GUILD_POPOUT,object:Z.qAy.CARD};(0,f.Ub)(P,e)}L(!0)},G=N.ZP.getGuildDiscoverySplashURL({id:P,splash:b,size:250*(0,x.x_)()}),O=null!==(l=N.ZP.getGuildIconURL({id:P,icon:C,size:80}))&&void 0!==l?l:void 0,w=y,A=null;return null!=w&&w.length>6&&null!=y&&(w=null!==(a=null==y?void 0:y.slice(Math.max((null==y?void 0:y.length)-6,0)))&&void 0!==a?a:[],A=y.length-6),(0,s.jsxs)(o.VqE,{"aria-label":p,className:E.guildPopout,children:[null!=G?(0,s.jsx)("img",{src:G,alt:"",className:E.splashImage}):null,(0,s.jsxs)("div",{className:t()(E.body,{[E.hasSplash]:null!=G}),children:[(0,s.jsx)("div",{className:t()({[E.iconWithSplash]:null!=G}),children:(0,s.jsx)(o.P3F,{onClick:F,children:(0,s.jsx)(m.ZP,{mask:m.ZP.Masks.SQUIRCLE,width:88,height:88,children:(0,s.jsx)("div",{className:E.iconMask,children:(0,s.jsx)(m.ZP,{mask:m.ZP.Masks.SQUIRCLE,width:80,height:80,children:(0,s.jsx)("img",{src:O,alt:"",className:E.avatar})})})})})}),null!=p?(0,s.jsxs)("div",{className:E.guildNameWrapper,children:[(0,s.jsx)(h.Z,{className:E.badge,guild:i,tooltipPosition:"top",tooltipColor:o.ua7.Colors.PRIMARY,badgeColor:d.Z.unsafe_rawColors.PRIMARY_500.css}),(0,s.jsx)(o.Text,{variant:"text-md/semibold",className:E.guildName,children:p})]}):null,null!=T?(0,s.jsx)(o.Text,{color:"header-secondary",className:E.description,variant:"text-sm/normal",children:T}):null,(0,s.jsxs)("div",{className:E.memberInfo,children:[null!=_?(0,s.jsxs)("div",{className:E.memberCount,children:[(0,s.jsx)("div",{className:E.dotOnline}),(0,s.jsx)(o.Text,{variant:"text-xs/normal",className:E.memberText,children:I.intl.format(I.t["LC+S+v"],{membersOnline:_})})]}):null,null!=S?(0,s.jsxs)("div",{className:E.memberCount,children:[(0,s.jsx)("div",{className:E.dotOffline}),(0,s.jsx)(o.Text,{variant:"text-xs/normal",className:E.memberText,children:I.intl.format(I.t.zRl6XV,{count:S})})]}):null]})]}),(0,s.jsxs)("div",{className:E.footer,children:[null!=w&&w.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.X6q,{variant:"heading-deprecated-12/semibold",className:E.emojiHeader,color:"header-secondary",children:I.intl.string(I.t.Q60n1N)}),(0,s.jsxs)("div",{className:t()(E.emojiContainer,{[E.withCounter]:null!=A}),children:[w.map(e=>{let l=N.ZP.getEmojiURL({id:e.id,animated:!1,size:24});return(0,s.jsx)(o.ua7,{text:":".concat(e.name,":"),children:e=>(0,s.jsx)("img",{...e,width:24,height:24,src:l,className:t()({[E.emoji]:null==A}),alt:""})},e.id)}),null!=A?(0,s.jsx)(o.X6q,{variant:"heading-deprecated-12/semibold",className:E.emojiCounter,color:"header-secondary",children:"+".concat(A)}):null]})]}):null,(0,s.jsx)(o.zxk,{look:o.zxk.Looks.FILLED,color:o.zxk.Colors.BRAND,size:o.zxk.Sizes.SMALL,onClick:F,submitting:k,autoFocus:!0,children:I.intl.string(I.t["K+WeR0"])})]})]})}function U(e){let{guildId:l,channelId:a,messageId:i}=e,{loading:t,unavailable:d,guild:c}=(0,r.cj)([P.Z],()=>({guild:P.Z.getGuild(l),loading:P.Z.isFetchingGuild(l),unavailable:P.Z.hasFetchFailed(l)}),[l]);return(n.useEffect(()=>{null!=c||t||d||(0,p.P)(l)},[c,l,t,d]),t)?(0,s.jsx)(o.VqE,{"aria-label":I.intl.string(I.t.ZTNur6),className:E.guildPopout,children:(0,s.jsx)(S,{})}):null==c||d?(0,s.jsx)(y,{}):(0,s.jsx)(R,{guild:c,channelId:a,messageId:i})}function k(e){return(0,b.h)()?(0,s.jsx)(C.Z,{setPopoutRef:e.setPopoutRef,guildId:e.guildId,name:e.name}):(0,s.jsx)(U,{...e})}},857395:function(e,l,a){a.d(l,{Z:()=>m});var s=a(200651),n=a(192379),i=a(442837),t=a(481060),r=a(249842),d=a(838367),c=a(576306),o=a(83474),u=a(914620);function m(e){let{guildId:l,channelId:a,messageId:m,name:h,...x}=e,j=(0,c.h)(),{unavailable:g,guild:v}=(0,i.cj)([d.Z],()=>({guild:d.Z.getGuild(l),unavailable:d.Z.hasFetchFailed(l)}),[l]),N=null!=v,f=n.useCallback(async()=>{if(!j)try{N||await (0,r.P)(l)}catch{}},[j,N,l]);return g?(0,s.jsx)(t.yRy,{position:"right",renderPopout:e=>(0,s.jsx)(o.SK,{}),...x,clickTrap:!0}):(0,s.jsx)(t.yRy,{position:"right",preload:f,clickTrap:!0,renderPopout:e=>j?(0,s.jsx)(u.Z,{...e,guildId:l,name:h}):null==v?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(o.sK,{...e,guild:v,channelId:a,messageId:m}),...x})}},60034:function(e,l,a){a.d(l,{R:()=>c});var s=a(200651);a(192379);var n=a(120356),i=a.n(n),t=a(686546),r=a(624138),d=a(499556);function c(e){let{guildName:l,iconSize:a,className:n}=e,c=(0,r.Zg)(l);return(0,s.jsx)(t.ZP,{mask:t.ZP.Masks.CLAN_ICON,width:a,height:a,className:n,children:(0,s.jsx)("div",{className:i()(d.guildIconImage,d.acronym),children:c})})}},914620:function(e,l,a){a.d(l,{Z:()=>j});var s=a(200651),n=a(192379),i=a(120356),t=a.n(i),r=a(442837),d=a(481060),c=a(314852),o=a(65361),u=a(722300),m=a(910200),h=a(323220),x=a(449430);function j(e){let{guildId:l,name:a,setPopoutRef:i}=e,{guildProfile:j,fetchGuildProfile:g,isFetching:v}=(0,o.u)(l),N=(0,r.e7)([c.Z],()=>c.Z.getErrorCode(l)),f=n.useRef(null),p=n.useCallback(()=>{g(!0)},[g]);n.useEffect(()=>{g()},[g]),n.useEffect(()=>{null==i||i(null==f?void 0:f.current)},[f,i]);let P=null;return P=v?(0,s.jsx)("div",{className:t()(x.container,x.spinnerContainer),children:(0,s.jsx)(d.$jN,{})}):null==j&&50001===N?(0,s.jsx)("div",{className:x.container,children:(0,s.jsx)(h.Z,{guildId:l,name:a})}):null==j?(0,s.jsx)("div",{className:x.container,children:(0,s.jsx)(u.Z,{name:a,onRetry:p})}):(0,s.jsx)("div",{className:x.container,children:(0,s.jsx)(m.Z,{profile:j})}),(0,s.jsx)(d.VqE,{ref:f,"aria-label":null==j?void 0:j.name,children:P})}},722300:function(e,l,a){a.d(l,{Z:()=>m});var s=a(200651);a(192379);var n=a(692547),i=a(481060),t=a(410030),r=a(686546),d=a(60034),c=a(686369),o=a(388032),u=a(712617);function m(e){let{name:l,onRetry:a}=e,m=(0,t.ZP)(),h=(0,i.dQu)(n.Z.colors.BG_BASE_TERTIARY),x=(0,c.d)(m,h.hex()),j=null!=l?l:o.intl.string(o.t.DmIUGB);return(0,s.jsxs)("div",{className:u.container,children:[(0,s.jsx)("div",{className:u.banner,style:{background:x}}),(0,s.jsx)("div",{className:u.avatarContainer,children:(0,s.jsx)(r.ZP,{mask:r.QS.CLAN_ICON,width:70,height:70,children:(0,s.jsx)("div",{className:u.avatarWrapper,children:(0,s.jsx)(d.R,{guildName:j,iconSize:64})})})}),(0,s.jsxs)("div",{className:u.header,children:[(0,s.jsx)(i.X6q,{variant:"heading-lg/medium",color:"header-primary",children:j}),(0,s.jsxs)(i.P3F,{className:u.error,onClick:a,children:[(0,s.jsx)(i.P4T,{size:"sm",color:"currentColor"}),(0,s.jsx)(i.Text,{variant:"text-sm/normal",color:"text-warning",children:o.intl.string(o.t.tmGHjY)})]})]})]})}},323220:function(e,l,a){a.d(l,{Z:()=>u});var s=a(200651);a(192379);var n=a(481060),i=a(410030),t=a(114487),r=a(686546),d=a(686369),c=a(388032),o=a(712617);function u(e){let{guildId:l,name:a}=e,u=(0,i.ZP)(),m=(0,n.dQu)(n.TVs.colors.BG_BASE_TERTIARY),h=(0,d.d)(u,m.hex());return(0,s.jsxs)("div",{className:o.container,children:[(0,s.jsx)("div",{className:o.banner,style:{background:h}}),(0,s.jsx)("div",{className:o.avatarContainer,children:(0,s.jsx)(r.ZP,{mask:r.QS.CLAN_ICON,width:70,height:70,children:(0,s.jsx)("div",{className:o.avatarWrapper,children:(0,s.jsx)(t.b,{guildId:l,guildName:null!=a?a:c.intl.string(c.t.DmIUGB),guildIcon:null,iconSize:64})})})}),(0,s.jsx)("div",{className:o.header,children:(0,s.jsx)(n.X6q,{variant:"heading-lg/medium",color:"header-primary",children:null!=a?a:c.intl.string(c.t.DmIUGB)})}),(0,s.jsx)("div",{className:o.body,children:(0,s.jsx)(n.Text,{variant:"text-sm/normal",color:"text-secondary",children:c.intl.string(c.t["8mfCqa"])})})]})}}}]);
//# sourceMappingURL=d5da81a26cb4d553.js.map