(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["2356"],{817080:function(t){var e=e||function(t){"use strict";if(!("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),s=t.webkitRequestFileSystem,u=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",d=0,f=function(t){setTimeout(function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()},4e4)},p=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){c(t)}}},w=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\xef\xbb\xbf",t],{type:t.type}):t},h=function(e,c,h){h||(e=w(e));var b,y,g=this,v=e.type,m=!1,S=function(){p(g,"writestart progress write writeend".split(" "))},N=function(){if(y&&a&&"undefined"!=typeof FileReader){var i=new FileReader;i.onloadend=function(){var t=i.result;y.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),g.readyState=g.DONE,S()},i.readAsDataURL(e),g.readyState=g.INIT;return}(m||!b)&&(b=n().createObjectURL(e)),y?y.location.href=b:void 0===t.open(b,"_blank")&&a&&(t.location.href=b),g.readyState=g.DONE,S(),f(b)},O=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},x={create:!0,exclusive:!1};if(g.readyState=g.INIT,c||(c="download"),r){b=n().createObjectURL(e),setTimeout(function(){i.href=b,i.download=c,o(i),S(),f(b),g.readyState=g.DONE});return}if(t.chrome&&v&&v!==l&&(e=(e.slice||e.webkitSlice).call(e,0,e.size,l),m=!0),s&&"download"!==c&&(c+=".download"),(v===l||s)&&(y=t),!u){N();return}d+=e.size,u(t.TEMPORARY,d,O(function(t){t.root.getDirectory("saved",x,O(function(t){var n=function(){t.getFile(c,x,O(function(t){t.createWriter(O(function(n){n.onwriteend=function(e){y.location.href=t.toURL(),g.readyState=g.DONE,p(g,"writeend",e),f(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&N()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=g["on"+t]}),n.write(e),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),N)}),N)};t.getFile(c,{create:!1},O(function(t){t.remove(),n()}),O(function(t){t.code===t.NOT_FOUND_ERR?n():N()}))}),N)}),N)},b=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=w(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(b.abort=function(){this.readyState=this.DONE,p(this,"abort")},b.readyState=b.INIT=0,b.WRITING=1,b.DONE=2,b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null,function(t,e,n){return new h(t,e,n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);t.exports?t.exports.saveAs=e:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return e})},883385:function(t,e,n){"use strict";n.d(e,{Z:()=>o});var i=n(200651);n(192379);var r=n(410575);function o(t,e){return function(n){return(0,i.jsx)(r.Z,{page:e.page,section:e.section,object:e.object,objectType:e.objectType,children:(0,i.jsx)(t,{...n})})}}},108843:function(t,e,n){"use strict";n.d(e,{Z:()=>o});var i=n(200651);n(192379);var r=n(906732);function o(t,e){return function(n){let{analyticsLocations:o}=(0,r.ZP)(e);return(0,i.jsx)(r.Gt,{value:o,children:(0,i.jsx)(t,{...n})})}}},876308:function(t,e,n){"use strict";n.d(e,{default:()=>N}),n(411104);var i=n(200651),r=n(192379),o=n(817080),a=n(442837),s=n(481060),u=n(668781),c=n(239091),l=n(883385),d=n(108843),f=n(100527),p=n(299206),w=n(496675),h=n(358085),b=n(998502),y=n(22382),g=n(51078),v=n(710111),m=n(981631),S=n(388032);let N=(0,d.Z)((0,l.Z)(function(t){let{soundGuild:e,sound:l,activeCallGuildId:d,onSelect:f}=t,m=function(t,e){let{canManageGuildExpressions:o}=(0,a.cj)([w.Z],()=>null==e?{canManageGuildExpressions:!1}:w.Z.getGuildPermissionProps(e),[e]),u=r.useCallback(()=>{if((null==e?void 0:e.id)==null)return null;(0,s.ZDy)(async()=>{let{default:r}=await Promise.all([n.e("56035"),n.e("13686")]).then(n.bind(n,758961));return n=>(0,i.jsx)(r,{...n,existingSound:t,guildId:e.id})})},[e,t]);return o?(0,i.jsx)(s.sNh,{id:"edit-soundboard-sound",label:S.intl.string(S.t.ponZcH),action:u},"edit-soundboard-sound"):null}(l,e),N=function(t){let{soundId:e}=t,n=r.useCallback(async()=>{try{let t=(0,y.Z)(e),n=await fetch(t),i=await n.blob(),r=function(t){switch(t.type){case"audio/mpeg":case"audio/mpeg3":return"mp3";case"audio/ogg":return"ogg";default:throw Error("unable to determine file type")}}(i),a="".concat(e,".").concat(r);h.isPlatformEmbedded?await b.ZP.saveFile(t,a):(0,o.saveAs)(i,a)}catch(t){u.Z.show({title:S.intl.string(S.t.mK3tDA),body:S.intl.string(S.t.jLlfDA),confirmText:S.intl.string(S.t.BddRzc)})}},[e]);return t.guildId===v.X8?null:(0,i.jsx)(s.sNh,{id:"download-soundboard-sound",label:S.intl.string(S.t["/fzLLC"]),action:n},"download-soundboard-sound")}(l),O=(0,g.Z)(l,d),x=(0,p.Z)({id:l.soundId,label:S.intl.string(S.t.HJikXl)});return(0,i.jsx)(s.v2r,{navId:"sound-button-context",onClose:c.Zy,"aria-label":S.intl.string(S.t.liqwPD),onSelect:f,children:(0,i.jsxs)(s.kSQ,{children:[m,O,N,x]})})},{object:m.qAy.CONTEXT_MENU}),[f.Z.CONTEXT_MENU,f.Z.SOUNDBOARD_BUTTON])},51078:function(t,e,n){"use strict";n.d(e,{Z:()=>p});var i=n(200651);n(192379);var r=n(442837),o=n(481060),a=n(906732),s=n(313201),u=n(594174),c=n(74538),l=n(242291),d=n(710111),f=n(388032);function p(t,e){let{analyticsLocations:n}=(0,a.ZP)(),p=(0,r.e7)([u.default],()=>u.default.getCurrentUser()),w=(0,s.Dt)(),h=(0,s.Dt)();return null!=e&&c.ZP.canUseCustomCallSounds(p)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.sNh,{id:w,label:f.intl.string(f.t.p2hUt7),action:()=>(0,l.SZ)(e,t,n)}),(0,i.jsx)(o.sNh,{id:h,label:f.intl.string(f.t["/yA6QU"]),action:()=>(0,l.SZ)(d.hY,t,n)})]}):null}}}]);
//# sourceMappingURL=68a3df460a8e584c.js.map