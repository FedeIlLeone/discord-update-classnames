"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["99916"],{419851:function(e){e.exports="/assets/138ad5b31e172be7.svg"},246403:function(e){e.exports="/assets/733e8e16d7ff7288.svg"},990686:function(e,t,n){n.d(t,{i:()=>u});var i=n(442837),l=n(430824),r=n(944163),s=n(981631);function u(e){let{guildId:t}=e;return(0,i.e7)([r.Z,l.Z],()=>{var e;let n=r.Z.get(t),i=null==n?void 0:n.guild,u=l.Z.getGuild(t),o=null==u?void 0:u.verificationLevel,a=null==i?void 0:i.verification_level;return null!==(e=null!=o?o:a)&&void 0!==e?e:s.sFg.NONE},[t])}},187565:function(e,t,n){n.d(t,{KJ:()=>v,N0:()=>M,k3:()=>R,lk:()=>E,ng:()=>C}),n(47120);var i,l=n(192379),r=n(442837),s=n(999382),u=n(658666),o=n(384632),a=n(601964),d=n(430824),c=n(863249),f=n(944163),x=n(63568),m=n(246364),g=n(983736),h=n(266395),j=n(388032),v=((i={})[i.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT",i[i.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION",i[i.VERIFICATION_FORM=2]="VERIFICATION_FORM",i);function C(e,t){let n=(0,x.jS)(e,"MemberVerificationScreens"),i=(0,r.e7)([f.Z],()=>f.Z.get(e)),s=(0,r.e7)([u.Z],()=>u.Z.pendingState);l.useEffect(()=>{!t&&c.ZP.fetchVerificationForm(e)},[e,t]);let a=l.useMemo(()=>{var e,l;let r;if(!t||!n||null==s)return null;if(s.joinType===o.A.APPLY)r=null!=s.pendingVerificationFields?[...s.pendingVerificationFields]:void 0;else if(null!=s.termRules){let e=s.termRules.map(e=>e.value.trim()).filter(e=>""!==e);r=[{field_type:m.QJ.TERMS,label:j.intl.string(j.t["9suSIC"]),values:e,required:!0}]}return null==r?null:{version:null!==(e=null==i?void 0:i.version)&&void 0!==e?e:"",description:null!==(l=null==i?void 0:i.description)&&void 0!==l?l:"",formFields:r,guild:null==i?void 0:i.guild}},[t,n,s,i]);return null!=a?a:i}function M(e,t,n){let i=(0,r.e7)([d.Z],()=>d.Z.getGuild(e)),u=(0,r.e7)([s.Z],()=>s.Z.getGuild());return l.useMemo(()=>n&&(null==u?void 0:u.id)===e?u:null!=i?i:null!=t?new a.ZP(t):null,[n,u,e,i,t])}function R(e,t){let n=!(null==e?void 0:e.isClaimed()),i=null==e?void 0:e.verified,[r,s]=l.useState(!t&&n?0:2);return l.useEffect(()=>{null!=e&&e.isClaimed()&&s(2)},[e]),l.useEffect(()=>{1===r&&i&&s(2)},[r,i]),{currentStep:r,setCurrentStep:s}}function E(e){let t=(0,h.rb)(e=>e.hasUnsubmittedChanges);l.useEffect(()=>((0,h.a5)(!1),()=>{(0,h.a5)(!1)}),[]),l.useEffect(()=>{let n=e.some(e=>e.field_type!==m.QJ.TERMS&&(0,g.OA)(e));n&&!t?(0,h.a5)(!0):!n&&t&&(0,h.a5)(!1)},[e,t])}},118346:function(e,t,n){n.d(t,{B:()=>f,b:()=>c}),n(47120);var i=n(200651),l=n(192379),r=n(481060),s=n(893776),u=n(489813),o=n(388032),a=n(327549);function d(){let[e,t]=l.useState(!1),[n,u]=l.useState(!1),[d,c]=l.useState(!1);l.useEffect(()=>{let e;return n&&(e=setTimeout(()=>{u(!1)},2e3)),()=>{null!=e&&clearTimeout(e)}},[n]);let f=async()=>{if(!e){t(!0);try{await s.Z.verifyResend(),u(!0),c(!0)}catch(e){}finally{t(!1)}}};return n?(0,i.jsx)(r.Text,{className:a.verifyConfirmText,variant:"text-sm/normal",color:"text-positive",children:o.intl.string(o.t.H3Q7U1)}):(0,i.jsx)(r.zxk,{size:r.zxk.Sizes.SMALL,submitting:e,onClick:f,children:d?o.intl.string(o.t.WnX4Jy):o.intl.string(o.t["13ofGh"])})}function c(){return(0,i.jsx)(u.PU,{icon:r._XJ,text:o.intl.string(o.t.c6EUJC),footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(r.ua7,{text:o.intl.string(o.t.mGlP39),children:e=>(0,i.jsx)(r.zxk,{...e,size:r.zxk.Sizes.SMALL,disabled:!0,children:o.intl.string(o.t["13ofGh"])})})})}function f(e){let{isUserVerified:t}=e,n=t?o.intl.string(o.t.qY1jHB):o.intl.string(o.t.c6EUJC);return(0,i.jsx)(u.PU,{icon:r._XJ,text:n,footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(d,{})})}},276486:function(e,t,n){n.d(t,{l:()=>a,v:()=>d});var i=n(200651);n(192379);var l=n(481060),r=n(144114),s=n(489813),u=n(815660),o=n(388032);function a(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{icon:l.AtH,text:o.intl.string(o.t.woMjLS),footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(l.ua7,{text:o.intl.string(o.t.mGlP39),children:e=>(0,i.jsx)(l.zxk,{...e,size:l.zxk.Sizes.SMALL,disabled:!0,children:o.intl.string(o.t["13ofGh"])})})})})}function d(e){let{isUserVerified:t}=e,a=t?o.intl.string(o.t.WWzQtb):o.intl.string(o.t.woMjLS);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{icon:l.AtH,text:a,footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(l.zxk,{size:l.zxk.Sizes.SMALL,onClick:()=>{(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("98523")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:r.L.GUILD_PHONE_REQUIRED,...t})},{modalKey:u.M})},children:o.intl.string(o.t["13ofGh"])})})})}},23262:function(e,t,n){n.d(t,{B:()=>f,b:()=>c}),n(47120);var i=n(200651),l=n(192379),r=n(481060),s=n(893776),u=n(476770),o=n(388032),a=n(35761);function d(){let[e,t]=l.useState(!1),[n,u]=l.useState(!1),[d,c]=l.useState(!1);l.useEffect(()=>{let e;return n&&(e=setTimeout(()=>{u(!1)},2e3)),()=>{null!=e&&clearTimeout(e)}},[n]);let f=async()=>{if(!e){t(!0);try{await s.Z.verifyResend(),u(!0),c(!0)}catch(e){}finally{t(!1)}}};return n?(0,i.jsx)(r.Text,{className:a.verifyConfirmText,variant:"text-sm/normal",color:"text-positive",children:o.intl.string(o.t.H3Q7U1)}):(0,i.jsx)(r.zxk,{size:r.zxk.Sizes.SMALL,submitting:e,onClick:f,children:d?o.intl.string(o.t.WnX4Jy):o.intl.string(o.t["13ofGh"])})}function c(){return(0,i.jsx)(u.PU,{className:a.editableRequirementContainer,icon:r._XJ,text:o.intl.string(o.t.c6EUJC),footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(r.ua7,{text:o.intl.string(o.t.mGlP39),children:e=>(0,i.jsx)(r.zxk,{...e,size:r.zxk.Sizes.SMALL,disabled:!0,children:o.intl.string(o.t["13ofGh"])})})})}function f(e){let{isUserVerified:t}=e,n=t?o.intl.string(o.t.qY1jHB):o.intl.string(o.t.c6EUJC);return(0,i.jsx)(u.PU,{className:a.editableRequirementContainer,icon:r._XJ,text:n,footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(d,{})})}},842310:function(e,t,n){n.d(t,{l:()=>d,v:()=>c});var i=n(200651);n(192379);var l=n(481060),r=n(144114),s=n(476770),u=n(815660),o=n(388032),a=n(35761);function d(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{className:a.editableRequirementContainer,icon:l.AtH,text:o.intl.string(o.t.woMjLS),footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(l.ua7,{text:o.intl.string(o.t.mGlP39),children:e=>(0,i.jsx)(l.zxk,{...e,size:l.zxk.Sizes.SMALL,disabled:!0,children:o.intl.string(o.t["13ofGh"])})})})})}function c(e){let{isUserVerified:t}=e,d=t?o.intl.string(o.t.WWzQtb):o.intl.string(o.t.woMjLS);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{className:a.editableRequirementContainer,icon:l.AtH,text:d,footnote:o.intl.string(o.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(l.zxk,{size:l.zxk.Sizes.SMALL,onClick:()=>{(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("98523")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:r.L.GUILD_PHONE_REQUIRED,...t})},{modalKey:u.M})},children:o.intl.string(o.t["13ofGh"])})})})}},990488:function(e,t,n){n.d(t,{W:()=>z,r:()=>U}),n(47120);var i=n(200651),l=n(192379),r=n(442837),s=n(430824),u=n(594174),o=n(63568),a=n(246364),d=n(990686),c=n(118346),f=n(186078),x=n(73880),m=n(276486),g=n(196345),h=n(707592),j=n(23262),v=n(483760),C=n(465588),M=n(842310),R=n(644929),E=n(814960),S=n(981631);function F(e){let{guildId:t,formFields:n,updateFormFields:l,v2Enabled:u}=e,o=(0,r.e7)([s.Z],()=>{var e;return null===(e=s.Z.getGuild(t))||void 0===e?void 0:e.rulesChannelId}),d=(e,t)=>{let i=n[e];l([...n.slice(0,e),{...i,response:t},...n.slice(e+1)])},c=(e,t)=>{let i=n[e];l([...n.slice(0,e),{...i,response:t},...n.slice(e+1)])},m=(e,t)=>{let{value:i}=t,r=n[e];l([...n.slice(0,e),{...r,response:i},...n.slice(e+1)])},j=(e,t)=>{switch(e.field_type){case a.QJ.TERMS:return(0,i.jsx)(g.dd,{channelId:o,formField:e,onChange:(e,n)=>d(t,n)},t);case a.QJ.TEXT_INPUT:return(0,i.jsx)(h.zY,{formField:e,autofocus:0===t,onChange:e=>c(t,e)},t);case a.QJ.PARAGRAPH:return(0,i.jsx)(x.lX,{formField:e,autofocus:0===t,onChange:e=>c(t,e)},t);case a.QJ.MULTIPLE_CHOICE:return(0,i.jsx)(f.sp,{formField:e,onChange:e=>m(t,e)},t)}},M=(e,t)=>{switch(e.field_type){case a.QJ.TERMS:return(0,i.jsx)(R.dd,{channelId:o,formField:e,onChange:(e,n)=>d(t,n)},t);case a.QJ.TEXT_INPUT:return(0,i.jsx)(E.zY,{formField:e,autofocus:0===t,onChange:e=>c(t,e)},t);case a.QJ.PARAGRAPH:return(0,i.jsx)(C.lX,{formField:e,autofocus:0===t,onChange:e=>c(t,e)},t);case a.QJ.MULTIPLE_CHOICE:return(0,i.jsx)(v.sp,{formField:e,onChange:e=>m(t,e)},t)}};return(0,i.jsx)(i.Fragment,{children:n.map((e,t)=>u?M(e,t):j(e,t))})}function z(e){let t,{guildId:n,formFields:l,updateFormFields:s,disableVerification:a}=e,f=(0,r.e7)([u.default],()=>u.default.getCurrentUser()),x=(0,d.i)({guildId:n}),g=(0,o.jS)(n,"PreviewFormRenderer");return(t=x===S.sFg.NONE?null:x===S.sFg.VERY_HIGH?g?M.l:m.l:g?j.b:c.b,null==f)?null:(0,i.jsxs)(i.Fragment,{children:[!a&&null!=t&&(0,i.jsx)(t,{}),(0,i.jsx)(F,{guildId:n,formFields:l,updateFormFields:s,v2Enabled:g})]})}function U(e){let t,{guildId:n,formFields:s,updateFormFields:a,disableVerification:f}=e,x=(0,r.e7)([u.default],()=>u.default.getCurrentUser()),g=(0,d.i)({guildId:n}),h=(0,o.jS)(n,"PreviewFormRenderer"),v=(null==x?void 0:x.isPhoneVerified())||(null==x?void 0:x.isStaff()),C=(null==x?void 0:x.verified)||v,R=!1;g===S.sFg.NONE?(R=!0,t=null):g===S.sFg.VERY_HIGH?(R=null!=v&&v,t=h?M.v:m.v):(R=null!=C&&C,t=h?j.B:c.B);let E=l.useRef(R);return null==x?null:(0,i.jsxs)(i.Fragment,{children:[!f&&!E.current&&null!=t&&(0,i.jsx)(t,{isUserVerified:R}),(0,i.jsx)(F,{guildId:n,formFields:s,updateFormFields:a,v2Enabled:h})]})}}}]);
//# sourceMappingURL=c059bae63a86381f.js.map