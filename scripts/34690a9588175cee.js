"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["7717"],{91176:function(e,l,n){n.d(l,{Z:()=>r});var t=n(913527),i=n.n(t),a=n(749210);let r={async setCommunicationDisabledDuration(e,l,n,t,r){let d=null!=n?i()().add(n,"s").toISOString():null;await a.Z.setCommunicationDisabledUntil({guildId:e,userId:l,communicationDisabledUntilTimestamp:d,duration:n,reason:t,location:r})}}},976192:function(e,l,n){n.d(l,{Z:()=>m});var t=n(200651),i=n(192379),a=n(442837),r=n(481060),d=n(616780),s=n(40851),u=n(300284),o=n(484459),c=n(314897),Z=n(271383),g=n(430824),h=n(496675),E=n(594174),f=n(981631),v=n(388032),C=n(713017);function m(e){let{guildId:l,userId:m,analyticsLocation:N,analyticsLocations:P,context:M,icon:S}=e,x=g.Z.getGuild(l),I=c.default.getId(),j=(0,a.e7)([E.default],()=>E.default.getUser(m)),O=(0,a.e7)([Z.ZP],()=>Z.ZP.isGuestOrLurker(l,m),[l,m]);(0,a.e7)([h.Z],()=>h.Z.getGuildVersion(l),[l]);let T=i.useMemo(()=>({[l]:[m]}),[l,m]);(0,d.$)(T);let U=M===f.IlC.POPOUT,b=(0,u.Z)({guild:x,analyticsLocation:N}),A=(0,s.Aq)();if(null==x||U)return null;let _=I===m&&(h.Z.can(f.Plq.CHANGE_NICKNAME,x)||h.Z.can(f.Plq.MANAGE_NICKNAMES,x)),p=I===m,R=h.Z.canManageUser(f.Plq.MANAGE_NICKNAMES,m,x);if(!(_||R||p)||null==j||O)return null;let y=x.hasFeature(f.oNc.HUB)?v.intl.string(v.t["+MWrWl"]):v.intl.string(v.t["PKQB/P"]),k=p?y:v.intl.string(v.t.dilOFx);return(0,t.jsx)(r.sNh,{id:"change-nickname",label:(0,t.jsx)("div",{className:C.labelWrapper,children:(0,t.jsx)("span",{className:C.label,children:k})}),icon:S,action:()=>{p?((0,o.Z)(j.id,j.getAvatarURL(l,80),{guildId:l}),b(),A.dispatch(f.CkL.POPOUT_CLOSE),(0,r.pTH)()):(0,r.ZDy)(async()=>{let{default:e}=await n.e("17712").then(n.bind(n,620021));return n=>(0,t.jsx)(e,{...n,guildId:l,user:j,analyticsSource:N,analyticsLocations:P})})}})}},286694:function(e,l,n){n.d(l,{Z:()=>h});var t=n(200651);n(192379);var i=n(442837),a=n(481060),r=n(592125),d=n(430824),s=n(496675),u=n(594174),o=n(471253),c=n(88751),Z=n(981631),g=n(388032);function h(e,l,n){var h;let E=r.Z.getChannel(n),f=(0,i.e7)([d.Z],()=>d.Z.getGuild(l),[l]),v=(0,i.e7)([c.ZP],()=>c.ZP.getPermissionsForUser(e.id,n),[n,e.id]),C=(null===(h=u.default.getCurrentUser())||void 0===h?void 0:h.id)===e.id,m=(0,i.e7)([s.Z],()=>null!=n&&s.Z.canWithPartialContext(Z.Plq.MUTE_MEMBERS,{channelId:n}),[n]);return null!=E&&null!=f&&(m||C)&&v.speaker?(0,t.jsx)(a.sNh,{id:"audience",label:C?g.intl.string(g.t["6C6PJy"]):g.intl.string(g.t.VK3vQ0),action:()=>{C?(0,o.yi)(E):(0,o.hz)(e,E)}}):null}},757387:function(e,l,n){n.d(l,{default:()=>F});var t=n(200651);n(192379);var i=n(442837),a=n(481060),r=n(239091),d=n(883385),s=n(108843),u=n(911969),o=n(947440),c=n(100527),Z=n(441061),g=n(167675),h=n(737013),E=n(607783),f=n(299206),v=n(976192),C=n(819403),m=n(286694),N=n(592125),P=n(944486),M=n(777658),S=n(858488),x=n(185457),I=n(933409),j=n(570870),O=n(389052),T=n(24311),U=n(332576),b=n(158508),A=n(710631),_=n(297047),p=n(88966),R=n(712301),y=n(558924),k=n(991307),q=n(37258),G=n(931617),B=n(700994),L=n(332031),D=n(981631),V=n(388032);let F=(0,s.Z)((0,d.Z)(function(e){let{user:l,guildId:n,channel:d,showMediaItems:s=!1,showChatItems:c=!0,showChannelCallItems:F=!1,showModalItems:Q=!0,showStageChannelItems:w=!1,context:K,onSelect:H,onHeightUpdate:W,viewingChannelId:Y}=e,X=d.id,J={page:D.ZY5.GUILD_CHANNEL,section:D.jXE.CHAT_USERNAME,object:D.qAy.CONTEXT_MENU_ITEM},z=(0,q.Z)({userId:l.id,guildId:n,channelId:X,showGuildProfile:!0}),$=(0,_.Z)(l,n,K),ee=(0,p.Z)(l.id,K),el=(0,L.Z)(l.id),en=(0,T.Z)({user:l,context:K}),et=(0,x.Z)({user:l,guildId:n,channelId:X,context:K}),ei=(0,S.Z)({user:l}),ea=(0,B.Z)(l.id),er=(0,k.Z)(l.id),ed=(0,E.B)({userId:l.id,channelId:X,guildId:d.getGuildId(),location:"GuildChannelUserContextMenu"}),es=(0,v.Z)({guildId:n,userId:l.id,analyticsLocation:J,context:K}),eu=(0,A.Z)({user:l,guildId:n}),eo=(0,o.Z)(null,l),ec=(0,M.Z)({user:l}),eZ=(0,O.Z)({user:l,guildId:n,channelId:X,location:"GuildChannelUserContextMenu"}),eg=(0,b.Z)({user:l,guildId:n,channelId:X,location:"GuildChannelUserContextMenu"}),eh=(0,I.Z)(l,n,X),eE=(0,G.Z)(l.id,n),ef=(0,R.Z)(l,n),ev=(0,f.Z)({id:l.id,label:V.intl.string(V.t["/AXYnJ"])}),eC=(0,U.Z)(l.id,X),em=(0,g.Z)(l.id),eN=(0,Z.Z)(X),eP=(0,C.Z)(l),eM=(0,m.Z)(l,n,X),eS=(0,i.e7)([N.Z],()=>null!=Y?N.Z.getChannel(Y):null),ex=(0,j.Z)({commandType:u.yU.USER,commandTargetId:l.id,channel:null!=eS?eS:d,guildId:n,onHeightUpdate:W,context:K}),eI=(0,h.Z)(l.id),ej=(0,i.e7)([P.Z],()=>P.Z.getVoiceChannelId()),eO=(0,y.Z)(l,ej),eT=l.isNonUserBot();return(0,t.jsxs)(a.v2r,{navId:"user-context",onClose:r.Zy,"aria-label":V.intl.string(V.t.liqwPD),onSelect:H,children:[!eT&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.kSQ,{children:[eP,w&&eM]}),(0,t.jsxs)(a.kSQ,{children:[Q&&z,c&&$,ee,en,eO,Q&&et,Q&&ei,el]}),s&&(0,t.jsx)(a.kSQ,{children:ea}),(0,t.jsx)(a.kSQ,{children:Q&&eo}),(0,t.jsxs)(a.kSQ,{children:[s&&er,s&&ed,s&&eC,Q&&es,ex,Q&&eu,ec,Q&&eg,Q&&eZ,F&&eI]}),(0,t.jsx)(a.kSQ,{children:eh}),(0,t.jsxs)(a.kSQ,{children:[eE,ef]}),F&&(0,t.jsxs)(a.kSQ,{children:[eN,em]})]}),(0,t.jsx)(a.kSQ,{children:ev})]})},{object:D.qAy.CONTEXT_MENU}),[c.Z.CONTEXT_MENU,c.Z.GUILD_CHANNEL_USER_MENU])},933409:function(e,l,n){n.d(l,{Z:()=>T}),n(47120),n(789020);var t=n(200651),i=n(192379),a=n(442837),r=n(481060),d=n(91176),s=n(749210),u=n(616780),o=n(251794),c=n(386696),Z=n(71619),g=n(946273),h=n(910693),E=n(592125),f=n(271383),v=n(430824),C=n(496675),m=n(594174),N=n(979651),P=n(630388),M=n(5192),S=n(813872),x=n(981631),I=n(590433),j=n(372897),O=n(388032);function T(e,l,T,U,b){let A=i.useMemo(()=>({[l]:[e.id]}),[l,e.id]),_=null!=U?[U]:[];(0,u.$)(A),(0,a.e7)([C.Z],()=>C.Z.getGuildVersion(l),[l]);let p=(0,a.e7)([v.Z],()=>v.Z.getGuild(l),[l]),R=(0,a.e7)([m.default],()=>{var l;return(null===(l=m.default.getCurrentUser())||void 0===l?void 0:l.id)===e.id},[e.id]),y=(0,a.e7)([f.ZP],()=>f.ZP.isGuestOrLurker(l,e.id),[l,e.id]),k=(0,a.e7)([E.Z],()=>E.Z.getChannel(T),[T]),[,q]=(0,Z.ZP)(e.id,l),G=null==k?void 0:k.isGuildStageVoice(),{muted:B,deafened:L,suppressed:D,voiceChannelId:V}=(0,a.cj)([N.Z],()=>{var n,t,i;let a=N.Z.getVoiceState(l,e.id);return{muted:null!==(n=null==a?void 0:a.mute)&&void 0!==n&&n,deafened:null!==(t=null==a?void 0:a.deaf)&&void 0!==t&&t,suppressed:null!==(i=null==a?void 0:a.suppress)&&void 0!==i&&i,voiceChannelId:null==a?void 0:a.channelId}}),F=(0,a.e7)([f.ZP],()=>f.ZP.getMember(l,e.id)),Q=(0,S.Z)({userId:e.id,guildId:l,channelId:T,location:U,appContext:b}),w=(0,h.sE)(l,{location:U,targetUserId:e.id}),K=(0,c.Z)(l,e.id),H=null!=V&&null!=T&&C.Z.canWithPartialContext(x.Plq.VIEW_CHANNEL,{channelId:V})&&!y?[(!G||G&&!D)&&C.Z.canWithPartialContext(x.Plq.MUTE_MEMBERS,{channelId:T})?(0,t.jsx)(r.S89,{id:"voice-mute",label:O.intl.string(O.t.e9e9UV),checked:B,color:"danger",action:()=>{!1===B&&w(h.jQ.MUTE),s.Z.setServerMute(l,e.id,!B)}},"voice-mute"):null,(!G||G&&!D)&&C.Z.canWithPartialContext(x.Plq.DEAFEN_MEMBERS,{channelId:T})?(0,t.jsx)(r.S89,{id:"voice-deafen",label:O.intl.string(O.t.hMA2GB),checked:L,color:"danger",action:()=>s.Z.setServerDeaf(l,e.id,!L)},"voice-deafen"):null,!R&&null!=p&&C.Z.canWithPartialContext(x.Plq.MOVE_MEMBERS,{channelId:T})?(0,t.jsx)(r.sNh,{id:"voice-disconnect",label:R?O.intl.string(O.t["6vrfgo"]):O.intl.string(O.t["/jERiI"]),color:"danger",action:()=>s.Z.setChannel(l,e.id,null)},"voice-disconnect"):null]:[],W=async(l,n,t)=>{if(l.ctrlKey||l.metaKey)try{var i;await d.Z.setCommunicationDisabledDuration(n,t,I.UK.DURATION_60_SEC,null,U),w(h.jQ.TIMEOUT),(0,r.showToast)((0,r.createToast)(O.intl.formatToPlainString(O.t.O9C3Nj,{user:null!==(i=M.ZP.getName(n,null,e))&&void 0!==i?i:""}),r.ToastType.SUCCESS))}catch(e){(0,r.showToast)((0,r.createToast)(O.intl.string(O.t.epyCur),r.ToastType.FAILURE))}},Y=null,X=null!=p&&C.Z.canManageUser(x.Plq.MODERATE_MEMBERS,e,p)&&C.Z.canManageUser(x.Plq.KICK_MEMBERS,e,p)&&C.Z.canManageUser(x.Plq.BAN_MEMBERS,e,p),J=null!=p&&(C.Z.canManageUser(x.Plq.MANAGE_GUILD,e,p)||C.Z.canManageUser(x.Plq.MANAGE_ROLES,e,p));if(!R&&null!=p&&null!=F&&null!=F.joinedAt&&(X||J)&&p.hasFeature(x.oNc.GUILD_ONBOARDING_EVER_ENABLED)){var z;Y=(0,P.yE)(null!==(z=F.flags)&&void 0!==z?z:0,j.q.BYPASSES_VERIFICATION)?(0,t.jsx)(r.sNh,{id:"verify",label:O.intl.string(O.t.NbhSIy),action:()=>{var l;return s.Z.setMemberFlags(p.id,e.id,(0,P.mB)(null!==(l=F.flags)&&void 0!==l?l:0,j.q.BYPASSES_VERIFICATION,!1))}},"verify"):(0,t.jsx)(r.sNh,{id:"verify",label:O.intl.string(O.t["6QlTeH"]),action:()=>{var l;return s.Z.setMemberFlags(p.id,e.id,(0,P.mB)(null!==(l=F.flags)&&void 0!==l?l:0,j.q.BYPASSES_VERIFICATION,!0))}},"verify")}return[...H,...R||null==p?[]:[Q,Y,K&&!y?q?(0,t.jsx)(r.sNh,{id:"removetimeout",label:O.intl.formatToPlainString(O.t.csKetb,{user:e.username}),color:"danger",action:()=>{(0,o.q)({guildId:l,userId:e.id,anaylticsLocations:_})}},"removetimeout"):(0,t.jsx)(r.sNh,{id:"timeout",label:O.intl.formatToPlainString(O.t.OhsOy8,{user:e.username}),color:"danger",action:n=>{if(n.ctrlKey||n.metaKey)return W(n,l,e.id);(0,o.z)({guildId:l,userId:e.id,anaylticsLocations:_})}},"timeout"):null,(0,g.BK)(e,p)?(0,t.jsx)(r.sNh,{id:"kick",label:O.intl.formatToPlainString(O.t["9l/iTU"],{user:e.username}),color:"danger",action:()=>(0,r.ZDy)(async()=>{let{default:i}=await n.e("5454").then(n.bind(n,854360));return n=>(0,t.jsx)(i,{...n,location:U,guildId:l,user:e})})},"kick"):null,(0,g.mm)(e,p)?(0,t.jsx)(r.sNh,{id:"ban",label:O.intl.formatToPlainString(O.t.WnpUBg,{user:e.username}),color:"danger",action:()=>(0,r.ZDy)(async()=>{let{default:i}=await n.e("43350").then(n.bind(n,98746));return n=>(0,t.jsx)(i,{...n,location:U,guildId:l,user:e})})},"ban"):null]]}},813872:function(e,l,n){n.d(l,{Z:()=>v});var t=n(200651),i=n(192379),a=n(442837),r=n(481060),d=n(40851),s=n(549879),u=n(189432),o=n(189357),c=n(944486),Z=n(626135),g=n(981631),h=n(176505),E=n(50493),f=n(388032);function v(e){let{userId:l,guildId:n,channelId:v,location:C,onAction:m,appContext:N}=e,P=i.useContext(Z.AnalyticsContext),M=(0,d.Aq)(),S=(0,a.e7)([c.Z],()=>null!=v?v:c.Z.getChannelId(n,!0),[v,n]),x=(0,o.m)(n);return null!=n&&x?(0,t.jsx)(r.sNh,{id:"mod-view",label:f.intl.string(f.t.kj3tz8),action:()=>{null==m||m(),(0,s.i)(N),(0,u.r)(n,l,null!=S?S:h.oC.MEMBER_SAFETY,{modViewPanel:E.k.INFO,sourceLocation:null!=C?C:P.location}),M.dispatch(g.CkL.POPOUT_CLOSE)}}):null}},88966:function(e,l,n){n.d(l,{Z:()=>c});var t=n(200651);n(192379);var i=n(442837),a=n(481060),r=n(493683),d=n(40851),s=n(314897),u=n(981631),o=n(388032);function c(e,l,n){let c=(0,d.Aq)();return(0,i.e7)([s.default],()=>s.default.getId()===e)||l===u.IlC.POPOUT?null:(0,t.jsx)(a.sNh,{id:"message-user",label:o.intl.string(o.t.OAJQlJ),action:()=>{r.Z.openPrivateChannel(e),c.dispatch(u.CkL.POPOUT_CLOSE),(0,a.pTH)()},icon:n})}},712301:function(e,l,n){n.d(l,{Z:()=>M});var t=n(200651);n(192379);var i=n(442837),a=n(481060),r=n(749210),d=n(287734),s=n(933557),u=n(314897),o=n(592125),c=n(984933),Z=n(271383),g=n(430824),h=n(496675),E=n(699516),f=n(594174),v=n(979651),C=n(934415),m=n(700785),N=n(981631),P=n(388032);function M(e,l){let n=(0,i.e7)([c.ZP],()=>c.ZP.getChannels(l)[c.Zb],[l]),M=(0,i.e7)([v.Z,o.Z],()=>{let n=v.Z.getUserVoiceChannelId(l,e.id);return o.Z.getChannel(n)},[l,e.id]);if((0,i.e7)([Z.ZP],()=>Z.ZP.isGuestOrLurker(l,e.id),[l,e.id])||null==M)return null;let S=e.id===u.default.getId();if(!S&&!h.Z.can(N.Plq.MOVE_MEMBERS,M))return null;let x=n.filter(l=>{let{channel:n}=l;return n.id!==M.id&&(S?h.Z.can(N.Plq.CONNECT,n)&&!(0,C.rY)(n,v.Z,g.Z):h.Z.can(N.Plq.MOVE_MEMBERS,n)&&(h.Z.can(N.Plq.CONNECT,n)||m.BT({permission:N.Plq.CONNECT,user:e,context:n}))&&!(0,C.rY)(n,v.Z,g.Z))});return 0===x.length?null:(0,t.jsx)(a.sNh,{id:"voice-move",label:P.intl.string(P.t.FAplmp),children:x.map(n=>{let{channel:i}=n;return(0,t.jsx)(a.sNh,{id:i.id,action:()=>{e.id===u.default.getId()?d.default.selectVoiceChannel(i.id):r.Z.setChannel(l,e.id,i.id)},label:(0,s.F6)(i,f.default,E.Z)},i.id)})})}},931617:function(e,l,n){n.d(l,{Z:()=>m});var t=n(200651);n(192379);var i=n(866442),a=n(442837),r=n(481060),d=n(607070),s=n(605436),u=n(910693),o=n(434404),c=n(271383),Z=n(430824),g=n(496675),h=n(823379),E=n(981631),f=n(388032),v=n(231797);function C(e,l){var n,a;return(0,t.jsxs)("div",{className:v.roleRow,children:["dot"===l?(0,t.jsx)(r.FhE,{className:v.roleDot,color:null!==(n=e.colorString)&&void 0!==n?n:(0,i.Rf)(E.p6O),background:!1,tooltip:!1}):(0,t.jsx)(r.xko,{className:v.roleDot,color:null!==(a=e.colorString)&&void 0!==a?a:(0,i.Rf)(E.p6O)}),(0,t.jsx)("div",{children:e.name})]})}function m(e,l){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,v=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=(0,a.e7)([Z.Z],()=>Z.Z.getGuild(l)),N=(0,a.e7)([Z.Z],()=>Z.Z.getRoles(l)),P=(0,a.e7)([d.Z],()=>d.Z.roleStyle),M=(0,u.sE)(l,{location:i,targetUserId:e}),{userRoles:S,isGuildMember:x,canManageRoles:I}=(0,a.cj)([c.ZP,g.Z],()=>{let n=c.ZP.getMember(l,e);return{userRoles:null!=n?n.roles:[],isGuildMember:null!=n,canManageRoles:null!=m&&g.Z.can(E.Plq.MANAGE_ROLES,m)}},[e,l,m]);if(__OVERLAY__||null==S||null==m||!x)return null;let j=g.Z.getHighestRole(m),O=Object.values(N).filter(e=>!(0,s.pM)(m.id,e.id)),T=I&&!v?O.map(n=>{let i=n.managed||!g.Z.isRoleHigher(m,j,n),a=-1!==S.indexOf(n.id);return i&&!a?null:(0,t.jsx)(r.S89,{id:n.id,label:()=>C(n,P),disabled:i,action:()=>{S.includes(n.id)?(o.Z.updateMemberRoles(l,e,S.filter(e=>e!==n.id),[],[n.id]),M(u.jQ.REMOVE_ROLE)):(o.Z.updateMemberRoles(l,e,S.concat([n.id]),[n.id],[]),M(u.jQ.ADD_ROLE))},checked:a},n.id)}):O.filter(e=>-1!==S.indexOf(e.id)).map(e=>(0,s.pM)(m.id,e.id)?null:(0,t.jsx)(r.sNh,{id:e.id,label:()=>C(e,P)},e.id));return 0===T.filter(h.lm).length?null:n?T:(0,t.jsx)(r.sNh,{id:"roles",label:f.intl.formatToPlainString(f.t.PCs0oq,{numRoles:T.length}),children:T})}}}]);
//# sourceMappingURL=34690a9588175cee.js.map