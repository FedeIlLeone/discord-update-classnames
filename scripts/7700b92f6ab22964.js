"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["11866"],{736408:function(e,t,n){n.d(t,{$:()=>c}),n(610138),n(216116),n(78328),n(815648),n(47120);var l=n(134432),a=n(768581),r=n(981631);let{API_ENDPOINT:o,CDN_HOST:i}=window.GLOBAL_ENV;function c(e){let{itemId:t,hash:n,containerWidth:c=1024}=e,u=new URLSearchParams({size:(0,l.oO)(c*(0,l.x_)()).toString()}).toString(),s=a.$k?"webp":"png";return null!=i?"".concat(location.protocol,"//").concat(i,"/app-assets/application-directory/collection-items/").concat(t,"/").concat(n,".").concat(s,"?").concat(u):"".concat(location.protocol).concat(o).concat(r.ANM.APPLICATION_DIRECTORY_COLLECTION_ITEM_IMAGE(t,n,s),"?").concat(u)}},34674:function(e,t,n){n.d(t,{$_:()=>s,KQ:()=>u,MU:()=>c,RF:()=>d}),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648),n(47120),n(860911);var l=n(477690);n(481060);var a=n(911969);n(703656);var r=n(736408),o=n(981631),i=n(388032);let c=0;function u(){return{id:c,name:i.intl.string(i.t.E407b2)}}function s(e){let{itemId:t,hash:n,containerWidth:a=parseFloat(l.Z.APPLICATION_DIRECTORY_CONTENT_MAX_WIDTH)}=e;return(0,r.$)({itemId:t,hash:n,containerWidth:a})}let p=e=>{if(null==e)return null;let t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/);return null!=t?t[1]:null};function d(e){switch(e.type){case a.ee.MEDIA_PROXY:var t;let n=null!==(t=e.proxy_url)&&void 0!==t?t:e.url;return{type:o.s9s.IMG,width:0,height:0,src:n};case a.ee.YOUTUBE:let l=p(e.url);if(null!=l)return{type:o.s9s.YOUTUBE_VIDEO,youtubeVideoId:l}}return console.warn("Unsupported carousel item",e),null}},749681:function(e,t,n){n.r(t),n.d(t,{transitionToGlobalDiscovery:()=>function e(t){var n,I,O;let E=t.tab;switch(s.Z.setState({selectedTab:E}),E){case p.GlobalDiscoveryTab.SERVERS:let A=t.selectedServersTab;return null!=A?r.Z.setState({selectedTab:A,entrypoint:null!==(n=t.entrypoint)&&void 0!==n?n:_.Qq.UNKNOWN}):r.Z.setState({entrypoint:null!==(I=t.entrypoint)&&void 0!==I?I:_.Qq.UNKNOWN}),(0,i.uL)(d.Z5c.GLOBAL_DISCOVERY_SERVERS,t.extra);case p.GlobalDiscoveryTab.APPS:if(null!=t.newSessionState){let n=(0,a.PM)(),{guildId:r,entrypoint:o}=t.newSessionState;if(l.z8.setState({sessionId:n,guildId:null!=r?r:null,entrypoint:o,trackedOpenedFromExternalEntrypoint:!1}),u.default.track(d.rMx.APP_DIRECTORY_OPENED,{source:null==o?void 0:o.name,session_id:n,guild_id:r,user_id:null===(O=c.default.getCurrentUser())||void 0===O?void 0:O.id}),t.newSessionState.restorePreviousView)return e(function(){let{lastItem:e}=l.aQ.getState();if(null!=e)switch(e.type){case l.m_.APPLICATION:return{tab:p.GlobalDiscoveryTab.APPS,applicationId:e.applicationId,section:e.section};case l.m_.CATEGORY:return{tab:p.GlobalDiscoveryTab.APPS,categoryId:Number(e.categoryId)};case l.m_.SEARCH:var t;return{tab:p.GlobalDiscoveryTab.APPS,query:null!==(t=e.query)&&void 0!==t?t:"",page:e.page,categoryId:null!=e.categoryId?Number(e.categoryId):void 0}}return{tab:p.GlobalDiscoveryTab.APPS}}())}if(null!=t.applicationId){if(t.section===S.GlobalDiscoveryAppsSections.STORE){if(null!=t.skuId)return(0,i.uL)(d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(t.applicationId,t.skuId));return(0,i.uL)(d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(t.applicationId,S.GlobalDiscoveryAppsSections.STORE))}return(0,i.uL)(d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(t.applicationId))}if(null!=t.query){let e=new URLSearchParams;return""!==t.query&&e.set("q",t.query),null!=t.categoryId&&e.set("category_id",t.categoryId.toString()),null!=t.page&&e.set("page",t.page.toString()),(0,i.uL)(d.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,{search:e.toString()})}if(null!=t.categoryId)return(0,i.uL)(d.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(t.categoryId.toString()));else return(0,i.uL)(d.Z5c.GLOBAL_DISCOVERY_APPS);case p.GlobalDiscoveryTab.QUESTS:return(0,o.navigateToQuestHome)({fromContent:t.questContent,questId:t.questId});default:throw Error("[transitionToGlobalDiscovery] Unhandled tab type: ".concat(E))}}}),n(610138),n(216116),n(78328),n(815648),n(47120),n(411104);var l=n(258971),a=n(726115),r=n(859921),o=n(341907),i=n(703656),c=n(594174),u=n(626135),s=n(836768),p=n(49898),d=n(981631),S=n(979007),_=n(128449)},258971:function(e,t,n){if(n.d(t,{Uc:()=>_,Xh:()=>I,aQ:()=>d,m_:()=>p,z8:()=>S}),n(610138),n(216116),n(78328),n(815648),n(47120),12633==n.j)var l,a=n(512969);var r=n(972959),o=n(264043),i=n(34674),c=n(703656),u=n(979007),s=n(981631),p=((l={}).HOME="home",l.SEARCH="search",l.APPLICATION="application",l.CATEGORY="category",l);let d=(0,r.H)(()=>({})),S=(0,r.H)(()=>({sessionId:null,guildId:null,entrypoint:null,trackedOpenedFromExternalEntrypoint:!1}));function _(){let{location:{state:e}}=(0,c.s1)();return null==e?void 0:e.previousView}function I(){var e,t,n;let{location:{pathname:l,search:r}}=(0,c.s1)();if(null!=(0,a.LX)(l,{path:s.Z5c.GLOBAL_DISCOVERY_APPS,exact:!0}))return{type:"home"};if(null!=(0,a.LX)(l,{path:s.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,exact:!0})){let e=new URLSearchParams(r),t={type:"search"},n=e.get("q");null!=n&&""!==n&&(t.query=n);let l=Number(e.get("category_id"));Number.isInteger(l)&&l!==i.MU&&(t.categoryId=l.toString());let a=Number(e.get("page"));return null!=a&&a>1&&(t.page=a),t}let p=(0,a.LX)(l,{path:[s.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(":categoryId")],exact:!0}),{categoryId:d}=null!==(e=null==p?void 0:p.params)&&void 0!==e?e:{};if(null!=p&&null!=d)return{type:"category",categoryId:d};let S=(0,a.LX)(l,{path:[s.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId"),s.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",":section"),s.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId")],exact:!0}),{applicationId:_,section:I,skuId:O}=null!==(t=null==S?void 0:S.params)&&void 0!==t?t:{};if(null!=S&&null!=_){let e=null===(n=o.Z.getApplication(_))||void 0===n?void 0:n.name;return{type:"application",applicationId:_,applicationName:e,section:null!=I?I:null!=O?u.GlobalDiscoveryAppsSections.STORE:u.GlobalDiscoveryAppsSections.ABOUT}}}},859921:function(e,t,n){n.d(t,{Z:()=>r});var l=n(972959);let a=Object.freeze({selectedTab:null,isSearchVisible:!1,entrypoint:null,searchBarState:n(49898).GlobalDiscoverySearchBarState.DEFAULT}),r=(0,l.H)(()=>a)}}]);
//# sourceMappingURL=7700b92f6ab22964.js.map