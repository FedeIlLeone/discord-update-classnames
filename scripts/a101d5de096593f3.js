"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["9343"],{75277:function(e){e.exports="/assets/77908695728b36fd.png"},706734:function(e,s,t){t.d(s,{Z:()=>u});var n=t(200651);t(192379);var l=t(481060),i=t(488889),a=t(226186),r=t(626135),o=t(981631),c=t(308569),d=t(388032),x=t(504914),m=t(669154);function u(e){let{onNext:s,onClose:t,reason:u,onReasonChange:_,freeTextResponse:E,setFreeTextResponse:N}=e,A=c.zf.map(e=>({value:e,name:(0,i.S)(e)})),C=(0,a.u)("change_email_collect_reasons_slide");return(0,n.jsxs)("form",{onSubmit:s,children:[(0,n.jsxs)(l.xBx,{separator:!1,className:m.header,children:[(0,n.jsx)(l.X6q,{variant:"heading-xl/extrabold",children:d.intl.string(d.t["41NIIi"])}),(0,n.jsx)(l.olH,{onClick:t,className:m.modalCloseButton})]}),(0,n.jsxs)(l.hzk,{className:x.content,children:[(0,n.jsx)(l.FXm,{radioPosition:"right",radioItemClassName:x.radioItem,size:l.FXm.Sizes.NOT_SET,value:u,options:A,onChange:e=>{let{value:s}=e;r.default.track(o.rMx.USER_ACCOUNT_EMAIL_CHANGE_REASON_SELECTED,{change_email_reason_enum:s}),_(s),N(""),s===c.pw.SOMETHING_ELSE&&a.Z.trackExposure({location:"change_email_collect_reasons_slide"})}}),C&&u===c.pw.SOMETHING_ELSE&&(0,n.jsx)(l.xJW,{children:(0,n.jsx)(l.Kx8,{value:E,maxLength:c.mF,onChange:N,className:x.textArea,placeholder:d.intl.string(d.t.Q8Rk7O)})})]}),(0,n.jsxs)(l.mzw,{className:m.modalFooter,children:[(0,n.jsx)(l.zxk,{color:l.zxk.Colors.BRAND,disabled:null==u,size:l.zxk.Sizes.MEDIUM,onClick:s,children:d.intl.string(d.t["3PatS0"])}),(0,n.jsx)(l.zxk,{look:l.zxk.Looks.LINK,color:l.zxk.Colors.PRIMARY,onClick:t,children:d.intl.string(d.t["ETE/oK"])})]})]})}},264119:function(e,s,t){t.d(s,{Z:()=>r});var n=t(200651);t(192379);var l=t(481060),i=t(388032),a=t(669154);function r(e){let{email:s,onClose:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.xBx,{separator:!1,className:a.header,children:[(0,n.jsx)(l.X6q,{className:a.title,variant:"heading-xl/semibold",children:i.intl.string(i.t["8O+nFx"])}),(0,n.jsx)(l.olH,{onClick:t,className:a.modalCloseButton})]}),(0,n.jsx)(l.hzk,{className:a.content,children:(0,n.jsx)(l.Text,{className:a.description,variant:"text-md/normal",children:i.intl.format(i.t.Zvx0Oz,{email:s})})}),(0,n.jsx)(l.hzk,{className:a.content,children:(0,n.jsx)(l.Text,{className:a.tooltip,variant:"text-sm/normal",children:i.intl.string(i.t.yb7itb)})}),(0,n.jsx)(l.mzw,{className:a.modalFooter,children:(0,n.jsx)(l.zxk,{className:a.__invalid_submit,color:l.zxk.Colors.BRAND,size:l.zxk.Sizes.MEDIUM,onClick:t,children:i.intl.string(i.t.BddRzc)})})]})}},75788:function(e,s,t){t.d(s,{Z:()=>m}),t(47120);var n=t(200651),l=t(192379),i=t(442837),a=t(481060),r=t(479531),o=t(393869),c=t(25990),d=t(388032),x=t(669154);function m(e){var s;let{isSlideReady:t,error:m,setEmailToken:u,setError:_,onNext:E,onClose:N}=e,[A,C]=l.useState(!1),[h,S]=l.useState(""),[k,p]=l.useState(!1),j=(0,i.e7)([c.Z],()=>c.Z.getErrors()),M=l.useRef(null);l.useEffect(()=>{if(t){var e;null===(e=M.current)||void 0===e||e.focus()}},[t]);let I=async e=>{e.preventDefault(),_(null),C(!0);try{let{token:e}=await (0,o.w)(h);u(e),E()}catch(e){_(new r.Z(e).getAnyErrorMessage())}finally{C(!1)}},R=async()=>{if(!k){p(!0);try{await (0,o.i)(!0),(0,a.showToast)((0,a.createToast)(d.intl.string(d.t["84yeo6"]),a.ToastType.SUCCESS))}catch(s){let e=new r.Z(s).getAnyErrorMessage();null!=e&&(0,a.showToast)((0,a.createToast)(e,a.ToastType.FAILURE))}finally{p(!1)}}};return(0,n.jsxs)("form",{onSubmit:I,children:[(0,n.jsxs)(a.xBx,{separator:!1,className:x.header,children:[(0,n.jsx)(a.X6q,{className:x.title,variant:"heading-xl/extrabold",children:d.intl.string(d.t.jMGc4O)}),(0,n.jsx)(a.Text,{color:"header-secondary",variant:"text-md/normal",className:x.subtitle,children:d.intl.string(d.t.SZJow8)}),(0,n.jsx)(a.olH,{onClick:N,className:x.modalCloseButton})]}),(0,n.jsxs)(a.hzk,{className:x.content,children:[(0,n.jsx)(a.xJW,{title:d.intl.string(d.t["8mZX6O"]),error:null!=m?m:null==j?void 0:null===(s=j.email_token)||void 0===s?void 0:s[0],children:(0,n.jsx)(a.oil,{value:h,onChange:S,inputRef:M})}),(0,n.jsx)(a.Text,{className:x.help,variant:"text-sm/normal",children:d.intl.format(d.t.P0sak5,{onResend:R})})]}),(0,n.jsx)(a.mzw,{children:(0,n.jsx)(a.zxk,{type:"submit",color:a.zxk.Colors.BRAND,size:a.zxk.Sizes.MEDIUM,submitting:A,children:d.intl.string(d.t.PDTjLC)})})]})}},22150:function(e,s,t){t.d(s,{Z:()=>m}),t(47120);var n=t(200651),l=t(192379),i=t(442837),a=t(481060),r=t(479531),o=t(393869),c=t(594174),d=t(388032),x=t(669154);function m(e){let{onNext:s,onClose:t}=e,[m,u]=l.useState(!1),_=(0,i.e7)([c.default],()=>c.default.getCurrentUser()),E=async e=>{e.preventDefault(),u(!0);try{await (0,o.i)(),s()}catch(s){let e=new r.Z(s).getAnyErrorMessage();null!=e&&(0,a.showToast)((0,a.createToast)(e,a.ToastType.FAILURE))}finally{u(!1)}};return(0,n.jsxs)("form",{onSubmit:E,children:[(0,n.jsxs)(a.xBx,{separator:!1,className:x.header,children:[(0,n.jsx)(a.X6q,{className:x.title,variant:"heading-xl/extrabold",children:d.intl.string(d.t.uFxYq6)}),(0,n.jsx)(a.olH,{onClick:t,className:x.modalCloseButton})]}),(0,n.jsx)(a.hzk,{className:x.content,children:(0,n.jsx)(a.Text,{className:x.description,variant:"text-md/normal",children:d.intl.format(d.t.oMFSgo,{oldEmail:null==_?void 0:_.email})})}),(0,n.jsxs)(a.mzw,{className:x.modalFooter,children:[(0,n.jsx)(a.zxk,{type:"submit",color:a.zxk.Colors.BRAND,size:a.zxk.Sizes.MEDIUM,submitting:m,className:x.__invalid_submit,children:d.intl.string(d.t.rXV81N)}),(0,n.jsx)(a.zxk,{className:x.__invalid_cancel,look:a.zxk.Looks.LINK,color:a.zxk.Colors.PRIMARY,onClick:t,children:d.intl.string(d.t["ETE/oK"])})]})]})}},642298:function(e,s,t){t.d(s,{default:()=>j}),t(47120);var n=t(200651),l=t(192379),i=t(990547),a=t(442837),r=t(481060),o=t(809206),c=t(594174),d=t(626135),x=t(706734),m=t(264119),u=t(75788),_=t(22150),E=t(361833),N=t(134562),A=t(526761),C=t(981631),h=t(308569),S=t(669154),k=t(800010),p=t(75277);function j(e){var s;let{transitionState:t,onClose:j}=e,M=(0,a.e7)([c.default],()=>c.default.getCurrentUser()),I=l.useRef(null!==(s=null==M?void 0:M.verified)&&void 0!==s&&s);l.useEffect(()=>(d.default.track(C.rMx.USER_ACCOUNT_EMAIL_CHANGE_ATTEMPTED),()=>(0,o.Zy)()),[]);let R=null==M?void 0:M.verified,g=R?A.Ax.CONFIRM_START:A.Ax.EMAIL_AND_PASSWORD,[f,v]=l.useState(g),[T,O]=l.useState(null),[z,L]=l.useState(null),[D,U]=l.useState(null),[b,w]=l.useState(""),[y,G]=l.useState(),[H,Z]=l.useState(""),F=f===A.Ax.CHANGE_EMAIL_WARNING?S.wumpusExclamationImg:S.emailHeaderImg,B=f===A.Ax.CHANGE_EMAIL_WARNING?p:k,P={impression_group:i.ImpressionGroups.USER_ACCOUNT_EMAIL_CHANGE_FLOW};return(0,n.jsxs)(r.Y0X,{transitionState:t,disableTrack:!0,children:[(0,n.jsx)("img",{alt:"",className:F,src:B}),(0,n.jsxs)(r.MyZ,{activeSlide:f,width:440,onSlideReady:e=>O(e),children:[(0,n.jsx)(r.Mi4,{id:A.Ax.CONFIRM_START,impressionName:i.ImpressionNames.USER_ACCOUNT_EMAIL_CHANGE_SEND_CODE,impressionProperties:P,children:(0,n.jsx)(_.Z,{onNext:()=>v(A.Ax.CONFIRM_CODE),onClose:j})}),(0,n.jsx)(r.Mi4,{id:A.Ax.CONFIRM_CODE,impressionName:i.ImpressionNames.USER_ACCOUNT_EMAIL_CHANGE_VERIFY_CODE,impressionProperties:P,children:(0,n.jsx)(u.Z,{error:D,setError:U,setEmailToken:L,isSlideReady:T===A.Ax.CONFIRM_CODE,onNext:()=>v(A.Ax.CHANGE_EMAIL_REASONS),onClose:j})}),(0,n.jsx)(r.Mi4,{id:A.Ax.CHANGE_EMAIL_REASONS,impressionName:i.ImpressionNames.USER_ACCOUNT_EMAIL_CHANGE_COLLECT_REASONS,impressionProperties:P,children:(0,n.jsx)(x.Z,{onNext:()=>(d.default.track(C.rMx.USER_ACCOUNT_EMAIL_CHANGE_REASON_CONTINUE,{change_email_reason_enum:y}),null!=y&&h.Mr.has(y)?v(A.Ax.CHANGE_EMAIL_WARNING):v(A.Ax.EMAIL_AND_PASSWORD)),onClose:j,reason:y,onReasonChange:G,freeTextResponse:H,setFreeTextResponse:Z})}),(0,n.jsx)(r.Mi4,{id:A.Ax.CHANGE_EMAIL_WARNING,impressionName:i.ImpressionNames.USER_ACCOUNT_EMAIL_CHANGE_WARNING,impressionProperties:P,children:(0,n.jsx)(N.Z,{onNext:()=>{d.default.track(C.rMx.USER_ACCOUNT_EMAIL_CHANGE_WARNING_CONTINUE,{change_email_reason_enum:y}),v(A.Ax.EMAIL_AND_PASSWORD)},onClose:j})}),(0,n.jsx)(r.Mi4,{id:A.Ax.EMAIL_AND_PASSWORD,impressionName:i.ImpressionNames.USER_ACCOUNT_EMAIL_CHANGE_ENTER_EMAIL,impressionProperties:{...P,email_verified:I.current},children:(0,n.jsx)(E.Z,{emailToken:z,isSlideReady:T===A.Ax.EMAIL_AND_PASSWORD,onBack:R?()=>v(null!=y&&h.Mr.has(y)?A.Ax.CHANGE_EMAIL_WARNING:A.Ax.CHANGE_EMAIL_REASONS):null,onNext:e=>{d.default.track(C.rMx.USER_ACCOUNT_EMAIL_CHANGE_SAVE_NEW_EMAIL,{change_email_reason_enum:y,free_text_response:H}),w(e),v(A.Ax.COMPLETE)},onClose:j})}),(0,n.jsx)(r.Mi4,{id:A.Ax.COMPLETE,impressionName:i.ImpressionNames.USER_ACCOUNT_EMAIL_CHANGE_COMPLETE,impressionProperties:P,children:(0,n.jsx)(m.Z,{email:b,onClose:j})})]})]})}},361833:function(e,s,t){t.d(s,{Z:()=>m}),t(47120);var n=t(200651),l=t(192379),i=t(442837),a=t(481060),r=t(809206),o=t(25990),c=t(155433),d=t(388032),x=t(669154);function m(e){var s,t;let{emailToken:m,isSlideReady:u,onClose:_,onBack:E,onNext:N}=e,[A,C]=l.useState(""),[h,S]=l.useState(""),[k,p]=l.useState(!1),j=(0,i.e7)([o.Z],()=>o.Z.getErrors()),M=l.useRef(null);async function I(e){e.preventDefault(),p(!0);let s=await (0,r.Mn)({email:A,emailToken:m,password:h});if(p(!1),null==s?void 0:s.ok)N(A);else{var t,n;(null==s?void 0:null===(t=s.body)||void 0===t?void 0:t.username)!=null?(0,c.P)():(null==s?void 0:null===(n=s.body)||void 0===n?void 0:n.email_token)!=null&&(null==E||E())}}return l.useEffect(()=>{if(u){var e;null===(e=M.current)||void 0===e||e.focus()}},[u]),(0,n.jsxs)("form",{onSubmit:I,children:[(0,n.jsxs)(a.xBx,{separator:!1,className:x.header,children:[(0,n.jsx)(a.X6q,{className:x.title,variant:"heading-xl/extrabold",children:d.intl.string(d.t.p3280t)}),(0,n.jsx)(a.Text,{color:"header-secondary",variant:"text-md/normal",className:x.subtitle,children:d.intl.string(d.t["1k44EB"])}),(0,n.jsx)(a.olH,{onClick:_,className:x.modalCloseButton})]}),(0,n.jsxs)(a.hzk,{className:x.content,children:[(0,n.jsx)(a.xJW,{title:d.intl.string(d.t["w/qqKC"]),error:null==j?void 0:null===(s=j.email)||void 0===s?void 0:s[0],children:(0,n.jsx)(a.oil,{type:"email",value:A,onChange:C,inputRef:M})}),(0,n.jsx)(a.xJW,{className:x.password,title:d.intl.string(d.t.TmdnJy),error:null==j?void 0:null===(t=j.password)||void 0===t?void 0:t[0],children:(0,n.jsx)(a.oil,{type:"password",value:h,onChange:S})})]}),(0,n.jsxs)(a.mzw,{children:[(0,n.jsx)(a.zxk,{type:"submit",color:a.zxk.Colors.BRAND,size:a.zxk.Sizes.MEDIUM,submitting:k,children:d.intl.string(d.t.i4jeWV)}),null!=E?(0,n.jsx)(a.zxk,{className:x.__invalid_cancel,look:a.zxk.Looks.LINK,color:a.zxk.Colors.PRIMARY,onClick:E,children:d.intl.string(d.t["13/7kZ"])}):(0,n.jsx)(a.zxk,{className:x.__invalid_cancel,look:a.zxk.Looks.LINK,color:a.zxk.Colors.PRIMARY,onClick:_,children:d.intl.string(d.t["ETE/oK"])})]})]})}},134562:function(e,s,t){t.d(s,{Z:()=>o});var n=t(200651);t(192379);var l=t(481060),i=t(308569),a=t(388032),r=t(669154);function o(e){let{onNext:s,onClose:t}=e;return(0,n.jsxs)("form",{onSubmit:s,children:[(0,n.jsxs)(l.xBx,{separator:!1,className:r.header,children:[(0,n.jsx)(l.X6q,{variant:"heading-xl/extrabold",children:a.intl.string(a.t.hhR7gY)}),(0,n.jsx)(l.olH,{onClick:t,className:r.modalCloseButton})]}),(0,n.jsxs)(l.hzk,{className:r.content,children:[(0,n.jsx)(l.Text,{className:r.description,variant:"text-md/normal",children:a.intl.format(a.t.rqWXUV,{hcArticle:i.j1})}),(0,n.jsx)(l.Text,{className:r.description,variant:"text-md/normal",children:a.intl.string(a.t["3LW10N"])})]}),(0,n.jsxs)(l.mzw,{className:r.modalFooter,children:[(0,n.jsx)(l.zxk,{color:l.zxk.Colors.BRAND,onClick:t,children:a.intl.string(a.t["ETE/oK"])}),(0,n.jsx)(l.zxk,{color:l.zxk.Colors.PRIMARY,look:l.zxk.Looks.LINK,onClick:s,children:a.intl.string(a.t.rwTBFh)})]})]})}},393869:function(e,s,t){t.d(s,{i:()=>a,w:()=>r});var n=t(990547),l=t(573261),i=t(981631);function a(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.Z.put({url:i.ANM.USER_EMAIL,trackedActionData:{event:n.NetworkActionNames.USER_ACCOUNT_EMAIL_CHANGE_SEND_CODE,properties:{is_resend:e}},rejectWithError:!1})}async function r(e){return(await l.Z.post({url:i.ANM.USER_EMAIL_VERIFY_CODE,body:{code:e},trackedActionData:{event:n.NetworkActionNames.USER_ACCOUNT_EMAIL_CHANGE_VERIFY_CODE},rejectWithError:!1})).body}},488889:function(e,s,t){t.d(s,{S:()=>a});var n=t(308569),l=t(388032);let i={[n.pw.DISCORD_EMPLOYEE_ASKED_ME_TO]:()=>l.intl.string(l.t.naBTFB),[n.pw.SOMEONE_ASKED_ME_TO]:()=>l.intl.string(l.t.LQ0RUF),[n.pw.NEW_EMAIL]:()=>l.intl.string(l.t.oOqQj4),[n.pw.SOMETHING_ELSE]:()=>l.intl.string(l.t.p38n1d)};function a(e){return i[e]()}},226186:function(e,s,t){t.d(s,{Z:()=>i,u:()=>l});let n=(0,t(818083).B)({kind:"user",id:"2024-10_email_change_reasoning_buttons_free_text_response",label:"Email Change Reasoning Buttons Free Text Response",defaultConfig:{enabled:!1},treatments:[{id:1,label:'Display a text area when the user selects "Something else"',config:{enabled:!0}}]});function l(e){return!!n.useExperiment({location:e},{autoTrackExposure:!1}).enabled}let i=n}}]);
//# sourceMappingURL=a101d5de096593f3.js.map