"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["1272"],{863181:function(e){e.exports="/assets/30a680768c7a9813.svg"},442519:function(e){e.exports="/assets/66d9417d99573939.svg"},466389:function(e){e.exports="/assets/eaaec668caed688e.svg"},943935:function(e){e.exports="/assets/ab63b30e9bc8855c.svg"},356634:function(e){e.exports="/assets/5800882047a89a6a.svg"},459505:function(e){e.exports="/assets/1db388f3c58dbb7d.svg"},67764:function(e){e.exports="/assets/d44b0727db0c5052.svg"},900933:function(e){e.exports="/assets/d7b6acd15c57ef27.svg"},917847:function(e){e.exports="/assets/390f0abb99b8c8a1.svg"},55346:function(e){e.exports="/assets/f81f7017b15478cc.svg"},138715:function(e){e.exports="/assets/4e11cf8e80a816c6.svg"},979770:function(e){e.exports="/assets/a09cfd7678b20f8c.svg"},349181:function(e){e.exports="/assets/25c27c1328c986f6.svg"},755386:function(e){e.exports="/assets/c47298d5d6eac3b2.svg"},589148:function(e){e.exports="/assets/f59ed15bef9f5c18.svg"},511189:function(e){e.exports="/assets/5cc728db4badfc0e.svg"},510342:function(e){e.exports="/assets/74690dbe995fcda0.svg"},211827:function(e){e.exports="/assets/58188da2d047938e.svg"},497726:function(e){e.exports="/assets/9f7360ed1fb65a5a.svg"},839999:function(e){e.exports="/assets/148cf7732ca0f3d8.svg"},127869:function(e){e.exports="/assets/95e823d78e994238.svg"},571472:function(e){e.exports="/assets/cf6d121495d60751.svg"},241626:function(e){e.exports="/assets/9b7fadd75ade640d.svg"},932478:function(e){e.exports="/assets/1b763dab67be227b.svg"},498973:function(e){e.exports="/assets/625f813befac2f1e.svg"},592859:function(e){e.exports="/assets/9daa18150ba7418f.svg"},837758:function(e){e.exports="/assets/27ff09832b8a5062.svg"},239660:function(e){e.exports="/assets/4613be06562668a7.svg"},846064:function(e){e.exports="/assets/fc451c7fd580b692.svg"},156834:function(e){e.exports="/assets/0129c482e263a9bf.svg"},895101:function(e){e.exports="/assets/23cd3d91b54c025b.svg"},686969:function(e){e.exports="/assets/3ad9c67e984da7ef.svg"},238173:function(e){e.exports="/assets/d71b4a11b638071e.svg"},468042:function(e){e.exports="/assets/555f2e7a9e2a3ba6.svg"},251458:function(e){e.exports="/assets/838c728f09c1c921.svg"},449757:function(e){e.exports="/assets/49ccdba4e630508d.svg"},32634:function(e){e.exports="/assets/d64f09e04e7e88f8.svg"},292824:function(e){e.exports="/assets/bdf03f89c231816a.svg"},457115:function(e){e.exports="/assets/ca4a0237223dab09.svg"},157476:function(e){e.exports="/assets/061504eb3d226883.png"},420569:function(e){e.exports="/assets/f7ead7c3a969ed19.png"},837753:function(e){e.exports="/assets/6b450d698584e501.svg"},968153:function(e){e.exports="/assets/c4cc60770e7dcef2.svg"},741160:function(e){e.exports="/assets/5f193fca1275dd5b.png"},829972:function(e){e.exports="/assets/323d7001427dbb82.svg"},31932:function(e){e.exports="/assets/ab506c0744811f37.svg"},930128:function(e){e.exports="/assets/d611c6cf03ca4eff.svg"},882977:function(e){e.exports="/assets/0b9061ca8185c832.svg"},297806:function(e){e.exports="/assets/5ff66aff7c573955.svg"},642301:function(e){e.exports="/assets/6657820fc2640a40.png"},788901:function(e){e.exports="/assets/ec5f2e9f9243e484.png"},933662:function(e){e.exports="/assets/91a06c682e6f77cb.png"},146714:function(e){e.exports="/assets/2c647a351877be20.svg"},659429:function(e,t,n){n.d(t,{$:()=>s});var i=n(544891),l=n(570140),r=n(34756),a=n(981631);async function s(e){l.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_START",applicationId:e});try{let t=(await i.tn.get({url:a.ANM.APPLICATION_ACTIVITY_STATISTICS(e),oldFormErrors:!0,rejectWithError:!1})).body;return l.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t,applicationId:e}),t}catch(t){throw l.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL",applicationId:e}),new r.Z(t)}}},930118:function(e,t,n){n.d(t,{Y:()=>l});var i=n(570140);function l(e){i.Z.wait(()=>i.Z.dispatch({type:"APPLICATION_STORE_LOCATION_CHANGE",location:e}))}},120960:function(e,t,n){n.d(t,{N:()=>l});var i=n(570140);function l(e,t){i.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}},949389:function(e,t,n){n.d(t,{GO:()=>l,K7:()=>r,xm:()=>a});var i=n(570140);function l(e){i.Z.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})}function r(e){i.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e})}function a(e){i.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e})}},943094:function(e,t,n){n.d(t,{W:()=>s});var i=n(481060),l=n(812206),r=n(710845),a=n(51025);function s(e,t,s){!function(e,t){let a=l.Z.getApplication(e);if(null==a){new r.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e));return}(0,i.ZDy)(async()=>{let{default:e}=await n.e("70061").then(n.bind(n,764998));return n=>e({game:a,onConfirmUninstall:t,...n})})}(e,()=>(0,a.pC)(e,t,s))}},287259:function(e,t,n){n.d(t,{JZ:()=>r,fS:()=>l,wX:()=>a});var i=n(570140);function l(e,t){i.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}function r(e){i.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}},325432:function(e,t,n){n.d(t,{RY:()=>r,Tb:()=>s,ec:()=>o,iD:()=>a}),n(47120);var i=n(570140),l=n(830168);function r(e){l.Z.queryDirectory(e,(t,n)=>{null==t&&null!=n&&i.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})})}function a(e){i.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function s(e,t){let{label:n,isDefault:l}=t;i.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:l})}function o(e){let t={},n=0;for(let r of e)null!=r&&"string"==typeof r&&l.Z.queryDirectory(r,(l,a)=>{++n,null==l&&null!=a&&(t[r]=a),n===e.length&&i.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})})}},115849:function(e,t,n){n.d(t,{Z:()=>A}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),d=n(481060),c=n(194359),u=n(313201),h=n(540059),m=n(657682),p=n(981631),g=n(420212),_=n(388032),f=n(768867),E=n(483938);let I=n(349181),C={canSend:!1,hint:null,success:null,error:null},N=(0,u.hQ)(),v="".concat(N,"-decription"),T="".concat(N,"-error");function S(e,t){switch(t.type){case"RESET":return C;case"SUCCESS":return{...C,success:t.text};case"HINT":return{...C,canSend:!0,hint:t.text};case"ERROR":return{...e,canSend:!0,error:t.text}}}function A(){let e=l.createRef(),t=l.createRef(),[n,r]=l.useReducer(S,C),{canSend:s,hint:u,success:A,error:Z}=n,x=(0,h.Q3)("AddFriendInput");return l.useEffect(()=>{null!=A&&(o()(null!=e.current,"Input is submitting when not mounted"),e.current.value="",e.current.focus())},[A,e]),(0,i.jsxs)("form",{onSubmit:t=>{t.preventDefault(),o()(null!=e.current,"Input is submitted when not mounted");let n=e.current.value.trim();!n.includes("#")&&n.startsWith("@")&&(n=n.substring(1));let i=(0,m.Zy)(n);if(null!=i){r({type:"ERROR",text:i});return}c.Z.sendRequest({discordTag:n,context:{location:"Add Friend"}}).then(()=>r({type:"SUCCESS",text:_.intl.format(_.t.Rtl1Eh,{discordTag:n})}),e=>{var t;return r({type:"ERROR",text:(0,m.NF)(null===(t=e.body)||void 0===t?void 0:t.code,n)})})},autoComplete:"off",children:[(0,i.jsxs)("div",{className:f.addFriendWumpusWrapper,children:[(0,i.jsx)(d.R94,{id:v,type:d.R94.Types.DESCRIPTION,children:(0,i.jsx)(d.Text,{tag:"div",variant:"heading-md/normal",children:_.intl.string(_.t["Rn/sLi"])})}),x?(0,i.jsx)("img",{src:I,alt:"Wumpus Waving"}):null]}),(0,i.jsx)(d.tEY,{focusTarget:e,ringTarget:t,ringClassName:f.ring,children:(0,i.jsxs)("div",{ref:t,className:a()(f.addFriendInputWrapper,{[f.success]:A,[f.error]:Z}),children:[(0,i.jsx)(d.oil,{id:N,inputRef:e,className:f.addFriendInput,inputClassName:f.input,onKeyPress:t=>{let n=t.currentTarget.value;if(t.key!==g.mR.Enter&&n.includes("#")){o()(null!=e.current,"Input is handling keypress when not mounted");let i=n.indexOf("#"),l=e.current.selectionStart,r=t.key===g.mR.Backspace||t.key===g.mR.ArrowRight||t.key===g.mR.ArrowLeft,a=t.which>=48&&t.which<=57;null!=l&&l>i&&/^(.+?#\d{4})$/.test(n)&&!r?t.preventDefault():null==l||!(l>i)||a||r||t.preventDefault()}},onChange:e=>{if(e.length<=0){r({type:"RESET"});return}let t="",[,n]=e.split("#");null!=n&&(t=e+p.LYt.slice(null!=n?n.length+1:0)),r({type:"HINT",text:t})},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-form-type":"other","data-lpignore":!0,"data-1p-ignore":!0,placeholder:_.intl.string(_.t["Rn/sLi"]),"aria-label":_.intl.string(_.t["Rn/sLi"]),"aria-invalid":null!=Z||void 0,"aria-describedby":null!=Z?T:v}),null!=u&&(0,i.jsx)("div",{className:f.addFriendHint,"aria-hidden":!0,children:u}),(0,i.jsx)(d.zxk,{size:d.zxk.Sizes.SMALL,disabled:!s,type:"submit",children:_.intl.string(_.t["PMsq/f"])})]})}),null!=Z&&(0,i.jsx)(d.R94,{role:"alert",id:T,type:d.R94.Types.ERROR,className:E.marginTop8,children:Z}),null!=A&&(0,i.jsx)(d.R94,{role:"status",type:d.R94.Types.SUCCESS,className:E.marginTop8,children:A})]})}},374005:function(e,t,n){n.d(t,{b:()=>C});var i=n(200651),l=n(192379),r=n(489948),a=n(393238),s=n(540059),o=n(720734),d=n(840780),c=n(235555),u=n(746508),h=n(210724),m=n(905423),p=n(316173),g=n(410575),_=n(981631),f=n(388032),E=n(306855);function I(e){let t=(0,m.Z)(e=>{let{guildId:t}=e;return t});return(0,i.jsx)(d.Z,{...e,guildId:t})}function C(){let e=(0,s.Q3)("AppPanels"),t=l.useRef(null);return(0,a.P)(t,t=>{let{height:n}=t;e&&document.body.style.setProperty("--custom-app-panels-height","".concat(n,"px"))},[]),(0,i.jsx)("section",{ref:t,className:E.panels,"aria-label":f.intl.string(f.t.StREWF),children:(0,i.jsxs)(r.Jc,{containerRef:t,children:[e&&(0,i.jsx)(p.Z,{}),(0,i.jsx)(h.Z,{}),(0,i.jsx)(c.Z,{}),(0,i.jsx)(g.Z,{section:_.jXE.ACTIVITY_PANEL,children:(0,i.jsx)(I,{className:E.activityPanel})}),(0,i.jsx)(g.Z,{section:_.jXE.RTC_CONNECTION_PANEL,children:(0,i.jsx)(u.Z,{})}),(0,i.jsx)(g.Z,{section:_.jXE.ACCOUNT_PANEL,children:(0,i.jsx)(o.Z,{})})]})})}},176299:function(e,t,n){n.d(t,{Z:()=>ez}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(593473),o=n(512969),d=n(990547),c=n(608787),u=n(873546),h=n(442837),m=n(433517),p=n(481060),g=n(711237),_=n(532835),f=n(347469),E=n(290297),I=n(289341),C=n(765717),N=n(358221),v=n(823748),T=n(626421),S=n(118379),A=n(267161),Z=n(652515),x=n(544978),b=n(540059),L=n(724383),y=n(135864),O=n(372900),P=n(63568),R=n(6039),j=n(637853),D=n(326145),w=n(269675),M=n(242601),k=n(416568),U=n(613609),G=n(160404),B=n(225675),V=n(745052),H=n(285865),F=n(659971),z=n(179742),W=n(270759),Y=n(50101),K=n(918701),q=n(905423),X=n(304445),Q=n(893607),J=n(210887),$=n(592125),ee=n(271383),et=n(430824),en=n(944486),ei=n(933429),el=n(626135),er=n(823379),ea=n(709054),es=n(374005),eo=n(409292),ed=n(316173),ec=n(256638),eu=n(663701),eh=n(697309),em=n(425369),ep=n(715702),eg=n(981631),e_=n(176505),ef=n(215023),eE=n(290511),eI=n(306855);let eC=(0,c.Un)({createPromise:()=>Promise.resolve().then(n.bind(n,267161)),webpackId:267161}),eN=()=>(0,i.jsx)("div",{className:eI.loader,children:(0,i.jsx)(p.$jN,{})}),ev=(0,c.Un)({createPromise:()=>n.e("78431").then(n.bind(n,650788)),webpackId:650788,name:"GuildShopPage",renderLoader:eN}),eT=(0,c.Un)({createPromise:()=>Promise.all([n.e("16114"),n.e("97811")]).then(n.bind(n,998420)),webpackId:998420,name:"GuildMemberApplicationReview",renderLoader:eN}),eS=(0,c.Un)({createPromise:()=>n.e("12009").then(n.bind(n,231588)),webpackId:231588,name:"GuildHomePage",renderLoader:eN}),eA=(0,c.Un)({createPromise:()=>Promise.all([n.e("6850"),n.e("9924")]).then(n.bind(n,545918)),webpackId:545918,name:"MemberSafetyPage",renderLoader:eN}),eZ=(0,c.Un)({createPromise:()=>Promise.all([n.e("44156"),n.e("58227"),n.e("58121")]).then(n.bind(n,603072)),webpackId:603072,name:"ChannelsAndRolesPage",renderLoader:eN}),ex=(0,c.Un)({createPromise:()=>Promise.all([n.e("44156"),n.e("19878"),n.e("37709")]).then(n.bind(n,599263)),webpackId:599263,name:"GuildOnboardingPage",renderLoader:eN}),eb=(0,c.Un)({createPromise:()=>n.e("44799").then(n.bind(n,393357)),webpackId:393357,name:"GuildPowerupsPage",renderLoader:eN}),eL=e=>{let{match:t}=e,n=(0,h.e7)([$.Z,en.Z],()=>{let e=en.Z.getChannelId();return $.Z.getChannel(e)}),{guildId:l,channelId:r,messageId:a}=t.params,s=(0,h.e7)([et.Z],()=>et.Z.getGuild(l)),d=(0,h.e7)([ee.ZP],()=>null==l?null:ee.ZP.getSelfMember(l)),c=(0,h.e7)([G.Z],()=>{if(null==l)return;let e=G.Z.getData(l);if((null==e?void 0:e.type)===B.z.SERVER_SHOP)switch(e.initialTab){case"role_subscriptions":return x.y.GUILD_ROLE_SUBSCRIPTIONS;case"guild_products":return x.y.GUILD_PRODUCTS;default:return}}),u=(0,Z.C4)(l,"channel_renderer"),m=(0,P.jS)(l,"ChannelRenderer"),p=(0,Y.Ek)(s,"ChannelRenderer");if(null!=l&&null!=r&&(0,e_.AB)(r))switch(r){case e_.oC.ROLE_SUBSCRIPTIONS:return u?(0,i.jsx)(ev,{guildId:l,initialTab:x.y.GUILD_ROLE_SUBSCRIPTIONS}):(0,i.jsx)(w.Z,{guildId:l});case e_.oC.GUILD_SHOP:return(0,i.jsx)(ev,{guildId:l,productId:a,initialTab:c});case e_.oC.MEMBER_APPLICATIONS:return m?(0,i.jsx)(o.l_,{to:eg.Z5c.CHANNEL(l,e_.oC.MEMBER_SAFETY)}):(0,i.jsx)(eT,{guildId:l});case e_.oC.GUILD_HOME:return(0,i.jsx)(eS,{guildId:l});case e_.oC.CHANNEL_BROWSER:return(0,i.jsx)(eZ,{guildId:l,selectedSection:eE.l7.BROWSE});case e_.oC.GUILD_ONBOARDING:return(0,i.jsx)(ex,{guildId:l});case e_.oC.CUSTOMIZE_COMMUNITY:return(0,i.jsx)(eZ,{guildId:l,selectedSection:eE.l7.CUSTOMIZE});case e_.oC.MEMBER_SAFETY:return(0,i.jsx)(eA,{guildId:l});case e_.oC.GUILD_BOOSTS:return p?(0,i.jsx)(eb,{guildId:l}):(0,i.jsx)(o.l_,{to:eg.Z5c.CHANNEL(l)});default:(0,er.vE)(r)}if((0,j.p3)(s,d))return(0,i.jsx)(D.Z,{guildId:l,channelId:r});if((null==n?void 0:n.type)===eg.d4z.GUILD_STORE){let e=ea.default.cast(t.params.messageId);return(0,i.jsx)(eo.Z,{channel:n,inputSkuId:e},n.id)}return(0,i.jsx)(v.Z,{})},ey=l.memo(function(){let{guildId:e,channelId:t}=(0,q.Z)(),n=(0,h.e7)([en.Z],()=>null!=t?t:en.Z.getChannelId(e));return window.location.pathname.startsWith(eg.Z5c.GLOBAL_DISCOVERY)||window.location.pathname.startsWith(eg.Z5c.GUILD_DISCOVERY)||(0,K.OG)()?(0,i.jsx)(y.Z,{}):null!=e?(0,i.jsx)(M.Z,{selectedChannelId:n,guildId:e},e):(0,i.jsx)(eu.Z,{})}),eO=e=>(0,i.jsx)(eL,{...e}),eP=()=>(0,i.jsx)(L.Z,{}),eR=e=>{let{match:t}=e;return null!=t.params.guildId?(0,i.jsx)(R.Z,{guildId:t.params.guildId}):null},ej=e=>{let{match:t}=e;return null!=t.params.guildId?(0,i.jsx)(U.Z,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},eD=()=>(0,i.jsx)(em.Z,{}),ew=()=>(0,i.jsx)(ep.Z,{}),eM=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){let{tab:n}=(0,s.parse)(t.location.search);return Object.values(ef.AW).includes(n)?(0,i.jsx)(S.Z,{isFullScreen:e,tab:n,...t}):(0,i.jsx)(S.Z,{isFullScreen:e,...t})}},ek=e=>(0,i.jsx)(I.Z,{...e}),eU=()=>(0,i.jsx)(W.Z,{}),eG=()=>(0,i.jsx)(V.Z,{}),eB=()=>(0,i.jsx)(z.Z,{}),eV=e=>{let{match:t}=e;switch(t.params.feature){case"friends":return(0,i.jsx)(W.Z,{initialSection:eg.pJs.ONLINE});case"addFriends":return(0,i.jsx)(W.Z,{initialSection:eg.pJs.ADD_FRIEND});case"pendingFriends":return(0,i.jsx)(W.Z,{initialSection:eg.pJs.PENDING});case"sessionManagement":return(0,i.jsx)(o.l_,{to:eg.Z5c.SETTINGS("sessions")});case"connections":return(0,i.jsx)(o.l_,{to:{pathname:eg.Z5c.SETTINGS("connections"),search:e.location.search}});case"family-center":return(0,i.jsx)(o.l_,{to:eg.Z5c.FAMILY_CENTER});case"account-standing":return(0,i.jsx)(o.l_,{to:eg.Z5c.SETTINGS("account","account-standing")});case"authorized-apps":return(0,i.jsx)(o.l_,{to:eg.Z5c.SETTINGS("authorized-apps")});case"open-shop":return(0,i.jsx)(o.l_,{to:eg.Z5c.COLLECTIBLES_SHOP_FULLSCREEN});case"editProfile":return(0,i.jsx)(o.l_,{to:{pathname:eg.Z5c.SETTINGS("profile-customization")}});case"gift":case"store":return(0,i.jsx)(o.l_,{to:{pathname:eg.Z5c.NITRO_HOME}});default:return(0,i.jsx)(o.l_,{to:eg.Z5c.ME})}};function eH(e){document.body.style.setProperty("--custom-guild-sidebar-width","".concat(e,"px"))}function eF(e){let{hasNotice:t,sidebarTheme:n,hideSidebar:r,hideChannelList:s,isSidebarOpen:o,isOnFullScreenCollectiblesShopRoute:d}=e;(0,_.t)(!0);let c="app view user trigger debugging";g.R6.useExperiment({location:c},{autoTrackExposure:!1}),g.R6.trackExposure({location:c});let E=(0,h.e7)([N.Z],()=>N.Z.isFullscreenInContext()),I=(0,b.TH)("ChannelSidebar"),C=(0,b.Q3)("ChannelSidebar"),v=(0,A.useAppSidebarState)(e=>!e.isOpen)&&I;l.useLayoutEffect(()=>{if(I){var e;let t=parseInt(null!==(e=m.K.get(eh.nT))&&void 0!==e?e:"");Number.isNaN(t)&&(t=eh.qO),t=Math.min(Math.max(t,eh.li),eh.zx),!I&&t<=eh.p8&&(t=eh.qO),eH(t);let n=e=>{e.metaKey&&"b"===e.key&&A.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}}},[I]),l.useLayoutEffect(()=>{if(v)eH(eh.p8);else{var e;let t=parseInt(null!==(e=m.K.get(eh.nT))&&void 0!==e?e:"");Number.isNaN(t)&&(t=eh.qO),eH(t)}},[v]);let T=l.useRef(null),S=l.useCallback((e,t)=>{var n;eH(e);let i=t<eh.li/3;t<=eh.li?document.body.classList.add(eI.draggingMin):document.body.classList.remove(eI.draggingMin),t>=eh.zx?document.body.classList.add(eI.draggingMax):document.body.classList.remove(eI.draggingMax);let l=t-e;null===(n=T.current)||void 0===n||n.style.setProperty("--custom-overdrag","".concat(1+Math.min(Math.abs(l/eh.p8),.25))),I&&(A.useAppSidebarState.setState({isOpen:!i}),i&&eH(eh.p8))},[I]),Z=l.useCallback(()=>{document.body.classList.add(eI.dragging)},[]),x=l.useCallback(e=>{var t;document.body.classList.remove(eI.dragging),document.body.classList.remove(eI.draggingMin),document.body.classList.remove(eI.draggingMax),document.body.classList.remove(eI.collapsing),null===(t=T.current)||void 0===t||t.style.setProperty("--custom-overdrag","0px"),m.K.set(eh.nT,e),el.default.track(eg.rMx.CHANNEL_SIDEBAR_RESIZED,{width:e})},[]),L=(0,f.Z)({minDimension:eh.li,maxDimension:eh.zx,resizableDomNodeRef:T,onElementResize:S,onElementResizeStart:Z,onElementResizeEnd:x,orientation:f.y.HORIZONTAL_RIGHT,throttleDuration:0}),y=l.useCallback(()=>{A.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))},[]);if(l.useLayoutEffect(()=>{v&&eH(eh.p8)},[v]),r||!C&&s)return null;let O=C?"div":l.Fragment,P=C?{className:a()(eI.sidebarList,{[eI.sidebarListRounded]:!t})}:{};return(0,i.jsx)(p.f6W,{theme:n,children:e=>(0,i.jsxs)("div",{ref:C?T:void 0,"data-collapsed":v,className:a()(eI.sidebar,e,{[eI.hasNotice]:t,[eI.fullWidth]:u.tq,[eI.hidden]:E,[eI.channelListHidden]:s}),children:[C&&o&&!d&&(0,i.jsx)(k.Z,{className:eI.guilds,themeOverride:n}),!s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{...P,children:(0,i.jsx)(ey,{})}),C?(0,i.jsx)(p.P3F,{onClick:y,"aria-label":"Resize Sidebar",className:eI.sidebarResizeHandle,onMouseDown:L}):null,(0,i.jsx)(es.b,{})]}),!C&&(0,i.jsx)(ed.Z,{})]})})}function ez(){var e;let t=(0,h.e7)([ei.ZP],()=>ei.ZP.hasNotice()),n=(0,h.e7)([J.Z],()=>J.Z.darkSidebar?eg.BRd.DARK:void 0),r=function(){let[e,t]=l.useState(()=>window.location.pathname.startsWith(eg.Z5c.GUILD_MEMBER_VERIFICATION("")));return l.useEffect(()=>X.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eg.Z5c.GUILD_MEMBER_VERIFICATION("")))}),[]),e}(),a=function(){let[e,t]=l.useState(()=>window.location.pathname.startsWith(eg.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")));return l.useEffect(()=>X.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eg.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}),[]),e}(),s=function(){var e;let t=(0,o.TH)();return(null===(e=(0,o.LX)(t.pathname,eg.Z5c.GUILD_BOOSTING_MARKETING(Q.Hw.guildId())))||void 0===e?void 0:e.isExact)===!0}(),c=function(){var e;let t=(0,o.TH)();return(null===(e=(0,o.LX)(t.pathname,eg.Z5c.COLLECTIBLES_SHOP_FULLSCREEN))||void 0===e?void 0:e.isExact)===!0}(),m=(0,h.e7)([F.Z],()=>F.Z.getIsOpen()),p=(0,o.$B)([eg.Z5c.CHANNEL(eg.ME,Q.Hw.channelId()),eg.Z5c.CHANNEL(Q.Hw.guildId(),Q.Hw.channelId({optional:!0}),":messageId?")]),g=(null==p?void 0:null===(e=p.params)||void 0===e?void 0:e.channelId)===e_.oC.GUILD_ONBOARDING,_=r||a||s||c||g,f=l.useCallback(()=>H.Z.openSidebar(),[]),I=(0,b.Q3)("AppView"),v=(0,b.TH)("AppView"),S=I?"div":l.Fragment,Z=(0,A.useAppSidebarState)(e=>!e.isOpen),x=(0,h.e7)([N.Z],()=>N.Z.isFullscreenInContext());return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:eI.container,children:[m&&!c&&!I&&(0,i.jsx)(k.Z,{className:eI.guilds,themeOverride:n}),(0,i.jsx)(O.Z.Provider,{value:(null==p?void 0:p.params.guildId)===eg.ME?void 0:null==p?void 0:p.params.guildId,children:(0,i.jsxs)("div",{className:eI.base,"data-fullscreen":x,children:[I&&!x&&(0,i.jsx)(eC,{}),u.tq?null:(0,i.jsx)(ec.Z,{}),(0,i.jsxs)("div",{className:eI.content,children:[(0,i.jsx)(T.Z,{}),(0,i.jsx)(eF,{isOnFullScreenCollectiblesShopRoute:c,isSidebarOpen:m,hasNotice:t,sidebarTheme:n,hideChannelList:_,hideSidebar:!m||c}),(0,i.jsx)(S,{className:eI.page,"data-collapsed":!!v&&Z,children:(0,i.jsx)(E.Z.Provider,{value:f,children:(0,i.jsxs)(o.rs,{children:[(0,i.jsx)(C.Z,{path:eg.Z5c.ACTIVITY,disableTrack:!0,children:(0,i.jsx)(o.l_,{to:eg.Z5c.ME})}),(0,i.jsx)(C.Z,{path:eg.Z5c.ACTIVITY_DETAILS(":applicationId"),render:ek,impressionName:d.ImpressionNames.ACTIVITY_DETAILS,impressionProperties:e=>{let{computedMatch:t}=e;return{application_id:t.params.applicationId}}}),(0,i.jsx)(C.Z,{path:eg.Z5c.APPLICATION_LIBRARY,render:eD,impressionName:d.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.APPLICATION_STORE,render:ew,impressionName:d.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,render:eM(!0),disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.COLLECTIBLES_SHOP_WITH_TAB(":tab"),render:eM(!1),disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.COLLECTIBLES_SHOP,render:eM(!1),disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),render:eM(!1),disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.MESSAGE_REQUESTS,render:eG,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.FAMILY_CENTER,render:eB,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.ME,exact:!0,render:eU,impressionName:d.ImpressionNames.FRIENDS,disableTrack:!0}),(0,i.jsx)(C.Z,{path:[eg.Z5c.CHANNEL_THREAD_VIEW(Q.Hw.guildId(),Q.Hw.channelId(),":threadId",":messageId?"),eg.Z5c.CHANNEL(eg.ME,Q.Hw.channelId()),eg.Z5c.CHANNEL(Q.Hw.guildId(),Q.Hw.channelId({optional:!0}),":messageId?")],render:eO,impressionName:d.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.GLOBAL_DISCOVERY,render:eP,impressionName:d.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0,exact:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.GLOBAL_DISCOVERY_SERVERS,render:eP,impressionName:d.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.GLOBAL_DISCOVERY_APPS,render:eP,impressionName:d.ImpressionNames.GLOBAL_DISCOVERY_APPS,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.QUEST_HOME,render:eP,impressionName:d.ImpressionNames.QUEST_HOME,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.GUILD_DISCOVERY,render:eP,impressionName:d.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.GUILD_MEMBER_VERIFICATION(Q.Hw.guildId()),render:eR,impressionName:d.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,i.jsx)(C.Z,{path:eg.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(Q.Hw.guildId(),":inviteCode?"),render:ej,impressionName:d.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:e=>{let{computedMatch:t}=e;return{has_invite:void 0!==t.params.inviteCode}}}),(0,i.jsx)(C.Z,{path:eg.Z5c.FEATURE(":feature"),exact:!0,render:eV,disableTrack:!0})]})})})]})]})})]})})}},409292:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i=n(200651),l=n(192379),r=n(512969),a=n(442837),s=n(493683),o=n(112724),d=n(108427),c=n(184107),u=n(410575),h=n(613311),m=n(601564),p=n(981631),g=n(285085);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends l.Component{componentDidMount(){this.fetchStoreListing(),(0,d.e)("channel_store_listing")}render(){return null!=this.props.skuId?(0,i.jsx)(u.Z,{page:p.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,i.jsx)("div",{className:g.applicationStore,children:(0,i.jsx)(r.AW,{path:"*",render:this.renderApplicationListing})})}):null}constructor(...e){super(...e),_(this,"fetchStoreListing",e=>{let{channel:t,inputSkuId:n}=this.props;return null!=e?s.Z.fetchChannelStoreListing(t.id,e):null!=n?s.Z.fetchChannelStoreListing(t.id,n):s.Z.fetchChannelStoreListing(t.id)}),_(this,"renderApplicationListing",e=>{let{location:t}=e,{channel:n,skuId:l,width:r}=this.props;return(0,i.jsx)(h.Z,{channel:n,inputSkuId:l,fetchStoreListing:this.fetchStoreListing,location:t,pageSize:(0,m.getPageSize)(r)})})}}let E=(0,o.Z)(a.ZP.connectStores([c.Z],e=>{let{channel:t,inputSkuId:n}=e;return{skuId:null!=n?n:c.Z.getSkuIdForChannel(t.id)}})(f))},316173:function(e,t,n){n.d(t,{Z:()=>_}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(433517),d=n(481060),c=n(304761),u=n(865427),h=n(820254),m=n(388032),p=n(499259);let g="isHideDevBanner",_=()=>{var e;let[t,n]=(0,l.useState)((null===(e=o.K.get(g,"false"))||void 0===e?void 0:e.toString())==="true"),r=(0,s.e7)([c.C],()=>{var e;return(0,u.fD)()?null===(e=c.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null});if(t)return null;let _=()=>{o.K.set(g,!0),n(!0)},f=()=>(0,i.jsx)(d.P3F,{onClick:_,className:p.closeButton,"aria-label":m.intl.string(m.t.WAI6xs),children:(0,i.jsx)(d.Dio,{size:"md",color:"currentColor",className:p.closeIcon})});return null!=r?(0,i.jsxs)("div",{className:a()(p.devBanner,p.buildOverride),children:[(0,i.jsx)(h.Z,{className:p.icon}),m.intl.string(m.t.Wj3LW1),(0,i.jsx)(f,{})]}):"staging"===window.GLOBAL_ENV.RELEASE_CHANNEL?(0,i.jsxs)("div",{className:a()(p.devBanner,p.staging),children:[(0,i.jsx)(h.Z,{className:p.icon}),m.intl.format(m.t.uyrfYG,{buildNumber:"368908"}),(0,i.jsx)(f,{})]}):null}},663701:function(e,t,n){n.d(t,{Z:()=>eu}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(232713),o=n(990547),d=n(91192),c=n(873546),u=n(442837),h=n(704215),m=n(952265),p=n(481060),g=n(493683),_=n(529103),f=n(607070),E=n(213609),I=n(415439),C=n(143757),N=n(463119),v=n(377171),T=n(540059),S=n(243778),A=n(922409),Z=n(899740),x=n(28476),b=n(880257),L=n(631885),y=n(849862),O=n(522558),P=n(795448),R=n(441623),j=n(457396),D=n(108989),w=n(51596),M=n(905423),k=n(155409),U=n(210887),G=n(695346),B=n(283595),V=n(923834),H=n(55563),F=n(774343),z=n(626135),W=n(814225),Y=n(515753),K=n(831218),q=n(339149),X=n(981631),Q=n(675654),J=n(474936),$=n(388032),ee=n(351163);let et=e=>{let{selected:t,...n}=e,r=(0,d.JA)("friends"),a=(0,y.If)(),s=(0,u.e7)([R.Z],()=>R.Z.canShowFriendsTabBadge()),c=(0,u.e7)([f.Z],()=>f.Z.useReducedMotion),{enabled:h}=O.w.useExperiment({location:"Friends Tab"},{autoTrackExposure:!1}),m=s&&h;l.useEffect(()=>{m&&(0,E.h)({name:o.ImpressionNames.GIFT_INTENT_BADGE,type:o.ImpressionTypes.VIEW,properties:{gift_intent_type:J.hX.FRIEND_ANNIVERSARY}})},[m]);let[g,I]=l.useState(!1);return(0,i.jsxs)("div",{className:ee.friendsButtonContainer,children:[(0,i.jsx)(Y.Qj,{onClick:()=>{m&&(z.default.track(X.rMx.GIFT_INTENT_BADGE_CLICKED,{gift_intent_type:J.hX.FRIEND_ANNIVERSARY}),_.Z.setSection(X.pJs.ALL),(0,P.Gk)())},interactiveClassName:m?ee.friendsBadge:void 0,selected:t,route:X.Z5c.FRIENDS,icon:p.iFz,text:$.intl.string($.t.TdEu5e),onMouseEnter:()=>{I(!0)},onMouseLeave:()=>{I(!1)},...n,...r,children:a>0?(0,i.jsx)(p.mAB,{count:a}):null}),m&&!c&&(0,i.jsx)(D.Z,{className:ee.confetti,wind:0,sprites:Q.CA,spriteColors:Q.Br,firing:g,confettiConfig:{opacity:{type:"static",value:1},dragCoefficient:{type:"static",value:{x:100,y:100}}}})]})},en=e=>{let{selected:t,hideGameUpdateProgressIndicator:n,...l}=e,r=(0,d.JA)("library");return(0,i.jsx)(Y.Qj,{selected:t,route:X.Z5c.APPLICATION_LIBRARY,icon:p.vqy,text:$.intl.string($.t.cw57am),...l,...r,children:(0,i.jsx)(q.Z,{className:a()(ee.downloadProgressCircle,{[ee.hideGameUpdateProgressIndicator]:n})})})},ei=()=>{let e=(0,Z.q)();return e>0?(0,i.jsx)(p.mAB,{count:e}):null},el=e=>{let{selected:t}=e,n=(0,d.JA)("messageRequests"),{channelId:l}=(0,A._)();if(!(0,x.a)())return null;let r=null==l?void 0:()=>g.Z.preload(X.ME,l);return(0,i.jsx)(Y.Qj,{selected:t,route:X.Z5c.MESSAGE_REQUESTS,icon:p._XJ,text:$.intl.string($.t.e7GWjY),onClick:r,...n,children:(0,i.jsx)(ei,{})})},er=e=>{let{selected:t}=e,n=$.intl.string($.t.Rkdixs),r=(0,d.JA)("family-center"),[a,s]=l.useState(!0);return(0,i.jsx)(Y.Qj,{selected:t,route:X.Z5c.FAMILY_CENTER,icon:p.BFJ,text:n,onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},interactiveClassName:ee.familyCenterLinkButton,...r,children:(0,i.jsx)(ea,{isParentHovered:a})})},ea=e=>{let{isParentHovered:t}=e,l=(0,L.gU)();return t?(0,i.jsx)(Y.PZ,{onClick:()=>{(0,m.ZD)(async()=>{let{default:e}=await n.e("44153").then(n.bind(n,760949));return t=>(0,i.jsx)(e,{...t})})},"aria-label":$.intl.string($.t.cpT0Cg)}):l>0?(0,i.jsx)("div",{className:ee.familyCenterPendingBadge,children:(0,i.jsx)(p.mAB,{count:l})}):(0,i.jsx)(S.ZP,{contentTypes:[h.z.FAMILY_CENTER_NEW_BADGE],children:e=>{let{visibleContent:t}=e;return t===h.z.FAMILY_CENTER_NEW_BADGE?(0,i.jsx)(p.IGR,{text:$.intl.string($.t.y2b7CA),color:v.Z.BG_BRAND}):null}})},es=()=>(0,w.$Z)("DM_SEARCH");function eo(e){switch(e){case X.Z5c.APPLICATION_LIBRARY:return X.ZY5.LIBRARY;case X.Z5c.FRIENDS:return X.ZY5.FRIENDS_LIST;case X.Z5c.COLLECTIBLES_SHOP:return X.ZY5.COLLECTIBLES_SHOP}return e.startsWith(X.Z5c.APPLICATION_STORE)?e===X.Z5c.APPLICATION_STORE?X.ZY5.STORE_DIRECTORY_HOME:e.startsWith(X.Z5c.APPLICATION_STORE)?X.ZY5.STORE_DIRECTORY_BROWSE:X.ZY5.STORE_LISTING:X.ZY5.DM_CHANNEL}let ed=l.memo(function(e){let{showLibrary:t,hasLibraryApplication:n,homeLink:l,premiumTabSelected:r,isVisualRefreshEnabled:s,shouldShowNitroTab:o,shouldShowMessageRequestsRow:d,shouldShowFamilyCenterRow:u,shouldShowQuickLauncherRow:h,selectedChannelId:m,path:g}=e;return(0,i.jsxs)("nav",{className:ee.privateChannels,"aria-label":$.intl.string($.t.ZH9aPz),children:[(0,i.jsx)(k.Z,{tutorialId:"direct-messages",position:"right",offsetX:-52,children:(0,i.jsx)("div",{className:a()(ee.searchBar,{[ee.themedHeaderMobile]:c.tq}),children:s?(0,i.jsx)(p.zxk,{grow:!0,color:p.zxk.Colors.PRIMARY,size:p.zxk.Sizes.SMALL,fullWidth:!0,onClick:es,children:$.intl.string($.t.LzcpeX)}):(0,i.jsx)("button",{type:"button",className:a()(ee.searchBarComponent,{[ee.themedSearchBarMobile]:c.tq}),onClick:es,children:$.intl.string($.t.LzcpeX)})})}),(0,i.jsxs)(K.Z,{...e,version:g,selectedChannelId:m,showDMHeader:!0,children:[(0,i.jsx)(et,{selected:null!=g?g===X.Z5c.FRIENDS:l===X.Z5c.FRIENDS},"friends"),n&&t?(0,i.jsx)(en,{selected:null==g?null!=l&&l.startsWith(X.Z5c.APPLICATION_LIBRARY):g.startsWith(X.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:l===X.Z5c.APPLICATION_LIBRARY},"library"):null,d?(0,i.jsx)(el,{selected:null==g?null!=l&&l.startsWith(X.Z5c.MESSAGE_REQUESTS):g===X.Z5c.MESSAGE_REQUESTS},"message-requests"):null,o?(0,i.jsx)(j.g,{selected:null==g?r:g.startsWith(X.Z5c.APPLICATION_STORE),route:X.Z5c.APPLICATION_STORE,locationState:{analyticsSource:{page:eo(l),section:X.jXE.NAVIGATION,object:X.qAy.NAVIGATION_LINK}}},"premium"):null,(0,i.jsx)(N.i,{selected:g===X.Z5c.COLLECTIBLES_SHOP||(null==l?void 0:l.startsWith(X.Z5c.COLLECTIBLES_SHOP)),locationState:{analyticsSource:{page:eo(l),section:X.jXE.NAVIGATION,object:X.qAy.NAVIGATION_LINK}}},"discord-shop"),u?(0,i.jsx)(er,{selected:null!=l&&l.startsWith(X.Z5c.FAMILY_CENTER)||null!=g&&g.startsWith(X.Z5c.FAMILY_CENTER)},"family-center"):null,s?(0,i.jsx)(ec,{},"section-divider-top"):null,h?(0,i.jsx)(C.Z,{bottomDivider:s?(0,i.jsx)(ec,{}):null},"dm-quick-launcher"):null]})]})});function ec(){return(0,i.jsx)("div",{className:ee.sectionDivider})}function eu(){let e=(0,u.e7)([F.Z],()=>F.Z.getHomeLink()),t=(0,u.e7)([H.Z],()=>{if(e===X.Z5c.APPLICATION_STORE)return!0;let t=(0,W.ZK)(e);if(null!=t){var n,i;return null!==(i=null===(n=H.Z.get(t))||void 0===n?void 0:n.premium)&&void 0!==i&&i}return!1},[e]),n=!G.bm.useSetting(),{theme:l}=(0,u.cj)([U.Z],()=>({theme:U.Z.theme})),r=(0,u.e7)([B.Z],()=>B.Z.hasLibraryApplication()),a=(0,u.e7)([V.Z],()=>V.Z.getCurrentPath()),o=(0,T.Q3)("PrivateChannels"),[d,c]=(0,M.Z)(e=>{let{channelId:t,path:n}=e;return[t,n]},s.X),h=(0,j.i)({selected:null==c?t:c.startsWith(X.Z5c.APPLICATION_STORE)}),m=(0,x.a)(),p=function(){let e=G.Ex.useSetting(),t=(0,b.Z)();return!0===e&&!0===t}(),g=(0,I.FW)();return(0,i.jsx)(ed,{theme:l,showLibrary:n,hasLibraryApplication:r,storeLink:a,homeLink:e,premiumTabSelected:t,isVisualRefreshEnabled:o,shouldShowNitroTab:h,shouldShowMessageRequestsRow:m,shouldShowFamilyCenterRow:p,shouldShowQuickLauncherRow:g,selectedChannelId:d,path:c})}},457094:function(e,t,n){n.r(t),n.d(t,{default:()=>tn}),n(47120);var i=n(200651),l=n(192379),r=n(593473),a=n(512969),s=n(442837),o=n(481060),d=n(893776),c=n(943094),u=n(749210),h=n(287734),m=n(401430),p=n(230711),g=n(607070),_=n(627845),f=n(185666),E=n(503737),I=n(513202),C=n(318891),N=n(687751),v=n(912471),T=n(100527),S=n(838134),A=n(77987),Z=n(679891),x=n(491575),b=n(954709),L=n(644679),y=n(314533),O=n(9029),P=n(935347),R=n(560067),j=n(823169),D=n(845767),w=n(620360),M=n(96051),k=n(750995),U=n(696287),G=n(408026),B=n(763916),V=n(306721),H=n(531551),F=n(38618),z=n(972830),W=n(981283),Y=n(584233),K=n(15274),q=n(434404),X=n(543842),Q=n(879064),J=n(315964),$=n(495784),ee=n(975533),et=n(377400),en=n(285865),ei=n(659971),el=n(929809),er=n(122333),ea=n(960275),es=n(818765),eo=n(678492),ed=n(269089),ec=n(380570),eu=n(837689),eh=n(367207),em=n(489977),ep=n(329557),eg=n(304445),e_=n(893607),ef=n(703656),eE=n(298969),eI=n(719256),eC=n(6025),eN=n(897473),ev=n(377368),eT=n(262702),eS=n(639033),eA=n(479313),eZ=n(911560),ex=n(703016),eb=n(171368),eL=n(429974),ey=n(332754),eO=n(507468),eP=n(722589),eR=n(282506),ej=n(444961),eD=n(314897),ew=n(433355),eM=n(592125),ek=n(896797),eU=n(430824),eG=n(819640),eB=n(283595),eV=n(944486),eH=n(914010),eF=n(695103),ez=n(241890),eW=n(897607),eY=n(417363),eK=n(900974),eq=n(358085),eX=n(998502),eQ=n(346329),eJ=n(981631),e$=n(176505),e0=n(701476);function e1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(117240),n(801077),n(967368),n(272053),n(974180),n(574254),n(551428),n(55563),n(882029),n(959457),n(653255),n(663389),n(25990),n(778825),n(999382),n(388610),n(533947),n(277053),n(371398),n(141233),n(471073);let e3=!1;(0,v.D)(),s.ZP.initialize(),eE.Z.loadServer(),eq.isPlatformEmbedded&&(eX.ZP.on("USER_SETTINGS_OPEN",(e,t)=>{eG.Z.getLayers().includes(eJ.S9g.USER_SETTINGS)||p.Z.open(null!=t?t:eJ.oAB.ACCOUNT)}),eX.ZP.on("LAUNCH_APPLICATION",(e,t)=>{let n=eB.Z.getActiveLibraryApplication(t);eQ.playApplication(t,n,{analyticsParams:{location:{page:eJ.ZY5.DIRECT,object:eJ.qAy.WEB_URL}}})}));let e4=s.ZP.connectStores([F.Z,ek.Z,eD.default],()=>({isConnected:F.Z.isConnected(),defaultRoute:ek.Z.defaultRoute,defaultRouteFallback:ek.Z.fallbackRoute,token:eD.default.getToken()}))(class extends l.Component{componentDidMount(){let{match:e}=this.props;null!=e&&null!=e.params.inviteCode&&(0,Y.x)({code:e.params.inviteCode})}render(){let{isConnected:e,defaultRoute:t,token:n,defaultRouteFallback:l}=this.props;if(null==n)return(0,i.jsx)(a.l_,{to:eJ.Z5c.DEFAULT_LOGGED_OUT});if(e){let e=e8(t);return null==e||(e.params.guildId===eJ.ME||null!=eU.Z.getGuild(e.params.guildId))&&null!=eM.Z.getChannel(e.params.channelId)?(0,i.jsx)(a.l_,{to:t}):(0,i.jsx)(a.l_,{to:l})}return null}}),e2=(0,A.e)(x.Z,null,{passProps:!1}),e7=(0,A.e)(S.default,null,{passProps:!1}),e9=[eJ.Z5c.GUILD_BOOSTING_MARKETING(e_.Hw.guildId()),...Array.from(e$.Vg).map(e=>eJ.Z5c.CHANNEL(e_.Hw.guildId(),e))];function e5(e){let{guildId:t,channelId:n=null,messageId:i=null,threadId:l=null}=e.params;return{guildId:null!=t?t:eJ.ME,channelId:n,messageId:i,threadId:l}}let e6=[{path:[eJ.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],render(e){let{match:t}=e;return(0,i.jsx)(e4,{match:t})},isSessionRequired:!0},{path:[eJ.Z5c.APP],render:()=>(0,i.jsx)(e4,{}),isSessionRequired:!0},{path:[eJ.Z5c.USERS(":id")],render:function(e){let{match:t,location:n}=e,{friend_token:l}=(0,r.parse)(n.search),{id:s}=t.params;return(0,z.h)(()=>(0,eb.openUserProfileModal)({userId:s,friendToken:l,sourceAnalyticsLocations:[T.Z.URI_SCHEME],analyticsLocation:{section:eJ.jXE.DIRECT_ROUTE_ACCESS}})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})}},{path:[eJ.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){let{match:t}=e,{gameId:n,action:l}=t.params;return eY.Z.whenInitialized(()=>{eB.Z.whenInitialized(()=>{switch(l){case"launch":{let e=eB.Z.getActiveLibraryApplication(n);if(null==e)return;eQ.playApplication(e.id,e,{analyticsParams:{location:{page:eJ.ZY5.DIRECT,object:eJ.qAy.WEB_URL}}});break}case"test-mode":eF.Z.whenInitialized(()=>m.Wt(n));break;case"uninstall":{let e=eB.Z.getActiveLibraryApplication(n);if(null==e)return;(0,c.W)(e.id,e.branchId,eJ.Sbl.URI_SCHEME)}}})}),(0,i.jsx)(a.l_,{to:eJ.Z5c.APPLICATION_LIBRARY})}},{path:[eJ.Z5c.GUILD_CREATE],render:function(){return(0,z.h)(()=>R.Z.openCreateGuildModal({location:"External link"})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})}},{path:[eJ.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){let{match:t}=e,{section:n,subsection:l}=t.params,s=(0,r.parse)(location.search).feature;return(0,z.h)(()=>Q.v({section:(0,X.Z)(eJ.pNK,n),subsection:(0,X.Z)(eJ.KsC,l),feature:s})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})},isSessionRequired:!0},{path:[eJ.Z5c.SETTINGS(":section",":subsection?")],render:function(e){let{location:t}=e,n=(0,eP.default)(t.pathname);return null!=n&&(0,z.h)(()=>p.Z.open(n.section,n.subsection,{openWithoutBackstack:!1,impressionSource:n.source})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})},isSessionRequired:!0},{path:[eJ.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(e_.Hw.guildId())],render:function(e){let{match:t}=e,{guildId:l}=t.params;return(0,z.h)(()=>{(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("31898")]).then(n.bind(n,751212));return t=>(0,i.jsx)(e,{...t,guildId:l})})}),(0,i.jsx)(a.l_,{to:eJ.Z5c.CHANNEL(l)})},isSessionRequired:!0},{path:[eJ.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){return(0,z.h)(()=>p.Z.open(eJ.oAB.INVENTORY)),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})},isSessionRequired:!0},{path:[eJ.Z5c.WELCOME(e_.Hw.guildId({optional:!0}),e_.Hw.channelId({optional:!0}))],render:function(e){let{match:t}=e,{guildId:n,channelId:l}=t.params;(0,el.c)(e0.M5.MARKETING_UNCLAIMED);let r=eJ.Z5c.CHANNEL(n,l);return(0,i.jsx)(a.l_,{to:r})},isSessionRequired:!0},{path:[eJ.Z5c.GUILD_EVENT_DETAILS(e_.Hw.guildId({optional:!0}),":guildEventId")],render:function(e){let{match:t}=e,{guildId:n,guildEventId:l}=t.params;return(0,z.h)(()=>{(0,K.bO)({eventId:l})}),(0,i.jsx)(a.l_,{to:eJ.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[eJ.Z5c.GUILD_SETTINGS(e_.Hw.guildId(),":section?",":subsection?")],render:function(e){let{match:t}=e,{guildId:n,section:l,subsection:r}=t.params;return(0,z.h)(()=>{q.Z.open(n,(0,X.Z)(eJ.pNK,l),void 0,(0,X.Z)(eJ.KsC,r))}),(0,i.jsx)(a.l_,{to:eJ.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{path:[eJ.Z5c.CHANNEL_THREAD_VIEW(e_.Hw.guildId(),e_.Hw.channelId(),":threadId",":messageId?"),eJ.Z5c.CHANNEL(e_.Hw.guildId(),e_.Hw.channelId({optional:!0}),":messageId?"),eJ.Z5c.ACTIVITY,eJ.Z5c.ACTIVITIES,eJ.Z5c.ACTIVITIES_HAPPENING_NOW,eJ.Z5c.ACTIVITY_DETAILS(":applicationId"),eJ.Z5c.APPLICATION_LIBRARY,eJ.Z5c.APPLICATION_STORE,eJ.Z5c.MESSAGE_REQUESTS,eJ.Z5c.COLLECTIBLES_SHOP,eJ.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,eJ.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),eJ.Z5c.GUILD_DISCOVERY,eJ.Z5c.QUEST_HOME,eJ.Z5c.GLOBAL_DISCOVERY,eJ.Z5c.GUILD_MEMBER_VERIFICATION(e_.Hw.guildId()),eJ.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(e_.Hw.guildId(),":inviteCode?"),eJ.Z5c.GUILD_BOOSTING_MARKETING(e_.Hw.guildId()),eJ.Z5c.FEATURE(":feature"),eJ.Z5c.FAMILY_CENTER],render:e2,isSessionRequired:!0,isChatRoute:!0},{path:[eJ.Z5c.APPLICATION_DIRECTORY],render:e7,isSessionRequired:!0}];function e8(e){for(let{path:t,isChatRoute:n}of e6){if(!n)continue;let i=(0,a.LX)(e,{path:t});if(null!=i)return i}return null}function te(e){let{channelId:t,guildId:n,pathname:i}=e;if(!F.Z.isConnected())return;let{location:l}=(0,ef.s1)();l.pathname===i&&(null==eM.Z.getChannel(t)?(0,ef.dL)(eJ.Z5c.CHANNEL(n)):(0,ef.dL)(i))}class tt extends l.PureComponent{componentDidMount(){eX.ZP.setZoomFactor(g.Z.zoom),eE.Z.init(),Z.Z.initialize(),ec.Z.initialize(),G.Z.initialize(),ej.Z.initialize(),B.Z.initialize(),eh.Z.initialize(),D.Z.initialize(),ee.Z.initialize(),_.Z.init(),H.Z.init(),V.Z.init(),er.Z.initialize(),N.Z.initialize(),k.Z.initialize(),em.Z.initialize(),C.ZP.initialize(),eR.Z.initialize(),ed.Z.initialize(),I.Z.initialize(),W.Z.init(),J.Z.init(),eW.Z.init(),eK.Z.init(),E.Z.initialize(),ex.Z.init(),ez.Z.init(),ey.Z.init(),eT.Z.initialize(),eS.Z.initialize(),eL.Z.initialize(),eO.Z.init(),M.Z.initialize(),f.Z.initialize(),eI.Z.initialize(),ev.Z.initialize(),es.Z.initialize(),ea.Z.initialize(),eo.Z.initialize(),y.Z.initialize(),O.Z.initialize(),$.Z.init({hasModalOpen:o.$sL,openModal:()=>(0,o.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})})}),w.Z.init(),et.Z.initialize(),ep.Z.initialize(),eu.Z.initialize(),j.Z.initialize(),b.Z.initialize(),L.Z.initialize(),this.rewriterUnlisten=eg.Z.addRouteRewriter(this.ensureChannelMatchesGuild),this.historyUnlisten=eg.Z.addRouteChangeListener(this.handleHistoryChange)}componentWillUnmount(){eE.Z.terminate(),ej.Z.terminate(),eh.Z.terminate(),ec.Z.terminate(),Z.Z.terminate(),C.ZP.terminate(),eR.Z.terminate(),I.Z.terminate(),em.Z.terminate(),ed.Z.terminate(),eL.Z.terminate(),E.Z.terminate(),M.Z.terminate(),et.Z.terminate(),f.Z.terminate(),ep.Z.terminate(),eI.Z.terminate(),ev.Z.terminate(),es.Z.terminate(),ea.Z.terminate(),eo.Z.terminate(),y.Z.terminate(),O.Z.terminate(),eu.Z.terminate(),j.Z.terminate(),U.Z.terminate(),b.Z.terminate(),L.Z.terminate(),this.historyUnlisten(),this.rewriterUnlisten()}handleHistoryChange(e){let{pathname:t,search:n}=e;!function(e){if(F.Z.isConnected()||F.Z.isTryingToConnect())return;let t=eD.default.getToken();null!=t&&null!=function(e){for(let{path:t,isSessionRequired:n}of e6){if(!n)continue;let i=(0,a.LX)(e,{path:t});if(null!=i)return i}return null}(e)&&d.Z.startSession(t)}(t),function(e,t){let n=e8(e);if(null==n)return;let{guildId:i,channelId:l,messageId:s,threadId:o}=e5(n),d=(0,e_.Ss)(i),c=(0,e_.cq)(l),m=(0,e_.cq)(o),p=eH.Z.getGuildId(),g=p!==i;if(d&&g&&u.Z.selectGuild(i),d&&c){let n=eV.Z.getChannelId(p),a=n!==l;if(!e3||g||a||null!=s){e3=!0,h.default.selectChannel({guildId:i,channelId:l,messageId:s});let{summaryId:e}=(0,r.parse)(t);null!=e&&eA.ZP.setSelectedSummary(l,e)}if(null!=o&&m){let e=ew.ZP.getCurrentSidebarChannelId(n)!==o,t=null!=ew.ZP.getGuildSidebarState(i);if(null!=l&&null!=o&&e){if(t)(0,ef.dL)(eJ.Z5c.CHANNEL(i,o,s));else{let e={type:eN.Ff.THREAD};null!=s&&(e.initialMessageId=s),eC.Z.openThreadAsSidebar({guildId:i,baseChannelId:l,channelId:o,details:e})}}}else null==l||a||eC.Z.closeChannelSidebar(l);let d=ei.Z.getIsOpen();if(l===e$.oC.ROLE_SUBSCRIPTIONS)en.Z.closeSidebar();else if(g&&d){let t=null==p&&i===eJ.ME,n=e===eJ.Z5c.GUILD_DISCOVERY;t||n?en.Z.closeSidebar():en.Z.openSidebar()}else(a&&d||!g&&!a)&&en.Z.closeSidebar()}else!e9.some(t=>{var n;return(null===(n=(0,a.LX)(e,t))||void 0===n?void 0:n.isExact)===!0})&&(0,ef.dL)(ek.Z.fallbackRoute)}(t,n)}ensureChannelMatchesGuild(e){if(!F.Z.isConnected())return null;let{pathname:t}=e,n=e8(t);if(null==n)return null;let{guildId:i,channelId:l,threadId:r}=e5(n),a=(0,e_.Ss)(i)&&i!==eJ.ME&&i!==eJ.I_8;if(null!=l&&(0,e_.cq)(l)&&!(0,e$.AB)(l)&&a){let n=eM.Z.getChannel(l);if(null==n)eZ.Z.loadThread(l).then(()=>te({channelId:l,guildId:i,pathname:t}));else if(n.guild_id!==i)return{path:eJ.Z5c.CHANNEL(i),state:e.state};if(null!=r){if(!((0,e_.cq)(r)&&!(0,e$.AB)(l)))return null;let n=eM.Z.getChannel(r);if(null==n)eZ.Z.loadThread(r).then(()=>te({channelId:r,guildId:i,pathname:t}));else if((null==n?void 0:n.parent_id)!==l)return eC.Z.closeChannelSidebar(l),{path:eJ.Z5c.CHANNEL(i,l),state:e.state}}}return null}render(){return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)(a.rs,{children:[(0,i.jsx)(a.l_,{exact:!0,from:"/channels",to:"/"}),e6.map(e=>{let{path:t,render:n}=e;return(0,i.jsx)(a.AW,{path:t,render:n},t[0])}),(0,i.jsx)(a.l_,{to:"/"})]}),(0,i.jsx)(P.Z,{})]})}constructor(...e){super(...e),e1(this,"historyUnlisten",()=>{}),e1(this,"rewriterUnlisten",()=>{})}}let tn=tt},224336:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(870903);function r(){return(0,i.jsx)("div",{className:l.divider})}},237919:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),d=n(570140),c=n(287259),u=n(819640),h=n(490983),m=n(799777),p=n(5967),g=n(346329),_=n(981631),f=n(388032),E=n(950086);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends l.Component{componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){d.Z.wait(()=>c.wX(null)),document.removeEventListener("keydown",this.handleKeyDown)}reset(){c.wX(null),c.JZ("")}focusInput(){let{searchBarRef:e}=this;null!=e&&e.focus()}updateActiveRow(e){let{applicationViewItems:t,activeRowKey:n}=this.props,i=t.findIndex(e=>e.key===n),l=0;i>=0&&(l=(i+e)%t.length)<0&&(l=t.length-1);let r=t[l];c.wX(null!=r?r.key:null,!0)}render(){let{filterQuery:e}=this.props,{focused:t}=this.state;return(0,i.jsx)("div",{className:a()({[E.libraryFilter]:!0,[E.focused]:t}),children:(0,i.jsx)(o.E1j,{className:E.searchBar,ref:this.setRef,onChange:c.JZ,onFocus:()=>this.setState({focused:!0}),onBlur:()=>this.setState({focused:!1}),name:"filter",onClear:()=>{this.reset(),this.focusInput()},maxLength:100,query:e,placeholder:f.intl.string(f.t.aSxWSk)})})}constructor(...e){super(...e),I(this,"searchBarRef",null),I(this,"state",{focused:!1}),I(this,"setRef",e=>{this.searchBarRef=e}),I(this,"handleKeyDown",e=>{var t;let{activeRowKey:n,hasModalOpen:i,applicationViewItems:l}=this.props,{searchBarRef:r}=this;if(i||e.ctrlKey||e.altKey||e.metaKey||null==r)return;let a=null===(t=(0,p.uB)(e))||void 0===t?void 0:t.activeElement;if(!(a!==r.inputRef.current&&(0,p.VG)(a)))switch(e.which){case _.yXg.ESCAPE:e.target!==r.inputRef.current?this.reset():null!=r.inputRef.current&&r.blur();break;case _.yXg.ENTER:if(null!=n){e.preventDefault();let t=l.find(e=>e.key===n);if(null==t)return;let i=t.libraryApplication;g.performDefaultLibraryApplicationAction(i,{analyticsParams:{source:_.Sbl.APPLICATION_LIBRARY,location:{page:_.ZY5.LIBRARY,section:_.jXE.LIBRARY_APPLICATION_LIST,object:_.qAy.BUTTON_CTA}}})}break;case _.yXg.ARROW_DOWN:case _.yXg.ARROW_UP:e.preventDefault(),e.stopPropagation(),this.updateActiveRow(e.which===_.yXg.ARROW_DOWN?1:-1);break;default:null!=r.inputRef.current&&e.target!==r.inputRef.current&&r.focus()}})}}function N(){let e=(0,s.e7)([u.Z],()=>u.Z.hasLayers()),t=(0,o.s9z)(o.JQI);return(0,i.jsx)(C,{activeRowKey:(0,s.e7)([m.Z],()=>m.Z.activeRowKey),hasModalOpen:t||e,filterQuery:(0,s.e7)([h.Z],()=>h.Z.applicationFilterQuery),applicationViewItems:(0,s.e7)([h.Z],()=>h.Z.sortedFilteredLibraryApplicationViewItems)})}},957657:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651),l=n(192379),r=n(481060),a=n(984370),s=n(703656),o=n(626135),d=n(804739),c=n(981631),u=n(388032),h=n(855154);let m=(0,d.Q)()||!1,p=l.memo(function(e){let{currentRoute:t,renderToolbar:n}=e,d=l.useContext(o.AnalyticsContext),p=m||t===c.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,i.jsxs)(a.Z,{className:h.libraryHeader,toolbar:null==n?void 0:n(),children:[(0,i.jsx)(a.Z.Icon,{icon:r.vqy,"aria-hidden":!0}),(0,i.jsx)(a.Z.Title,{children:u.intl.string(u.t.cw57am)}),(0,i.jsx)(a.Z.Divider,{}),(0,i.jsxs)(r.njP,{type:"top-pill",selectedItem:t,onItemSelect:function(e){e!==t&&(0,s.uL)(e,{state:{analyticsSource:{...d.location,section:c.jXE.TABS,object:c.qAy.NAVIGATION_LINK}}})},children:[(0,i.jsx)(r.njP.Item,{id:c.Z5c.APPLICATION_LIBRARY,children:u.intl.string(u.t.p7ARTE)}),p?(0,i.jsx)(r.njP.Item,{id:c.Z5c.APPLICATION_LIBRARY_SETTINGS,children:u.intl.string(u.t["3D5yo6"])}):null]})]})})},425369:function(e,t,n){n.d(t,{Z:()=>_});var i=n(200651),l=n(192379),r=n(512969),a=n(410575),s=n(765717),o=n(252618),d=n(108427),c=n(895991),u=n(993977),h=n(981631),m=n(388032),p=n(349508);function g(){return(0,i.jsxs)(r.rs,{children:[(0,i.jsx)(s.Z,{path:h.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,i.jsxs)(a.Z,{page:h.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,i.jsx)(o.yY,{subsection:m.intl.string(m.t["3D5yo6"])}),(0,i.jsx)(u.Z,{})]})}),(0,i.jsx)(s.Z,{path:h.Z5c.APPLICATION_LIBRARY,children:(0,i.jsxs)(a.Z,{page:h.ZY5.LIBRARY,root:!0,children:[(0,i.jsx)(o.yY,{subsection:m.intl.string(m.t.p7ARTE)}),(0,i.jsx)(c.Z,{})]})})]})}let _=l.memo(function(){return l.useEffect(()=>{(0,d.e)("application_library")},[]),(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsx)(o.yY,{location:m.intl.string(m.t.cw57am)}),(0,i.jsx)(g,{})]})})},645818:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(846519),s=n(481060),o=n(293245),d=n(863969),c=n(563593),u=n(981631),h=n(388032);let m=(0,s.GSL)(d.Z),p=(0,s.GSL)(c.Z),g=new Set([u.TzF.PUSHING,u.TzF.PULLING]),_=Object.freeze({[u.TzF.DONE]:m,[u.TzF.PLANNING]:m,[u.TzF.PREPARING]:m,[u.TzF.PUSHING]:s.rG2,[u.TzF.PULLING]:s._8t,[u.TzF.CONFLICT]:m,[u.TzF.ERROR]:m});class f extends l.PureComponent{componentDidMount(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()}componentDidUpdate(e){null!=this.props.cloudSyncState&&this.props.cloudSyncState.type===u.TzF.DONE&&null!=this.props.cloudSyncState.timestamp&&(null==e.cloudSyncState||null==e.cloudSyncState.timestamp)&&this.setRecentlySyncedTimeout()}componentWillUnmount(){this._doneTimer.stop()}setRecentlySyncedTimeout(){this._doneTimer.start(2e3,()=>this.forceUpdate())}getIsRecentlySynced(){let{cloudSyncState:e}=this.props;if(null!=e&&e.type===u.TzF.DONE){let t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1}getStop(e,t){if(t)return 1;if(e.type===u.TzF.PUSHING||e.type===u.TzF.PULLING){let{progress:t,total:n}=e;return t/n}return 0}getTooltip(e,t){switch(e.type){case u.TzF.DONE:if(t)return h.intl.string(h.t.atpo0d);return h.intl.string(h.t.ZCw6zs);case u.TzF.CONFLICT:case u.TzF.ERROR:return h.intl.string(h.t.ZCw6zs);case u.TzF.PLANNING:return h.intl.string(h.t.ERQ0VF);case u.TzF.PREPARING:return h.intl.string(h.t.n5feu7);case u.TzF.PUSHING:return h.intl.string(h.t.oCBh0N);case u.TzF.PULLING:return h.intl.string(h.t.RTLNqK);default:return null}}render(){let{cloudSyncState:e,libraryApplication:t,className:n}=this.props,l=null==e?{type:u.TzF.DONE}:e,r=this.getIsRecentlySynced(),a={};(g.has(l.type)||r)&&(a.gradientConfig={id:t.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(l,r)});let o=r?p:_[l.type];return(0,i.jsx)(s.ua7,{text:this.getTooltip(l,r),children:e=>(0,i.jsx)(o,{className:n,...a,...e})})}constructor(...e){var t,n;super(...e),t="_doneTimer",n=new a.V7,t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let E=r.ZP.connectStores([o.Z],e=>{let{libraryApplication:t}=e;return{cloudSyncState:o.Z.getState(t.id,t.branchId)}})(f)},34305:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(325432),o=n(570928),d=n(600164),c=n(579022),u=n(391690),h=n(424218),m=n(358085),p=n(998502),g=n(388032),_=n(490899),f=n(483938);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends l.PureComponent{renderDiskUsageCircle(){let{metadata:e}=this.props;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,i.jsx)(c.Z,{total:e.totalKB,used:e.totalKB-e.availableKB}):null}renderViewing(){let e,t;let{path:n,label:l,editingPath:r,isDefault:s,metadata:c}=this.props;return null!=c&&(e=null!=c.availableKB?(0,h.BU)(c.availableKB,{useKibibytes:!0}):null,t=null!=c.totalKB?(0,h.BU)(c.totalKB,{useKibibytes:!0}):null),(0,i.jsxs)(d.Z,{className:_.installationPath,align:d.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,i.jsxs)(d.Z,{direction:d.Z.Direction.VERTICAL,className:_.__invalid_descriptionWrapper,children:[(0,i.jsxs)(d.Z,{align:d.Z.Align.CENTER,children:[(0,i.jsx)(a.X6q,{className:_.rowTitle,variant:"heading-md/semibold",children:null!=l?l:u.Z.getLabelFromPath(n)}),s?(0,i.jsx)("span",{className:_.defaultIndicator,children:g.intl.string(g.t.bBvAEB)}):null]}),null!=c&&null!=e&&null!=t?(0,i.jsx)(o.Z,{className:_.rowBody,hoverText:g.intl.formatToPlainString(g.t.Fxo9e3,{available:e,total:t}),children:n}):(0,i.jsx)(a.Text,{className:_.rowBody,variant:"text-xs/normal",children:n})]}),(0,i.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,disabled:null!=r,color:a.zxk.Colors.PRIMARY,onClick:this.handleStartEditing,children:g.intl.string(g.t.bt75u7)})]})}renderEditing(){let{path:e,hasGamesInstalledInPath:t}=this.props,{label:n,isDefault:l}=this.state;return(0,i.jsx)(a.Zbd,{editable:!0,className:_.installationPathEditing,children:(0,i.jsxs)(d.Z,{children:[this.renderDiskUsageCircle(),(0,i.jsxs)(d.Z.Child,{children:[(0,i.jsx)(a.xJW,{title:g.intl.string(g.t.AJkKCA),children:(0,i.jsx)(a.oil,{value:n,placeholder:u.Z.getLabelFromPath(e),onChange:this.handleLabelChange})}),(0,i.jsx)(a.xJW,{title:g.intl.string(g.t.lnUCwc),className:f.marginTop20,children:(0,i.jsx)(a.oil,{disabled:!0,value:e})}),(0,i.jsx)(a.XZJ,{type:a.XZJ.Types.INVERTED,value:null!=l?l:this.props.isDefault,disabled:this.props.isDefault,className:_.defaultLocationCheckbox,onChange:this.handleToggleDefault,children:g.intl.string(g.t.Z2MWuL)}),(0,i.jsx)(a.$i$,{className:_.separator}),(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(a.zxk,{disabled:t||this.props.isDefault,size:a.zxk.Sizes.SMALL,color:a.zxk.Colors.RED,look:a.zxk.Looks.OUTLINED,onClick:this.handleRemoveLocation,children:g.intl.string(g.t.iBUzS0)}),(0,i.jsxs)(d.Z,{justify:d.Z.Justify.END,children:[(0,i.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,color:a.zxk.Colors.PRIMARY,look:a.zxk.Looks.LINK,onClick:this.handleStopEditing,children:g.intl.string(g.t["ETE/oK"])}),(0,i.jsx)(a.zxk,{disabled:e===this.props.path&&n===this.props.label&&l===this.props.isDefault,size:a.zxk.Sizes.SMALL,color:a.zxk.Colors.GREEN,onClick:this.handleSaveChanges,children:g.intl.string(g.t.R3BPHx)})]})]})]})]})})}render(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()}constructor(...e){super(...e),E(this,"state",{label:void 0,isDefault:null}),E(this,"handleStartEditing",()=>{let{path:e,label:t,isDefault:n,onToggleEditing:i}=this.props;i(e),this.setState({label:t,isDefault:n})}),E(this,"handleStopEditing",()=>{let{onToggleEditing:e}=this.props;e(null),this.setState({label:void 0,isDefault:null})}),E(this,"handleRemoveLocation",()=>{(0,a.h7j)(e=>(0,i.jsx)(a.ConfirmModal,{...e,header:g.intl.string(g.t.iBUzS0),confirmText:g.intl.string(g.t.iBUzS0),cancelText:g.intl.string(g.t["ETE/oK"]),onConfirm:()=>{this.handleStopEditing(),(0,s.iD)(this.props.path)},children:(0,i.jsx)(a.Text,{variant:"text-md/normal",children:g.intl.string(g.t["1XqeW1"])})}))}),E(this,"handleSaveChanges",()=>{(0,s.Tb)(this.props.path,{label:null!=this.state.label?this.state.label:this.props.label,isDefault:null!=this.state.isDefault?this.state.isDefault:this.props.isDefault}),this.handleStopEditing()}),E(this,"handleLabelChange",e=>{this.setState({label:e})}),E(this,"handleToggleDefault",()=>{this.setState({isDefault:!this.state.isDefault})})}}class C extends l.PureComponent{componentDidMount(){(0,s.ec)(this.props.installationPaths.map(e=>{let{path:t}=e;return t}))}render(){let{installationPaths:e,installationPathsMetadata:t,defaultInstallationPath:n}=this.props,{editingPath:l}=this.state;return(0,i.jsxs)(a.hjN,{className:_.wrapper,title:g.intl.string(g.t.aLszkJ),children:[e.map(e=>{let{path:r,label:a}=e;return(0,i.jsx)(I,{path:r,label:a,metadata:t[r],isDefault:n===r,editingPath:l,hasGamesInstalledInPath:u.Z.hasGamesInstalledInPath(r),onToggleEditing:this.handleToggleEditing},r)}),(0,i.jsx)("div",{className:_.buttonRowWrapper,children:(0,i.jsx)(a.zxk,{disabled:!m.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:a.zxk.Sizes.SMALL,children:g.intl.string(g.t.pnZ2ur)})})]})}constructor(...e){super(...e),E(this,"state",{editingPath:null}),E(this,"handleAddInstallationLocation",()=>{p.ZP.showOpenDialog(["openDirectory"]).then(e=>{null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,s.RY)(e[0])})}),E(this,"handleToggleEditing",e=>{this.setState({editingPath:e})})}}let N=r.ZP.connectStores([u.Z],()=>({installationPaths:u.Z.installationPaths,installationPathsMetadata:u.Z.installationPathsMetadata,defaultInstallationPath:u.Z.defaultInstallationPath}))(C)},895991:function(e,t,n){n.d(t,{Z:()=>v}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(570140),d=n(150063),c=n(274616),u=n(827837),h=n(410575),m=n(3570),p=n(237919),g=n(957657),_=n(665307),f=n(530151),E=n(981631),I=n(186901),C=n(59831);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends l.PureComponent{componentDidMount(){d.Y(E.Z5c.APPLICATION_LIBRARY),(0,m.T)(I.jE.LIBRARY),o.Z.wait(()=>(0,c.o)()),(0,u.N)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)}renderToolbar(){return(0,i.jsx)(p.Z,{})}render(){let{includeUpdatesInScroller:e}=this.state,t=(0,i.jsx)("div",{children:(0,i.jsx)(h.Z,{section:E.jXE.LIBRARY_INSTALL_MODULE,children:(0,i.jsx)(f.Z,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(g.Z,{currentRoute:E.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,i.jsxs)(s.yWw,{className:a()(C.container,C.scroller),ref:this._scrollerRef,children:[e?t:null,(0,i.jsx)(h.Z,{section:E.jXE.LIBRARY_APPLICATION_LIST,children:(0,i.jsx)(_.Z,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})}constructor(...e){super(...e),N(this,"_scrollerRef",l.createRef()),N(this,"_scrollToOnMount",void 0),N(this,"_scrollToPadding",0),N(this,"state",{includeUpdatesInScroller:!1}),N(this,"handleHeightTallerThanHalfViewportChange",e=>{this.setState({includeUpdatesInScroller:e})}),N(this,"scrollToRow",(e,t)=>{let n=this._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoViewRect({start:t,end:t}),this._scrollToOnMount=null):(this._scrollToOnMount=e,this._scrollToPadding=t)})}}},993977:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(58642),o=n(600164),d=n(695346),c=n(490983),u=n(626135),h=n(630388),m=n(804739),p=n(957657),g=n(34305),_=n(981631),f=n(388032),E=n(994074);function I(e){let{applicationViewItems:t,restoreApplication:n}=e;if(0===t.length)return null;let l=t.map(e=>{let t=e.libraryApplication.getDistributor();return(0,i.jsxs)("div",{className:E.hiddenLibraryApplication,children:[(0,i.jsxs)(o.Z,{direction:o.Z.Direction.VERTICAL,className:E.hiddenLibraryApplicationContent,children:[(0,i.jsx)("div",{className:E.applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,i.jsx)("div",{className:E.applicationSubText,children:_.EOG[t]}):null]}),(0,i.jsx)(a.P3F,{className:E.restoreButton,onClick:()=>n(e.libraryApplication),children:(0,i.jsx)(a.Dio,{size:"md",color:"currentColor",className:E.restoreIcon})})]},e.key)});return(0,i.jsxs)(a.hjN,{className:E.hiddenLibraryApplications,children:[(0,i.jsx)(a.vwX,{className:E.hiddenLibraryApplicationsTitle,children:f.intl.string(f.t["5PJtrK"])}),l]})}class C extends l.PureComponent{handleToggleShortcutDesktop(e){d.Xc.updateSetting(e)}handleToggleShortcutStartMenu(e){d.Pe.updateSetting(e)}trackRestoreApplication(e,t){u.default.track(_.rMx.APPLICATION_SETTINGS_UPDATED,{hidden_enabled:t,...e.getAnalyticsData()})}renderBody(){let{hiddenLibraryApplicationViewItems:e,installShortcutDesktop:t,installShortcutStartMenu:n}=this.props;return(0,i.jsxs)("div",{className:E.body,children:[(0,m.Q)()?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(a.j7V,{value:t,onChange:this.handleToggleShortcutDesktop,note:f.intl.string(f.t.vT61Nz),children:f.intl.string(f.t["9ID+Ki"])}),(0,i.jsx)(a.j7V,{value:n,onChange:this.handleToggleShortcutStartMenu,note:f.intl.string(f.t.cpYp0N),children:f.intl.string(f.t.vNpUMz)}),(0,i.jsx)(g.Z,{})]}):null,(0,i.jsx)(I,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:e})]})}render(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{currentRoute:_.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,i.jsx)(a.w0Z,{className:E.scroller,children:this.renderBody()})]})}constructor(...e){var t,n;super(...e),t="handleRestoreHiddenLibraryApplication",n=e=>{let t=h.x9(e.getFlags(),_.eHb.HIDDEN);s.h(e.id,e.branchId,t),this.trackRestoreApplication(e,h.yE(t,_.eHb.HIDDEN))},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}function N(){let e={installShortcutDesktop:d.Xc.useSetting(),installShortcutStartMenu:d.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,r.e7)([c.Z],()=>c.Z.hiddenLibraryApplicationViewItems)};return(0,i.jsx)(C,{...e})}},665307:function(e,t,n){n.d(t,{Z:()=>k}),n(411104),n(47120);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(512969),d=n(442837),c=n(846519),u=n(477690),h=n(481060),m=n(570140),p=n(239091),g=n(287259),_=n(785547),f=n(600164),E=n(167533),I=n(925329),C=n(707409),N=n(490983),v=n(799777),T=n(626135),S=n(780570),A=n(624138),Z=n(645818),x=n(981631),b=n(388032),L=n(774203);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let O=(0,A.Mg)(u.Z.GAME_LIST_ROW_MIN_HEIGHT),P=(0,A.Mg)(u.Z.GAME_LIST_LINKED_TO_GLOW_DURATION),R=Object.freeze({[x.iEv.PLATFORM]:"Platform",[x.iEv.LAST_PLAYED]:"Last Played",[x.iEv.NAME]:"Name"}),j=e=>{let{flag:t,icon:n,item:i,tooltip:r}=e,a=i.libraryApplication.hasFlag(t);return(0,l.jsx)(h.ua7,{text:r,children:e=>(0,l.jsx)(n,{className:s()(L.settingIcon,{[L.hidden]:!a}),...e})})},D=[{key:x.iEv.NAME,renderHeader:()=>b.intl.string(b.t.dBfWfX),sort:!0,cellClassName:L.nameCell,bodyCellClassName:L.nameBodyCell,render:e=>(0,l.jsxs)(f.Z,{align:f.Z.Align.CENTER,children:[(0,l.jsx)(I.Z,{game:e.application,size:I.Z.Sizes.SMALL,className:L.gameIcon}),(0,l.jsxs)("div",{className:L.nameCellInfo,children:[(0,l.jsx)("div",{className:L.nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(x.eHb.PREMIUM)?(0,l.jsx)(h.ua7,{text:b.intl.string(b.t.tG2SzM),children:e=>(0,l.jsx)(h.SrA,{size:"md",color:"currentColor",className:L.nitroIcon,...e})}):null]})]})},{key:x.iEv.PLATFORM,renderHeader:()=>b.intl.string(b.t.YR4cHB),sort:!0,cellClassName:L.platformCell,bodyCellClassName:L.textCell,render(e){let t=e.libraryApplication.getDistributor();return(0,l.jsx)(f.Z,{align:f.Z.Align.CENTER,children:null!=t?x.EOG[t]:b.intl.string(b.t["F+l3Ji"])})}},{key:x.iEv.LAST_PLAYED,renderHeader:()=>b.intl.string(b.t.FDDyjY),sort:!0,cellClassName:L.lastPlayedCell,bodyCellClassName:L.textCell,render(e){let t;return t=e.isRunning?b.intl.string(b.t.Md326u):e.isNew?b.intl.string(b.t["+F0Tho"]):0!==e.lastPlayed?(0,l.jsx)(C.ZP,{end:e.lastPlayed,location:C.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):b.intl.string(b.t.EoWLrq),(0,l.jsx)(f.Z,{align:f.Z.Align.CENTER,className:s()({[L.lastPlayedCellNew]:e.isNew}),children:t})}},{key:x.iEv.ACTIONS,renderHeader:()=>null,cellClassName:L.actionsCell,render(e,t,n){var i,a;if(null==t)throw Error("No cell props defined.");let o=e.key===t.activeRowKey;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:L.settingIcons,children:[(0,l.jsx)(j,{flag:x.eHb.PRIVATE,item:e,icon:h.kZF,tooltip:b.intl.string(b.t.NozAoq)}),(0,l.jsx)(j,{flag:x.eHb.OVERLAY_DISABLED,item:e,icon:h.o8v,tooltip:b.intl.string(b.t.Az9eqq)}),(0,l.jsx)(Z.Z,{className:s()(L.settingIcon,{[L.hidden]:!e.supportsCloudSync}),libraryApplication:e.libraryApplication})]}),(0,S.Je)(e.libraryApplication)?(0,l.jsx)(_.Z,{analyticsListSort:(i=t.sortKey,a=t.sortDirection,"".concat(R[i]," ").concat(a===x.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:x.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:o?h.zxk.Colors.GREEN:h.zxk.Colors.PRIMARY,isPlayShiny:o&&e.defaultAction===x.apO.PLAY,size:L.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:()=>null!=t&&t.setActiveRowKey(e),onDropdownClose:()=>null!=t&&t.clearActiveRowKey()}):(0,l.jsx)("div",{children:"deprecated!"})]})}}],w=e=>{let{item:t,activeRowKey:n,highlightedApplicationKey:i,onMouseEnter:r,onMouseLeave:a,onContextMenu:o,setRef:d,...c}=e,u=t.key===n,h=t.key===i;return(0,l.jsx)("div",{className:s()({[L.rowWrapperActive]:u&&!h,[L.rowWrapperGlow]:h,[L.rowWrapper]:!u&&!h,[L.rowWrapperDim]:!u&&!t.isLaunchable}),ref:e=>d(e,t.key),onMouseEnter:()=>r(t),onMouseLeave:a,onContextMenu:e=>o(e,t),children:(0,l.jsx)("div",{...c})})};class M extends(i=r.PureComponent){componentDidMount(){let{fetched:e}=this.props;e&&(this.handleHighlightedApplicationKey(),this.trackViewed())}componentWillUnmount(){this._didUnmount=!0}componentDidUpdate(e){!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());let t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){let e=this._rowRefs[t];null!=e&&(m.Z.wait(p.Zy),this.props.scrollToRow(e,O))}}handleHighlightedApplicationKey(){let{highlightedApplicationKey:e}=this.state;null!=e&&null!=this._rowRefs[e]&&(this.props.scrollToRow(this._rowRefs[e],O),new c.V7().start(P,()=>{this._didUnmount||this.setState({highlightedApplicationKey:null})}))}trackViewed(){let e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},{analyticsContext:t,applicationViewItems:n}=this.props;for(let t of n){switch(t.libraryApplication.getDistributor()){case x.GQo.DISCORD:e.num_applications_discord++;break;case x.GQo.STEAM:e.num_applications_steam++;break;case x.GQo.BATTLENET:e.num_applications_battlenet++;break;case x.GQo.TWITCH:e.num_applications_twitch++;break;case x.GQo.UPLAY:e.num_applications_uplay++;break;case x.GQo.ORIGIN:e.num_applications_origin++;break;case x.GQo.GOG:e.num_applications_gog++;break;case x.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}T.default.track(x.rMx.LIBRARY_VIEWED,{...e,load_id:t.loadId})}handleSort(e,t){g.fS(e,t)}renderImportHelp(){let e;let{applicationViewItems:t,filterQuery:n}=this.props,i=t.length>0;return i?null:(e=""!==n?b.intl.format(b.t["4Q1TAg"],{query:n}):b.intl.string(b.t["0Y+0PT"]),(0,l.jsxs)("div",{className:i?L.emptyStateSmall:L.emptyStateLarge,children:[(0,l.jsx)("div",{className:L.emptyWumpus}),(0,l.jsx)(f.Z,{grow:0,shrink:i?1:0,direction:f.Z.Direction.VERTICAL,children:(0,l.jsxs)("div",{className:L.emptyStateText,children:[(0,l.jsx)("div",{className:L.emptyStateHeader,children:b.intl.string(b.t.Lw8X2t)}),(0,l.jsx)("div",{className:L.emptyStateDescription,children:e})]})})]}))}render(){let{sortKey:e,sortDirection:t,applicationViewItems:n,activeRowKey:i,stickyHeader:a}=this.props,{overflowMenuRowKey:s,highlightedApplicationKey:o}=this.state;return(0,l.jsxs)(r.Fragment,{children:[n.length>0?(0,l.jsx)(E.Z,{columns:D,data:n,sortData:!1,rowComponent:w,className:L.table,headerClassName:a?L.stickyHeader:L.header,headerCellClassName:L.headerCell,sortedHeaderCellClassName:L.headerCellSorted,bodyCellClassName:L.bodyCell,rowClassName:L.row,sortKey:e,sortDirection:t,stickyHeader:a,rowProps:{activeRowKey:null!=s?s:i,highlightedApplicationKey:o,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=s?s:i,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:e,sortDirection:t},onSort:this.handleSort}):null,this.renderImportHelp()]})}constructor(...e){super(...e),y(this,"_didUnmount",!1),y(this,"_rowRefs",{}),y(this,"state",{overflowMenuRowKey:null,highlightedApplicationKey:null!=this.props.location.state?this.props.location.state.applicationId:null}),y(this,"setActiveRowKey",e=>{this.setState({overflowMenuRowKey:e.key})}),y(this,"clearActiveRowKey",()=>{this._didUnmount||this.setState({overflowMenuRowKey:null})}),y(this,"handleRowMouseEnter",e=>{this.props.isNavigatingByKeyboard||g.wX(e.key)}),y(this,"handleRowMouseLeave",()=>{this.props.isNavigatingByKeyboard||g.wX(null)}),y(this,"setRowRef",(e,t)=>{this._rowRefs[t]=e}),y(this,"handleApplicationContextMenu",(e,t)=>{this.setActiveRowKey(t);let{analyticsContext:i}=this.props;(0,p.jW)(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>(0,l.jsx)(e,{...n,applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:i})},{onClose:this.clearActiveRowKey})})}}function k(e){let t=r.useContext(T.AnalyticsContext),n=(0,o.TH)(),{applicationViewItems:i,filterQuery:a,fetched:s}=(0,d.cj)([N.Z],()=>({applicationViewItems:N.Z.sortedFilteredLibraryApplicationViewItems,filterQuery:N.Z.applicationFilterQuery,fetched:N.Z.hasFetchedApplications})),{sortKey:c,sortDirection:u,activeRowKey:h,isNavigatingByKeyboard:m}=(0,d.cj)([v.Z],()=>({sortKey:v.Z.sortKey,sortDirection:v.Z.sortDirection,activeRowKey:v.Z.activeRowKey,isNavigatingByKeyboard:v.Z.isNavigatingByKeyboard}));return(0,l.jsx)(M,{...e,analyticsContext:t,location:n,applicationViewItems:i,filterQuery:a,fetched:s,sortKey:c,sortDirection:u,activeRowKey:h,isNavigatingByKeyboard:m})}y(M,"defaultProps",{stickyHeader:!1})},86826:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(44315),s=n(600164),o=n(120998),d=n(353042),c=n(388032),u=n(517454);let h=function(e){var t;let{title:n,className:l,color:h,animate:m,gradientStopColor:p,getHistoricalTotalBytes:g}=e,_=(0,a.Sl)(h).hex,f=null===(t=(0,a.Sl)(p))||void 0===t?void 0:t.hex;return(0,i.jsx)(d.Z,{getHistoricalTotalBytes:g,children:(e,t,a)=>{var d;return(0,i.jsx)("div",{className:r()(u.monitor,l),children:(0,i.jsxs)(s.Z,{align:s.Z.Align.CENTER,children:[(0,i.jsxs)(s.Z,{className:u.text,direction:s.Z.Direction.VERTICAL,children:[(0,i.jsx)("div",{className:u.title,children:n}),(0,i.jsx)("div",{className:u.rate,children:(d=e[e.length-1]/t*1e3)>1e3?c.intl.formatToPlainString(c.t["WU+gTU"],{size:Math.round(d/1e3)}):c.intl.formatToPlainString(c.t.wnF6TE,{size:Math.round(d)})})]}),(0,i.jsx)("div",{className:u.overflowContainer,children:(0,i.jsx)(o.Z,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:u.sparkChart,updateInterval:t,color:_,gradientStopColor:f,numUpdatesToShow:a,animate:m,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})})}})}},530151:function(e,t,n){n.d(t,{Z:()=>$}),n(411104),n(47120),n(724458),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),d=n(442837),c=n(692547),u=n(780384),h=n(481060),m=n(570140),p=n(239091),g=n(51025),_=n(785547),f=n(730749),E=n(112724),I=n(812206),C=n(44315),N=n(600164),v=n(167533),T=n(925329),S=n(707409),A=n(210887),Z=n(283595),x=n(417363),b=n(941128),L=n(451478),y=n(424218),O=n(780570),P=n(353042),R=n(86826),j=n(981631),D=n(388032),w=n(2827);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let k=e=>{let{className:t,children:n,onContextMenu:l,item:r}=e;return(0,i.jsx)("div",{className:t,onContextMenu:e=>l(e,r),children:n})},U=[c.Z.unsafe_rawColors.BLUE_345.css,c.Z.colors.INTERACTIVE_NORMAL.css],G=e=>{let{tooltip:t,onClick:n,icon:l}=e;return(0,i.jsx)(h.ua7,{text:t,children:e=>{let{onMouseEnter:r,onMouseLeave:a}=e;return(0,i.jsx)(h.zxk,{"aria-label":t,className:w.actionButton,innerClassName:w.actionButtonContents,color:h.zxk.Colors.PRIMARY,size:h.zxk.Sizes.ICON,onClick:n,onMouseEnter:r,onMouseLeave:a,children:(0,i.jsx)(l,{className:w.actionIcon})})}})};function B(e,t){switch(t){case j.f07.POST_INSTALL_SCRIPTS:case j.f07.PLANNING:case j.f07.FINALIZING:case j.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,y.BU)(e,{useKibibytes:!0})}}let V={[j.vxO.INSTALLING]:{[S.J6.NONE]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.JfJt9f,{percent:e,progress:t,total:n}),[S.J6.SECONDS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:i}),[S.J6.MINUTES]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:i}),[S.J6.HOURS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:i})},[j.vxO.UPDATING]:{[S.J6.NONE]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.JsqXXF,{percent:e,progress:t,total:n}),[S.J6.SECONDS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["3BvVeX"],{percent:e,progress:t,total:n,timeRemaining:i}),[S.J6.MINUTES]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.rwULn5,{percent:e,progress:t,total:n,timeRemaining:i}),[S.J6.HOURS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.adcitL,{percent:e,progress:t,total:n,timeRemaining:i})},[j.vxO.REPAIRING]:{[S.J6.NONE]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.JfJt9f,{percent:e,progress:t,total:n}),[S.J6.SECONDS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:i}),[S.J6.MINUTES]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:i}),[S.J6.HOURS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:i})}};function H(e,t,n,i,l){let r=V[t],a=null!=r?Object.keys(r):[],{unit:s,time:o}=(0,S.CI)(null!=e?e/60:null,a);if(null!=r&&null!=s){let e=r[s];return null!=e?e(n,i,l,o):null}return null}function F(e){let{type:t,stage:n,percent:i,progress:l,total:r,secondsRemaining:a}=e,s=B(r,n),o=B(l,n);switch(n){case j.f07.QUEUED:if(0===l)return D.intl.string(D.t.RpfBqa);return D.intl.formatToPlainString(D.t.uNjCXV,{percent:i,progress:o,total:s});case j.f07.PLANNING:return D.intl.formatToPlainString(D.t.sfuCUV,{percent:i});case j.f07.ALLOCATING_DISK:return D.intl.formatToPlainString(D.t.XigoJy,{percent:i});case j.f07.PATCHING:return H(a,t,i,o,s);case j.f07.FINALIZING:return D.intl.formatToPlainString(D.t["6PHDUF"],{percent:i});case j.f07.PAUSING:return D.intl.formatToPlainString(D.t.vjxhWl,{percent:i,progress:o,total:s});case j.f07.VERIFYING:return D.intl.formatToPlainString(D.t.bbilvr,{percent:i,progress:o,total:s});case j.f07.POST_INSTALL_SCRIPTS:return D.intl.formatToPlainString(D.t.c5vRUl,{percent:i,progress:o,total:s});case j.f07.REPAIRING:if(t===j.vxO.REPAIRING)return H(a,t,i,o,s);return D.intl.formatToPlainString(D.t.OCzETU,{percent:i,progress:o,total:s})}throw Error("Invalid Dispatch stage")}class z extends l.PureComponent{get isFocused(){let{cellProps:e}=this.props;return null!=e&&e.isFocused}renderBody(e){let{percent:t,foregroundColor:n,foregroundGradientColor:l,message:r}=e;return(0,i.jsxs)(N.Z,{direction:N.Z.Direction.VERTICAL,children:[(0,i.jsx)(h.Exd,{percent:t,size:h.Exd.Sizes.SMALL,foregroundColor:(0,C.Lq)(n),foregroundGradientColor:null!=l?[(0,C.Lq)(l[0]),(0,C.Lq)(l[1])]:void 0,animate:this.isFocused}),(0,i.jsx)("div",{className:w.progressCellText,children:null!=r?r:""})]})}renderStackedProgress(e){let{percents:t,message:n}=e;return(0,i.jsxs)(N.Z,{direction:N.Z.Direction.VERTICAL,children:[(0,i.jsx)(h.yGy,{percents:t,size:h.yGy.Sizes.SMALL,foregroundColors:U,animate:this.isFocused}),(0,i.jsx)("div",{className:w.progressCellText,children:null!=n?n:""})]})}renderFinished(){let{item:e}=this.props;return this.renderBody({message:D.intl.format(D.t.z1oxGB,{remove:()=>g.wi(e.applicationId,e.branchId)}),foregroundColor:(0,u.ap)(e.theme)?j.Ilk.PRIMARY_300:j.Ilk.PRIMARY_500,percent:100})}renderQueued(){let e,t;let{item:{state:n,theme:i}}=this.props;if(null!=n){let{progress:i,total:l,stage:r}=n;if(null!=i&&null!=l){let n=B(l,r),a=B(i,r),s=Math.floor(t=O.xI(i,l));e=r===j.f07.PAUSING?D.intl.formatToPlainString(D.t.vjxhWl,{percent:s,progress:a,total:n}):D.intl.formatToPlainString(D.t.voT3Bg,{percent:s,progress:a,total:n})}}return(null==t||null==e)&&(t=0,e=D.intl.string(D.t["qS+iKS"])),this.renderBody({percent:t,foregroundColor:(0,u.ap)(i)?j.Ilk.PRIMARY_300:j.Ilk.PRIMARY_500,message:e})}renderPaused(){let{item:{state:e,theme:t}}=this.props;if(null==e)return null;let{progress:n,total:i}=e;if(null==n||null==i)return null;let l=O.xI(n,i),r=Math.floor(l),a=0===n&&1===i?D.intl.string(D.t["+pfsFR"]):D.intl.formatToPlainString(D.t["+feX8f"],{percent:r,progress:(0,y.BU)(n),total:(0,y.BU)(i)});return this.renderBody({message:a,foregroundColor:(0,u.ap)(t)?j.Ilk.PRIMARY_300:j.Ilk.PRIMARY_500,percent:l})}renderProgressPatching(){return(0,i.jsx)(P.Z,{getHistoricalTotalBytes:x.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})}renderProgressDefault(){let{state:e}=this.props.item;if(null==e)return null;let{total:t,progress:n,stage:i,type:l}=e;if(null==t||null==n||null==i)return null;let r=O.xI(n,t),a=Math.floor(r);return this.renderBody({percent:r,message:F({type:l,stage:i,percent:a,progress:n,total:t}),foregroundColor:j.Ilk.BLUE_345})}renderProgress(){let{state:e}=this.props.item;switch(null!=e?e.stage:null){case j.f07.PATCHING:case j.f07.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}}render(){let{item:e,cellProps:t}=this.props;return e.finished?this.renderFinished():e.index>0?this.renderQueued():null!=e.state&&(e.state.type===j.vxO.UPDATING||e.state.type===j.vxO.REPAIRING||e.state.type===j.vxO.INSTALLING)?null!=t&&t.paused?this.renderPaused():this.renderProgress():null}constructor(...e){super(...e),M(this,"renderProgressPatchingBody",(e,t)=>{let{item:{state:n}}=this.props;if(null==n)return null;let{stage:i,progress:l,total:r,type:a,readerProgress:s}=n;if(null==l||null==r||null==i)return null;let o=O.xI(l,r),d=O.xI(null!=s?s:0,r),c=e[e.length-1]/t*1e3,u=r-l,h=F({type:a,stage:i,percent:Math.floor(o),progress:l,total:r,secondsRemaining:0!==c?Math.max(1,u/c):null});return this.renderStackedProgress({percents:[o,d],message:h})})}}let W=()=>(0,i.jsx)(G,{icon:h.o1U,tooltip:D.intl.string(D.t.YGm6SU),onClick:()=>g.v4()}),Y=()=>(0,i.jsx)(G,{icon:h.fpf,tooltip:D.intl.string(D.t.TVAd5O),onClick:()=>g.wO()}),K=e=>{let{item:t}=e;return(0,i.jsx)(G,{icon:h.wj7,tooltip:D.intl.string(D.t["Eqb+LC"]),onClick:()=>g.A1(t.applicationId,t.branchId)})},q=e=>{let{item:t}=e;return(0,i.jsx)(G,{icon:h.Dio,tooltip:D.intl.string(D.t["0lFmCw"]),onClick:()=>g.al(t.applicationId,t.branchId)})},X=[{key:"name",cellClassName:w.nameCell,render:e=>(0,i.jsxs)(N.Z,{align:N.Z.Align.CENTER,children:[(0,i.jsx)(T.Z,{game:e.application,className:w.__invalid_gameIcon,size:T.Z.Sizes.SMALL}),(0,i.jsx)("div",{className:w.nameCellText,children:e.application.name})]})},{key:"progress",cellClassName:w.progressCell,headerCellClassName:w.progressCellHeader,bodyCellClassName:w.progressCellBody,render:(e,t)=>(0,i.jsx)(z,{item:e,cellProps:t})},{key:"actions",cellClassName:w.actionsCell,render(e,t){let n,l;return e.finished?n=null!=e.libraryApplication?(0,i.jsx)(_.Z,{libraryApplication:e.libraryApplication,size:h.zxk.Sizes.SMALL,className:w.gameActionButton,source:j.Sbl.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==j.vxO.UP_TO_DATE&&(n=e.index>0?(0,i.jsx)(K,{item:e}):null!=t&&t.paused?(0,i.jsx)(W,{}):(0,i.jsx)(Y,{item:e}),l=(0,i.jsx)(q,{item:e})):l=(0,i.jsx)(q,{item:e}),(0,i.jsxs)(N.Z,{justify:N.Z.Justify.END,children:[n,l]})}}];class Q extends l.PureComponent{componentDidMount(){window.addEventListener("resize",this.throttledUpdateHeight)}componentDidUpdate(e){this.props.height!==e.height&&this.throttledUpdateHeight()}componentWillUnmount(){let{applications:e}=this.props;e.forEach(e=>{e.finished&&m.Z.wait(()=>{g.wi(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0}render(){let{applications:e,paused:t,isFocused:l,theme:r,analyticsContext:s}=this.props;return 0===e.length?null:(0,i.jsxs)("div",{className:w.gameUpdates,children:[(0,i.jsxs)("div",{className:w.headerRow,children:[(0,i.jsx)(R.Z,{className:a()(w.headerCell,w.networkProgress),title:D.intl.string(D.t.ytoXKi),getHistoricalTotalBytes:x.Z.getHistoricalTotalBytesDownloaded,color:j.Ilk.GREEN_360,animate:l}),(0,i.jsx)(R.Z,{className:a()(w.headerCell,w.diskProgress),title:D.intl.string(D.t.SjohhI),getHistoricalTotalBytes:x.Z.getHistoricalTotalBytesWritten,color:j.Ilk.BLUE_345,animate:l})]}),(0,i.jsx)(v.Z,{hasHeader:!1,columns:X,data:e,className:w.table,rowClassName:w.row,rowComponent:k,cellProps:{paused:t,isFocused:l,theme:r},rowProps:{onContextMenu:(e,t)=>{p.jW(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>(0,i.jsx)(e,{...n,applicationId:t.applicationId,branchId:t.branchId,analyticsContext:s})})}},bodyCellClassName:w.cell})]})}constructor(...e){super(...e),M(this,"isUnmounted",!1),M(this,"isTallerThanHalfViewport",!1),M(this,"throttledUpdateHeight",o().throttle(()=>{if(this.isUnmounted)return;let{height:e,onHeightTallerThanHalfViewportChange:t}=this.props,n=e>window.innerHeight/2;this.isTallerThanHalfViewport!==n&&(this.isTallerThanHalfViewport=n,t(n))},1e3))}}function J(e,t,n,i){return e.reduce((e,l,r)=>{let{applicationId:a,branchId:s}=l,o=n.getApplication(a),d=i.getState(a,s);return null!=o&&e.push({key:"".concat(a,":").concat(s),applicationId:a,branchId:s,state:d,application:o,libraryApplication:Z.Z.getLibraryApplication(a,s),finished:t,index:r}),e},[])}let $=(0,E.Z)(d.ZP.connectStores([I.Z,x.Z,b.Z,A.Z,L.Z],()=>({applications:[...J(b.Z.activeItems,!1,I.Z,x.Z),...J(b.Z.finishedItems,!0,I.Z,x.Z)],paused:b.Z.paused,isFocused:L.Z.isFocused(),theme:A.Z.theme}))((0,f.Z)(Q)))},689796:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651),l=n(192379),r=n(77878),a=n(770146),s=n(600164),o=n(981631),d=n(388032),c=n(631489);class u extends l.PureComponent{renderContentRatingImage(){let{contentRating:e,contentRatingAgency:t}=this.props.sku;return null==e||null==t?null:(0,i.jsx)(r.Z,{className:c.rating,agency:t,rating:e.rating})}render(){let{sku:{contentRating:e,contentRatingAgency:t},className:n}=this.props;if(null==e||null==t)return null;let l={[o.aIt.ESRB]:{1:d.intl.string(d.t.ErVezc),2:d.intl.string(d.t.xLyerK),3:d.intl.string(d.t.UmB6j4),4:d.intl.string(d.t.NHOQIy),5:d.intl.string(d.t.U6xTOz),6:d.intl.string(d.t["51xJIy"]),7:d.intl.string(d.t.uayp6u),8:d.intl.string(d.t.c1GtKi),9:d.intl.string(d.t.Hz8vra),10:d.intl.string(d.t.qSyzdX),11:d.intl.string(d.t.K68q8f),12:d.intl.string(d.t.Yb0n6O),13:d.intl.string(d.t.IIFZqq),14:d.intl.string(d.t["NZ/JGR"]),15:d.intl.string(d.t["5qETTU"]),16:d.intl.string(d.t.kJGLz8),17:d.intl.string(d.t.cB2QRE),18:d.intl.string(d.t.g9SiEx),19:d.intl.string(d.t["Xe0T5+"]),20:d.intl.string(d.t["4k6sY2"]),21:d.intl.string(d.t.cxFiDA),22:d.intl.string(d.t.YvpQKy),23:d.intl.string(d.t.i2gbpa),24:d.intl.string(d.t["LooT/f"]),25:d.intl.string(d.t["/AIXho"]),26:d.intl.string(d.t.oo09Hx),27:d.intl.string(d.t.XCUBe3),28:d.intl.string(d.t.g6dipa),29:d.intl.string(d.t.YYGUqq),30:d.intl.string(d.t.WsqFnJ),31:d.intl.string(d.t.zePEoq),32:d.intl.string(d.t.bGErw8),33:d.intl.string(d.t["imoY9/"]),34:d.intl.string(d.t["Z+VBdn"]),35:d.intl.string(d.t.eBgo0N),36:d.intl.string(d.t["6SVTt7"]),37:d.intl.string(d.t["8Lme6e"]),38:d.intl.string(d.t.ettX4O),39:d.intl.string(d.t.nnVZFx),40:d.intl.string(d.t.TWlbXl),41:d.intl.string(d.t.CAGgEx),42:d.intl.string(d.t["jRZf+f"]),43:d.intl.string(d.t["4Vg0mp"])},[o.aIt.PEGI]:{1:d.intl.string(d.t.VcO2U1),2:d.intl.string(d.t["wt264+"]),3:d.intl.string(d.t["5yzEJS"]),4:d.intl.string(d.t.NBQZX1),5:d.intl.string(d.t["4UG90d"]),6:d.intl.string(d.t.Cf5CtL),7:d.intl.string(d.t.ai9C3d)}},r=e.descriptors.map(e=>l[t][e]).join(", ");return(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)(a.Z,{children:d.intl.string(d.t.q9Zqgo)}),(0,i.jsxs)(s.Z,{className:c.content,children:[this.renderContentRatingImage(),(0,i.jsx)("div",{className:c.__invalid_info,children:r})]})]})}}let h=u},506648:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651),l=n(192379),r=n(481060),a=n(770146),s=n(863969),o=n(38761),d=n(6074),c=n(39377),u=n(981631),h=n(388032),m=n(386006);let p=[{feature:u.Qa3.SINGLE_PLAYER,getText:()=>h.intl.string(h.t["V+/FjI"]),getTooltip:()=>h.intl.string(h.t["w+X9sb"]),IconComponent:r.tBG},{feature:u.Qa3.LOCAL_MULTIPLAYER,getText:()=>h.intl.string(h.t.srnWrq),getTooltip:()=>h.intl.string(h.t.sDdLWF),IconComponent:r.BFJ},{feature:u.Qa3.ONLINE_MULTIPLAYER,getText:()=>h.intl.string(h.t.xPHbgI),getTooltip:()=>h.intl.string(h.t.g6kR4O),IconComponent:r.BFJ},{feature:u.Qa3.PVP,getText:()=>h.intl.string(h.t.qhgwx8),getTooltip:()=>h.intl.string(h.t["5jGrhI"]),IconComponent:r.HI3},{feature:u.Qa3.LOCAL_COOP,getText:()=>h.intl.string(h.t.FqbalJ),getTooltip:()=>h.intl.string(h.t.vIgDgY),IconComponent:r.BFJ},{feature:u.Qa3.ONLINE_COOP,getText:()=>h.intl.string(h.t.lDHO4e),getTooltip:()=>h.intl.string(h.t.VXDpho),IconComponent:r.BFJ},{feature:u.Qa3.CROSS_PLATFORM,getText:()=>h.intl.string(h.t.SWo2HR),getTooltip:()=>h.intl.string(h.t.ll2wzc),IconComponent:r.DuK},{feature:u.Qa3.RICH_PRESENCE,getText:()=>h.intl.string(h.t.PVSVtL),getTooltip:()=>h.intl.string(h.t.O6Yp4e),IconComponent:d.Z},{feature:u.Qa3.DISCORD_GAME_INVITES,getText:()=>h.intl.string(h.t.agm68P),getTooltip:()=>h.intl.string(h.t.kS2vFB),IconComponent:o.Z},{feature:u.Qa3.SPECTATOR_MODE,getText:()=>h.intl.string(h.t["ZtiU7+"]),getTooltip:()=>h.intl.string(h.t.kUtiKS),IconComponent:r.Odl},{feature:u.Qa3.CONTROLLER_SUPPORT,getText:()=>h.intl.string(h.t.UlBQ8P),getTooltip:()=>h.intl.string(h.t.iG00jI),IconComponent:r.xoD},{feature:u.Qa3.CLOUD_SAVES,getText:()=>h.intl.string(h.t.rOcNrK),getTooltip:()=>h.intl.string(h.t.kvw18P),IconComponent:s.Z},{feature:u.Qa3.SECURE_NETWORKING,getText:()=>h.intl.string(h.t.GKFWLy),getTooltip:()=>h.intl.string(h.t.VudViI),IconComponent:c.Z}],g=e=>{let{IconComponent:t,text:n,tooltip:l}=e;return(0,i.jsxs)("div",{className:m.row,children:[(0,i.jsx)(r.ua7,{text:l,children:e=>(0,i.jsx)(t,{className:m.featureIcon,...e})}),(0,i.jsx)("span",{className:m.featureText,children:n}),(0,i.jsx)(r.dz2,{size:"md",color:"currentColor",className:m.checkmarkIcon})]})};class _ extends l.PureComponent{render(){let{sku:e}=this.props,t=p.filter(t=>{let{feature:n}=t;return e.features.has(n)}).map(e=>{let{feature:t,IconComponent:n,getText:l,getTooltip:r}=e;return(0,i.jsx)(g,{IconComponent:n,text:l(),tooltip:r()},t)});return 0===t.length?null:(0,i.jsxs)("div",{className:m.features,children:[(0,i.jsx)(a.Z,{children:h.intl.string(h.t.XXENra)}),t]})}}let f=_},449275:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651),l=n(192379),r=n(770146),a=n(388032),s=n(983117);class o extends l.PureComponent{render(){let{className:e,sku:t}=this.props;return null==t.legalNotice?null:(0,i.jsxs)("div",{className:e,children:[(0,i.jsx)(r.Z,{children:a.intl.string(a.t.m8OiMj)}),(0,i.jsx)("div",{className:s.content,children:t.legalNotice})]})}}let d=o},733789:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(100527),d=n(707409),c=n(184301),u=n(347475),h=n(237583),m=n(51144),p=n(981631),g=n(388032),_=n(18142);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let E={[p.AzA.NOW_PLAYING]:{single:(e,t)=>g.intl.format(g.t.NEckzc,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>g.intl.format(g.t["6uWulZ"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>g.intl.format(g.t["8fMgRU"],{count:e})},[p.AzA.RECENTLY_PLAYED]:{single:(e,t)=>g.intl.format(g.t["nB/JND"],{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>g.intl.format(g.t.AZCcHR,{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>g.intl.format(g.t.yNuaTU,{count:e})},[p.AzA.EVER_PLAYED]:{single:(e,t)=>g.intl.format(g.t.Fecf3N,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>g.intl.format(g.t["0LiGbG"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>g.intl.format(g.t.Yx1rjY,{count:e})}};class I extends l.PureComponent{renderDescription(e,t){let n=E[e];return 1===t.length?n.single(t[0].user,e=>this.renderActivityDiscordTag(e)):2===t.length?n.double(t[0].user,t[1].user,e=>this.renderActivityDiscordTag(e)):n.other(t.length)}renderActivityDiscordTag(e){return(0,i.jsx)(s.yRy,{preload:()=>(0,c.Z)(e),renderPopout:t=>(0,i.jsx)(u.Z,{...t,userId:e.id,newAnalyticsLocations:[o.Z.USERNAME]}),position:"right",children:t=>(0,i.jsx)("span",{className:_.username,...t,children:e.username})},e.id)}render(){let{reason:e,className:t}=this.props,{type:n,userInfo:l}=e;return 0===l.length?null:(0,i.jsxs)("div",{className:a()(_.recommendationActivity,t),children:[(0,i.jsx)(h.Z,{className:_.players,users:l.map(e=>{let{user:t}=e;return t}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),(0,i.jsx)("div",{className:_.description,children:this.renderDescription(n,l)})]})}constructor(...e){super(...e),f(this,"renderUserTooltip",(e,t,n)=>(0,i.jsxs)("div",{className:_.tooltip,children:[(0,i.jsx)("div",{children:m.ZP.getUserTag(e)}),(0,i.jsx)(d.ZP,{className:_.tooltipTimestamp,start:t,end:n,location:d.ZP.Locations.ACTIVITY_FEED})]})),f(this,"renderPlayer",(e,t,n,l)=>{if(null==e)return null;let r=this.props.reason.userInfo.find(t=>t.user===e);return null==r?null:(0,i.jsx)(s.yRy,{preload:()=>(0,c.Z)(e),renderPopout:t=>(0,i.jsx)(u.Z,{...t,userId:e.id,newAnalyticsLocations:[o.Z.AVATAR]}),position:"right",children:t=>(0,i.jsx)(s.ua7,{text:this.renderUserTooltip(e,r.startTime,r.endTime),"aria-label":(0,m.W5)(e,{decoration:"never"}),children:n=>(0,i.jsx)(s.qEK,{className:a()(_.playerAvatar,{[_.avatarMasked]:!l}),src:e.getAvatarURL(void 0,32),"aria-label":e.username,size:s.EFr.SIZE_32,...n,...t})})},e.id)}),f(this,"renderPlayerOverflow",(e,t,n)=>(0,i.jsx)("div",{className:_.playerOverflow,children:e},n))}}let C=I},4962:function(e,t,n){n.d(t,{Z:()=>_}),n(411104);var i,l=n(200651);n(192379);var r=n(120356),a=n.n(r),s=n(442837),o=n(481060),d=n(700582),c=n(451478),u=n(388032),h=n(662927),m=((i=m||{})[i.STAFF_NOTES=1]="STAFF_NOTES",i);let p=s.ZP.connectStores([c.Z],()=>({animate:c.Z.isFocused()}))(e=>{let{user:t,className:n,animate:i}=e;return(0,l.jsxs)("div",{className:a()(h.staffReviewHeader,n),children:[(0,l.jsx)(d.Z,{size:o.EFr.SIZE_32,user:t,animate:i}),(0,l.jsxs)("div",{className:h.headerText,children:[(0,l.jsx)("div",{className:h.label,children:u.intl.string(u.t.vmzMZG)}),(0,l.jsx)("div",{className:h.username,children:t.username})]})]})}),g=e=>{let{data:t,className:n}=e;if(1===t.type){if(null==t.staffNotes)return null;let{user:e,content:i}=t.staffNotes;return null==e?null:(0,l.jsxs)("div",{className:n,children:[(0,l.jsx)(p,{user:e,className:h.header}),(0,l.jsx)("div",{className:h.notes,children:i})]})}throw Error("Unknown type")};g.Types=m;let _=g},911314:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(512969),r=n(730749),a=n(928207),s=n(981631);let o=(0,r.Z)(function(){return(0,i.jsxs)(l.rs,{children:[(0,i.jsx)(l.AW,{path:s.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,i.jsx)(a.Z,{})}),(0,i.jsx)(l.l_,{to:s.Z5c.APP})]})})},928207:function(e,t,n){n.d(t,{Z:()=>x});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(512969),s=n(674746),o=n(442837),d=n(780384),c=n(481060),u=n(410575),h=n(730749),m=n(666743),p=n(410030),g=n(100527),_=n(906732),f=n(600164),E=n(984370),I=n(278605),C=n(299657),N=n(594174),v=n(74538),T=n(981631),S=n(474936),A=n(388032),Z=n(829311);let x=o.ZP.connectStores([N.default],()=>({user:N.default.getCurrentUser()}))((0,m.Z)((0,h.Z)(e=>{let{isAuthenticated:t,user:n}=e,{analyticsLocations:l}=(0,_.ZP)(g.Z.HOME_PAGE_PREMIUM_TAB),o=(0,I.xP)("ApplicationStoreHome"),h=(0,v.I5)(n),m=o&&!h,N=(0,p.ZP)();return t?(0,i.jsxs)("div",{className:Z.homeWrapperNormal,children:[(0,i.jsx)(u.Z,{section:T.jXE.NAVIGATION,children:(0,i.jsx)(c.f6W,{theme:N,children:e=>(0,i.jsxs)(E.Z,{isAuthenticated:t,className:r()(Z.headerBar,e,{[Z.headerBarV2LightBackground]:m&&!(0,d.wj)(N),[Z.headerBarV2DarkBackground]:m&&(0,d.wj)(N)}),role:"navigation",children:[(0,i.jsx)(E.Z.Icon,{icon:c.SrA,"aria-hidden":!0,color:m?s.Z.PREMIUM_TIER_2_PINK:void 0}),(0,i.jsx)(E.Z.Title,{children:A.intl.string(A.t.Ipxkoq)}),(0,i.jsx)(E.Z.Divider,{})]})})}),(0,i.jsx)(_.Gt,{value:l,children:null==n?(0,i.jsx)(f.Z,{align:f.Z.Align.CENTER,justify:f.Z.Justify.CENTER,children:(0,i.jsx)(c.$jN,{className:Z.spinner})}):(0,i.jsx)(C.Z,{entrypoint:S.EZ.ApplicationStoreHome})})]}):(0,i.jsx)(a.l_,{to:T.Z5c.LOGIN})})))},613311:function(e,t,n){n.d(t,{Z:()=>ec}),n(411104),n(724458),n(653041),n(733860),n(47120),n(789020);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(846519),d=n(780384),c=n(481060),u=n(570140),h=n(659429),m=n(496929),p=n(558381),g=n(410575),_=n(224336),f=n(730749),E=n(666743),I=n(115130),C=n(812206),N=n(770146),v=n(600164),T=n(606081),S=n(252618),A=n(100159),Z=n(646288),x=n(984370),b=n(706454),L=n(210887),y=n(430824),O=n(496675),P=n(525395),R=n(558314),j=n(580130),D=n(55563),w=n(551428),M=n(695103),k=n(451478),U=n(626135),G=n(572004),B=n(630388),V=n(937615),H=n(73346),F=n(3570),z=n(689796),W=n(15470),Y=n(506648),K=n(449275),q=n(445986),X=n(119520),Q=n(450233),J=n(726581),$=n(74153),ee=n(125930),et=n(178071),en=n(176055),ei=n(843445),el=n(981631),er=n(186901),ea=n(388032),es=n(431269);function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ed extends l.PureComponent{get isChannelType(){return null!=this.props.channel}componentDidMount(){let{sku:e,storeListing:t,isFetchingEntitlements:n,shouldFetchStatistics:i,didFetchEntitlements:l,location:r,fetchStoreListing:a}=this.props;if(null!=r.state){let{analyticsSource:e,analyticsProperties:t}=r.state;this._analyticsSource=e,this._extraAnalyticsProperties=t}else this._analyticsSource=el.SaU;(null==t||t.isSlimDirectoryVersion())&&a(),null!=e&&(n||l||(0,m.yD)(e.applicationId),i&&u.Z.wait(()=>(0,h.$)(e.applicationId))),this.trackViewed(),this.replaceUrlWithSlug()}componentDidUpdate(e){let{locale:t,sku:n,shouldFetchStatistics:i,skuId:l,storeListingId:r,slug:a,storeListing:s,fetchStoreListing:o}=this.props;if(s!==e.storeListing&&null!=s&&(0,F.s)(er.jE.STORE_LISTING,{skuId:l,slug:a}),(t!==e.locale||l!==e.skuId)&&o(),i&&!e.shouldFetchStatistics){if(null==n)throw Error("Unexpected missing sku");u.Z.wait(()=>(0,h.$)(n.applicationId))}(l!==e.skuId||r!==e.storeListingId)&&(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()}componentWillUnmount(){this.showCopyLinkTextTimeout.stop();let{analyticsContext:{loadId:e,loadDate:t}}=this.props;null!=t&&U.default.track(el.rMx.STORE_LISTING_EXITED,{load_id:e,duration_ms:Date.now()-t})}replaceUrlWithSlug(){}trackViewed(){let{sku:e,storeListing:t,hasFetchedNews:n,analyticsContext:i}=this.props;if(this._trackedViewed||null==e||null==t||null==t.description||!(this.isChannelType||n))return;let l=t.carouselItems.reduce((e,t)=>(null!=t.assetId?e.images++:e.videos++,e),{images:0,videos:0});U.default.track(el.rMx.STORE_LISTING_VIEWED,{...this._extraAnalyticsProperties,load_id:i.loadId,has_description:null!=t.description&&t.description.length>0,has_staff_review:null!=t.staffNotes,carousel_image_count:l.images,carousel_video_count:l.videos,location:i.location.page,source:this._analyticsSource,...(0,A.Z)(e,!0)}),this._trackedViewed=!0}renderHeader(e,t){let{channel:n,isAuthenticated:r}=this.props;return(0,i.jsx)(x.Z,{isAuthenticated:r,toolbar:this.renderHeaderToolbar(e,t),children:null!=n?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(x.Z.Icon,{icon:c.lO_,"aria-label":ea.intl.string(ea.t["P1/Erq"])}),(0,i.jsx)(x.Z.Title,{children:n.name})]}):null!=t&&t.premium?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(x.Z.Icon,{icon:c.SrA,"aria-label":ea.intl.string(ea.t.Ipxkoq)}),(0,i.jsx)($.Z,{sku:t})]}):null!=t?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(x.Z.Icon,{icon:c.lO_,"aria-label":ea.intl.string(ea.t["P1/Erq"])}),(0,i.jsx)(x.Z.Title,{children:t.name})]}):null})}parseMediaItems(e,t,n){let{assetId:i,youtubeVideoId:l}=t;if(null!=i){let t=n.find(e=>e.id===i);if(null!=t){let{width:n,height:i}=t;if(null==n||null==i)throw Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return t.mimeType.startsWith("video/")?{type:el.s9s.VIDEO,thumbnailSrc:(0,H._W)(e.id,t,1024,"webp"),src:(0,H._W)(e.id,t),height:i,width:n}:{type:el.s9s.IMG,src:(0,H._W)(e.id,t,1024),height:i,width:n}}}if(null!=l)return{type:el.s9s.YOUTUBE_VIDEO,youtubeVideoId:l};throw Error("Store carousel item must have one of assetId or youtubeVideoId")}renderHeaderAssets(e,t,n){let{theme:l}=this.props,r=t.headerBackground,a=(0,d.ap)(l)?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==r||null==a?(0,i.jsx)("div",{className:es.noHeaderSpacer}):(0,i.jsxs)("div",{className:es.headerAssets,children:[(0,i.jsx)("div",{className:es.headerBackground,style:{backgroundImage:"url(".concat((0,H._W)(e.id,r,1024,"png"),")")}}),(0,i.jsx)("img",{className:es.headerLogo,src:(0,H._W)(e.id,a,1024,"png"),alt:n.name})]})}renderWhyYouMightLikeThis(e,t){return(0,i.jsx)(J.Z,{sku:e,storeListing:t,className:es.whyYouMightLikeIt})}renderVerifiedGuildInvite(e,t){if(null==e.guild)return null;let{channel:n,pageSize:l}=this.props;return(0,i.jsx)(en.Z,{skuId:t.id,guild:e.guild,className:es.guildInvite,inChannel:null!=n,pageSize:l})}renderFeatures(e){return(0,i.jsx)(Y.Z,{sku:e})}renderSystemRequirements(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:(0,i.jsx)(ee.Z,{className:es.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})}renderDescription(e,t,n){let{description:r}=t;if(null==r)throw Error("Rendering ApplicationStoreListing without description");return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(N.Z,{tag:"h1",children:ea.intl.format(ea.t.tluX4O,{name:n.name})}),(0,i.jsx)(_.Z,{}),(0,i.jsx)(W.Z,{applicationId:e.id,blurb:t.summary,description:r,className:es.description,assets:t.assets})]})}renderApplicationContentRating(e){return(0,i.jsx)(z.Z,{sku:e,className:es.contentRating})}renderApplicationLegalInfo(e){return(0,i.jsx)(K.Z,{sku:e,className:es.legalInfo})}renderJsonLD(){let{sku:e,storeListing:t,application:n}=this.props;if(null==e||null==t||null==n)return null;let l=[],r=n.getSplashURL(1024);null!=r&&l.push(r),null!=t.headerLogoLightTheme&&l.unshift((0,H._W)(n.id,t.headerLogoLightTheme,1024,"jpg"));let a=T.Z.Product({name:e.name,description:null!=e.summary&&""!==e.summary?e.summary:t.tagline,image:T.Z.Product.Image(l),sku:e.id}),s=e.getPrice();if(null!=s){let{amount:e,currency:t}=s;a.offers=T.Z.Offer({priceCurrency:t.toUpperCase(),price:(0,V.T4)(e,t,{style:"decimal"})})}let o=T.Z.ItemPage({mainEntity:a});return(0,i.jsx)(T.Z,{data:o})}renderSmall(e,t,n){return(0,i.jsxs)("div",{className:a()(es.listing,es.listingSmall),children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]})}renderLarge(e,t,n){return(0,i.jsxs)("div",{className:es.listing,children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),(0,i.jsx)("div",{className:es.listingLarge,children:(0,i.jsxs)("div",{className:es.body,children:[(0,i.jsxs)("div",{className:es.leftColumn,children:[this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]}),(0,i.jsxs)("div",{className:es.rightColumn,children:[this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n)]})]})})]})}render(){let{application:e,sku:t,storeListing:n,matureAgree:r,isAuthenticated:a}=this.props;if(null==e||null==t||null==n||n.isSlimDirectoryVersion())return(0,i.jsxs)(l.Fragment,{children:[this.renderHeader(e,t),(0,i.jsx)(v.Z,{align:v.Z.Align.CENTER,justify:v.Z.Justify.CENTER,children:(0,i.jsx)(c.$jN,{className:es.spinner})})]});if(!r&&t.showAgeGate){let n=a?null:(0,i.jsx)("div",{className:es.gatedListing,children:this.renderListing()});return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(S.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),(0,i.jsx)(X.Z,{game:e}),n]})}return a?(0,i.jsxs)("div",{className:es.listingWrapper,children:[(0,i.jsx)(S.yY,{location:e.name}),this.renderJsonLD(),(0,i.jsx)(g.Z,{section:el.jXE.NAVIGATION,children:this.renderHeader(e,t)}),(0,i.jsx)(g.Z,{section:el.jXE.BODY,children:this.renderListing()})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(S.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),this.renderListing()]})}constructor(...e){super(...e),eo(this,"showCopyLinkTextTimeout",new o.V7),eo(this,"_trackedViewed",!1),eo(this,"_analyticsSource",null),eo(this,"_extraAnalyticsProperties",null),eo(this,"state",{showHeaderPurchaseUnit:!1,showLinkCopied:!1}),eo(this,"trackCarouselScroll",(e,t,n)=>{let{sku:i}=this.props;null!=i&&U.default.track(el.rMx.STORE_LISTING_MEDIA_SCROLLED,{...(0,A.Z)(i),card_index:n,card_type:e.type===el.s9s.IMG?"image":"video"})}),eo(this,"copyCurrentUrl",()=>{var e;let{location:t}=this.props;(0,G.JG)((e=t.pathname,"".concat(location.protocol,"//").concat(location.host).concat(e))),this.setState({showLinkCopied:!0},()=>{this.showCopyLinkTextTimeout.start(1500,()=>{this.setState({showLinkCopied:!1})})})}),eo(this,"handleCreateInstantInvite",()=>{let{channel:e,guild:t}=this.props;null!=e&&null!=t&&(0,c.ZDy)(async()=>{let{default:l}=await Promise.all([n.e("7654"),n.e("25586")]).then(n.bind(n,560114));return n=>(0,i.jsx)(l,{...n,guild:t,channel:e,source:el.t4x.GUILD_CHANNELS})})}),eo(this,"renderInviteLink",()=>{let{channel:e,guild:t}=this.props;return null!=e&&null!=t&&(O.Z.can(el.Plq.CREATE_INSTANT_INVITE,t)||null!=t.vanityURLCode)?(0,i.jsx)(c.zxk,{"aria-label":ea.intl.string(ea.t.zJrgTE),look:c.zxk.Looks.BLANK,size:c.zxk.Sizes.NONE,onClick:this.handleCreateInstantInvite,className:es.link,children:(0,i.jsx)(c.xPt,{size:"md",color:"currentColor",className:es.linkIcon})}):null}),eo(this,"renderCopyLink",()=>{let{showLinkCopied:e}=this.state;return this.isChannelType?this.renderInviteLink():(0,i.jsx)(c.ua7,{text:e?ea.intl.string(ea.t.uvTCOT):null,position:"left",forceOpen:e,children:t=>{let{onMouseEnter:n,onMouseLeave:l}=t;return(0,i.jsx)(c.zxk,{"aria-label":e?ea.intl.string(ea.t.uvTCOT):ea.intl.string(ea.t.WqhZsr),look:c.zxk.Looks.BLANK,size:c.zxk.Sizes.NONE,onClick:this.copyCurrentUrl,onMouseEnter:n,onMouseLeave:l,className:es.link,children:(0,i.jsx)(c.xPt,{size:"md",color:"currentColor",className:es.linkIcon})})}})}),eo(this,"renderHeaderToolbar",(e,t)=>{let{isInTestMode:n,slug:l,storeListing:r,analyticsContext:{location:s}}=this.props,{showHeaderPurchaseUnit:o}=this.state;return(0,i.jsxs)("div",{className:es.headerBarListing,children:[(0,i.jsx)("div",{className:es.headerSection,children:n&&null!=t?(0,i.jsx)(et.Z,{size:et.y.Sizes.MIN,dropdownSize:et.y.DropdownSizes.MEDIUM,look:et.y.Looks.OUTLINED,color:et.y.Colors.RED,skuId:t.id,className:es.testModeSelectButton,currentStoreListingId:null!=r?r.id:null,onStoreListingSelect:e=>{null!=t&&(0,p.yt)(t.id,{slug:l,analyticsSource:{page:s.page,section:el.jXE.NAVIGATION,object:null},storeListingId:e.id})}}):null}),(0,i.jsx)("div",{className:es.headerSection,children:(0,i.jsxs)("div",{className:a()(es.headerPurchase,{[es.active]:o}),children:[null!=t?(0,Z.Z)(t):null,null!=e&&null!=t?(0,i.jsx)("div",{children:"deprecated!"}):null,(0,i.jsx)(Q.Z,{messageStyle:Q.G.SHORT,className:es.purchaseError})]})}),this.renderCopyLink()]})}),eo(this,"renderCarousel",(e,t)=>{if(0===t.carouselItems.length)return null;let{pageSize:n,isFocused:l}=this.props;return(0,i.jsx)(g.Z,{section:el.jXE.HERO,children:(0,i.jsx)(q.Z,{pageSize:n,items:t.carouselItems.map(n=>this.parseMediaItems(e,n,t.assets)),autoplayInterval:8e3,paused:!l,onIntentionalChange:this.trackCarouselScroll})})}),eo(this,"renderListing",()=>{let{application:e,storeListing:t,sku:n,pageSize:l}=this.props;return null==e||null==n||null==t||t.isSlimDirectoryVersion()?(0,i.jsx)(v.Z,{align:v.Z.Align.CENTER,justify:v.Z.Justify.CENTER,children:(0,i.jsx)(c.$jN,{})}):l===ei.b.SMALL?this.renderSmall(e,t,n):this.renderLarge(e,t,n)})}}let ec=(0,f.Z)((0,E.Z)(s.ZP.connectStores([R.Z,L.Z,b.default,k.Z,w.Z,D.Z,M.Z,I.Z,C.Z,P.Z,y.Z,j.Z],e=>{let t,n,i,{inputSkuId:l,applicationId:r,storeListingId:a,isAuthenticated:s,channel:o}=e;if(null==r){if(null==l)throw Error("Needs applicationId or skuId");t=l,null!=(r=null!=(n=D.Z.get(l))?n.applicationId:null)&&(i=C.Z.getApplication(r))}else if(null==l){if(null==r)throw Error("Needs applicationId or skuId");null!=(i=C.Z.getApplication(r))&&(t=i.destinationSkuId),n=null!=t?D.Z.get(t):null}(null==n?void 0:n.flags)!=null&&(0,B.yE)(n.flags,el.l4R.STICKER_PACK)&&(n=null);let d=null!=r&&(M.Z.inTestModeForApplication(r)||I.Z.inDevModeForApplication(r));return{skuId:t,application:null!=r?C.Z.getApplication(r):null,isFetchingEntitlements:null!=r&&j.Z.applicationIdsFetching.has(r),didFetchEntitlements:null!=r&&j.Z.applicationIdsFetched.has(r),shouldFetchStatistics:s&&null!=r&&P.Z.shouldFetchStatisticsForApplication(r),sku:n,isFocused:k.Z.isFocused(),storeListing:w.Z.getStoreListing({storeListingId:a,skuId:t,channelId:null!=o?o.id:null,isTestMode:d}),isInTestMode:null!=r&&d,matureAgree:R.Z.didMatureAgree,theme:L.Z.theme,locale:b.default.locale,guild:null!=o?y.Z.getGuild(o.getGuildId()):null}})(ed)))},119520:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(200651),l=n(192379),r=n(558381),a=n(986035),s=n(388032),o=n(336086);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l.PureComponent{render(){let{game:{name:e}}=this.props;return(0,i.jsx)("div",{className:o.matureListing,children:(0,i.jsx)(a.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:s.intl.formatToPlainString(s.t.n5PGER,{name:e}),description:s.intl.string(s.t["bJx/aG"]),agreement:s.intl.string(s.t.odZq8f),disagreement:s.intl.string(s.t.hieTsL)})})}constructor(...e){super(...e),d(this,"handleDisagree",()=>{(0,r.M9)()}),d(this,"handleAgree",()=>{(0,r.cj)()})}}let u=c},450233:function(e,t,n){n.d(t,{G:()=>p,Z:()=>_});var i,l,r,a,s=n(200651),o=n(192379),d=n(442837),c=n(570140),u=n(16084),h=n(855775),m=n(388032),p=((i={}).SHORT="SHORT",i.LONG="LONG",i);class g extends(a=o.PureComponent){getText(e,t){if(429===e.status)switch(t){case"SHORT":return m.intl.string(m.t.T15lqq);case"LONG":return m.intl.string(m.t.XFShdH)}switch(t){case"SHORT":return m.intl.string(m.t["+XstBw"]);case"LONG":return m.intl.string(m.t.epyCur)}}componentWillUnmount(){null!=this.props.purchaseError&&c.Z.wait(()=>u.pB())}render(){let{className:e,purchaseError:t,messageStyle:n}=this.props;return null==t?null:(0,s.jsx)("div",{className:e,children:this.getText(t,n)})}}r={messageStyle:"LONG"},(l="defaultProps")in g?Object.defineProperty(g,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):g[l]=r;let _=d.ZP.connectStores([h.Z],()=>({purchaseError:h.Z.error}))(g)},601564:function(e,t,n){n.r(t),n.d(t,{default:()=>y,getPageSize:()=>b}),n(47120);var i=n(200651),l=n(192379),r=n(593473),a=n(512969),s=n(442837),o=n(930118),d=n(355467),c=n(410575),u=n(666743),h=n(112724),m=n(447269),p=n(612226),g=n(714338),_=n(663993),f=n(628123),E=n(703656),I=n(108427),C=n(911314),N=n(429899),v=n(843445),T=n(981631),S=n(388032),A=n(285085);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let x=(0,_.Un)({createPromise:()=>Promise.all([n.e("1868"),n.e("87626")]).then(n.bind(n,496691)),webpackId:496691});function b(e){return e<v.x?v.b.SMALL:v.b.LARGE}s.ZP.initialize();class L extends l.PureComponent{componentDidMount(){(0,o.Y)(this.props.location),this.stopListeningToHistory=(0,E.s1)().listen(e=>{e.pathname.startsWith(T.Z5c.APPLICATION_STORE)&&(0,o.Y)(e)}),this.props.isAuthenticated&&(0,d.tZ)(),g.Z.disable(),g.Z.setLayout(m.r),g.Z.enable(),(0,I.e)("application_store")}componentWillUnmount(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),g.Z.disable(),g.Z.setLayout(p.oT),g.Z.enable()}renderCustomErrorMessage(){return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:S.intl.string(S.t["1PZdFx"])}),(0,i.jsx)("p",{children:S.intl.string(S.t.CvQlAA)})]})}render(){let{isAuthenticated:e,location:t}=this.props,n=e?(0,i.jsx)("div",{className:A.applicationStore,children:this.renderContent()}):(0,i.jsx)(x,{className:A.applicationStore,location:t,render:this.renderContent});return(0,i.jsx)(f.Z,{renderCustomMessage:this.renderCustomErrorMessage,children:n})}constructor(...e){super(...e),Z(this,"stopListeningToHistory",void 0),Z(this,"renderStoreListing",e=>{let{match:{params:{skuId:t,applicationId:n,slug:l}},location:a}=e,{width:s}=this.props,o=(0,r.parse)(a.search);return(0,i.jsx)(c.Z,{page:T.ZY5.STORE_LISTING,root:!0,children:(0,i.jsx)(N.Z,{skuId:t,applicationId:n,slug:l,location:a,storeListingId:o.store_listing_id,pageSize:b(s)})})}),Z(this,"renderContent",()=>(0,i.jsxs)(a.rs,{children:[(0,i.jsx)(a.AW,{path:T.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,i.jsx)(c.Z,{page:T.ZY5.STORE_DIRECTORY_HOME,root:!0,children:(0,i.jsx)(C.Z,{})})}),(0,i.jsx)(a.AW,{path:T.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:this.renderStoreListing}),(0,i.jsx)(a.AW,{path:T.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:this.renderStoreListing}),(0,i.jsx)(a.AW,{path:T.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:this.renderStoreListing}),(0,i.jsx)(a.AW,{path:T.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId"),render:this.renderStoreListing}),(0,i.jsx)(a.l_,{to:T.Z5c.APP})]}))}}let y=(0,a.EN)((0,u.Z)((0,h.Z)(L)))},726581:function(e,t,n){n.d(t,{Z:()=>N});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(304106),d=n(649974),c=n(246946),u=n(594174),h=n(525395),m=n(55563),p=n(551428),g=n(73346),_=n(733789),f=n(4962),E=n(388032),I=n(906652);class C extends l.Component{renderReasons(e,t,n){return 0===e.length&&0===t.length?null:(0,i.jsx)("div",{className:I.section,children:(0,i.jsxs)("div",{className:I.sectionContent,children:[e.map(e=>(0,i.jsx)("div",{className:I.unit,children:(0,i.jsx)(_.Z,{reason:e,hidePersonalInformation:n})},e.type)),t.map(e=>(0,i.jsx)("div",{className:I.unit,children:(0,i.jsx)(o.Z,{reason:e})},e.type))]})})}getReviewToRender(){let{storeListing:e}=this.props;return null!=e.staffNotes?{type:f.Z.Types.STAFF_NOTES,staffNotes:e.staffNotes}:null}render(){let{socialReasons:e,nonSocialReasons:t,storeListing:n,hidePersonalInformation:l,className:r}=this.props;if(0===e.length&&0===t.length&&null==n.staffNotes)return null;let s=this.getReviewToRender();return(0,i.jsxs)("div",{className:a()(I.root,r),children:[(0,i.jsx)("div",{className:I.header,children:E.intl.string(E.t.qABFpa)}),this.renderReasons(e,t,l),null!=s?(0,i.jsx)(f.Z,{data:s,className:I.review}):null]})}}let N=s.ZP.connectStores([m.Z,u.default,p.Z,d.Z,h.Z,c.Z],e=>{let{sku:t}=e;return{socialReasons:(0,g.Gg)(t.id,m.Z,u.default,d.Z,h.Z),nonSocialReasons:(0,g.Ww)(t.id,m.Z,p.Z),hidePersonalInformation:c.Z.hidePersonalInformation}})(C)},74153:function(e,t,n){n.d(t,{Z:()=>f}),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(16084),o=n(730749),d=n(812206),c=n(984370),u=n(703656),h=n(55563),m=n(981631),p=n(633557);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends l.PureComponent{componentDidMount(){let{sku:e,primarySkuId:t,isFetchingPrimarySku:n}=this.props;null==t||n||null==e||(0,s.$N)(e.applicationId,t)}render(){let{sku:e,primarySku:t}=this.props,n=[],l=null;if(null!=e){let i=m.Z5c.APPLICATION_STORE_LISTING_SKU(e.id,e.slug);l=i,null!=t&&n.push({id:m.Z5c.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),label:t.name}),n.push({id:i,label:e.name})}return(0,i.jsx)(a.OoM,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:n,activeId:l})}constructor(...e){super(...e),g(this,"handleClick",e=>{let{sku:t}=this.props;(0,u.uL)(e.id,{state:{analyticsSource:{object:m.qAy.NAVIGATION_LINK,section:m.jXE.NAVIGATION,page:null==t?m.ZY5.STORE_DIRECTORY_BROWSE:m.ZY5.STORE_LISTING}}})}),g(this,"renderCustomBreadcrumb",(e,t)=>(0,i.jsx)(c.Z.Title,{className:t?null:p.breadcrumb,muted:!t,children:e.label}))}}let f=(0,o.Z)(r.ZP.connectStores([d.Z,h.Z],e=>{let{sku:t}=e,n=null!=t?d.Z.getApplication(t.applicationId):null,i=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{primarySkuId:i,isFetchingPrimarySku:null!=i&&h.Z.isFetching(i),primarySku:null!=i?h.Z.get(i):null}})(_))},429899:function(e,t,n){n.d(t,{Z:()=>o}),n(47120);var i=n(200651),l=n(192379),r=n(558381),a=n(613311);class s extends l.Component{componentDidMount(){this.fetchStoreListing()}render(){let{skuId:e,applicationId:t,slug:n,storeListingId:l,pageSize:r,location:s}=this.props;return(0,i.jsx)(a.Z,{inputSkuId:e,applicationId:t,fetchStoreListing:this.fetchStoreListing,slug:n,storeListingId:l,location:s,pageSize:r})}constructor(...e){var t,n;super(...e),t="fetchStoreListing",n=e=>{let{storeListingId:t,skuId:n,applicationId:i}=this.props,l=null!=e?e:n;return null!=t?(0,r.rV)(t):null!=l?(0,r.km)(l):null!=i?(0,r.Hq)(i):void 0},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let o=s},715702:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(663993).Un)({createPromise:()=>Promise.resolve().then(n.bind(n,601564)),webpackId:601564})},125930:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(770146),d=n(600164),c=n(424218),u=n(823379),h=n(358085),m=n(843445),p=n(981631),g=n(388032),_=n(2350);let f={[p.TaA.WINDOWS]:h.PlatformTypes.WINDOWS,[p.TaA.MACOS]:h.PlatformTypes.OSX,[p.TaA.LINUX]:h.PlatformTypes.LINUX};class E extends l.PureComponent{render(){let{active:e,children:t,pageSize:n,onClick:l}=this.props,r=n===m.b.LARGE;return(0,i.jsx)(s.zxk,{size:r?s.zxk.Sizes.MIN:s.zxk.Sizes.LARGE,fullWidth:!r,color:e?_.tabSelectedColor:_.tabNotSelectedColor,className:a()({[_.tabPageLarge]:r,[_.tabPageSmall]:!r,[_.tabSelected]:e,[_.tabNotSelected]:!e}),onClick:l,children:t})}}let I=e=>[{key:g.intl.string(g.t["0TcHzs"]),value:e.operating_system_version},{key:g.intl.string(g.t.eOX6Hh),value:e.cpu},{key:g.intl.string(g.t["+WJ5XV"]),value:null!=e.ram?g.intl.formatToPlainString(g.t.RNRSl5,{size:(0,c.BU)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:g.intl.string(g.t["+3s/V1"]),value:e.gpu},{key:g.intl.string(g.t["L+x5wM"]),value:null!=e.disk?(0,c.BU)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:g.intl.string(g.t["Ghp2/P"]),value:e.sound_card},{key:g.intl.string(g.t["+w6nJi"]),value:e.network},{key:g.intl.string(g.t.Au3Vbm),value:e.notes}];class C extends l.PureComponent{static getDerivedStateFromProps(e,t){let{systemRequirements:n}=e,{selectedOperatingSystem:i}=t,l=Object.keys(n);return l.includes(i)?null:{selectedOperatingSystem:l[0]}}renderTabs(){let{pageSize:e,systemRequirements:t}=this.props,{selectedOperatingSystem:n}=this.state,l=Object.keys(t);return 1===l.length?null:(0,i.jsxs)(d.Z,{className:_.tabs,children:[(0,i.jsx)("div",{className:_.separator}),l.map(t=>(0,i.jsx)(E,{active:t===n,onClick:()=>this.handleSelectOperatingSystem(t),pageSize:e,children:function(e){switch(e){case p.TaA.WINDOWS:return g.intl.string(g.t["0/xHFB"]);case p.TaA.MACOS:return g.intl.string(g.t.E4u4n5);case p.TaA.LINUX:return g.intl.string(g.t.tcawo6)}}(t)},t))]})}renderRequirementsSection(e,t){if(null==e)return null;let n=I(e).map((e,t)=>{let n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:(0,i.jsxs)("div",{className:_.requirement,children:[(0,i.jsxs)("span",{className:_.requirementKey,children:[e.key,":"]}),n]},t)}).filter(u.lm);return(0,i.jsxs)("div",{className:_.requirements,children:[(0,i.jsx)(o.Z,{tag:"h4",children:t}),n]})}renderBody(){let{minimum:e,recommended:t}=this.props.systemRequirements[this.state.selectedOperatingSystem];return(0,i.jsxs)("div",{className:_.requirementsContainer,children:[this.renderRequirementsSection(e,g.intl.string(g.t.QCCMXF)),this.renderRequirementsSection(t,g.intl.string(g.t.He39ws))]})}render(){return(0,i.jsxs)("div",{className:this.props.className,children:[(0,i.jsx)(o.Z,{children:g.intl.string(g.t.IkOAoq)}),this.renderTabs(),this.renderBody()]})}constructor(e){var t,n;super(e),t="handleSelectOperatingSystem",n=e=>{this.setState({selectedOperatingSystem:e})},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n;let i=(0,h.getPlatform)(),l=Object.keys(e.systemRequirements),r=l[0];for(let e of l)f[e]===i&&(r=e);this.state={selectedOperatingSystem:r}}}let N=C},178071:function(e,t,n){n.d(t,{Z:()=>p,y:()=>h}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(239091),o=n(585237),d=n(551428),c=n(388032);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h={DropdownSizes:o.Z.DropdownSizes,Sizes:o.Z.Sizes,Colors:o.Z.Colors,Looks:o.Z.Looks};class m extends l.PureComponent{render(){let{storeListings:e,primaryStoreListing:t,skuId:n,onStoreListingSelect:l,currentStoreListingId:r,...a}=this.props,s=null!=t?1:0;return(s+=e.length)<2?null:(0,i.jsx)(o.Z,{onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu,...a,children:c.intl.string(c.t.hElye3)})}constructor(...e){super(...e),u(this,"renderContextMenu",()=>{let{storeListings:e,onStoreListingSelect:t,currentStoreListingId:n,onMenuSelect:l}=this.props,r=e.map(e=>e.id!==n?(0,i.jsx)(a.sNh,{id:"".concat(e.id),label:e.id,action:()=>{s.Zy(),null==t||t(e)}}):null);return(0,i.jsx)(a.v2r,{onSelect:l,navId:"test-store-listing","aria-label":c.intl.string(c.t.ogxXGh),onClose:s.Zy,children:r})}),u(this,"handleContextMenu",e=>{e.stopPropagation(),s.vq(e,this.renderContextMenu)})}}let p=r.ZP.connectStores([d.Z],e=>{let{skuId:t}=e;return{storeListings:d.Z.getUnpublishedForSKU(t),primaryStoreListing:d.Z.getForSKU(t)}})(m)},176055:function(e,t,n){n.d(t,{Z:()=>x}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(593473),o=n(442837),d=n(481060),c=n(749210),u=n(558381),h=n(666743),m=n(770146),p=n(600164),g=n(565138),_=n(41776),f=n(703656),E=n(769654),I=n(601964),C=n(430824),N=n(843445),v=n(981631),T=n(388032),S=n(672666);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z extends l.PureComponent{renderMemberInfo(){let{approximateMemberCount:e,approximatePresenceCount:t}=this.props.guild;return null==e||null==t?null:(0,i.jsxs)(p.Z,{className:S.memberInfo,align:p.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:S.dotOnline}),(0,i.jsx)("span",{className:S.memberText,children:T.intl.format(T.t["LC+S+v"],{membersOnline:t})}),(0,i.jsx)("div",{className:S.dotOffline}),(0,i.jsx)("span",{className:S.memberText,children:T.intl.format(T.t.zRl6XV,{count:e})})]})}render(){let{guild:e,inChannel:t,isInGuild:n,isLurking:l,isAuthenticated:r,className:s,pageSize:o}=this.props;if(t&&n)return null;let c=new I.ZP(e),u=T.intl.string(T.t.pxwdrK),h=this.handleJoinOrView,_=d.zxk.Looks.FILLED,f=d.zxk.Colors.PRIMARY;return r?n?(_=d.zxk.Looks.OUTLINED,f=S.buttonColorInGuild,u=(0,i.jsxs)(p.Z,{align:p.Z.Align.CENTER,children:[(0,i.jsx)("div",{children:T.intl.string(T.t.cEnaW1)}),(0,i.jsx)(d.dz2,{size:"md",color:"currentColor",className:S.joinedCheckmark})]})):l&&t&&(u=T.intl.string(T.t.XpeFYm)):(u=T.intl.string(T.t.dKhVQE),h=this.handleLogin),(0,i.jsxs)("div",{className:a()(s,o===N.b.SMALL?S.inviteSmall:S.inviteLarge),children:[(0,i.jsx)(m.Z,{children:T.intl.string(T.t.s1KcLi)}),(0,i.jsxs)("div",{className:S.content,children:[(0,i.jsxs)("div",{className:S.info,children:[(0,i.jsx)(g.Z,{guild:c,active:!0,size:g.Z.Sizes.LARGE,className:S.guildIcon}),(0,i.jsxs)("div",{className:S.infoText,children:[(0,i.jsx)("div",{className:S.name,children:e.name}),this.renderMemberInfo()]})]}),(0,i.jsx)(d.zxk,{size:d.zxk.Sizes.SMALL,className:S.actionButton,fullWidth:!0,color:f,look:_,onClick:h,children:u})]})]})}constructor(...e){super(...e),A(this,"handleJoinOrView",async()=>{let{guild:e,skuId:t,isInGuild:n,isLurking:i}=this.props,l=()=>(0,E.X)(e.id);if(i)(0,u.Oj)(t).then(l);else if(n)l();else try{await c.Z.joinGuild(e.id,{lurker:!0,source:v.vtS.APPLICATION_STORE}),l()}catch{}}),A(this,"handleLogin",()=>{let e={redirect_to:v.Z5c.APPLICATION_STORE_LISTING_SKU(this.props.skuId)};(0,f.uL)(v.Z5c.LOGIN,{search:(0,s.stringify)(e)})})}}let x=(0,h.Z)(o.ZP.connectStores([C.Z,_.Z],e=>{let{guild:t}=e,n=_.Z.isLurking(t.id);return{isInGuild:null!=C.Z.getGuild(t.id)&&!n,isLurking:n}})(Z))},476669:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),l=n(192379),r=n(481060),a=n(239091),s=n(129861),o=n(600164),d=n(368667);class c extends l.PureComponent{handleContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("4616")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})}renderUser(e){return null==e?null:(0,i.jsxs)(o.Z,{className:d.user,align:o.Z.Align.CENTER,onContextMenu:t=>{null!=e&&this.handleContextMenu(t,e)},children:[(0,i.jsx)(r.qEK,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:r.EFr.SIZE_24,className:d.avatar}),(0,i.jsx)(s.Z,{user:e,className:d.tag,usernameClass:d.username,discriminatorClass:d.discriminator})]},e.id)}render(){let{party:e,header:t}=this.props,n=e.map(e=>this.renderUser(e));return(0,i.jsxs)("div",{className:d.userList,children:[(0,i.jsx)("div",{className:d.header,children:t}),(0,i.jsx)(r.zJl,{className:d.content,fade:!0,children:n})]})}}let u=c},512847:function(e,t,n){n.d(t,{Z:()=>w});var i=n(200651),l=n(192379),r=n(442837),a=n(317381),s=n(16609),o=n(258609),d=n(569545),c=n(460181),u=n(590415),h=n(131704),m=n(199902),p=n(314897),g=n(592125),_=n(430824),f=n(131951),E=n(292959),I=n(19780),C=n(944486),N=n(606304),v=n(979651),T=n(938475),S=n(823379),A=n(981631);function Z(e,t,n,i){l.useEffect(()=>{let l=t(),a=new r.Fh(e,()=>{let e=t(),r=n(l,e);null==r||E.Z.isSoundDisabled(r)||(0,c.GN)(r,null!=i?i:.4),l=e});return a.attach("useSound"),()=>a.detach()})}function x(){return Z([f.Z,C.Z],()=>({inVoiceChannel:null!=C.Z.getVoiceChannelId(),selfMute:f.Z.isSelfMute(),selfDeaf:f.Z.isSelfDeaf(),audioPermissionReady:f.Z.isNativeAudioPermissionReady(),shouldSkipMuteUnmuteSound:f.Z.shouldSkipMuteUnmuteSound()}),(e,t)=>{let{inVoiceChannel:n,selfMute:i,selfDeaf:l,audioPermissionReady:r,shouldSkipMuteUnmuteSound:a}=t;if(e.selfDeaf!==l)return l?"deafen":"undeafen";if(r&&(n||e.audioPermissionReady)&&e.selfMute!==i){if(a){f.Z.notifyMuteUnmuteSoundWasSkipped();return}return i?"mute":"unmute"}}),null}function b(){return Z([g.Z,I.Z,C.Z,o.Z],()=>{let e=g.Z.getChannel(C.Z.getVoiceChannelId()),t=null==e?void 0:e.type,n=null==e?void 0:e.getGuildId(),i=I.Z.getWasEverRtcConnected(),l=I.Z.getState();return{channelType:t,guildId:n,connected:l===A.hes.RTC_CONNECTED,connectHasStarted:!i&&l!==A.hes.DISCONNECTED||l===A.hes.RTC_CONNECTED,awaitingRemote:null!=o.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=o.Z.getRemoteSessionId()}},(e,t)=>{let{channelType:n,connected:i,connectHasStarted:l,awaitingRemote:r,connectedRemote:a}=t,s=e.channelType,o=e.connectedRemote,d=e.connected;if(!e.connectHasStarted&&l||a&&!o){if(null!=n&&h.Lr.has(n))return;return"user_join"}if(d&&!i){if(r||a||null!=s&&h.Lr.has(s))return;return"disconnect"}}),null}function L(){return Z([N.Z],()=>N.Z.isCurrentUserSpeaking(),(e,t)=>{if(e!==t){let e=f.Z.isSelfMute();if(f.Z.getMode()===A.pM4.PUSH_TO_TALK&&!e)return t?"ptt_start":"ptt_stop"}}),null}function y(){return Z([f.Z],()=>f.Z.getActiveVoiceFilter(),(e,t)=>{if(e!==t)return null!=t?null!=e?"voice_filter_swap":"voice_filter_on":"voice_filter_off"}),null}function O(){return Z([f.Z],()=>f.Z.isSelfMutedTemporarily(),(e,t)=>{if(e!==t){let e=f.Z.isSelfMute();if(f.Z.getMode()===A.pM4.VOICE_ACTIVITY&&!e)return t?"ptt_stop":"ptt_start"}}),null}function P(){return Z([v.Z],()=>v.Z.userHasBeenMovedVersion,(e,t)=>{if(e!==t)return"user_moved"}),null}function R(){return Z([C.Z,v.Z],()=>{let e=C.Z.getVoiceChannelId();if(null==e)return u.xO.NONE;let t=v.Z.getVoiceStateForChannel(e);return(0,u.gf)(t)},(e,t)=>{if(e!==t&&t===u.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}),null}function j(){return Z([C.Z,m.Z,p.default,v.Z,g.Z],()=>{let e,t;let n=C.Z.getVoiceChannelId(),i=p.default.getId(),l=[],r=null,a=0,s=m.Z.getAllActiveStreams();if(null!=n){let i=g.Z.getChannel(n);null!=i&&(e=i.type,t=T.ZP.countVoiceStatesForChannel(i.id)-(v.Z.isInChannel(i.id)?1:0),l=m.Z.getAllApplicationStreamsForChannel(i.id).map(e=>e.ownerId))}let o=null;return(null==(o=1===s.length?s[0]:m.Z.getCurrentUserActiveStream())?void 0:o.state)===A.jm8.CONNECTING&&(o=null),null!=o&&(r=(0,d.V9)(o),a=m.Z.getViewerIds(r).filter(e=>e!==i).length),{channelType:e,voiceChannelId:n,voiceChannelUserCount:t,streamingUserIds:l,singleActiveStreamKey:r,singleActiveStreamViewerCount:a,currentUserId:i,allActiveStreams:s}},(e,t)=>{let{channelType:n,voiceChannelId:i,voiceChannelUserCount:l,streamingUserIds:r,singleActiveStreamKey:a,singleActiveStreamViewerCount:s,currentUserId:o}=t;if(e.voiceChannelId!==i||null==i||function(e){let t=g.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let i=_.Z.getGuild(n);return null!=i&&i.afkChannelId===t.id}(i)||null!=n&&h.Lr.has(n))return;let d=null!=a&&e.singleActiveStreamKey===a,c=r.some(t=>!e.streamingUserIds.includes(t)),u=e.allActiveStreams.map(e=>e.ownerId),m=e.streamingUserIds.some(e=>!r.includes(e)&&(e===o||u.includes(e)));if(c)return"stream_started";if(m)return"stream_ended";if(e.singleActiveStreamViewerCount<=25&&d&&s>e.singleActiveStreamViewerCount)return"stream_user_joined";if(null!=e.voiceChannelUserCount&&null!=l&&e.voiceChannelUserCount<=25&&l>e.voiceChannelUserCount)return"user_join";if(null!=e.voiceChannelUserCount&&null!=l&&e.voiceChannelUserCount<=25&&l<e.voiceChannelUserCount)return"user_leave";else if(e.singleActiveStreamViewerCount<=25&&d&&s<e.singleActiveStreamViewerCount)return"stream_user_left"}),null}function D(){return Z([C.Z,a.ZP,p.default],()=>{let e=C.Z.getVoiceChannelId(),t=C.Z.getChannelId(),n=a.ZP.getConnectedActivityLocation(),i=(0,s.pY)(n),l=p.default.getId(),r=(0,S.lm)(t)?a.ZP.getEmbeddedActivitiesForChannel(t):a.i6,o=(0,S.lm)(e)?a.ZP.getEmbeddedActivitiesForChannel(e):a.i6,d=(0,S.lm)(i)?a.ZP.getEmbeddedActivitiesForChannel(i):a.i6,c=(0,S.lm)(n)?a.ZP.getSelfEmbeddedActivityForLocation(n):null;return{connectedActivityLocation:n,voiceChannelId:e,currentUserId:l,channelActivities:r,connectedChannelActivities:d,userConnectedActivity:c,voiceChannelActivities:o}},(e,t)=>{let n,{connectedActivityLocation:i,voiceChannelId:l,currentUserId:r,channelActivities:a,connectedChannelActivities:s,userConnectedActivity:o,voiceChannelActivities:d}=t,c=d.some(e=>e.applicationId===(null==o?void 0:o.applicationId)&&e.launchId===o.launchId);if((0,S.lm)(l)){let t=e.voiceChannelActivities.find(e=>e.userIds.has(r)),i=d.find(e=>e.userIds.has(r));e.voiceChannelActivities.length<d.length&&(0,S.lm)(e.voiceChannelId)&&(n="activity_launch"),void 0===i&&(0,S.lm)(t)&&(n="activity_end"),void 0===t&&(0,S.lm)(i)&&i.userIds.size>1&&(n="activity_user_join"),(0,S.lm)(i)&&(0,S.lm)(t)&&(i.userIds.size>t.userIds.size&&(n="activity_user_join"),i.userIds.size<t.userIds.size&&(n="activity_user_left"))}if(!c){e.connectedChannelActivities.length<s.length&&e.channelActivities.length<a.length&&(n="activity_launch");let t=e.userConnectedActivity;null==o&&(0,S.lm)(t)&&(n="activity_end"),(0,S.lm)(o)&&(0,S.lm)(t)&&(o.userIds.size>t.userIds.size&&(n="activity_user_join"),o.userIds.size<t.userIds.size&&(n="activity_user_left"))}return null==n&&(null!=e.connectedActivityLocation||null!=i)&&(null==e.connectedActivityLocation&&null!=i?n="activity_launch":null!=e.connectedActivityLocation&&null==i?n="activity_end":null!=o&&null!=e.userConnectedActivity&&(e.userConnectedActivity.userIds.size<o.userIds.size?n="activity_user_join":e.userConnectedActivity.userIds.size>o.userIds.size&&(n="activity_user_leave"))),n}),null}function w(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x,{}),(0,i.jsx)(b,{}),(0,i.jsx)(L,{}),(0,i.jsx)(O,{}),(0,i.jsx)(P,{}),(0,i.jsx)(j,{}),(0,i.jsx)(R,{}),(0,i.jsx)(D,{}),(0,i.jsx)(y,{})]})}},666743:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var i=n(200651),l=n(192379),r=n(314897);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return class extends l.Component{componentDidMount(){r.default.addChangeListener(this.onStoreChange)}componentWillUnmount(){r.default.removeChangeListener(this.onStoreChange)}render(){return(0,i.jsx)(e,{...this.props,isAuthenticated:this.state.isAuthenticated})}constructor(...e){super(...e),a(this,"state",{isAuthenticated:r.default.isAuthenticated()}),a(this,"onStoreChange",()=>{this.setState({isAuthenticated:r.default.isAuthenticated()})})}}}},400354:function(e,t,n){n.d(t,{l:()=>s});var i=n(200651),l=n(192379),r=n(709014);let a={deafen:{name:"deafen",start:0,duration:70},undeafen:{name:"undeafen",start:110,duration:70},hover_undeafened:{name:"hover_undeafened",start:200,duration:70},hover_deafened:{name:"hover_deafened",start:300,duration:70}},s=e=>{let t=l.useRef(null),s=l.useRef(e);s.current=e;let o=l.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),d=l.useCallback(()=>{if(null==t.current)return;let n="deafen"===e?"hover_undeafened":"hover_deafened";t.current.play(n)},[e]);return{events:{onClick:o,onMouseEnter:d,onMouseLeave:l.useCallback(()=>{if(null==t.current)return;let n="deafen"===e?"hover_undeafened":"hover_deafened";t.current.stopIfPlaying(n)},[e])},play:o,Component:l.useCallback(e=>(0,i.jsx)(r.L,{...e,src:()=>n.e("68449").then(n.t.bind(n,406785,19)),ref:t,initialAnimation:s.current,markers:a}),[])}}},789639:function(e,t,n){n.d(t,{i:()=>s});var i=n(200651),l=n(192379),r=n(709014);let a={all:{name:"all",start:0,duration:66}},s=()=>{let e=l.useRef(null),t=l.useCallback(()=>{null!=e.current&&e.current.play("all")},[]),s=l.useCallback(()=>{null!=e.current&&e.current.play("all")},[]);return{events:{onMouseEnter:s,onMouseLeave:l.useCallback(()=>{null!=e.current&&e.current.stopIfPlaying("all")},[])},play:t,Component:l.useCallback(t=>(0,i.jsx)(r.L,{...t,src:()=>n.e("2199").then(n.t.bind(n,71307,19)),ref:e,markers:a}),[])}}},382600:function(e,t,n){n.d(t,{P:()=>s});var i=n(200651),l=n(192379),r=n(709014);let a={disable:{name:"disable",start:0,duration:70},enable:{name:"enable",start:100,duration:70},hover_enabled:{name:"hover_enabled",start:200,duration:70},hover_disabled:{name:"hover_disabled",start:300,duration:70}},s=e=>{let t=l.useRef(null),s=l.useRef(e);s.current=e;let o=l.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),d=l.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.play(n)},[e]);return{events:{onClick:o,onMouseEnter:d,onMouseLeave:l.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.stopIfPlaying(n)},[e])},play:o,Component:l.useCallback(e=>(0,i.jsx)(r.L,{...e,src:()=>n.e("7584").then(n.t.bind(n,883488,19)),ref:t,initialAnimation:s.current,markers:a}),[])}}},785697:function(e,t,n){n.d(t,{D2:()=>o,SE:()=>d});var i=n(442837),l=n(818083),r=n(496675),a=n(981631);let s=(0,l.B)({kind:"guild",id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function o(e){return s.useExperiment({guildId:e,location:"dd4beb_1"},{autoTrackExposure:!0})}function d(e){var t;let n=(0,i.e7)([r.Z],()=>r.Z.can(a.Plq.MANAGE_GUILD,e)),{enabled:l}=s.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:a.lds,location:"dd4beb_3"},{autoTrackExposure:!0});if(null==e)return!1;let o=e.hasFeature(a.oNc.COMMUNITY);return n&&o&&l}},711237:function(e,t,n){n.d(t,{J_:()=>s,R6:()=>r});var i=n(818083),l=n(987338);let r=(0,i.B)({kind:"user",id:l.fL,label:"Trigger Debugging User AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),a=(0,i.B)({kind:"guild",id:l.nz,label:"Trigger Debugging Guild AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),s=e=>{let t="guild trigger debug",n="user trigger debug";a.useExperiment({location:t,guildId:e},{autoTrackExposure:!1}),a.trackExposure({location:t,guildId:e}),r.useExperiment({location:n},{autoTrackExposure:!1}),r.trackExposure({location:n})}},532835:function(e,t,n){n.d(t,{t:()=>l});let i=(0,n(818083).B)({kind:"user",id:"2023-04_null_experiment",label:"Null Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]});function l(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.useExperiment({location:"a9e81b_1"},{autoTrackExposure:e})}},941129:function(e,t,n){n.d(t,{S:()=>l,u:()=>r});let i=(0,n(818083).B)({kind:"user",id:"2023-01_consumer_education_launch",label:"Safety Consumer Education Launch - Block/Mute",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});function l(){return i.useExperiment({location:"b85a21_1"},{autoTrackExposure:!0}).enabled}function r(){return i.useExperiment({location:"b85a21_2"},{autoTrackExposure:!1}).bucket}},183126:function(e,t,n){n.d(t,{N:()=>l});let i=(0,n(818083).B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function l(){return i.useExperiment({location:"c10bec_1"},{autoTrackExposure:!0}).enabled}},447269:function(e,t,n){n.d(t,{r:()=>a});var i=n(817718),l=n(612226),r=n(981631);let a={...l.oT,[r.EkH.CAROUSEL_NEXT]:i.lI,[r.EkH.CAROUSEL_PREV]:i.hd}},611577:function(e,t,n){n.d(t,{z:()=>r});var i=n(481060),l=n(531826);function r(e){let{application:t,channelId:n}=e;return null!=(0,l.ZP)({application:t,channelId:n})?i.u1M:i.z1l}},840074:function(e,t,n){n.d(t,{_:()=>s});var i=n(200651);n(192379);var l=n(481060),r=n(812206),a=n(531826);function s(e){let{applicationId:t,channelId:s,launchParams:o,message:d,onShare:c}=e,u=r.Z.getApplication(t),h=null!=(0,a.ZP)({application:u,channelId:s})?l.u1M:l.z1l;(0,l.ZDy)(async()=>{let{default:e}=await n.e("83098").then(n.bind(n,137021));return n=>(0,i.jsx)(e,{applicationId:t,channelId:s,launchParams:o,message:d,onShare:c,...n})},{modalKey:"activity-share-moment-modal",contextKey:h,onCloseCallback:()=>{c(!1)}})}},173439:function(e,t,n){n.d(t,{Cj:()=>p,M$:()=>m,Zw:()=>h}),n(789020);var i=n(570140),l=n(728345),r=n(812206),a=n(973616),s=n(314897),o=n(630388),d=n(774226),c=n(317381),u=n(981631);async function h(e){var t,n;let{applicationId:h,socketId:g}=e,_=c.ZP.getCurrentEmbeddedActivity();if((null==_?void 0:_.applicationId)!==h)return;let f=_.compositeInstanceId,E=null!==(t=r.Z.getApplication(h))&&void 0!==t?t:a.ZP.createFromServer(await l.ZP.fetchApplication(h));if(!(0,d.Kb)(E)||null==f||null==E||!(0,o.yE)(E.flags,u.udG.EMBEDDED))return;let I={type:0,session_id:null!==(n=s.default.getSessionId())&&void 0!==n?n:void 0,name:E.name,application_id:h,secrets:{join:f},party:{size:m},flags:p};i.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:g,activity:I})}let m=[1,100],p=u.xjy.JOIN|u.xjy.PARTY_PRIVACY_FRIENDS|u.xjy.PARTY_PRIVACY_VOICE_CHANNEL|u.xjy.EMBEDDED|u.xjy.CONTEXTLESS},596223:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}},258220:function(e,t,n){n.d(t,{default:()=>g,r:()=>p}),n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(153867),s=n(835473),o=n(600164),d=n(626135),c=n(998502),u=n(981631),h=n(388032),m=n(251627);let p="Activity Encourages Hardware Acceleration";function g(e){var t;let{applicationId:n,...g}=e,[_,f]=l.useState(!1),[E]=(0,s.Z)([n]),I=null!==(t=null==E?void 0:E.name)&&void 0!==t?t:"This Activity";l.useEffect(()=>{d.default.track(u.rMx.OPEN_MODAL,{type:p})},[]);let C=()=>{let e="temporary";_&&(e="permanent",a.ZP.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})),d.default.track(u.rMx.MODAL_DISMISSED,{type:p,dismiss_type:e}),g.onClose()};return(0,i.jsxs)(r.Y0X,{className:m.root,"aria-label":h.intl.string(h.t.NQkK4u),...g,children:[(0,i.jsxs)(r.xBx,{separator:!1,children:[(0,i.jsx)(r.Text,{className:m.__invalid_header,variant:"text-lg/normal",children:h.intl.string(h.t.NQkK4u)}),(0,i.jsx)(r.olH,{onClick:C,className:m.closeButton})]}),(0,i.jsx)(r.hzk,{className:m.content,children:(0,i.jsx)(r.Text,{variant:"text-md/normal",className:m.__invalid_ratingBody,children:h.intl.format(h.t.B9eiaG,{applicationName:I})})}),(0,i.jsxs)(r.mzw,{className:m.footer,direction:o.Z.Direction.HORIZONTAL,children:[(0,i.jsx)(r.XZJ,{type:r.XZJ.Types.INVERTED,size:18,value:_,onChange:()=>f(!_),children:(0,i.jsx)(r.Text,{variant:"text-sm/normal",children:h.intl.string(h.t["5E9SBw"])})}),(0,i.jsx)(r.zxk,{color:r.zxk.Colors.PRIMARY,onClick:C,children:h.intl.string(h.t["Ibf5/v"])}),(0,i.jsx)(r.zxk,{color:r.zxk.Colors.BRAND,onClick:()=>{d.default.track(u.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n}),c.ZP.setEnableHardwareAcceleration(!0)},children:h.intl.string(h.t["/wlDqq"])})]})]})}},289341:function(e,t,n){n.d(t,{Z:()=>p}),n(47120),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648);var i=n(192379),l=n(442837),r=n(668781),a=n(493683),s=n(100527),o=n(906732),d=n(835473),c=n(703656),u=n(594174),h=n(122613),m=n(388032);function p(e){var t,n;let{match:p}=e,g=null!==(n=(0,c.DR)())&&void 0!==n?n:[],{analyticsLocations:_}=(0,o.ZP)([...g,s.Z.ACTIVITY_DETAIL_PAGE]),{applicationId:f}=p.params,[E]=(0,d.Z)([f]),I=null==E?void 0:null===(t=E.bot)||void 0===t?void 0:t.id,C=(0,l.e7)([u.default],()=>u.default.getCurrentUser());return i.useEffect(()=>{null!=I&&null!=C&&(async()=>{try{var e,t;let n=new URL(location.href),i=null!==(e=n.searchParams.get("custom_id"))&&void 0!==e?e:void 0,l=null!==(t=n.searchParams.get("referrer_id"))&&void 0!==t?t:void 0,r=await a.Z.openPrivateChannel(I);await (0,h.Z)({targetApplicationId:f,channelId:r,analyticsLocations:_,customId:i,referrerId:l})}catch(e){}})()},[_,f,I,C]),i.useEffect(()=>{let e=setTimeout(()=>{null==I&&r.Z.show({title:m.intl.string(m.t.PtobXV),body:m.intl.string(m.t["IOy+Iy"])})},5e3);return()=>{clearTimeout(e)}},[I]),null}},230487:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(481060),r=n(740492),a=n(626135),s=n(358085),o=n(998502),d=n(258220),c=n(981631);let u="activity-hardware-acceleration-modal";function h(e){r.ZP.disableActivityHardwareAccelerationPrompt||!s.isPlatformEmbedded||o.ZP.getEnableHardwareAcceleration()||(0,l.ZDy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,258220));return n=>(0,i.jsx)(t,{applicationId:e,...n})},{modalKey:u,onCloseRequest:()=>{a.default.track(c.rMx.MODAL_DISMISSED,{type:d.r}),(0,l.Mr3)(u)}})}},838195:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var l=n(481060),r=n(812206),a=n(531826);function s(e){let{applicationId:t,channelId:s,mediaUrl:o}=e,d=r.Z.getApplication(t),c=null!=(0,a.ZP)({application:d,channelId:s})?l.u1M:l.z1l;(0,l.ZDy)(async()=>{let{default:e}=await n.e("4530").then(n.bind(n,899201));return n=>(0,i.jsx)(e,{applicationId:t,channelId:s,mediaUrl:o,...n})},{modalKey:"activity-share-moment-modal",contextKey:c})}},687751:function(e,t,n){n.d(t,{Z:()=>E});var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(317770),s=n(592125),o=n(944486),d=n(914010),c=n(594174),u=n(758119),h=n(920644),m=n(208381),p=n(723359),g=n(981631);function _(e,t){var n;if(null==e)return;let i=c.default.getCurrentUser();(null===(n=s.Z.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=i&&null==i.nsfwAllowed&&(0,u.mN)(p.L0.NSFW_CHANNEL)}class f extends a.Z{_initialize(){r.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),r.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect),r.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),r.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),r.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),r.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}_terminate(){r.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),r.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect),r.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),r.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),r.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),r.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}handleChannelSelect(e){let{guildId:t,channelId:n}=e;_(t,n)}handleConnectionOpen(){_(d.Z.getGuildId(),o.Z.getChannelId())}handleAgeGateModalOpen(e){let{source:t}=e;(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("63288"),n.e("1337"),n.e("73306")]).then(n.bind(n,746882));return n=>(0,i.jsx)(e,{source:t,...n})},{modalKey:p.dG,onCloseRequest:g.dG4})}handleAgeGateSuccess(){(0,l.oav)(p.dG,e=>(0,i.jsx)(m.Z,{...e}))}handleAgeGateFailure(e){let{underageMessage:t}=e;(0,l.oav)(p.dG,e=>(0,i.jsx)(h.Z,{underageMessage:t,...e}))}handleAgeGateModalClose(){(0,l.Mr3)(p.dG)}}let E=new f},920644:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var l=n(990547),r=n(481060),a=n(313201),s=n(703656),o=n(63063),d=n(758119),c=n(981631),u=n(388032),h=n(682042);function m(){(0,d.qV)(),(0,s.uL)(c.Z5c.LOGIN)}function p(e){let{underageMessage:t,transitionState:s}=e,d=(0,a.Dt)();return(0,i.jsxs)(r.Y0X,{transitionState:s,size:r.CgR.SMALL,"aria-labelledby":d,impression:{impressionName:l.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},children:[(0,i.jsx)(r.hzk,{children:(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)("img",{alt:"",src:n(231443),className:h.img}),(0,i.jsx)(r.X6q,{variant:"heading-xl/semibold",className:h.title,id:d,children:u.intl.string(u.t["NR/zrK"])}),(0,i.jsx)(r.Text,{color:"header-secondary",className:h.subtitle,variant:"text-sm/normal",children:u.intl.format(u.t.b0QzXV,{underageMessage:null!=t?t:u.intl.string(u.t.WqEH4O),helpURL:o.Z.getArticleURL(c.BhN.AGE_GATE)})}),(0,i.jsx)(r.Text,{color:"header-secondary",className:h.subtitle,variant:"text-sm/normal",children:u.intl.format(u.t["3axQdH"],{days:30})})]})}),(0,i.jsx)(r.mzw,{children:(0,i.jsx)(r.zxk,{size:r.PhG.SMALL,fullWidth:!0,onClick:m,children:u.intl.string(u.t.szzQ6O)})})]})}},208381:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(990547),r=n(481060),a=n(313201),s=n(758119),o=n(388032),d=n(283026);function c(e){let{transitionState:t}=e,c=(0,a.Dt)();return(0,i.jsxs)(r.Y0X,{transitionState:t,size:r.CgR.SMALL,"aria-labelledby":c,impression:{impressionName:l.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},children:[(0,i.jsx)(r.hzk,{children:(0,i.jsxs)("div",{className:d.container,children:[(0,i.jsx)("img",{alt:"",src:n(863181),className:d.img}),(0,i.jsx)(r.X6q,{variant:"heading-xl/semibold",className:d.title,id:c,children:o.intl.string(o.t.gUiIGR)}),(0,i.jsx)(r.Text,{color:"header-secondary",className:d.subtitle,variant:"text-sm/normal",children:o.intl.string(o.t.susqq6)})]})}),(0,i.jsx)(r.mzw,{children:(0,i.jsx)(r.zxk,{size:r.PhG.SMALL,fullWidth:!0,onClick:function(){(0,s.qV)()},autoFocus:!0,children:o.intl.string(o.t.cpT0Cg)})})]})}},912471:function(e,t,n){n.d(t,{D:()=>Z}),n(411104);var i=n(903772),l=n(433517),r=n(570140),a=n(188471),s=n(581567),o=n(594190),d=n(19780),c=n(626135),u=n(70956),h=n(848479),m=n(960048),p=n(844889),g=n(981631);let _="LATEST_HEARTBEAST_EVENT_TIMESTAMP",f=null,E=null,I=!1;async function C(){if(I)return;I=!0,(0,p.fr)(!0),m.Z.addBreadcrumb({message:"Start Analytics Heartbeat"});let e=await l.K.getAfterRefresh(_).then(p.Hg);if(!I)return;let t=Date.now(),n=15*u.Z.Millis.MINUTE+e-t;n>u.Z.Millis.HOUR&&m.Z.addBreadcrumb({message:"Received invalid Date.now() when generating a heartbeat. Date.now() = ".concat(t,", timeUntilNextHeartbeat = ").concat(n,", latestHeartbeatEventTimestamp = ").concat(e)}),e>t&&(n=0),m.Z.addBreadcrumb({message:"Received Last Heartbeat Event Timestamp. Time Until Next Heartbeat: ".concat(n/1e3," seconds. Scheduling Heartbeat")}),N(),E=setTimeout(()=>{v(),f=setInterval(()=>{v()},15*u.Z.Millis.MINUTE)},Math.max(n,0))}function N(){null!=E&&(clearTimeout(E),E=null),null!=f&&(clearInterval(f),f=null)}async function v(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Date.now(),n=await (0,p.Gg)(),r=Date.now();if(null==n){m.Z.captureException(Error("Null session when tracking session heartbeat. Waited ".concat(r-t,"ms")));return}if(!I&&!e){m.Z.captureException(Error("Heartbeat scheduler not started when tracking session heartbeat.")),N();return}m.Z.addBreadcrumb({message:"Tracking Heartbeat",data:{initialized:n.initialized}});let d={client_heartbeat_initialization_timestamp:n.initialized,client_heartbeat_version:17},u=h.Z.getMemoryUsageElectronRenderer();null!=u&&(d.client_heartbeat_renderer_memory=u);let f=h.Z.getMemoryUsageElectronRendererUsedHeapSize();null!=f&&(d.client_heartbeat_renderer_memory_used_heap=f);{let e=o.ZP.getCurrentGameForAnalytics();null!=e&&(d.client_heartbeat_current_game_id=e.id,d.client_heartbeat_current_game_name=e.name,d.client_heartbeat_current_game_executable=(0,s.N6)(e.exePath),d.client_heartbeat_current_game_distributor=e.distributor,d.uses_client_mods=(0,i.e)())}c.default.track(g.rMx.CLIENT_HEARTBEAT,d),l.K.set(_,Date.now().toString()),(0,a.Z)()}let T=null,S=!0;function A(){if(S||null!=T&&T!==g.hes.DISCONNECTED&&T!==g.hes.RTC_DISCONNECTED)try{C()}catch(e){m.Z.captureException(e)}else!I||(I=!1,m.Z.addBreadcrumb({message:"Stopping Analytics Heartbeat"}),(0,p.fr)(!1),N(),(0,a.Z)())}function Z(){m.Z.addBreadcrumb({message:"Initializing SessionHeartbeatScheduler"}),d.Z.addChangeListener(b),r.Z.subscribe("WINDOW_FOCUS",L),r.Z.subscribe("APP_STATE_UPDATE",y),r.Z.subscribe("LOGIN_SUCCESS",x),A()}function x(){v(!0)}function b(){let e=d.Z.getState();T!==e&&(T=e,A())}function L(e){let{focused:t}=e;S=t,A()}function y(e){let{state:t}=e;S=t===g.$7l.ACTIVE,A()}},360347:function(e,t,n){n.d(t,{Z:()=>a});var i=n(91896),l=n(699516),r=n(453542);function a(){return{num_friends:l.Z.getFriendCount(),num_outgoing_requests:l.Z.getOutgoingCount(),num_incoming_requests:l.Z.getPendingCount(),num_game_friends:i.Z.getGameFriendCount(),num_game_outgoing_requests:i.Z.getPendingOutgoingCount(),num_game_incoming_requests:i.Z.getPendingIncomingCount(),...(0,r.X)()}}},176881:function(e,t,n){n.d(t,{Z:()=>s});var i=n(626135),l=n(188471),r=n(360347),a=n(981631);function s(e){var t,n,s;let{tab_opened:o,source:d}=e,c=(0,r.Z)();i.default.track(a.rMx.FRIENDS_LIST_VIEWED,{tab_opened:o,source:d,...c}),(0,l.a)(a.rMx.FRIENDS_LIST_VIEWED_CLICKSTREAM,{tab_opened:null!=o?o:"tabless",num_friends:null!==(t=c.num_friends)&&void 0!==t?t:0,now_playing_visible:null!==(n=c.now_playing_visible)&&void 0!==n&&n,now_playing_num_cards:null!==(s=c.now_playing_num_cards)&&void 0!==s?s:0})}},141233:function(e,t,n){n(40455),n(430198),n(353926),n(893966),n(734307),n(803141),n(355298),n(333984),n(914788),n(869765),n(621853),n(706454),n(210887),n(581883),n(592125),n(324067),n(984933),n(271383),n(93093),n(888369),n(430824),n(375954),n(496675),n(306680),n(771845),n(9156),n(594174),n(55589)},371398:function(e,t,n){n(590965),n(317381),n(40455),n(458772),n(368321),n(541099),n(174212),n(213459),n(998698),n(812206),n(344532),n(758182),n(358221),n(12498),n(430198),n(719247),n(353647),n(146282),n(281320),n(339085),n(353926),n(934401),n(735020),n(774863),n(238349),n(660189),n(682474),n(581036),n(208970),n(5254),n(317632),n(91896),n(972830),n(331114),n(537883),n(356164),n(487419),n(223606),n(580079),n(937111),n(893966),n(45966),n(819553),n(240864),n(408042),n(289393),n(687476),n(924301),n(734307),n(803141),n(994752),n(41776),n(487554),n(48929),n(584731),n(748902),n(355298),n(333984),n(726745),n(140155),n(109497),n(601992),n(390289),n(371651),n(46145),n(541692),n(502087),n(441623),n(360787),n(823385),n(455199),n(432496),n(807092),n(869765),n(98369),n(729303),n(768943),n(156012),n(359119),n(452369),n(768419),n(565799),n(88751),n(742738),n(427679),n(926491),n(765104),n(601070),n(344185),n(920303),n(569471),n(159299),n(260483),n(144140),n(10401),n(575356),n(151662),n(706454),n(210887),n(581883),n(243852),n(450795),n(543882),n(199902),n(314897),n(523746),n(680089),n(237904),n(662594),n(624453),n(184107),n(592125),n(58468),n(553795),n(480294),n(906467),n(857192),n(703558),n(831506),n(82142),n(165630),n(486472),n(324067),n(984933),n(650774),n(720202),n(271383),n(93093),n(888369),n(430824),n(797316),n(607744),n(674985),n(341165),n(131951),n(542578),n(375954),n(722086),n(649974),n(209590),n(496675),n(571474),n(158776),n(358652),n(544610),n(878884),n(19780),n(306680),n(699516),n(768119),n(944486),n(914010),n(885110),n(797258),n(771845),n(606304),n(215427),n(959457),n(558724),n(111583),n(62817),n(9156),n(23434),n(594174),n(33039),n(979651),n(351402),n(192513),n(456065),n(173747),n(55589),n(938475),n(974042),n(417363),n(941128),n(556296),n(974180),n(808506),n(237997)},333861:function(e,t,n){n.d(t,{M:()=>o,s:()=>s});var i=n(200651);n(192379);var l=n(481060),r=n(522474),a=n(981631);let s="command-share-modal";function o(e){let{applicationId:t,channel:o,command:d,previewMessage:c,requireLaunchChannel:u,onShareResult:h}=e,m=r.Z.getWindowOpen(a.KJ3.ACTIVITY_POPOUT)?l.u1M:l.z1l;(0,l.ZDy)(async()=>{let{ApplicationCommandShareModal:e}=await n.e("53682").then(n.bind(n,683958));return n=>(0,i.jsx)(e,{applicationId:t,channel:o,command:d,previewMessage:c,onShareResult:h,requireLaunchChannel:u,...n})},{modalKey:s,contextKey:m,onCloseCallback:()=>{h(!1)}})}},838134:function(e,t,n){n.r(t),n.d(t,{default:()=>s});var i=n(200651);n(192379);var l=n(512969),r=n(8991),a=n(981631);function s(){return(0,i.jsx)(l.AW,{path:a.Z5c.APPLICATION_DIRECTORY,component:r.E})}},415439:function(e,t,n){n.d(t,{FW:()=>N,Kt:()=>C,ZC:()=>v}),n(47120);var i=n(442837),l=n(493683),r=n(122613),a=n(983695),s=n(100527),o=n(87005),d=n(895924),c=n(812236),u=n(740492),h=n(973616),m=n(592125),p=n(626135),g=n(823379),_=n(728345),f=n(812206),E=n(835473),I=n(981631);async function C(e,t,n){t(e.id);let i=e.bot;if(null==i)try{var a,o,u;i=null!==(u=null===(a=f.Z.getApplication(e.id))||void 0===a?void 0:a.bot)&&void 0!==u?u:null===(o=h.ZP.createFromServer(await (0,_.UM)(e.id)))||void 0===o?void 0:o.bot}catch(e){t(void 0);return}if(null!=i){let a;let o=null==m.Z.getDMFromUserId(i.id);try{a=await l.Z.openPrivateChannel([i.id],!1,!1,s.Z.APP_DMS_QUICK_LAUNCHER)}catch(e){t(void 0)}if(p.default.track(I.rMx.APP_DMS_QUICK_LAUNCHER_CLICKED,{application_id:e.id,is_new_dm:o,channel_id:a}),null==a){t(void 0);return}try{await (0,c.ZP)(a,e.id)}catch(e){if(e.message===c.sV){t(void 0);return}}await (0,r.Z)({targetApplicationId:e.id,channelId:a,analyticsLocations:n,commandOrigin:d.bB.APP_DMS_ENTRY_POINT_COMMAND_BUTTON,onExecutedCallback(){t(void 0)}})}else t(void 0)}function N(){let e=(0,i.e7)([u.ZP],()=>u.ZP.showPlayAgain),t=v();return e&&t.length>0}function v(){let e=(0,o.f)({context:{type:"contextless"},onlyActivityApps:!0,allowCommandFetch:!0,includeAuthorizedAppsAndFetch:!1}).frecentApps,t=e.map(e=>e.id).sort(),n=new Map((0,E.Z)(t).filter(g.lm).map(e=>[e.id,e]));return e.map(e=>n.get(e.id)).filter(e=>{var t;return(0,a.Z)(null==e?void 0:null===(t=e.embeddedActivityConfig)||void 0===t?void 0:t.supported_platforms)})}},143757:function(e,t,n){n.d(t,{Z:()=>P}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),d=n(239091),c=n(2052),u=n(774226),h=n(317381),m=n(16609),p=n(403404),g=n(100527),_=n(906732),f=n(753972),E=n(82295),I=n(984370),C=n(592125),N=n(626135),v=n(823379),T=n(415439),S=n(981631),A=n(388032),Z=n(697607),x=n(714355);function b(e){let{analyticsLocations:t,analyticsContext:n}=e;return(0,i.jsx)(I.Z.Icon,{onClick:()=>{(0,p.Z)({locationObject:n.location,openInPopout:!1,analyticsLocations:t,opensAppLauncherModal:!0})},icon:o.qJs,className:Z.plusIcon,iconClassName:Z.plusIcon,tooltip:A.intl.string(A.t.qJvTKS),tooltipPosition:"top"})}function L(e){let{application:t,loadingAppId:n,setLoadingAppId:l,botUserId:r,analyticsLocations:d}=e,c=(0,s.e7)([C.Z],()=>C.Z.getDMFromUserId(r)),p=(0,s.e7)([h.ZP],()=>h.ZP.getCurrentEmbeddedActivity()),g=(0,u.GK)(),_=null!=p&&p.applicationId===t.id&&(g||(0,m.pY)(p.location)===c),E=n===t.id,I=null!=n;return(0,i.jsx)(o.P3F,{className:a()(Z.clickable,{[Z.disabledClickable]:I}),onClick:()=>_||I?null:(0,T.Kt)(t,l,d),"aria-label":A.intl.formatToPlainString(A.t["zLhr9/"],{applicationName:t.name,applicationDescription:t.description}),children:(0,i.jsx)(o.ua7,{tooltipContentClassName:Z.tooltipContent,text:t.name,children:e=>{let{...n}=e;return(0,i.jsxs)("div",{className:Z.iconContainer,...n,children:[(0,i.jsx)(f.Z,{application:t,className:Z.iconCard,"aria-hidden":!0,rendersPlaceholder:!0}),E||_?(0,i.jsx)(o.$jN,{type:o.$jN.Type.PULSING_ELLIPSIS,className:Z.spinner,itemClassName:_?Z.spinnerInnerRunning:void 0}):null]})}})})}function y(e){let{frecentApps:t,loadingAppId:n,setLoadingAppId:l,analyticsLocations:r}=e;return(0,i.jsx)("div",{className:Z.itemContainer,children:t.map(e=>{var t;return(0,i.jsx)(L,{application:e,loadingAppId:n,setLoadingAppId:l,botUserId:null===(t=e.bot)||void 0===t?void 0:t.id,analyticsLocations:r},e.id)})})}let O=e=>{(0,d.jW)(e,async()=>{let{default:e}=await n.e("40706").then(n.bind(n,610909));return t=>(0,i.jsx)(e,{...t})})};function P(e){let{bottomDivider:t}=e,n=(0,T.ZC)(),[r,s]=l.useState(void 0),{analyticsLocations:o}=(0,_.ZP)(g.Z.APP_DMS_QUICK_LAUNCHER),d=l.useRef(!1),u=(0,c.O)(),h=l.useMemo(()=>n.filter(v.lm).slice(0,8),[n]);return l.useLayoutEffect(()=>{var e;!d.current&&(d.current=!0,N.default.track(S.rMx.APP_DMS_QUICK_LAUNCHER_IMPRESSION,{apps_dm_quick_launcher_application_ids:null!==(e=h.map(e=>Number(e.id)))&&void 0!==e?e:[]}))},[h]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:Z.container,onContextMenu:O,children:[(0,i.jsxs)(E.Z,{className:a()(Z.headerContainer,x.privateChannelsHeaderContainer),children:[(0,i.jsx)("span",{className:x.headerText,children:A.intl.string(A.t.vayAzs)}),(0,i.jsx)(b,{analyticsLocations:o,analyticsContext:u})]}),(0,i.jsx)(y,{frecentApps:h,loadingAppId:r,setLoadingAppId:s,analyticsLocations:o})]}),t]})}},857458:function(e,t,n){n.d(t,{M:()=>o,Z:()=>d});var i=n(200651);n(192379);var l=n(512969),r=n(860911),a=n(981631),s=n(188785);function o(){let e=location.pathname+location.search;return s.a?a.Z5c.REGISTER:(0,r.Ui)(e,!1)}let d=function(){return(0,i.jsx)(l.l_,{to:o()})}},77987:function(e,t,n){n.d(t,{e:()=>o});var i=n(200651);n(192379);var l=n(314897),r=n(449934),a=n(857458),s=n(981631);function o(e,t){var n,o;let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0};function c(n){return!(0,r.$8)()&&l.default.getLoginStatus()!==s.u34.LOGGING_IN&&l.default.allowLogoutRedirect()?null!=t?(0,i.jsx)(t,{renderRedirect:(0,i.jsx)(a.Z,{})}):(0,i.jsx)(a.Z,{}):(0,i.jsx)(e,{...d.passProps?n:null})}return c.displayName="Authenticated(".concat(null!==(o=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==o?o:"<Unknown>",")"),c}},571250:function(e,t,n){n.d(t,{Z:()=>l});var i=n(388032);function l(e,t,n){return n?i.intl.string(i.t["2Ne/Y2"]):t?i.intl.string(i.t.QZ7WSU):e?i.intl.string(i.t["2US87+"]):i.intl.string(i.t.wjcRFR)}},679891:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i=n(570140),l=n(846027),r=n(317770),a=n(594190),s=n(928518),o=n(131951),d=n(451478),c=n(981631),u=n(65154);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m=new Set,p=new Set,g=null;function _(){for(let e of m)l.Z.setDisableLocalVideo(e,c.ZUi.MANUAL_ENABLED,u.Yn.DEFAULT,!1);p.clear(),m.clear()}class f extends r.Z{_initialize(){i.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),i.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),i.Z.subscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),i.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),s.Z.addChangeListener(this.handlePopoutChange)}_terminate(){i.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),i.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),i.Z.unsubscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),i.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),s.Z.removeChangeListener(this.handlePopoutChange),_(),g=null}handleIncomingVideo(e){let{userId:t,context:n,streamId:i}=e;if(n!==u.Yn.DEFAULT||null==i)return;let r=null!=a.ZP.getVisibleGame(),h=d.Z.isVisible(),g=s.Z.getWindowVisible(c.KJ3.CHANNEL_CALL_POPOUT),_=o.Z.isLocalVideoDisabled(t,n),f=p.has(t);!r||h||g||_||f||(m.add(t),l.Z.setDisableLocalVideo(t,c.ZUi.DISABLED,n,!1))}handleManualLocalVideoToggle(e){let{userId:t,persist:n}=e;n&&(p.add(t),m.delete(t))}constructor(...e){super(...e),h(this,"handleWindowVisibilityChange",e=>{let{visible:t}=e;t&&_()}),h(this,"handleVoiceChannelSelect",e=>{let{channelId:t}=e;t!==g&&(_(),g=t)}),h(this,"handlePopoutChange",()=>{s.Z.getWindowVisible(c.KJ3.CHANNEL_CALL_POPOUT)&&_()})}}let E=new f},55311:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),r=n(846027),a=n(468026),s=n(388032);function o(e,t){if(e){(0,l.h7j)(e=>(0,i.jsx)(a.default,{...e,title:s.intl.string(s.t.QZ7WSU),body:s.intl.string(s.t.Tl9JpK)}));return}r.Z.toggleSelfDeaf({location:t})}},599857:function(e,t,n){n.d(t,{Z:()=>h,_:()=>c}),n(47120);var i=n(200651),l=n(192379),r=n(29978),a=n(780384),s=n(481060),o=n(756148),d=n(981631);function c(e){let{sitekey:t,action:n,onVerify:r}=e,[a,d]=l.useState(!1),c=l.useCallback(e=>{r(e)},[r]),u=l.useCallback(()=>{var e,i,l;null===(l=window)||void 0===l||null===(i=l.grecaptcha)||void 0===i||null===(e=i.enterprise)||void 0===e||e.ready(async()=>{var e;c(await (null===(e=window)||void 0===e?void 0:e.grecaptcha).enterprise.execute(t,null!=n?{action:n}:void 0)),d(!1)})},[t,n,c]),h=l.useCallback(()=>{d(!0),o.I.loadRecaptchaScript(t,u)},[t,u]);return l.useEffect(()=>{a||h()},[a,h]),l.useEffect(()=>()=>{document.querySelectorAll('script[src*="recaptcha/enterprise.js"],.grecaptcha-badge').forEach(e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}),null!=window.grecaptcha&&delete window.grecaptcha},[]),(0,i.jsx)(s.$jN,{})}let u=e=>{let{theme:t,...n}=e,l=(0,a.wj)(t)?"dark":"light";return(0,i.jsx)(r.Z,{sitekey:d.OL7,...n,theme:l})};u.Themes={LIGHT:"light",DARK:"dark"},u.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};let h=u},756148:function(e,t,n){n.d(t,{I:()=>i});class i{static getSiteKey(e){return null!=e?e:"production"===window.GLOBAL_ENV.PROJECT_ENV?"6LeYqFcqAAAAAD6iZesmNgVulsO4PkpBdr6NVG6M":"6LdtfVMqAAAAAMurhtf2pDhK0oqD4eLqeQPh025y"}static loadRecaptchaScript(e,t){if(null!=document.getElementById("recaptcha-script-".concat(this.getSiteKey(e)))){null!=t&&t();return}let n=document.createElement("script");n.src="https://www.google.com/recaptcha/enterprise.js?render=".concat(this.getSiteKey(e)),n.id="recaptcha-script-".concat(this.getSiteKey(e)),n.async=!0,n.defer=!0,document.body.appendChild(n),null!=t&&(n.onload=()=>{t()})}}},320149:function(e,t,n){n.d(t,{Z:()=>T});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(541716),o=n(665149),d=n(910611),c=n(355298),u=n(333984),h=n(26373),m=n(486622),p=n(718538),g=n(359110),_=n(6025),f=n(433355),E=n(933557),I=n(287746),C=n(388032),N=n(437413),v=n(458686);function T(e){let{channel:t,baseChannelId:n}=e,T=(0,E.ZP)(t),S=(0,h.K)(),A=(0,h.V)(),Z=(0,r.e7)([c.Z],()=>c.Z.isMessageRequest(t.id)),x=(0,r.e7)([u.Z],()=>u.Z.isSpam(t.id)),b=(0,p.V)(t.id,t.getRecipientId()),L=l.useCallback(()=>{_.Z.closeChannelSidebar(f.uZ),Z&&S&&(0,g.Kh)(t.id),x&&A&&(0,g.Kh)(t.id)},[t.id,x,A,Z,S]),y=l.useCallback(()=>{(0,a.showToast)((0,a.createToast)(C.intl.string(C.t.pIQ3h4),a.ToastType.FAILURE))},[]),{markAsNotSpam:O}=(0,m.m)({onAcceptSuccess:L,onError:y});if(null==t||!t.isDM())return null;let P=[(0,i.jsx)(o.ZP.Icon,{icon:a.Dio,tooltip:C.intl.string(C.t.cpT0Cg),onClick:()=>_.Z.closeChannelSidebar(n)},"close")];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.ZP,{toolbar:P,"aria-label":C.intl.string(C.t.BIYAqa),children:(0,d.ud)({channel:t,channelName:T,inSidebar:!0})}),x&&(0,i.jsxs)("div",{className:v.hamBanner,children:[(0,i.jsx)(a.Text,{className:v.__invalid_hamBannerText,variant:"text-sm/normal",children:C.intl.string(C.t.XVOKgo)}),(0,i.jsx)(a.zxk,{className:v.hamBannerButton,size:a.PhG.SMALL,onClick:()=>O(t,b),children:C.intl.string(C.t.koqL3d)})]}),(0,i.jsx)("div",{className:N.chat,children:(0,i.jsx)(I.Z,{channel:t,guild:null,chatInputType:s.Ie.SIDEBAR},t.id)})]})}},626421:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(399606),o=n(243778),d=n(914010),c=n(566840),u=n(921944),h=n(310799);let m=l.memo(function(e){let{state:t,markAsDismissed:n}=e,{name:r,guildId:s,boundingRect:o}=t,d=l.useMemo(()=>{var e,t,n;return e=0,t=0,n=0,null},[r,s,n]);return null==d?null:(0,i.jsx)("div",{className:a()(h.upsell,!(null!=o&&!(o.y<0))&&h.hidden),style:null==o?{}:{top:o.top,left:o.right-o.x},children:d})});function p(){let e=(0,s.e7)([d.Z],()=>d.Z.getGuildId()),t=(0,c.Eg)(e),[n,l]=(0,o.US)(Object.values(t).filter(e=>{let{disabled:t}=e;return!t}).map(e=>{let{name:t}=e;return t}),u.R.SIDEBAR);if(null==n)return null;let r=t[n];return null==r?null:(0,i.jsx)("div",{className:h.container,children:(0,i.jsx)(m,{state:r,markAsDismissed:l})})}},986332:function(e,t,n){n.d(t,{o:()=>l});let i=(0,n(818083).B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function l(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}=i.useExperiment({location:"c0d6eb_1"},{autoTrackExposure:e});return{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}}},428695:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n(481060),d=n(367907),c=n(626135),u=n(981631),h=n(388032),m=n(809715);let p=(0,s.debounce)(d.ZP.trackWithMetadata,500),g=function(e){let{guild:t,title:n,message:r,image:s,type:g,imageStyles:_,imageMarginX:f,imageMarginTop:E,trackingSource:I,undismissable:C,onDismissed:N,onClick:v,cta:T,ctaColor:S,centerText:A,className:Z}=e;l.useEffect(()=>{p(u.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:g,guild_id:t.id})},[t.id,g]);let x=null;"function"==typeof T?x=T():null!=T&&(x=(0,i.jsx)(o.zxk,{className:m.button,size:o.zxk.Sizes.SMALL,onClick:()=>{null!=g&&c.default.track(u.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:I,guild_id:t.id,notice_type:g}),null==v||v()},fullWidth:!0,color:S,children:T}));let b=null;"function"==typeof n?b=n():null!=n&&(b=(0,i.jsx)(o.Text,{variant:"text-md/medium",color:"header-primary",className:a()(m.title,{[m.noImageTitle]:null==s},{[m.center]:A}),children:n}));let L=null;"function"==typeof r?L=r():null!=r&&(L=(0,i.jsx)(o.Text,{className:a()({[m.center]:A}),variant:"text-sm/normal",color:"text-muted",children:r}));let y=null!=f?"".concat(f,"px"):"16px";return(0,i.jsxs)("div",{className:a()(m.container,Z),children:[!0===C?null:(0,i.jsx)(o.P3F,{onClick:()=>{d.ZP.trackWithMetadata(u.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:g}),null==N||N()},className:m.close,"aria-label":h.intl.string(h.t.WAI6xs),children:(0,i.jsx)(o.Dio,{size:"md",color:"currentColor",className:m.closeIcon})}),null!=s&&(0,i.jsx)("div",{className:m.imageContainer,style:{marginTop:"".concat(E,"px"),marginLeft:y,marginRight:y},children:(0,i.jsx)("img",{className:m.image,style:_,src:s,alt:""})}),(0,i.jsxs)("div",{className:m.message,children:[b,L,x]})]})}},122611:function(e,t,n){n.d(t,{Z:()=>y}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(704215),s=n(433517),o=n(705348),d=n(243778),c=n(360453),u=n(377743),h=n(834743),m=n(862099),p=n(704631),g=n(819792),_=n(919285),f=n(118470),E=n(413307),I=n(849688),C=n(374023),N=n(661599),v=n(617899),T=n(8521),S=n(760326),A=n(785203),Z=n(652785),x=n(921944);function b(e){e.stopPropagation()}function L(e){var t;let{guild:n}=e,[c,m]=l.useState(null!==(t=s.K.get(Z.Iv))&&void 0!==t?t:0),g=e=>{s.K.set(Z.Iv,e),m(e)},_=(0,r.Wu)(Z.HG,()=>Z.XN.filter(e=>{let{store:t}=e;return null==t?void 0:t.channelNoticePredicate(n,c)}).map(e=>e.dismissibleContentType));return(0,i.jsx)(d.ZP,{contentTypes:_,groupName:x.R.CHANNEL_NOTICES,children:e=>{let{visibleContent:t,markAsDismissed:l}=e,r=()=>{g(Date.now()),l(x.L.UNKNOWN)},s=(()=>{switch(t){case a.z.CHANNEL_NOTICE_HUBLINK:return(0,i.jsx)(p.Z,{guild:n,markAsDismissed:r});case a.z.CHANNEL_NOTICE_INVITE:return(0,i.jsx)(v.Z,{guild:n,markAsDismissed:r});case a.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,i.jsx)(h.Z,{guild:n,markAsDismissed:r});case a.z.CHANNEL_NOTICE_QUICKSWITCHER:return(0,i.jsx)(S.Z,{guild:n,markAsDismissed:r});case a.z.CHANNEL_NOTICE_GUILD_BANNER:return(0,i.jsx)(u.Z,{guild:n,markAsDismissed:r});case a.z.LINKED_ROLE_ADMIN_GUILD:return(0,i.jsx)(o.Z,{guild:n,markAsDismissed:()=>l(x.L.UNKNOWN)});default:return null}})();return null==s?null:(0,i.jsx)("div",{onContextMenu:b,children:s})}})}let y=e=>{let{guild:t}=e;switch((0,A.Z)(t)){case A.R.ENABLE_PUBLIC_GUILD:return(0,i.jsx)(E.Z,{guild:t});case A.R.APPLIED_GUILD_BOOST_GRACE_PERIOD:return(0,i.jsx)(c.Z,{guild:t});case A.R.MAX_MEMBER_COUNT:return(0,i.jsx)(T.Z,{guild:t});case A.R.GUILD_LIVE_CHANNEL:return(0,i.jsx)(m.ZP,{guild:t});case A.R.GUILD_MFA_WARNING:return(0,i.jsx)(N.Z,{guild:t});case A.R.COMMANDS_MIGRATION:return(0,i.jsx)(_.Z,{guild:t});case A.R.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,i.jsx)(f.Z,{guild:t});case A.R.HUB_STUDY_ROOM:return(0,i.jsx)(g.Z,{guild:t});case A.R.SIGNUP:return(0,i.jsx)(I.Z,{guild:t})}return C.s.isDisallowPopupsSet()?null:(0,i.jsx)(L,{guild:e.guild})}},652785:function(e,t,n){n.d(t,{HG:()=>m,Iv:()=>u,XN:()=>h});var i=n(704215),l=n(823385),r=n(327689),a=n(421176),s=n(456065),o=n(683743),d=n(823379),c=n(981631);let u="lastHiddenChannelNotice",h=[{type:c.vID.CLAN_ADMIN_UPSELL,dismissibleContentType:i.z.CHANNEL_LIST_CLAN_ADMIN_UPSELL},{type:c.vID.GUILD_BOOSTING,store:a.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:c.vID.GUILD_BANNER,store:r.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_GUILD_BANNER},{type:c.vID.INVITE,store:o.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_INVITE},{type:c.vID.HUB_LINK,store:s.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_HUBLINK},{type:c.vID.QUICKSWITCHER,store:l.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_QUICKSWITCHER},{type:c.vID.LINKED_ROLES_ADMIN,dismissibleContentType:i.z.LINKED_ROLE_ADMIN_GUILD}],m=h.map(e=>e.store).filter(d.lm)},661599:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),l=n(192379),r=n(230711),a=n(324262),s=n(981631),o=n(388032),d=n(510342);class c extends l.PureComponent{render(){return(0,i.jsx)(a.Z,{guild:this.props.guild,onClick:()=>r.Z.open(s.oAB.ACCOUNT),message:o.intl.format(o.t["oCd+am"],{}),cta:o.intl.string(o.t["8dCrV1"]),trackingSource:s.PsQ.GUILD_MFA_WARNING,type:s.vID.MFA_WARNING,image:d,imageMarginX:54,undismissable:!0})}}let u=c},617899:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(904245),s=n(944486),o=n(324262),d=n(981631),c=n(921944),u=n(388032),h=n(589148);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends l.PureComponent{render(){let e="".concat(u.intl.string(u.t.VWqWZW),"\n").concat(u.intl.string(u.t["0Lgb/P"]));return(0,i.jsx)(o.Z,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:u.intl.string(u.t.BN75l5),trackingSource:d.PsQ.INVITE_NOTICE,type:d.vID.INVITE,image:h,imageMarginX:46})}constructor(...e){super(...e),m(this,"handleInvite",()=>{let{guild:e}=this.props;(0,r.ZDy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("25586")]).then(n.bind(n,560114));return n=>(0,i.jsx)(t,{...n,guild:e,source:d.t4x.INVITE_NOTICE})})}),m(this,"handleClose",()=>{let e=s.Z.getChannelId();this.props.markAsDismissed(c.L.UNKNOWN),null!=e&&a.Z.sendBotMessage(e,u.intl.formatToPlainString(u.t.DEn7np,{invitePeople:u.intl.string(u.t.BN75l5)}))})}}let g=p},662842:function(e,t,n){n.d(t,{Z:()=>M}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(692547),d=n(481060),c=n(232567),u=n(100527),h=n(471445),m=n(15274),p=n(924301),g=n(504160),_=n(151864),f=n(725436),E=n(497656),I=n(554747),C=n(230900),N=n(854698),v=n(703656),T=n(922482),S=n(565799),A=n(501655),Z=n(427679),x=n(448206),b=n(184301),L=n(347475),y=n(496675),O=n(594174),P=n(662868),R=n(981631),j=n(765305),D=n(388032),w=n(809715);function M(e){let{guild:t,isStudyRoomNotice:n=!1}=e,r=(0,E.y)(t.id),M=(0,I.k5)(t.id),k=(0,s.e7)([Z.Z],()=>Z.Z.getStageInstanceByChannel(null==r?void 0:r.id),[r]),{isStageNoticeHidden:U,isEventNoticeHidden:G}=(0,s.cj)([_.Z],()=>({isStageNoticeHidden:_.Z.isLiveChannelNoticeHidden({stageId:null==k?void 0:k.id}),isEventNoticeHidden:_.Z.isLiveChannelNoticeHidden({eventId:null==M?void 0:M.id})}),[k,M]),B=null==r?void 0:r.id,V=(0,s.Wu)([S.Z],()=>[...new Set(S.Z.getMutableParticipants(B,A.pV.SPEAKER).map(e=>e.user))],[B]),H=(0,s.e7)([S.Z],()=>null!=B?S.Z.getParticipantCount(B,A.pV.AUDIENCE):0,[B]),F=(0,s.e7)([y.Z],()=>y.Z.can(R.Plq.CONNECT,r)),z=(0,x.Z)(null==r?void 0:r.id),W=null==M?void 0:M.creator_id,Y=(0,s.e7)([O.default],()=>O.default.getUser(W),[W]);l.useEffect(()=>{null!=W&&(0,c.PR)(W)},[W]);let{noticeType:K,title:q,location:X,locationIcon:Q,canListenIn:J,buttonText:$,users:ee,overflowUsers:et,onClose:en}=l.useMemo(()=>(function(e){let{guildEvent:t,stageInstance:n,activeChannel:l,canConnect:r,myRole:a,eventCreator:s,speakers:o,listenerCount:c,isEventNoticeHidden:u,isStageNoticeHidden:m,isStudyRoomNotice:_}=e,E=null!=n&&null!=l&&!m,I=null!=t?(0,N.DK)(t):null;if(_&&null!=l){let e=(0,h.KS)(l);return{noticeType:3,title:"\uD83D\uDCDA☕ ".concat(l.name),location:D.intl.string(D.t.LZA6NT),locationIcon:null!=e?(0,i.jsx)(e,{size:"xs",color:"currentColor",className:w.locationIcon}):null,canListenIn:r,buttonText:D.intl.string(D.t.wBoE6O),users:[],overflowUsers:null}}if(null==t||u){if(E){let e=D.intl.string(D.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=D.intl.string(D.t["/cnSFR"]):null!=a&&(e=D.intl.string(D.t.btSGOj)),{noticeType:0,title:n.topic,location:l.name,locationIcon:(0,i.jsx)(d.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:w.locationIcon}),canListenIn:r,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:o.length>5?o.slice(0,5):o,overflowUsers:c<1?null:(0,i.jsxs)("div",{className:w.pill,children:[(0,i.jsx)(d.VWR,{size:"custom",color:"currentColor",width:12,height:12,className:w.pillIcon}),(0,i.jsx)(d.Text,{variant:"text-xs/medium",color:"header-secondary",className:w.pillLabel,children:c})]})}}}else{if(t.entity_type===j.WX.STAGE_INSTANCE&&E){let e=D.intl.string(D.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=D.intl.string(D.t["/cnSFR"]):null!=a&&(e=D.intl.string(D.t.btSGOj)),{noticeType:0,title:n.topic,location:l.name,locationIcon:(0,i.jsx)(d.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:w.locationIcon}),canListenIn:r,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:o.length>5?o.slice(0,5):o,overflowUsers:c<1?null:(0,i.jsxs)("div",{className:w.pill,children:[(0,i.jsx)(d.VWR,{size:"custom",color:"currentColor",width:12,height:12,className:w.pillIcon}),(0,i.jsx)(d.Text,{variant:"text-xs/medium",color:"header-secondary",className:w.pillLabel,children:c})]})}}if(t.entity_type===j.WX.EXTERNAL){let e=(0,C.cS)(t);if(null==e)return{noticeType:null};let n=p.ZP.getUserCount(t.id,I);return{noticeType:1,title:t.name,location:(0,f.m)(e,!0),locationIcon:(0,i.jsx)(d._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:w.locationIcon}),canListenIn:!1,buttonText:D.intl.string(D.t.iW6Xur),onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==s?[]:[s],overflowUsers:n<1?null:(0,i.jsxs)("div",{className:w.pill,children:[(0,i.jsx)(d.r7p,{size:"custom",color:"currentColor",width:12,height:12,className:w.pillIcon}),(0,i.jsx)(d.Text,{variant:"text-xs/medium",color:"header-secondary",className:w.pillLabel,children:n})]})}}if(t.entity_type===j.WX.VOICE&&null!=l){let e=(0,h.KS)(l),n=p.ZP.getUserCount(t.id,I);return{noticeType:2,title:t.name,location:l.name,locationIcon:null!=e?(0,i.jsx)(e,{size:"xs",color:"currentColor",className:w.locationIcon}):null,canListenIn:r,buttonText:D.intl.string(D.t.nxUtoa),onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==s?[]:[s],overflowUsers:n<1?null:(0,i.jsxs)("div",{className:w.pill,children:[(0,i.jsx)(d.r7p,{size:"custom",color:"currentColor",width:12,height:12,className:w.pillIcon}),(0,i.jsx)(d.Text,{variant:"text-xs/medium",color:"header-secondary",className:w.pillLabel,children:n})]})}}}return{noticeType:null}})({guildEvent:M,stageInstance:k,activeChannel:r,canConnect:F,myRole:z,eventCreator:Y,speakers:V,listenerCount:H,isEventNoticeHidden:G,isStageNoticeHidden:U,isStudyRoomNotice:n}),[M,k,r,F,z,Y,V,H,G,U,n]);return null==K?null:(0,i.jsxs)("div",{className:w.container,children:[null!=en?(0,i.jsx)(d.P3F,{onClick:en,className:w.close,"aria-label":D.intl.string(D.t.WAI6xs),children:(0,i.jsx)(d.Dio,{size:"md",color:"currentColor",className:w.closeIcon})}):null,(0,i.jsxs)("div",{className:w.header,children:[(0,i.jsx)(P.Z,{color:o.Z.unsafe_rawColors.GREEN_230.css,width:16,height:16}),(0,i.jsx)(d.Text,{variant:"text-xs/semibold",color:"text-positive",children:D.intl.string(D.t.dI3q4u)})]}),(ee.length>0||null!=et)&&(0,i.jsxs)("div",{className:w.participants,children:[ee.map(e=>(0,i.jsx)(d.yRy,{preload:()=>(0,b.Z)(e,{guildId:t.id}),renderPopout:n=>(0,i.jsx)(L.Z,{...n,userId:e.id,guildId:t.id,newAnalyticsLocations:[u.Z.AVATAR]}),position:"right",children:n=>(0,i.jsx)(d.qEK,{...n,src:e.getAvatarURL(t.id,24),"aria-label":e.username,size:d.EFr.SIZE_24,className:w.avatar})},e.id)),et]}),(0,i.jsx)(d.Text,{variant:"text-md/medium",color:"header-primary",className:a()(w.title,w.live),children:q}),(0,i.jsxs)("div",{className:w.locationContainer,children:[Q,(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"text-muted",className:w.location,children:X})]}),J||1===K?(0,i.jsx)(d.zxk,{size:d.zxk.Sizes.SMALL,color:d.zxk.Colors.GREEN,onClick:()=>{if(J)null!=r&&null!=r.getGuildId()&&((0,T.Cq)(r),(0,v.XU)(r.getGuildId(),r.id));else{if(null==M)return;(0,m.bO)({eventId:M.id})}},className:w.button,fullWidth:!0,children:$}):null]})}},8521:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),l=n(192379),r=n(949389),a=n(63063),s=n(324262),o=n(981631),d=n(388032),c=n(511189);let u=e=>{let{guild:t}=e,n=l.useCallback(()=>{(0,r.xm)(t.id)},[t.id]);return(0,i.jsx)(s.Z,{guild:t,onDismissed:n,message:d.intl.format(d.t["+QqO3d"],{maxMemberCount:t.maxMembers,maxMembersUrl:a.Z.getArticleURL(o.BhN.MAX_MEMBERS)}),type:o.vID.MAX_MEMBER_COUNT,image:c,imageMarginX:61})}},324262:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(481060),o=n(367907),d=n(626135),c=n(986332),u=n(428695),h=n(981631),m=n(388032),p=n(576590);let g=a().debounce(o.ZP.trackWithMetadata,500),_=e=>{let{guild:t,title:n,message:r,image:a,type:c,imageMarginX:u,imageMarginTop:_,trackingSource:f,undismissable:E,onDismissed:I,onClick:C,cta:N,ctaColor:v}=e;l.useEffect(()=>{g(h.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:c,guild_id:t.id})},[t.id,c]);let T=null;"function"==typeof N?T=N():null!=N&&(T=(0,i.jsx)(s.zxk,{className:p.btn,size:s.zxk.Sizes.SMALL,onClick:()=>{null!=c&&d.default.track(h.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:f,guild_id:t.id,notice_type:c}),null==C||C()},fullWidth:!0,color:v,children:N}));let S=null!=u?"".concat(u,"px"):"16px";return(0,i.jsxs)("div",{className:p.channelNotice,children:[!0===E?null:(0,i.jsx)(s.P3F,{onClick:()=>{o.ZP.trackWithMetadata(h.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:c}),null==I||I()},className:p.close,"aria-label":m.intl.string(m.t.WAI6xs),children:(0,i.jsx)(s.Dio,{size:"md",color:"currentColor",className:p.closeIcon})}),(0,i.jsx)("div",{className:p.imageContainer,style:{marginTop:"".concat(_,"px"),marginLeft:S,marginRight:S},children:(0,i.jsx)("img",{className:p.image,src:a,alt:""})}),(0,i.jsxs)("div",{className:p.message,children:[null!=n?(0,i.jsx)(s.X6q,{variant:"heading-md/semibold",className:p.title,children:n}):null,(0,i.jsx)(s.Text,{variant:"text-sm/normal",children:r}),T]})]})},f=function(e){let{showRedesignedChannelNotice:t}=(0,c.o)(!0);return t?(0,i.jsx)(u.Z,{...e}):(0,i.jsx)(_,{...e})}},760326:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(481060),r=n(561716),a=n(51596),s=n(324262),o=n(981631),d=n(921944),c=n(388032),u=n(932478);let h=e=>{let t=r.$.binds["0"].split("+").map(e=>null!=l.cXz[e]?l.cXz[e]():e).join(" + ").toUpperCase();return(0,i.jsx)(s.Z,{guild:e.guild,onDismissed:()=>e.markAsDismissed(d.L.UNKNOWN),onClick:()=>(0,a.$Z)("CHANNEL_NOTICE"),message:c.intl.string(c.t.Qhk8cn),cta:t,trackingSource:o.PsQ.QUICK_SWITCHER_NOTICE,type:o.vID.QUICKSWITCHER,image:u,imageMarginX:50})}},785203:function(e,t,n){n.d(t,{R:()=>T,Z:()=>S});var i,l=n(192379),r=n(442837),a=n(179360),s=n(897285),o=n(300213),d=n(554747),c=n(499137),u=n(929507),h=n(270144),m=n(400271),p=n(678513),g=n(899667),_=n(496675),f=n(541566),E=n(192513),I=n(255791),C=n(70956),N=n(267642),v=n(981631),T=((i={})[i.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD",i[i.APPLIED_GUILD_BOOST_GRACE_PERIOD=1]="APPLIED_GUILD_BOOST_GRACE_PERIOD",i[i.MAX_MEMBER_COUNT=2]="MAX_MEMBER_COUNT",i[i.GUILD_LIVE_CHANNEL=3]="GUILD_LIVE_CHANNEL",i[i.GUILD_MFA_WARNING=4]="GUILD_MFA_WARNING",i[i.COMMANDS_MIGRATION=5]="COMMANDS_MIGRATION",i[i.APPLICATION_SUBSCRIPTION_EXPIRATION=6]="APPLICATION_SUBSCRIPTION_EXPIRATION",i[i.HUB_STUDY_ROOM=7]="HUB_STUDY_ROOM",i[i.SIGNUP=8]="SIGNUP",i[i.CLAN_UPSELL=9]="CLAN_UPSELL",i);function S(e){var t;let n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:v.lds,{lastFetchedAt:i}=(0,r.cj)([g.Z],()=>({appliedGuildBoosts:g.Z.getAppliedGuildBoostsForGuild(n),lastFetchedAt:g.Z.getLastFetchedAtForGuild(n)})),{lastDismissedGracePeriod:T,isGracePeriodVisible:S}=(0,r.cj)([f.Z],()=>({lastDismissedGracePeriod:f.Z.getLastDismissedGracePeriodForGuild(n),isGracePeriodVisible:f.Z.isVisible(n)})),A=(0,r.e7)([m.Z],()=>m.Z.isVisible(e)),Z=(0,r.e7)([I.Z],()=>I.Z.isVisible(e)),x=(0,r.e7)([_.Z],()=>_.Z.can(v.Plq.ADMINISTRATOR,e)),b=null!=T&&Date.now()-T<=v.Dge,L=null!=e?e.premiumSubscriberCount:0,y=(0,N.rF)(L,n)!==v.Eu4.NONE,O=!(null!=i&&Date.now()-i<=432e5)&&!b&&x&&y,P=(0,o.m)(n),R=(0,r.e7)([E.Z],()=>E.Z.isVisible(e)),j=u.Z.useShouldShowChannelNotice(n),D=(0,h.h6)(e),{enableStudyGroup:w}=(0,c.s)(e),M=D.length>0,k=w&&!(null==e?void 0:e.hasFeature(v.oNc.HUB)),U=(0,d.Vm)(n),G=(0,r.e7)([p.Z],()=>null!=p.Z.getActiveGuildSignUp(n));if(l.useEffect(()=>{s.Z.getGuildEventsForCurrentUser(n)},[n]),l.useEffect(()=>{let e=-1;return O&&(e=window.setTimeout(()=>{null!=n&&(0,a.C0)(n)},30*Math.random()*C.Z.Millis.SECOND)),()=>{window.clearTimeout(e)}},[n,O]),A)return 0;if(S)return 1;if(Z)return 2;if(P||null!=U)return 3;if(R)return 4;else if(j)return 5;else if(M)return 6;else if(k)return 7;else if(G)return 8;return null}},491575:function(e,t,n){n.d(t,{Z:()=>v});var i=n(200651),l=n(192379),r=n(512722),a=n.n(r),s=n(481060),o=n(176299),d=n(512847),c=n(612226),u=n(714338),h=n(607070),m=n(317858),p=n(635395),g=n(5560),_=n(451478),f=n(585483),E=n(145604),I=n(718813),C=n(981631),N=n(823355);let v=l.memo(function(){let e=l.useRef(null),t=l.useCallback(t=>{let{duration:n,intensity:i}=t;if(h.Z.useReducedMotion||!_.Z.isFocused())return;let{current:l}=e;a()(null!=l,"Shakeable is shaken when not mounted"),l.shake(n,i)},[]);return l.useEffect(()=>(u.Z.setLayout(c.ZP),u.Z.enable(),()=>u.Z.disable()),[]),l.useEffect(()=>(f.S.subscribe(C.CkL.SHAKE_APP,t),()=>{f.S.unsubscribe(C.CkL.SHAKE_APP,t)}),[t]),(0,m.Z)(),(0,i.jsxs)(s.F0h,{ref:e,className:N.app,children:[(0,i.jsx)(I.Z,{className:N.layers,children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)(p.Z,{}),(0,i.jsx)(d.Z,{}),(0,i.jsx)(E.Z,{}),(0,i.jsx)(g.Z,{}),(0,i.jsx)(s.c43,{})]})})},145604:function(e,t,n){n.d(t,{Z:()=>X}),n(789020),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(224706),s=n(615287),o=n(593472),d=n(603113),c=n(367907),u=n(731429),h=n(188471),m=n(176881),p=n(318885),g=n(358221),_=n(710845),f=n(581567),E=n(594190),I=n(38618),C=n(501640),N=n(924301),v=n(734307),T=n(355298),S=n(454991),A=n(32300),Z=n(371651),x=n(829907),b=n(427679),L=n(695346),y=n(592125),O=n(77498),P=n(271383),R=n(430824),j=n(131951),D=n(375954),w=n(19780),M=n(944486),k=n(914010),U=n(885110),G=n(9156),B=n(594174),V=n(774343),H=n(974042),F=n(237997),z=n(626135),W=n(630388),Y=n(823379),K=n(981631);class q extends l.PureComponent{componentDidMount(){let{selectedChannelId:e,connected:t,isNSFWChannel:n,isTextInVoice:i}=this.props;t&&null!=e&&((0,c.yw)(K.rMx.CHANNEL_OPENED,{...(0,c.$H)(e)}),(0,h.a)(K.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:e}),i&&(0,c.yw)(K.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:n}))}componentDidUpdate(e){var t,n,i,l;let{voiceChannelId:r,voiceChannelGuildId:d,voiceChannelType:I,voiceChannelBitrate:C,videoEnabled:T,isScreenSharing:P,runningGame:j,runningGamePid:M,selectedChannelId:B,selectedGuildId:V,connected:H,homeLink:q,friendsTabSection:X,isNSFWChannel:Q,isMemberPending:J,hasPreviewEnabled:$,postableChannelCount:ee,isTextInVoice:et,numMessageRequests:en}=this.props;if(e.voiceChannelId!==r&&null!=e.voiceChannelId){let t=E.ZP.getCurrentGameForAnalytics(),n=null!=t?t.name:"",i=b.Z.getStageInstanceByChannel(e.voiceChannelId),l=N.ZP.getActiveEventByChannel(e.voiceChannelId);z.default.track(K.rMx.LEAVE_VOICE_CHANNEL,{channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:w.Z.getRTCConnectionId(),game_name:n,duration:w.Z.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:w.Z.getMediaSessionId(),stage_instance_id:null==i?void 0:i.id,guild_scheduled_event_id:null==l?void 0:l.id,...(0,c.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),...w.Z.getVoiceStateStats(),...g.Z.getSelectedParticipantStats(e.voiceChannelId)})}if(e.voiceChannelId!==r&&null!=r){let e=E.ZP.getCurrentGameForAnalytics(),t=null!=e?e.name:"",n=b.Z.getStageInstanceByChannel(r),i=N.ZP.getActiveEventByChannel(r);(0,c.yw)(K.rMx.CHANNEL_OPENED,{...(0,c.$H)(r)}),(0,h.a)(K.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:r});let l=null,a=F.Z.getFocusedPID();null==a||Z.default.getOverlayMethod(a)===s.gl.Disabled||(F.Z.isInstanceLocked()?l=K.ADE.OVERLAY_LOCKED_ACTIVATED:F.Z.isInstanceLocked()||(l=F.Z.isPinned(K.Odu.TEXT)?K.ADE.OVERLAY_UNLOCKED_PINNED:K.ADE.OVERLAY_UNLOCKED)),z.default.track(K.rMx.JOIN_VOICE_CHANNEL,{location:l,channel_id:r,channel_type:I,channel_bitrate:C,guild_id:d,game_name:t,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==n?void 0:n.id,guild_scheduled_event_id:null==i?void 0:i.id,...(0,c.oG)(d,r),...(0,c.kO)(d,r,T)})}if(e.runningGame!==j&&null!=j&&!j.isLauncher){let e=O.Z.getGameByName(j.name),n=E.ZP.getOverrideForGame(j),i=R.Z.getGuildIds(),l=L.SE.getSetting(),c=i.filter(e=>!l.includes(e)).slice(0,200),u=null;u=null!=n?"custom_override":null!=e?"verified_game":"launcher";let h=(0,E.b6)(j),m=null!==(t=Z.default.getOverlayMethod(j.pid))&&void 0!==t?t:h.overlayMethod;if(setTimeout(async()=>{var t;let n=await (0,x.hj)(j.pid),{gameName:i,gameId:l,exe:a,distributor:p}=(0,f.G8)(j),g=(0,A.NW)("ChatAutoAnalytics",!1),_=h.enabledLegacy||g&&h.enabledOOP,N=S.v.legacyEnabled||g&&S.v.oopEnabled,v=h.source;z.default.track(K.rMx.LAUNCH_GAME,{game:i,game_id:l,verified:null!=e&&(0,f.vp)(a,null==e?void 0:e.executables),elevated:j.elevated,is_launcher:null!==(t=null==j?void 0:j.isLauncher)&&void 0!==t&&t,game_platform:K.M7m.DESKTOP,detection_method:u,distributor:p,is_overlay_enabled:N,is_overlay_game_enabled:_,is_overlay_game_source:v,fullscreen_type:null!=n?o.Jx[n]:o.Jx.UNKNOWN.toString(),overlay_method:s.gl[m],activity_status_enabled:L.G6.getSetting(),activity_status_shared_guilds:c,current_user_status:U.Z.getStatus(),game_detection_enabled:(0,E.ik)(j),executable_path:a,voice_channel_id:r,voice_channel_type:I,voice_channel_bitrate:C,voice_channel_guild_id:d}),null!=a&&E.ZP.addExecutableTrackedByAnalytics(a)},1e4),null!=j.name&&null!=M&&O.Z.shouldReport(j.name)){let e=j.name;a.Z.identifyGame(M,e).then(e=>a.Z.reportUnverifiedGame(e)).catch(e=>new _.Z("AutoAnalytics").error("Cannot identify game",e))}}if((e.videoEnabled!==T||e.isScreenSharing!==P)&&null!=r){let e="none",t=[P?"screen":null,T?"camera":null].filter(Y.lm),n=null;P?(e="screen",n=(0,p.t)()):T&&(e="camera"),z.default.track(K.rMx.VIDEO_INPUT_TOGGLED,{video_input_type:e,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:t,preview_enabled:L.qF.getSetting(),...n,...this.getGameMetadata(),...(0,c.AB)(r)})}if(H&&null!=V&&(V!==e.selectedGuildId||!e.connected||J&&!e.isMemberPending)){let e={...J?{is_pending:J,preview_enabled:$}:{},postable_channels:ee,premium_progress_bar_enabled:null!==(i=null===(n=R.Z.getGuild(k.Z.getGuildId()))||void 0===n?void 0:n.premiumProgressBarEnabled)&&void 0!==i&&i,viewing_all_channels:!G.ZP.isOptInEnabled(V),num_recent_channels:v.Z.recentsChannelCount(V)};(0,c.yw)(K.rMx.GUILD_VIEWED,e),(0,h.a)(K.rMx.GUILD_VIEWED_CLICKSTREAM,{guildId:V})}else H&&null==V&&q===K.Z5c.FRIENDS&&(!e.connected||X!==e.friendsTabSection||q!==e.homeLink)?(0,m.Z)({tab_opened:X}):!H||null!=V||q!==K.Z5c.MESSAGE_REQUESTS||e.connected&&q===e.homeLink||this.isMessageRequestsInitialized||(this.isMessageRequestsInitialized=!0,z.default.track(K.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:en}));if(H&&null!=B&&(!e.connected||B!==e.selectedChannelId||V!==e.selectedGuildId)){let t=e.selectedChannelId,n=y.Z.getChannel(t),i=R.Z.getGuild(null==n?void 0:n.getGuildId());if(null!=t&&null!=n&&null!=i&&i.publicUpdatesChannelId===t){let e=D.Z.getMessages(t),r=e.toArray().reverse().find(e=>{var t;return(0,W.yE)(e.flags,K.iLy.IS_CROSSPOST)&&(null===(t=e.messageReference)||void 0===t?void 0:t.guild_id)==="667560445975986187"});z.default.track(K.rMx.ACK_COMMUNITY_MESSAGES,{last_message_id:null==r?void 0:r.id,last_message_reference_message_id:null==r?void 0:null===(l=r.messageReference)||void 0===l?void 0:l.message_id,messages_loaded:e.hasFetched,...(0,c.v_)(n),...(0,c.hH)(i.id)})}let r=(0,u.K)(y.Z.getChannel(B),!0);(0,c.yw)(K.rMx.CHANNEL_OPENED,{...r,...(0,c.$H)(B)}),(0,h.a)(K.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:B}),et&&(0,c.yw)(K.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:Q})}}getGameMetadata(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}}render(){return null}constructor(...e){var t;super(...e),(t="isMessageRequestsInitialized")in this?Object.defineProperty(this,t,{value:!1,enumerable:!0,configurable:!0,writable:!0}):this[t]=!1}}function X(){let[e,t]=(0,r.Wu)([M.Z],()=>[M.Z.getVoiceChannelId(),M.Z.getChannelId()],[]),n=(0,r.e7)([y.Z],()=>y.Z.getChannel(t),[t]),l=(0,r.e7)([g.Z],()=>(null==n?void 0:n.id)!=null&&g.Z.getChatOpen(n.id),[n]),a=null==n?void 0:n.nsfw,s=(0,r.e7)([y.Z],()=>y.Z.getChannel(e),[e]),o=(0,r.e7)([k.Z],()=>k.Z.getGuildId(),[]),c=(0,r.e7)([R.Z],()=>R.Z.getGuild(o),[o]),u=(0,r.e7)([B.default],()=>B.default.getCurrentUser(),[]),h=(0,r.e7)([P.ZP],()=>{var e,t;return null!=u&&null!=o&&null!==(t=null===(e=P.ZP.getMember(o,u.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t},[u,o]),m=(0,r.e7)([H.ZP],()=>H.ZP.getState().section,[]),p=(0,r.e7)([V.Z],()=>V.Z.getHomeLink(),[]),_=(0,r.e7)([I.Z],()=>I.Z.isConnected(),[]),[f,N]=(0,r.Wu)([j.Z],()=>[j.Z.isVideoEnabled(),j.Z.isScreenSharing()],[]),v=(0,r.e7)([U.Z],()=>U.Z.getPrimaryActivity(),[]),S=(0,r.e7)([E.ZP],()=>E.ZP.getCurrentGameForAnalytics(),[]),A=(0,C.Z)(o),Z=(0,r.e7)([T.Z],()=>T.Z.getMessageRequestsCount(),[]),x={selectedChannelId:t,isNSFWChannel:a,selectedGuildId:o,friendsTabSection:m,homeLink:p,connected:_,videoEnabled:f,isScreenSharing:N,voiceChannelId:null==s?void 0:s.id,voiceChannelGuildId:null==s?void 0:s.getGuildId(),voiceChannelType:null==s?void 0:s.type,voiceChannelBitrate:null==s?void 0:s.bitrate,runningGame:S,runningGamePid:null!=S?S.pid:null,gamePlatform:(0,d.Z)(v),gameName:null!=v?v.name:null,gameId:null!=v?v.application_id:null,gameExeName:null!=S?S.exeName:null,hasPreviewEnabled:null==c?void 0:c.features.has(K.oNc.PREVIEW_ENABLED),isMemberPending:h,postableChannelCount:A,isTextInVoice:l,numMessageRequests:Z};return(0,i.jsx)(q,{...x})}},718813:function(e,t,n){n.d(t,{Z:()=>j}),n(653041);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(748780),d=n(442837),c=n(215569),u=n(481060),h=n(37234),m=n(134616),p=n(714338),g=n(663993),_=n(84615),f=n(210887),E=n(819640),I=n(585483),C=n(981631),N=n(330523);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T=(0,g.Un)({createPromise:()=>n.e("69470").then(n.bind(n,989804)),webpackId:989804,name:"UserSettings"}),S=(0,g.Un)({createPromise:()=>Promise.all([n.e("7654"),n.e("63104"),n.e("86915")]).then(n.bind(n,869779)),webpackId:869779,name:"ChannelSettings"}),A=(0,g.Un)({createPromise:()=>n.e("45620").then(n.bind(n,838819)),webpackId:838819,name:"CollectiblesShop"}),Z=(0,g.Un)({createPromise:()=>Promise.all([n.e("7654"),n.e("44156"),n.e("63104"),n.e("6850"),n.e("58227"),n.e("16114"),n.e("54408"),n.e("11684"),n.e("95140")]).then(n.bind(n,994763)),webpackId:994763,name:"GuildSettings"}),x={[C.S9g.USER_SETTINGS]:()=>(0,l.jsx)(T,{}),[C.S9g.CHANNEL_SETTINGS]:()=>(0,l.jsx)(S,{}),[C.S9g.GUILD_SETTINGS]:()=>(0,l.jsx)(Z,{}),[C.S9g.COLLECTIBLES_SHOP]:()=>(0,l.jsx)(A,{})},b="SHOWN",L="HIDDEN",y={friction:10,tension:100};function O(){return r.useEffect(()=>(p.Z.enable(),p.Z.enableTemp(m.u),()=>p.Z.disableTemp()),[]),null}class P extends(i=r.PureComponent){static getDerivedStateFromProps(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null}componentDidUpdate(e){let{mode:t}=this.props,{mode:n}=e;return t===n?void 0:t===b&&n===L?this.animateIn():t===L&&n===b?this.animateUnder():void 0}componentWillEnter(e){let{opacity:t,scale:n}=this.state;n.setValue(1.1),t.setValue(0),e(),this.setState({animating:!0},()=>this.animateIn())}componentWillLeave(e){this.setState({animating:!0},()=>this.animateOut(e))}animateIn(e){d.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;o.Z.parallel([o.Z.spring(t,{toValue:1,...y}),o.Z.spring(n,{toValue:1,...y})]).start(()=>this.animateComplete(e))}animateOut(e){d.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;I.S.dispatch(C.CkL.LAYER_POP_START),o.Z.parallel([o.Z.spring(t,{toValue:0,...y}),o.Z.spring(n,{toValue:1.1,...y})]).start(()=>{e(),I.S.dispatch(C.CkL.LAYER_POP_COMPLETE)})}animateUnder(){d.ZP.Emitter.pause(500);let{opacity:e,scale:t}=this.state;o.Z.parallel([o.Z.spring(e,{toValue:0,...y}),o.Z.spring(t,{toValue:.93,...y})]).start(()=>this.animateComplete())}animateComplete(e){this.setState({animating:!1},e)}render(){let{animating:e}=this.state,{mode:t,children:n,baseLayer:i,...r}=this.props,a=e||t===L?this.getAnimatedStyle():null,d=(0,l.jsx)(o.Z.div,{ref:e=>this.containerRef.current=null!=e?e.refs.node:void 0,"aria-hidden":t===L,className:s()(N.layer,{[N.baseLayer]:i,[N.animating]:e,"stop-animations":t===L}),style:a,...r,children:n});return i?d:(0,l.jsx)(u.EqS,{containerRef:this.containerRef,children:d})}getAnimatedStyle(){let{opacity:e,scale:t}=this.state,{reducedMotion:n}=this.context;return{opacity:e,transform:n.enabled?void 0:[{scale:t},{translateZ:0}]}}constructor(e){super(e),v(this,"containerRef",r.createRef());let t=1,n=1;e.mode===L&&(t=.93,n=0),this.state={animating:!1,scale:new o.Z.Value(t),opacity:new o.Z.Value(n),mode:e.mode}}}v(P,"defaultProps",{baseLayer:!1}),v(P,"contextType",u.Sfi);class R extends r.PureComponent{componentDidMount(){I.S.subscribe(C.CkL.LAYER_POP_ESCAPE_KEY,h.xf)}componentWillUnmount(){I.S.unsubscribe(C.CkL.LAYER_POP_ESCAPE_KEY,h.xf)}renderLayers(){let{children:e,layers:t,hasFullScreenLayer:n}=this.props,{length:i}=t,r=[];return r.push((0,l.jsx)(P,{mode:0!==i||n?L:b,baseLayer:!0,children:e},"layer-base")),t.forEach((e,t)=>r.push(this.renderComponent(e,t,i))),r}renderComponent(e,t,n){let i;return i="string"==typeof e?x[e]():(0,l.jsx)(e,{}),(0,l.jsxs)(P,{mode:t===n-1?b:L,children:[(0,l.jsx)(O,{}),i]},"layer-".concat(t))}renderArtisanalHack(){return(0,l.jsx)(u.f6W,{theme:this.props.sidebarTheme,children:e=>(0,l.jsx)("div",{className:s()(N.bg,e)})})}render(){return(0,l.jsxs)(l.Fragment,{children:[this.renderArtisanalHack(),(0,l.jsx)(c.W,{component:"div",className:s()(N.layers,this.props.className),children:this.renderLayers()})]})}}function j(e){let t=(0,d.e7)([f.Z],()=>f.Z.darkSidebar)?C.BRd.DARK:void 0,n=(0,d.e7)([E.Z],()=>E.Z.getLayers()),i=(0,_.QP)(e=>e.fullScreenLayers.length>0);return(0,l.jsx)(R,{...e,sidebarTheme:t,layers:n,hasFullScreenLayer:i})}},745837:function(e,t,n){n.d(t,{Z:()=>v});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(547972),d=n(556296),c=n(63063),u=n(13140),h=n(435064),m=n(39604),p=n(356659),g=n(981631),_=n(332325),f=n(388032),E=n(548392);function I(e){(0,o.Z)(_.Z.CLIPS),(0,m.UW)(e)}function C(){let e=(0,a.e7)([d.ZP],()=>d.ZP.getKeybindForAction(g.kg4.SAVE_CLIP));if(null==e)return(0,i.jsx)(i.Fragment,{children:f.intl.string(f.t.miecxM)});let t=u.BB(e.shortcut,!0);return(0,i.jsx)(i.Fragment,{children:f.intl.format(f.t.a3HdiI,{keybind:t,keybindHook:()=>(0,i.jsx)("span",{className:E.keyCombo,children:(0,i.jsx)(s.M2$,{shortcut:t})})})})}let N={[p.D5.Error]:{textColor:"text-primary",buttonLook:s.zxk.Looks.FILLED,buttonColor:s.zxk.Colors.PRIMARY,bodyCopy:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.aNP,{size:"xs",color:"currentColor",className:E.errorWarningIcon}),f.intl.string(f.t.Sr64AA)]}),buttonCopy:()=>f.intl.string(f.t.vDGv9f),ctaOnClick:()=>{window.open(c.Z.getArticleURL(g.BhN.CLIPS),"_blank")},containerClass:E.container},[p.D5.Disabled]:{textColor:"text-primary",buttonLook:s.zxk.Looks.FILLED,buttonColor:s.zxk.Colors.BRAND,bodyCopy:()=>f.intl.string(f.t.MhrVg4),buttonCopy:()=>f.intl.string(f.t.GMLBKS),ctaOnClick:()=>I(p.D5.Disabled),containerClass:E.container},[p.D5.Enabled]:{textColor:"always-white",buttonLook:s.zxk.Looks.FILLED,buttonColor:s.zxk.Colors.BRAND_INVERTED,bodyCopy:()=>(0,i.jsx)(C,{}),buttonCopy:()=>f.intl.string(f.t.GMLBKS),ctaOnClick:()=>I(p.D5.Enabled),containerClass:r()(E.container,E.containerEnabled)}};function v(){let{decoupledClipsEnabled:e,clipsError:t}=(0,a.cj)([h.Z],()=>({decoupledClipsEnabled:h.Z.getSettings().decoupledClipsEnabled,clipsError:h.Z.getLastClipsError()})),n=null!=t?p.D5.Error:e?p.D5.Enabled:p.D5.Disabled,{bodyCopy:l,buttonCopy:r,ctaOnClick:o,textColor:d,buttonColor:c,buttonLook:u,containerClass:g}=N[n];return(0,i.jsxs)("div",{className:g,children:[(0,i.jsx)(s.Text,{color:d,variant:"text-sm/medium",children:l()}),(0,i.jsx)(s.zxk,{onClick:()=>(0,m.UW)(n),size:s.zxk.Sizes.NONE,look:s.zxk.Looks.BLANK,className:E.buttonClose,children:(0,i.jsx)(s.Dio,{size:"xs",color:"currentColor",className:E.dismissIcon})}),(0,i.jsx)(s.zxk,{onClick:o,className:E.buttonCTA,color:c,look:u,fullWidth:!0,size:s.zxk.Sizes.SMALL,children:r()})]})}},13228:function(e,t,n){n.d(t,{Z:()=>h});var i=n(442837),l=n(594190),r=n(480294),a=n(131951),s=n(924557),o=n(435064),d=n(779618),c=n(356659),u=n(981631);function h(e){let t=(0,s.nM)({autoTrackExposure:!0}),n=o.Z.isDecoupledGameClippingEnabled();return(0,i.e7)([o.Z,l.ZP,r.Z,a.Z],()=>{if(!(0,d.Z)(a.Z)||!t||!n)return!1;if(null!=o.Z.getLastClipsError())return!0;if(!r.Z.hasConsented(u.pjP.PERSONALIZATION)||null==l.ZP.getVisibleGame())return!1;let{clipsEducationState:{dismissedAt:i,numberOfGamesLaunchedSinceDismissal:h,numberOfTimesDismissed:m},hasTakenDecoupledClip:p,clipsSettings:{clipsEnabled:g}}=o.Z.getState();if(null===i)return!0;if(!(null!=e&&(0,s.xt)(e)))return!1;let _=Date.now()-i>c.xx,f=h>=c._U,E=g?c.xd:c.A5;return _&&f&&m<E&&!p})}},954709:function(e,t,n){n.d(t,{Z:()=>d});var i=n(664081),l=n(570140),r=n(317770),a=n(863750),s=n(335131);class o extends r.Z{_initialize(){l.Z.subscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}_terminate(){l.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}handlePostConnectionOpen(){let e=a.Z.get("shop_include_unpublished");(0,s.R2)({release:e?i.P.BETA:i.P.PROD})}}let d=new o},699910:function(e,t,n){n.d(t,{v:()=>l});let i=(0,n(818083).B)({kind:"user",id:"2024-08_collectibles_expiry_modal",label:"Collectibles Expiry Experiment",defaultConfig:{expiryModalEnabled:!1},treatments:[{id:1,label:"Enable collectibles expiry modal",config:{expiryModalEnabled:!0}}]}),l=e=>i.getCurrentConfig({location:e}).expiryModalEnabled},744112:function(e,t,n){n.d(t,{b:()=>l});let i=(0,n(818083).B)({kind:"user",id:"2024-09_collectibles_shop_preload",label:"Collectibles Shop Preload",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Preloads collectible shop payload",config:{enabled:!0}}]}),l=e=>i.useExperiment({location:e}).enabled},364111:function(e,t,n){n.d(t,{E:()=>c}),n(47120);var i=n(192379),l=n(442837),r=n(353926),a=n(358085),s=n(335131),o=n(52030),d=n(228624);function c(e,t){let n=(0,l.e7)([r.Z],()=>r.Z.hasLoadedExperiments),c=(0,d.hv)("useMaybeFetchCollectiblesShopHome"),u=(0,a.isDesktop)()||(0,a.isWeb)(),[h,m,p,g,_,f]=(0,l.Wu)([o.Z],()=>{var t,n;return[o.Z.getShopBlocks(e),null!==(t=o.Z.getLastSuccessfulFetch(e))&&void 0!==t?t:0,null!==(n=o.Z.getLastErrorTimestamp(e))&&void 0!==n?n:0,o.Z.getLastFetchOptions(e),o.Z.getFetchShopHomeError(e),o.Z.getIsFetchingShopHome(e)]}),E=(0,i.useMemo)(()=>({...t,variantsReturnStyle:c,includeBundles:u,includePopularPicks:!0,includeDynamicBlocks:!0}),[t,c,u]),I=(0,i.useMemo)(()=>!(0,s.oc)(g,E),[g,E]),C=(0,i.useMemo)(()=>Date.now()-m<6e5,[m]);return(0,i.useEffect)(()=>{if(!n||f)return;let t=Date.now()-p<6e5;(null==_||!t)&&(I||!C)&&(0,s.Ov)(e,E)},[n,f,_,p,C,I,E,e]),{isFetchingShopHome:f,fetchShopHomeError:_,shopBlocks:h,refreshShopHome:(0,i.useCallback)(()=>{(0,s.Ov)(e,E)},[e,E])}}},644679:function(e,t,n){n.d(t,{Z:()=>_}),n(47120);var i=n(200651),l=n(481060),r=n(570140),a=n(317770),s=n(19780),o=n(594174),d=n(979651),c=n(960048),u=n(699910),h=n(981631);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p="CollectiblesExpiryModal";class g extends a.Z{_initialize(){r.Z.subscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),r.Z.subscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal)}_terminate(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),r.Z.unsubscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal),null!=this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}constructor(...e){super(...e),m(this,"timeout",null),m(this,"handleMaybeOpenModal",()=>{var e,t;let n=o.default.getCurrentUser(),i=null==n?void 0:null===(e=n.avatarDecoration)||void 0===e?void 0:e.skuId,l=null==n?void 0:null===(t=n.avatarDecoration)||void 0===t?void 0:t.expiresAt;("1251324401459265537"===i||"1252353273256480818"===i)&&(l=0x66e24cff),null!=l&&(0,u.v)("CollectiblesExpiryManager")&&(this.maybeOpenModal()||(null!=this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.maybeOpenModal,1e3*l-Date.now()+1e3)))}),m(this,"maybeOpenModal",()=>{var e,t,r,a,u;let m=o.default.getCurrentUser(),g=s.Z.getState(),_=null==m?void 0:null===(e=m.avatarDecoration)||void 0===e?void 0:e.skuId,f=null==m?void 0:null===(t=m.avatarDecoration)||void 0===t?void 0:t.expiresAt;if(("1251324401459265537"===_||"1252353273256480818"===_)&&(f=0x66e24cff),null==m)return!1;let E=d.Z.getVoiceStateForUser(m.id);return null!=f&&1e3*f<Date.now()&&g!==h.hes.RTC_CONNECTED?((0,l.Mr3)(p),(0,l.ZDy)(async()=>{let{default:e}=await n.e("77370").then(n.bind(n,83950));return t=>(0,i.jsx)(e,{...t,skuId:_})},{modalKey:p}),c.Z.captureMessage("Collectible expiry modal shown"),!0):(("1251324401459265537"===_||"1252353273256480818"===_)&&c.Z.captureMessage("Collectible expiry modal not shown",{tags:{isExpired:(null!=f&&1e3*f<Date.now()).toString(),rtcConnected:(g===h.hes.RTC_CONNECTED).toString(),decoExpiresAt:null!==(a=null==f?void 0:f.toString())&&void 0!==a?a:"N/A",voiceStateAvailable:(null!=E).toString(),selfStream:null!==(u=null==E?void 0:null===(r=E.selfStream)||void 0===r?void 0:r.toString())&&void 0!==u?u:"N/A"}}),!1)})}}let _=new g},64220:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(921944),s=n(388032),o=n(369889);function d(e){let{markAsDismissed:t}=e;return l.useEffect(()=>{let e=setTimeout(()=>{t(a.L.AUTO_DISMISS)},8e3);return()=>{clearTimeout(e)}},[t]),(0,i.jsxs)(r.P3F,{className:o.container,onClick:()=>{t(a.L.USER_DISMISS)},children:[(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"always-white",children:s.intl.string(s.t.fJNqJi)}),(0,i.jsx)("div",{className:o.pointer})]})}function c(e){let{children:t,markAsDismissed:n}=e,[a,s]=l.useState(!1);return l.useEffect(()=>{let e=setTimeout(()=>{s(!0)},1e3);return()=>{clearTimeout(e)}},[s]),(0,i.jsx)(r.yRy,{position:"top",align:"left",shouldShow:a,renderPopout:()=>(0,i.jsx)(d,{markAsDismissed:n}),children:t})}},463119:function(e,t,n){n.d(t,{i:()=>G}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(91192),o=n(442837),d=n(780384),c=n(481060),u=n(596454),h=n(515753),m=n(410030),p=n(607070),g=n(100527),_=n(906732),f=n(821982),E=n(377171),I=n(633302),C=n(153066),N=n(335131),v=n(744112),T=n(267097),S=n(364111),A=n(81136),Z=n(141594),x=n(302800),b=n(215023),L=n(981631),y=n(388032),O=n(472401);let P=e=>{let{color:t}=e;return(0,i.jsx)(c.IGR,{className:O.newBadge,color:null!=t?t:E.Z.STATUS_DANGER_BACKGROUND,text:y.intl.string(y.t.y2b7CA)})},R=()=>{let{noCache:e,includeUnpublished:t}=(0,A.Z)();return(0,S.E)(b.AW.HOME,{noCache:e,includeUnpublished:t,includeBundles:!0}),null},j=e=>{let{selected:t,locationState:n,icon:r,onMouseEnter:a,onMouseLeave:o,children:d,...u}=e,m=(0,s.JA)("shop"),p=g.Z.HOME_PAGE_SHOP_TAB,{analyticsLocations:f}=(0,_.ZP)(p),[E,I]=l.useState(!1),C=l.useCallback(()=>{I(!0),(0,N.Sm)({analyticsSource:p,analyticsLocations:f})},[p,f,I]);return(0,i.jsxs)(i.Fragment,{children:[E&&(0,i.jsx)(R,{}),(0,i.jsx)(h.Qj,{selected:t,route:L.Z5c.COLLECTIBLES_SHOP,icon:null!=r?r:c.EOn,text:y.intl.string(y.t.pWG4zc),locationState:n,...m,...u,onMouseEnter:a,onMouseLeave:o,onClick:C,children:d})]})},D=e=>{let{selected:t,locationState:n}=e;return(0,i.jsx)(j,{selected:t,locationState:n,children:(0,i.jsx)(P,{})})},w=l.memo(function(e){var t;let{displayOptions:n,assetId:l,reducedMotion:r=!1}=e,a=null!=l?(0,f.Z)(l,c.EFr.SIZE_80,!r):void 0,s=n.title(),o=null===(t=n.body)||void 0===t?void 0:t.call(n),d=null==o||""===o;return(0,i.jsxs)("div",{className:O.shopMarketingTooltipContent,children:[(0,i.jsx)("div",{className:O.avatarContainer,children:(0,i.jsx)(c.qEK,{className:O.avatar,src:n.imageSrc,avatarDecoration:a,size:c.EFr.SIZE_80,"aria-hidden":!0})}),(0,i.jsxs)("div",{className:O.shopMarketingTooltipText,children:[(0,i.jsx)(c.X6q,{variant:d?"heading-sm/medium":"heading-sm/bold",children:s}),!d&&(0,i.jsx)(c.Text,{variant:"text-xs/normal",className:O.marketingBadgeTooltipContent,children:o})]})]})}),M=e=>{var t,n,r,s,u,h,g,_,f,E,I,N;let v,T;let{selected:S,locationState:A,displayOptions:Z}=e,x=(0,o.e7)([p.Z],()=>p.Z.useReducedMotion),[b,L]=l.useState(0),[R,D]=l.useState(!1),M=(0,m.ZP)(),k=Z.entrypointDecorationAssets,U=(0,d.wj)(M);R?U?(v=null===(t=Z.entryPointBackgroundAssets)||void 0===t?void 0:t.srcDarkHovered,T=null===(r=Z.entrypointBackgroundStyle)||void 0===r?void 0:null===(n=r.hovered)||void 0===n?void 0:n.dark):(v=null===(s=Z.entryPointBackgroundAssets)||void 0===s?void 0:s.srcLightHovered,T=null===(h=Z.entrypointBackgroundStyle)||void 0===h?void 0:null===(u=h.hovered)||void 0===u?void 0:u.light):U?(v=null===(g=Z.entryPointBackgroundAssets)||void 0===g?void 0:g.srcDark,T=null===(f=Z.entrypointBackgroundStyle)||void 0===f?void 0:null===(_=f.resting)||void 0===_?void 0:_.dark):(v=null===(E=Z.entryPointBackgroundAssets)||void 0===E?void 0:E.srcLight,T=null===(N=Z.entrypointBackgroundStyle)||void 0===N?void 0:null===(I=N.resting)||void 0===I?void 0:I.light);let G=l.useCallback(e=>{L(e=>(e+1)%Z.assetIds.length),D(!0),null==e||e()},[Z.assetIds.length]),B=l.useCallback(e=>{D(!1),null==e||e()},[]),V=Z.title();return(0,i.jsx)(c.ua7,{text:(0,i.jsx)(w,{displayOptions:Z,assetId:Z.assetIds[b],reducedMotion:x}),tooltipClassName:O.marketingBadgeTooltip,position:"right",delay:100,allowOverflow:!0,hideOnClick:!1,"aria-label":"string"==typeof V?V:y.intl.string(y.t.rSXaxc),children:e=>(0,i.jsxs)(j,{className:null!=Z.entryPointClassName?(0,C.l)(O,Z.entryPointClassName):void 0,selected:S,locationState:A,icon:Z.entryPointIcon,...e,onMouseEnter:()=>G(e.onMouseEnter),onMouseLeave:()=>B(e.onMouseLeave),children:[(0,i.jsx)("div",{className:O.marketingButtonBackground,style:{background:T},children:null!=v&&(0,i.jsx)("img",{src:v,className:O.marketingButtonBackgroundImage,alt:"","aria-hidden":!0})}),null!=k&&!x&&(0,i.jsx)("img",{src:(0,d.wj)(M)?k.srcDark:k.srcLight,className:a()(O.marketingButtonImage,{[O.marketingButtonImageHovered]:R}),alt:"","aria-hidden":!0}),(0,i.jsx)(P,{color:Z.badgeColor})]})})},k=e=>{let{selected:t,locationState:n,displayOptions:r}=e,a=l.useMemo(()=>{var e;let t=null!=r.emojiName?null===(e=I.ZP.getByName(r.emojiName))||void 0===e?void 0:e.surrogates:null;return(0,i.jsxs)(c.Text,{variant:"text-sm/medium",className:O.marketingBadgeTooltipContent,children:[null!=t&&(0,i.jsx)(u.Z,{emojiName:t}),r.title()]})},[r]);return(0,i.jsx)(c.ua7,{text:a,tooltipClassName:O.marketingBadgeTooltip,position:"right",delay:100,hideOnClick:!1,"aria-label":r.title(),children:e=>(0,i.jsx)(j,{selected:t,locationState:n,...e,children:(0,i.jsx)(P,{color:r.badgeColor})})})},U=()=>((0,T.Z)(),null),G=e=>{let{selected:t,locationState:n}=e,{collectiblesShopTabNewBadgeDisplayOptions:l}=(0,Z.Z)(),r=(0,v.b)("Collectibles Shop Button");if(null!=l)switch(l.type){case x.k2.TOOLTIP:return(0,i.jsx)(k,{selected:t,locationState:n,displayOptions:l});case x.k2.COACHTIP:return(0,i.jsx)(M,{selected:t,locationState:n,displayOptions:l});case x.k2.BADGE:return(0,i.jsx)(D,{selected:t,locationState:n})}return(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)(U,{}),(0,i.jsx)(j,{selected:t,locationState:n})]})}},118379:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(663993).Un)({createPromise:()=>n.e("45620").then(n.bind(n,838819)),webpackId:838819})},81136:function(e,t,n){n.d(t,{Z:()=>l});var i=n(580747);let l=()=>({noCache:(0,i.Z)("shop_disable_cache"),includeUnpublished:(0,i.Z)("shop_include_unpublished")})},141594:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(192379),l=n(115434),r=n(264181),a=n(442837),s=n(704215),o=n(243778),d=n(594174),c=n(51144),u=n(874703),h=n(302800),m=n(921944);let p=()=>{var e,t,n,p,g,_,f;let E=(0,a.e7)([d.default],()=>d.default.getCurrentUser()),I=(0,a.e7)([u.Z],()=>u.Z.getMarketingBySurface(l.K.DESKTOP_SHOP_BUTTON)),C=(null==I?void 0:I.dismissibleContent)===s.z.COLLECTIBLES_SHOP_ENTRY_MARKETING,N=i.useMemo(()=>(0,c.Fc)(E)&&null!=I&&!C?[I.dismissibleContent]:[],[E,I,C]),[v,T]=(0,o.US)(N,void 0,!0),[S,A]=(0,o.XR)(C&&(null==I?void 0:I.type)===r.Z.COACHTIP?s.z.COLLECTIBLES_SHOP_ENTRY_MARKETING:null,null!==(e=null==I?void 0:I.version)&&void 0!==e?e:0,void 0,!0),Z=null;if((null!=v||null!=S)&&null!=I&&I.type===r.Z.COACHTIP){Z={type:h.k2.COACHTIP,title:()=>I.title,body:()=>I.body,imageSrc:I.avatar,assetIds:I.decorations,entrypointBackgroundStyle:null===(t=I.refTargetBackground)||void 0===t?void 0:t.style};let e=null===(n=I.refTargetBackground)||void 0===n?void 0:n.asset;null!=e&&(Z.entryPointBackgroundAssets={srcDark:null===(p=e.resting)||void 0===p?void 0:p.dark,srcLight:null===(g=e.resting)||void 0===g?void 0:g.light,srcDarkHovered:null===(_=e.hovered)||void 0===_?void 0:_.dark,srcLightHovered:null===(f=e.hovered)||void 0===f?void 0:f.light})}return{collectiblesShopTabNewBadgeDisplayOptions:Z,dismissCollectiblesShopTabNewBadge:()=>{let e=C?A:T;null!=Z&&e(m.L.AUTO)}}}},998730:function(e,t,n){n.d(t,{N:()=>s}),n(47120);var i=n(192379),l=n(302221),r=n(956664);async function a(e){return(await new Promise((t,n)=>{let i=new Image;i.crossOrigin="Anonymous",i.onerror=e=>{n(e),null!=i&&(i.onerror=null,i.onload=null),i=null},i.onload=()=>{null!=i?(t((0,r.XN)(i,2,10)),i.onerror=null,i.onload=null,i=null):n("image is null")},i.src=e})).map(e=>{let[t,n,i]=e;return(0,l.vq)(t,n,i)})}function s(e){let[t,n]=i.useState(),l=i.useRef(!1);return null==e||null!=t||l.current||(l.current=!0,a(e).then(e=>{n(e[0])})),t}},314533:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(317770);let s="CONNECTIONS_GRID_MODAL_KEY";class o extends a.Z{_initialize(){r.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),r.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}_terminate(){r.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),r.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}handleShow(e){let{onComplete:t,excludedPlatformTypes:r,includedPlatformTypes:a,integrations:o,onCompleteApplication:d}=e;(0,l.nfh)(s)||(0,l.ZDy)(async()=>{let{default:e}=await n.e("28538").then(n.bind(n,51299));return n=>(0,i.jsx)(e,{onComplete:t,excludedPlatformTypes:r,includedPlatformTypes:a,integrations:o,onCompleteApplication:d,...n})})}handleHide(){(0,l.Mr3)(s)}}let d=new o},507294:function(e,t,n){n.d(t,{default:()=>y,g:()=>L}),n(47120),n(536091);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(780384),d=n(481060),c=n(239091),u=n(749210),h=n(410030),m=n(726542),p=n(884338),g=n(367907),_=n(313201),f=n(598077),E=n(314897),I=n(271383),C=n(430824),N=n(626135),v=n(63063),T=n(134433),S=n(225104),A=n(981631),Z=n(388032),x=n(171793),b=n(577007);function L(e,t){(0,d.ZDy)(async()=>{let{default:l}=await Promise.all([n.e("82412"),n.e("96229")]).then(n.bind(n,107807));return n=>(0,i.jsx)(l,{role:e,guildId:t,...n})})}let y=function(e){let{guildId:t,transitionState:r,onClose:y}=e,O=(0,s.e7)([C.Z],()=>C.Z.getRoles(t)),P=(0,s.e7)([E.default],()=>E.default.getId()),R=(0,s.e7)([I.ZP],()=>I.ZP.getMember(t,P)),[j,D]=l.useState([]),w=(0,h.ZP)(),M=(0,_.Dt)();if(l.useEffect(()=>{0!==j.length&&N.default.track(A.rMx.PASSPORT_ENTRY_VIEWED,{role_ids:j.map(e=>{let{role_id:t}=e;return t}),...(0,g.hH)(t)})},[t,j]),l.useEffect(()=>{u.Z.getGuildRoleConnectionsConfigurations(t).then(e=>D(e))},[t]),null==R)return null;let k=Object.values(O).filter(e=>{var t;return(null===(t=e.tags)||void 0===t?void 0:t.guild_connections)===null});return(0,i.jsxs)(d.Y0X,{transitionState:r,"aria-labelledby":M,className:x.modal,children:[(0,i.jsxs)(d.xBx,{separator:!1,children:[(0,i.jsx)(T.Z,{className:x.headerIcon,size:24}),(0,i.jsx)(d.X6q,{variant:"text-md/medium",color:"header-primary",children:Z.intl.string(Z.t.ghtnsr)}),(0,i.jsx)(d.olH,{className:x.modalCloseButton,onClick:y})]}),(0,i.jsxs)(d.hzk,{className:x.container,children:[(0,i.jsx)(d.X6q,{variant:"heading-md/semibold",color:"header-primary",children:Z.intl.format(Z.t["Y+TsER"],{helpdeskArticleUrl:v.Z.getArticleURL(A.BhN.CONNECTION_DETAILS)})}),(0,i.jsx)("div",{className:x.verifiedRoles,children:k.map(e=>{let r=R.roles.includes(e.id),s=function(e){let n=j.find(t=>{let{role_id:n}=t;return n===e});if(null==n)return[];let l={};for(let e of n.rules.flat()){let s;if(null!=e.application_id){var r;let l=null===(r=n.applications)||void 0===r?void 0:r[e.application_id];s=(null==l?void 0:l.bot)!=null?(0,i.jsx)("img",{src:new f.Z(l.bot).getAvatarURL(t,24),alt:"",className:a()(x.botAvatar,b.avatar)}):null}else{let t=m.Z.get(e.connection_type);s=(0,i.jsx)("img",{src:(0,o.ap)(w)?t.icon.lightSVG:t.icon.darkSVG,alt:"",className:b.avatar})}null!=s&&(l["".concat(e.connection_type,":").concat(e.application_id)]=s)}return Object.values(l)}(e.id);return(0,i.jsxs)(d.P3F,{className:a()(x.verifiedRole,r?x.verifiedRoleHasRole:null),onClick:r?void 0:()=>L(e,t),onContextMenu:r?l=>{var r;return r=e.id,void(0,c.jW)(l,async()=>{let{default:e}=await n.e("60079").then(n.bind(n,850902));return n=>(0,i.jsx)(e,{...n,roleId:r,onLeaveRole:()=>u.Z.unassignGuildRoleConnection(t,r)})})}:void 0,children:[r?(0,i.jsx)("div",{className:x.roleCheckmark,children:(0,i.jsx)(d.kmB,{size:"xs",color:"currentColor"})}):null,(0,i.jsx)(S.Z,{guildId:t,role:e,size:24}),(0,i.jsxs)("div",{className:x.verifiedRoleNameDescriptionContainer,children:[(0,i.jsx)(d.Text,{variant:"text-md/medium",color:"header-primary",className:x.verifiedRoleName,children:e.name}),void 0!==e.description?(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"header-secondary",className:x.verifiedRoleDescription,children:e.description}):null]}),(0,i.jsx)(p.Z,{showUserPopout:!1,guildId:t,users:s.map(()=>null),renderUser:(e,t,n)=>(0,i.jsx)(l.Fragment,{children:s[n]},n),max:3})]},e.id)})})]})]})}},9029:function(e,t,n){n.d(t,{Z:()=>d});var i=n(481060),l=n(570140),r=n(317770),a=n(507294),s=n(458034);class o extends r.Z{_initialize(){l.Z.subscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}_terminate(){l.Z.unsubscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}handleShow(e){let{role:t,guildId:n}=e;if(!(0,i.nfh)("GUILD_ROLE_CONNECTIONS_MODAL_KEY")){var l;null!=t&&(null===(l=t.tags)||void 0===l?void 0:l.guild_connections)===null?(0,a.g)(t,n):(0,s.Am)(n)}}}let d=new o},705348:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(324262),r=n(63063),a=n(981631),s=n(921944),o=n(388032),d=n(157476);function c(e){let{guild:t,markAsDismissed:n}=e;return(0,i.jsx)(l.Z,{image:d,guild:t,onDismissed:()=>n(s.L.UNKNOWN),onClick:()=>{open(r.Z.getArticleURL(a.BhN.CONNECTION_DETAILS)),n(s.L.UNKNOWN)},title:o.intl.string(o.t.YMgaJi),message:o.intl.string(o.t["AV/9eX"]),cta:o.intl.string(o.t.hvVgAQ),trackingSource:a.PsQ.LINKED_ROLES_ADMIN_NUX,type:a.vID.LINKED_ROLES_ADMIN})}},225104:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(866442),r=n(91218),a=n(518738),s=n(134433),o=n(981631);function d(e){var t;let{guildId:n,role:d,size:c,className:u}=e,h=(0,a.p9)({guildId:n,roleId:d.id,size:c});return null!=h?(0,i.jsx)(r.Z,{className:u,...h}):(0,i.jsx)(s.Z,{color:null!==(t=d.colorString)&&void 0!==t?t:(0,l.Rf)(o.p6O),className:u,size:c})}},77878:function(e,t,n){n.d(t,{Z:()=>C});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(981631),s=n(193330);let o="1",d="2",c="3",u="4",h="5",m="6",p="1",g="2",_="3",f="4",E="5",I={[a.aIt.ESRB]:{[o]:s.esrbEveryone,[d]:s.esrbEveryoneTenPlus,[c]:s.esrbTeen,[u]:s.esrbMature,[h]:s.esrbAdult,[m]:s.esrbRatingPending},[a.aIt.PEGI]:{[p]:s.pegiThree,[g]:s.pegiSeven,[_]:s.pegiTwelve,[f]:s.pegiSixteen,[E]:s.pegiEighteen}},C=e=>{let{agency:t,rating:n,className:l}=e,a=I[t][n];return null==a?null:(0,i.jsx)("div",{className:r()(s.contentRating,a,l)})}},317858:function(e,t,n){n.d(t,{Z:()=>v}),n(47120);var i=n(192379),l=n(166516),r=n.n(l),a=n(525654),s=n.n(a),o=n(442837),d=n(91896),c=n(849862),u=n(888369),h=n(292959),m=n(699516),p=n(340895),g=n(358085),_=n(998502),f=n(252618),E=n(981631),I=n(388032);let C=new Set(["Blink","Gecko","WebKit"]),N=E.dG4;if(g.isPlatformEmbedded)N=e=>_.ZP.setBadge(e);else if(C.has(s().layout)){let e=new(r())({animation:"none"});N=t=>{try{(0,f.PR)(t),e.badge(-1===t?"•":t)}catch(e){}}}function v(){let e=(0,o.e7)([p.Z],()=>p.Z.hasIncomingCalls()),t=(0,o.e7)([u.default,m.Z,h.Z,d.Z],()=>{let e=u.default.getTotalMentionCount(),t=(0,c.m$)([m.Z,d.Z]),n=u.default.hasAnyUnread(),i=h.Z.getDisableUnreadBadge(),l=e+t;return 0===l&&n&&!i&&(l=-1),l});i.useEffect(()=>{if(!e)return;let t=_.ZP.bounceDock("critical"),n=(0,f.EM)({messages:[I.intl.string(I.t["fk1/bW"])],count:50});return()=>{null==t||t(),n()}},[e]),i.useEffect(()=>{N(t)},[t]),i.useEffect(()=>()=>N(0),[])}},267161:function(e,t,n){n.r(t),n.d(t,{default:()=>D,useAppSidebarState:()=>R});var i=n(200651),l=n(192379),r=n(512969),a=n(15729),s=n(442837),o=n(481060),d=n(230711),c=n(174556),u=n(320007),h=n(540059),m=n(916069),p=n(565138),g=n(300986),_=n(314451),f=n(35583),E=n(522474),I=n(141321),C=n(210887),N=n(592125),v=n(430824),T=n(944486),S=n(914010),A=n(451478),Z=n(998502),x=n(228488),b=n(950796),L=n(981631),y=n(741764),O=n(388032),P=n(136813);let R=(0,a.U)(()=>({isOpen:!0}));function j(){let e;let t=(0,r.TH)(),n=(0,s.e7)([T.Z],()=>T.Z.getChannelId()),l=(0,s.e7)([S.Z],()=>S.Z.getGuildId()),a=(0,s.e7)([N.Z],()=>N.Z.getChannel(n),[n]),d=v.Z.getGuild(l),c=(0,m.Z)(),u=null;return null!=d?(u=c?(0,i.jsx)(o.r7p,{size:"xs"}):(0,i.jsx)(p.Z,{guild:d,size:p.Z.Sizes.MINI,active:!0,className:P.guildIcon}),e=d.name):null!=a&&(a.isDM()||a.isGroupDM())?(e=O.intl.string(O.t.YUU0RE),u=(0,i.jsx)(o.gw7,{size:"xs"})):t.pathname.startsWith(L.Z5c.GLOBAL_DISCOVERY)?(e=O.intl.string(O.t["4nEZLi"]),u=(0,i.jsx)(o.Jmo,{size:"xs"})):t.pathname.startsWith(L.Z5c.NITRO_HOME)?(e=O.intl.string(O.t.Ipxkoq),u=(0,i.jsx)(o.SrA,{size:"xs"})):t.pathname.startsWith(L.Z5c.COLLECTIBLES_SHOP)?(e=O.intl.string(O.t.pWG4zc),u=(0,i.jsx)(o.EOn,{size:"xs"})):t.pathname.startsWith(L.Z5c.FRIENDS)?(e=O.intl.string(O.t.TdEu5e),u=(0,i.jsx)(o.iFz,{size:"xs"})):t.pathname.startsWith(L.Z5c.FAMILY_CENTER)&&(e=O.intl.string(O.t.RZqaJi),u=(0,i.jsx)(o.BFJ,{size:"xs"})),null!=e&&""!==e&&(0,i.jsxs)("div",{className:P.title,children:[u,(0,i.jsx)(o.Text,{variant:"text-sm/medium",lineClamp:1,children:e})]})}function D(){l.useLayoutEffect(()=>{Z.ZP.setMinimumSize(y.J,y.N)},[]);let e=(0,h.TH)("AppTitleBar"),t=!R(e=>e.isOpen)&&e,{hasBugReporterAccess:n}=c.Z.useExperiment({location:"HeaderBar"},{autoTrackExposure:!1});l.useLayoutEffect(()=>{Z.ZP.setMinimumSize(y.J,y.N)},[]);let r=(0,s.e7)([C.Z],()=>C.Z.darkSidebar?L.BRd.DARK:void 0);return(0,s.e7)([A.Z,E.Z],()=>(0,x.rB)())?null:(0,i.jsx)(o.f6W,{theme:r,children:e=>(0,i.jsx)(b.T,{className:e,leading:t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.P3F,{className:P.button,onClick:()=>{R.setState({isOpen:!R.getState().isOpen})},children:(0,i.jsx)(w,{})}),(0,i.jsx)(o.P3F,{className:P.button,onClick:()=>{d.Z.open(L.oAB.ACCOUNT)},children:(0,i.jsx)(o.ewm,{size:"xs",color:"currentColor"})})]}),title:(0,i.jsx)(j,{}),trailing:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{canShowReminder:!0,className:P.button}),(0,i.jsx)(I.Z,{className:P.button}),n?(0,i.jsx)(_.Z,{className:P.button}):(0,i.jsx)(g.Z,{className:P.button}),(0,i.jsx)(f.Z,{className:P.button})]})})})}function w(){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:P.icon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,i.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,i.jsx)("path",{d:"M9 3v18"})]})}},635395:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i=n(192379),l=n(442837),r=n(846027),a=n(230711),s=n(91896),o=n(849862),d=n(888369),c=n(131951),u=n(292959),h=n(19780),m=n(699516),p=n(606304),g=n(358085),_=n(998502),f=n(981631);let E=(0,g.isMac)()?null:"DEFAULT";class I extends i.PureComponent{componentDidMount(){_.ZP.setSystemTrayIcon(this.getIcon())}componentDidUpdate(){_.ZP.setSystemTrayIcon(this.getIcon())}componentWillUnmount(){_.ZP.setSystemTrayIcon(E)}render(){return null}constructor(...e){var t,n;super(...e),t="getIcon",n=()=>{let{deafened:e,muted:t,speaking:n,connected:i,unread:l}=this.props,r=E;return(0,g.isMac)()&&!i?r:(0,g.isLinux)()||!i?(l&&(r="UNREAD"),r):r=e?"DEAFENED":t?"MUTED":n?"SPEAKING":"CONNECTED"},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let C=()=>null;g.isPlatformEmbedded&&(_.ZP.on("SYSTEM_TRAY_TOGGLE_MUTE",()=>r.Z.toggleSelfMute({location:"System Tray"})),_.ZP.on("SYSTEM_TRAY_TOGGLE_DEAFEN",()=>r.Z.toggleSelfDeaf()),_.ZP.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",()=>{a.Z.open(f.oAB.VOICE)}),C=l.ZP.connectStores([h.Z,c.Z,p.Z,d.default,m.Z,u.Z,s.Z],()=>{let e=d.default.getTotalMentionCount(),t=d.default.hasAnyUnread(),n=(0,o.m$)([m.Z,s.Z]),i=u.Z.getDisableUnreadBadge();return{connected:h.Z.isConnected(),speaking:p.Z.isCurrentUserSpeaking(),muted:c.Z.isSelfMute()||c.Z.isSelfMutedTemporarily(),deafened:c.Z.isSelfDeaf(),unread:!i&&!!(t||e+n>0)}})(I));let N=C},264165:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(60790);let s=e=>{let{aspectRatio:t,style:n,className:l,children:s}=e;return(0,i.jsx)("div",{className:r()(a.outer,l),style:{paddingTop:"".concat(1/t*100,"%"),...n},children:(0,i.jsx)("div",{className:a.inner,children:s})})}},935347:function(e,t,n){n.d(t,{Z:()=>L}),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),d=n(442837),c=n(433517),u=n(481060),h=n(205355),m=n(607070),p=n(38618),g=n(197344),_=n(460181),f=n(474873),E=n(706454),I=n(215427),C=n(820254),N=n(358085),v=n(998502),T=n(905656),S=n(981631),A=n(388032),Z=n(249630);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends l.PureComponent{createSound(){let{soundpack:e}=this.props,t=(0,_.uk)("discodo",e);return t.volume=1,t}componentDidMount(){this.setProblemsTimeout()}componentDidUpdate(e,t){let{ready:n,hide:i,problems:l}=this.state,{connected:r,soundpack:a}=this.props,s=r&&n&&!i&&!l;e.soundpack!==a&&(this._connectedSound=this.createSound()),e.connected!==r||s?(r&&null!=this.videoRef&&c.K.get(S.wli)&&this._connectedSound.play(),this.setState({problems:!1,hide:r})):t.hide!==i?(i?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),setTimeout(()=>this.setState({shouldRender:!i}),200)):t.problems!==l&&l&&h.Z.checkIncidents()}componentWillUnmount(){this.clearProblemsTimeout()}render(){let{connected:e,incident:t}=this.props,{hide:n}=this.state;if(!this.state.shouldRender)return null;{let l=this._loadingText,r=null;return null!=this._eventLoadingText&&(l=this._eventLoadingText),null!=t&&(l=t.name,r=t.incident_updates[0].body),(0,i.jsxs)("div",{className:Z.container,"data-fade":n,style:{"--connecting-container-fade-duration":"".concat(200,"ms"),"--connecting-content-fade-duration":"".concat(150,"ms")},children:[(0,i.jsxs)("div",{className:Z.content,children:[(0,i.jsx)(T.Z,{autoPlay:!0,loop:!e,setRef:this.setVideoRef,onReady:this.handleReady,className:a()(Z.spinner,this.state.ready?Z.ready:"")}),(0,i.jsxs)("div",{className:Z.text,children:[null!=t?null:(0,i.jsx)("div",{className:Z.tipTitle,children:A.intl.string(A.t.v0R1Li)}),(0,i.jsx)("div",{className:null!=t?Z.title:Z.tip,children:l}),(0,i.jsx)("div",{className:Z.body,children:r})]})]}),(0,i.jsxs)("div",{className:a()(Z.problems,{[Z.slideIn]:this.state.problems}),children:[(0,i.jsx)("div",{className:Z.problemsText,children:A.intl.string(A.t.AG2zPD)}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(u.eee,{className:Z.twitterLink,href:S.yXt.TWITTER_SUPPORT,target:"_blank",children:[(0,i.jsx)(u.TAi,{size:"xs",color:"currentColor",className:Z.icon}),A.intl.string(A.t.KlyTbm)]}),(0,i.jsxs)(u.eee,{className:Z.statusLink,href:S.yXt.STATUS,target:"_blank",children:[(0,i.jsx)(C.Z,{className:Z.icon}),A.intl.string(A.t.AgXXy8)]})]})]})]})}}constructor(e){super(e),x(this,"videoRef",null),x(this,"_noProblemsTimeout",null),x(this,"_problemsTimeout",null),x(this,"_connectedSound",this.createSound()),x(this,"_loadingText",function(){let e=[A.intl.string(A.t.Ex79Ky),A.intl.string(A.t["+v5zsb"]),A.intl.string(A.t["RLx6+f"]),A.intl.string(A.t.Q1PZkJ),A.intl.string(A.t.x7sfVl),A.intl.format(A.t.PHuQsb,{tabHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"tab",className:Z.keybind},t)}),A.intl.string(A.t.UorX4e),A.intl.string(A.t["il/GZm"]),A.intl.string(A.t.HKBJv7),A.intl.format(A.t["FVVp7+"],{F6Hook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"f6",className:Z.keybind},t),tabHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"tab",className:Z.keybind},t)}),A.intl.string(A.t["7Y1hFB"]),A.intl.string(A.t["UcCW7+"]),A.intl.string(A.t.E5GhfX),A.intl.string(A.t.bANqo6),A.intl.string(A.t.yOEVDg),A.intl.string(A.t["u0Ra/P"]),A.intl.string(A.t.un4cQ0),A.intl.string(A.t["2cyYx8"]),A.intl.string(A.t.KCmze3),A.intl.string(A.t["C+hUc3"]),A.intl.string(A.t.I98MEB),A.intl.format(A.t.c0YCIy,{}),A.intl.string(A.t.z8AvIC),A.intl.string(A.t.IjX3Pz),A.intl.string(A.t.lg3CkZ),A.intl.string(A.t["4GaLhY"]),A.intl.string(A.t.qHKbU1),A.intl.string(A.t.mJxKDw),A.intl.string(A.t.iiQBXF),A.intl.string(A.t.YPD46e),A.intl.string(A.t.O8BpgY),A.intl.string(A.t.xzFwfn),A.intl.string(A.t["4G3fsb"]),A.intl.string(A.t["/jPyKC"]),A.intl.string(A.t["8x7D5e"]),A.intl.string(A.t.G6Q8Hx),A.intl.string(A.t["9Cx+xM"]),A.intl.string(A.t.WsZ8dX),A.intl.string(A.t.btoe7O),A.intl.string(A.t.E6Y0j4),A.intl.string(A.t["7KZ819"]),A.intl.string(A.t.hm7OKi),A.intl.string(A.t.H535i4),A.intl.string(A.t["08WJUV"]),A.intl.string(A.t.hhtfys),A.intl.string(A.t.on980d),A.intl.string(A.t.AL6c09),A.intl.string(A.t.iLTeFx),A.intl.string(A.t.b3vSu7),A.intl.string(A.t["f8ao5+"]),A.intl.format(A.t["1v1h8v"],{asterisks:"**"}),A.intl.format(A.t.MUlAVV,{quickSwitcherHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"mod+k",className:Z.keybind},t)}),A.intl.format(A.t.aes5VF,{markUnreadHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"alt+click",className:Z.keybind},t)}),A.intl.format(A.t.md9Svr,{markServerUnreadHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"shift+esc",className:Z.keybind},t)}),A.intl.format(A.t["X0Tu+v"],{navigateUnreadHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"shift+alt+up",className:Z.keybind},t),downHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"down",className:Z.keybind},t)}),A.intl.format(A.t.AkoeIS,{keyboardShortcutsHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"mod+/",className:Z.keybind},t)}),A.intl.format(A.t.P9sfAA,{messageNewlineHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"shift+return",className:Z.keybind},t)}),A.intl.format(A.t["3Ox33d"],{shiftHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"shift",className:Z.keybind},t)}),A.intl.format(A.t.enCV6e,{upHook:(e,t)=>(0,i.jsx)(u.M2$,{shortcut:"up",className:Z.keybind},t)})];return E.default.locale.startsWith("en-")&&e.push(A.intl.string(A.t.dQ9Wqq)),e[o().random(e.length-1)]}()),x(this,"_eventLoadingText",function(){let e=g.Z.getLoadingTips();if(null!=e&&e.length>0)return e[o().random(e.length-1)]}()),x(this,"handleReady",()=>{this.setState({ready:!0}),(0,N.isDesktop)()&&(v.ZP.send("UPDATED_QUOTES",["Hold Tight — Loading Discord"]),v.ZP.send("UPDATE_OPEN_ON_STARTUP"))}),x(this,"setVideoRef",e=>{this.videoRef=e}),x(this,"setProblemsTimeout",()=>{null==this._problemsTimeout&&(this._problemsTimeout=setTimeout(()=>this.setState({problems:!0}),1e4))}),x(this,"clearProblemsTimeout",()=>{clearTimeout(this._problemsTimeout),this._problemsTimeout=null});let{connected:t}=e;this.state={ready:t,hide:t,problems:!1,shouldRender:!t},this._connectedSound.volume=1}}let L=d.ZP.connectStores([p.Z,I.Z,f.Z,m.Z],()=>({isTryingToConnect:p.Z.isTryingToConnect(),connected:p.Z.isConnected(),incident:I.Z.getIncident(),soundpack:f.Z.getSoundpack(),reducedMotion:m.Z.useReducedMotion}))(e=>{let{isTryingToConnect:t,connected:n,incident:l,soundpack:r,reducedMotion:a}=e;return t?(0,i.jsx)(b,{reducedMotion:a,soundpack:r,connected:n,incident:l}):null})},606081:function(e,t,n){n.d(t,{Z:()=>I}),n(411104);var i,l,r,a,s=n(200651),o=n(192379);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return{"@type":e,...function e(t){return Object.keys(t).forEach(n=>{null==t[n]?delete t[n]:"object"==typeof t[n]&&(t[n]=e(t[n]))}),t}(function(e){let t;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw Error("[JSONLD] Invalid object format")}return t}(t))}}function u(e){return c("Thing",e)}function h(e){return c("Product",e)}h.Image=function(e){if(null==e)return null;let t=e.filter(e=>null!=e&&""!==e);return 0===t.length?null:1===t.length?t[0]:t};var m=((l=m||{}).DAMAGED="http://schema.org/DamagedCondition",l.NEW="http://schema.org/NewCondition",l.REFURBISHED="http://schema.org/RefurbishedCondition",l.USED="http://schema.org/UsedCondition",l),p=((r=p||{}).DISCONTINUED="http://schema.org/Discontinued",r.IN_STOCK="http://schema.org/InStock",r.IN_STORE_ONLY="http://schema.org/InStoreOnly",r.LIMITED_AVAILABILITY="http://schema.org/LimitedAvailability",r.ONLINE_ONLY="http://schema.org/OnlineOnly",r.OUT_OF_STOCK="http://schema.org/OutOfStock",r.PREORDER="http://schema.org/PreOrder",r.PRESALE="http://schema.org/PreSale",r.SOLD_OUT="http://schema.org/SoldOut",r);function g(e){return c("Offer",e)}g.ItemConditions=m,g.ItemAvailability=p;var _=((a=_||{}).YEARLY="ANN",a.MONTHLY="MON",a);function f(e){return c("QuantitativeValue",e)}f.UnitCodes=_;class E extends(i=o.Component){render(){let{debug:e,data:t}=this.props,n=JSON.stringify({"@context":"http://schema.org",...t});return(0,s.jsx)("script",{type:"application/ld+json",children:n})}}d(E,"Thing",u),d(E,"Brand",u),d(E,"Person",function(e){return c("Person",e)}),d(E,"Organization",function(e){return c("Organization",e)}),d(E,"ItemPage",function(e){return c("ItemPage",e)}),d(E,"Product",h),d(E,"Offer",g),d(E,"Rating",function(e){return c("Rating",e)}),d(E,"AggregateRating",function(e){return c("AggregateRating",e)}),d(E,"AggregateOffer",function(e){return c("AggregateOffer",e)}),d(E,"QuantitativeValue",f),d(E,"UnitPriceSpecification",function(e){return c("UnitPriceSpecification",e)});let I=E},548816:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(747219);function o(e){let{padded:t=!0,inset:n=!1,active:l=!1,className:o,children:d,onClick:c,...u}=e;return null!=c?(0,i.jsx)(a.P3F,{onClick:c,tabIndex:null!=c?0:-1,className:r()(o,{[s.outer]:!n,[s.inset]:n,[s.padded]:t,[s.active]:l,[s.interactive]:null!=c}),...u,children:d}):(0,i.jsx)("div",{className:r()(o,{[s.outer]:!n,[s.inset]:n,[s.padded]:t,[s.active]:l}),...u,children:d})}},120998:function(e,t,n){n.d(t,{Z:()=>h}),n(47120);var i,l=n(200651),r=n(192379),a=n(392711),s=n.n(a),o=n(302221),d=n(281642);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends(i=r.PureComponent){onDataUpdate(e,t){let{maxValue:n,data:i,animate:l}=this.props,r=null==e||e.data!==t.data&&!s().isEqual(e.data,t.data);if(r&&(this.dataChangedAt=performance.now(),this.maxValue=null!=n?n:Math.max(...i)),r||null==e||!e.animate&&l||e.color!==this.props.color){let e=o.oo(this.props.color);this.fillColor="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", 0.5)"),window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}}componentDidMount(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)}componentDidUpdate(e){this.onDataUpdate(e,this.props)}componentWillUnmount(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0}render(){let{className:e,pixelWidth:t,pixelHeight:n}=this.props;return(0,l.jsx)("div",{className:e,children:(0,l.jsx)("canvas",{ref:this.canvas,className:d.canvas,width:t,height:n})})}constructor(...e){super(...e),c(this,"dataChangedAt",void 0),c(this,"fillColor",void 0),c(this,"maxValue",void 0),c(this,"canvas",r.createRef()),c(this,"animationFrameRequestId",void 0),c(this,"updateAnimation",e=>{let t,n;let i=this.canvas.current;if(null==i)return;let{data:l,updateInterval:r,color:a,numUpdatesToShow:s,lineWidth:d,animate:c,gradientStopColor:u}=this.props;if(l.length<2)return;let h=Math.max(Math.min((e-this.dataChangedAt)/r,1),0),m=i.getContext("2d"),p=this.maxValue;m.strokeStyle=a,m.lineWidth=d;let g=i.height-m.lineWidth,_=m.createLinearGradient(0,0,0,g);if(null!=u)_.addColorStop(0,u);else{let{r:e,g:t,b:n}=o.oo(a);_.addColorStop(0,"rgba(".concat(e,", ").concat(t,", ").concat(n,", 0)"))}_.addColorStop(1,this.fillColor),m.fillStyle=_;let f=l.length>=s?s:l.length;m.setTransform(1,0,0,-1,0,i.height),m.clearRect(0,0,i.width,i.height),m.translate(0,.5*m.lineWidth);let E=Math.floor(i.width/(f-3)),I=.5*E;m.translate(E-E*h,0),m.beginPath();let C=-E;l.forEach((e,i)=>{t={x:C,y:g*e/p},0===i?m.moveTo(t.x,t.y):m.bezierCurveTo(n.x+I,n.y,t.x-I,t.y,t.x,t.y),n=t,C+=E}),m.stroke(),m.lineTo(C-E,0),m.lineTo(0,0),m.fill(),c&&h<1&&(this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation))})}}c(u,"defaultProps",{animate:!0});let h=u},423e3:function(e,t,n){n.d(t,{M:()=>d});var i=n(645727),l=n(703656),r=n(896797),a=n(984933),s=n(944486),o=n(981631);function d(e,t){if((0,i.k)({kind:"channel"}),s.Z.getChannelId(e)===t){var n;(0,l.dL)(o.Z5c.CHANNEL(e,null===(n=a.ZP.getDefaultChannel(e))||void 0===n?void 0:n.id))}else(0,l.dL)(r.Z.defaultRoute)}},823169:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(570140),l=n(317770),r=n(430824),a=n(594174),s=n(358085),o=n(53365),d=n(981631);class c extends l.Z{_initialize(){i.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}_terminate(){i.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}constructor(...e){var t,n;super(...e),t="maybeFetchEligiblity",n=async()=>{if((0,s.isDesktop)()||(0,s.isWeb)()){let e=Object.values(r.Z.getGuilds()),t=a.default.getCurrentUser(),n=e.filter(e=>e.isOwner(t)&&!e.hasFeature(d.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.hasFeature(d.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.hasFeature(d.oNc.CREATOR_MONETIZABLE_DISABLED)&&(e.hasFeature(d.oNc.CREATOR_MONETIZABLE)||e.hasFeature(d.oNc.CREATOR_MONETIZABLE_PROVISIONAL)));n.length>0&&await (0,o.av)(n.map(e=>e.id))}},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let u=new c},427217:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(584973),s=n(52833);function o(e){let{activity:t,className:n,emojiClassName:l,textClassName:o,placeholderText:d,soloEmojiClassName:c,animate:u=!0,hideTooltip:h=!1,hideEmoji:m=!1,children:p}=e;if(null==t)return null;let{emoji:g}=t,_=null!=t.state&&""!==t.state?t.state:d;return(0,i.jsxs)("div",{className:r()(s.__invalid_container,n),children:[m||null==g?null:(0,i.jsx)(a.Z,{emoji:g,className:r()(s.emoji,l,null!=c?{[c]:null==_||""===_}:null),animate:u,hideTooltip:h}),null!=_&&_.length>0?(0,i.jsx)("span",{className:o,children:_}):null,p]})}},741764:function(e,t,n){n.d(t,{J:()=>i,N:()=>l});let i=800,l=500},845767:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var i=n(570140),l=n(317770),r=n(594174);class a extends l.Z{_initialize(){i.Z.subscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),i.Z.subscribe("LOGOUT",this._maybeStopDevSession)}_terminate(){i.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),i.Z.unsubscribe("LOGOUT",this._maybeStopDevSession)}_maybeStartDevSession(){if(null==window.DiscordDevSession||!0!==window.__METICULOUS_ENABLED)return;let e=r.default.getCurrentUser();if((null==e?void 0:e.email)==null||e.isStaff())return;let[t]=e.email.split("@"),n=t.includes("+"),i=e.username.startsWith("mtcls");n&&i?window.DiscordDevSession.start():window.DiscordDevSession.stop()}_maybeStopDevSession(){null!=window.DiscordDevSession&&window.DiscordDevSession.started&&window.DiscordDevSession.stop()}}let s=new a},176787:function(e,t,n){n.d(t,{bG:()=>a,bY:()=>s});var i,l=n(358085),r=n(75060),a=((i={})[i.UNHANDLED=-1]="UNHANDLED",i[i.NOMINAL=0]="NOMINAL",i[i.FAIR=1]="FAIR",i[i.SERIOUS=2]="SERIOUS",i[i.CRITICAL=3]="CRITICAL",i);function s(){return function(e){if(null==e)return -1;if((0,l.isIOS)())return e;if(!(0,l.isAndroid)())return -1;switch(e){case 0:return 0;case 1:case 2:return 1;case 3:return 2;case 4:case 5:case 6:return 3;default:return -1}}(r.Z.getRawThermalState())}},620360:function(e,t,n){n.d(t,{Z:()=>r});var i=n(570140),l=n(211644);let r={init(){i.Z.subscribe("CONNECTION_OPEN",()=>{(0,l.mc)()}),i.Z.subscribe("LOGOUT",()=>{(0,l.mc)()})}}},934401:function(e,t,n){var i,l,r,a=n(442837),s=n(570140),o=n(353926),d=n(160462);function c(){d.W.trigger()}class u extends(r=a.ZP.Store){initialize(){this.waitFor(o.Z)}constructor(){super(s.Z,{CONNECTION_OPEN:c},s.c.Early)}}l="ExperimentTriggerPointStore",(i="displayName")in u?Object.defineProperty(u,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[i]=l,new u},431253:function(e,t,n){n.d(t,{u:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_anniversaries",label:"Test User Auth Apply Filter Anniversaries",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},664344:function(e,t,n){n.d(t,{Z:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_badges",label:"Test User Auth Apply Filter Badges",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},662479:function(e,t,n){n.d(t,{z:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter",label:"Test User Auth Apply Filter",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},565908:function(e,t,n){n.d(t,{L:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_install",label:"Test User Auth Apply Filter Install",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},743001:function(e,t,n){n.d(t,{p:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_marketing",label:"Test User Auth Apply Filter Marketing",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},387155:function(e,t,n){n.d(t,{T:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_overlay",label:"Test User Auth Apply Filter Overlay",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},641892:function(e,t,n){n.d(t,{g:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_soundmoji",label:"Test User Auth Apply Filter Soundmoji",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},740399:function(e,t,n){n.d(t,{u:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_viewer",label:"Test User Auth Apply Filter Viewer",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},955523:function(e,t,n){n.d(t,{s:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter_anniversaries",label:"Test User Auth Filter Anniversaries",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},782095:function(e,t,n){n.d(t,{R:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter_badges",label:"Test User Auth Filter Badges",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},717895:function(e,t,n){n.d(t,{I:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter",label:"Test User Auth Filter",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},63639:function(e,t,n){n.d(t,{b:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter_install",label:"Test User Auth Filter Install",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},587077:function(e,t,n){n.d(t,{S:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter_marketing",label:"Test User Auth Filter Marketing",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},573555:function(e,t,n){n.d(t,{D:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter_overlay",label:"Test User Auth Filter Overlay",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},970071:function(e,t,n){n.d(t,{p:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter_soundmoji",label:"Test User Auth Filter Soundmoji",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},17535:function(e,t,n){n.d(t,{r:()=>r});var i=n(987170),l=n(987338);let r=(0,i.Z)({kind:"user",id:"2025-02_test_user_auth_filter_viewer",label:"Test User Auth Filter Viewer",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},160462:function(e,t,n){n.d(t,{W:()=>J});var i=n(214629),l=n(422483),r=n(424602),a=n(291574),s=n(162461),o=n(990266),d=n(539746),c=n(216742),u=n(330791),h=n(982330),m=n(621012),p=n(614185),g=n(32300),_=n(111810),f=n(646476),E=n(557017),I=n(522558),C=n(599659),N=n(278605),v=n(163684),T=n(471309),S=n(464900),A=n(493959),Z=n(50101),x=n(722932),b=n(125900),L=n(708711),y=n(922611),O=n(75556),P=n(431253),R=n(664344),j=n(662479),D=n(565908),w=n(743001),M=n(387155),k=n(641892),U=n(740399),G=n(955523),B=n(782095),V=n(717895),H=n(63639),F=n(587077),z=n(573555),W=n(970071),Y=n(17535),K=n(91641),q=n(598984),X=n(987338);let Q=[q.NR,q.ZI,q.Ob,q.uc,q.m1,P.u,R.Z,j.z,D.L,w.p,M.T,k.g,U.u,G.s,B.R,V.I,H.b,F.S,z.D,W.p,Y.r,d.J$,u.bb,v.g,C.O,I.w,r._f,a.Z,c.g,y.S2,m.m,b.J2,x.zv,Z.ZP,h.Yu,i.ZP,l.Z,f.ZP,f.Ys,_.HZ,p.E,N.ah,S.L,E.t,A.sf,g.zu,g.OV,T.E,L.Z,o.i,O.V,s.MY],J=new K.E(Q,X.$P.CONNECTION_OPEN,{location:"app open"})},96051:function(e,t,n){n.d(t,{Z:()=>o});var i=n(570140),l=n(317770),r=n(117984);function a(e){let{channel:{id:t}}=e;(0,r.oC)(t)}class s extends l.Z{_initialize(){i.Z.subscribe("CHANNEL_DELETE",a)}_terminate(){i.Z.unsubscribe("CHANNEL_DELETE",a)}}let o=new s},750995:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651);n(192379);var l=n(704215),r=n(481060),a=n(570140),s=n(317770),o=n(605236),d=n(650774),c=n(430824),u=n(496675),h=n(228392),m=n(981631),p=n(921944);let g=e=>{var t;let n=c.Z.getGuild(e),i=!!(null==n?void 0:n.hasFeature(m.oNc.COMMUNITY)),r=u.Z.can(m.Plq.MANAGE_CHANNELS,n),a=(0,o.un)(l.z.FORUM_CHANNEL_UPSELL_MODAL),s=null!==(t=d.Z.getMemberCount(e))&&void 0!==t?t:0;return i&&r&&!a&&s>=200};class _ extends s.Z{_initialize(){a.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)}_terminate(){a.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)}handleChannelSelect(e){let{guildId:t}=e;if(null==t||!g(t))return;(0,h.qz)(),(0,o.kk)(l.z.FORUM_CHANNEL_UPSELL_MODAL);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.L.DISMISS;(0,o.EW)(l.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,r.ZDy)(async()=>{let{default:e}=await n.e("18417").then(n.bind(n,740696));return n=>(0,i.jsx)(e,{...n,onClose:e=>{a(e),n.onClose()},guildId:t,shouldUpsellCreation:!0})},{onCloseCallback:()=>(0,o.EW)(l.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:p.L.DISMISS}),onCloseRequest:m.VqG})}}let f=new _},388380:function(e,t,n){n.d(t,{Z:()=>a});var i=n(544891),l=n(570140),r=n(981631);let a={async fetch(){try{let e=await i.tn.get({url:r.ANM.FRIEND_SUGGESTIONS,rejectWithError:!0});l.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_SUCCESS",suggestions:e.body})}catch(e){l.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_FAILURE"})}},ignore(e){i.tn.del({url:r.ANM.FRIEND_SUGGESTION(e),rejectWithError:!0})}}},5254:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i,l,r,a=n(392711),s=n.n(a),o=n(442837),d=n(570140),c=n(598077),u=n(594174),h=n(388380),m=n(72937);let p={},g=0,_=!1,f=!1;function E(e){var t;let n=null!=e.contact_names&&e.contact_names.length>=2?e.contact_names.slice(0,2):[];return{key:e.suggested_user.id,name:null===(t=s().first(e.reasons))||void 0===t?void 0:t.name,user:new c.Z(e.suggested_user),mutualFriendsCount:e.mutual_friends_count,contactNames:n}}class I extends(i=o.ZP.Store){initialize(){this.waitFor(u.default)}getSuggestionCount(){return g}getSuggestions(){return Object.entries(p).map(e=>{let[t,n]=e;return n})}getSuggestion(e){return p[e]}}r="FriendSuggestionStore",(l="displayName")in I?Object.defineProperty(I,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):I[l]=r;let C=new I(d.Z,{CONNECTION_OPEN:function(e){p={},(g=e.friendSuggestionCount)>0?(f=!0,_||!f||(_=!0,f=!1,h.Z.fetch())):(0,m.Z)()},FRIEND_SUGGESTION_CREATE:function(e){let t=E(e.suggestion);if(null!=p[t.key])return!1;g++,p={...p,[t.key]:t}},FRIEND_SUGGESTION_DELETE:function(e){g=Math.max(0,--g),delete p[e.suggestedUserId]},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){var t;_=!1,t=e.suggestions,p=s().chain(t).map(e=>E(e)).keyBy(e=>e.key).value(),g=s().keys(p).length},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(){_=!1,p={}}})},72937:function(e,t,n){function i(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}n.d(t,{Z:()=>i}),n(570140),n(594174)},935261:function(e,t,n){n.d(t,{Z:()=>_});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(797258),d=n(374129),c=n(639351),u=n(565473),h=n(927923),m=n(388032),p=n(718418);function g(e){let{platform:t}=e;return t===h.YE.XBOX?(0,i.jsx)(c.Z,{className:p.icon}):t===h.YE.PLAYSTATION?(0,i.jsx)(d.Z,{className:p.icon}):null}function _(e){let{voiceState:t,awaitingRemoteSessionInfo:n}=e,l=null!=n?(0,u.y)(n.type):null,d=(0,a.e7)([o.Z],()=>{var e,n;return null===(e=o.Z.getSessionById(null!==(n=null==t?void 0:t.sessionId)&&void 0!==n?n:""))||void 0===e?void 0:e.clientInfo.os}),c=null!=l?l:d;if(null==c||!h.al.has(c))return null;let _=null!=n,f=_?c===h.YE.XBOX?m.intl.string(m.t.UjA4HR):m.intl.string(m.t.QCw1oa):c===h.YE.XBOX?m.intl.format(m.t["ynEs/f"],{}):m.intl.format(m.t.TZ17Bg,{});return(0,i.jsxs)("div",{className:r()(p.root,_?p.connecting:p.connected),children:[(0,i.jsx)(g,{platform:c}),(0,i.jsx)(s.Text,{color:_?"header-primary":"always-white",variant:"text-xs/medium",children:f})]})}},408026:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(570140),l=n(224706),r=n(710845),a=n(77498);let s={};function o(e){let{name:t,hash:n,missingData:i}=e;for(let e of(a.Z.markGameReported(t),i)){if("icon"===e){let e=s[t];null!=e&&l.Z.uploadIcon(t,n,e);return}new r.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(e))}}function d(e){let{gameName:t,icon:n}=e;s[t]=n}let c={initialize(){i.Z.subscribe("UNVERIFIED_GAME_UPDATE",o),i.Z.subscribe("GAME_ICON_UPDATE",d)}}},763916:function(e,t,n){n.d(t,{Z:()=>o});var i=n(570140),l=n(812206),r=n(877481),a=n(592745);function s(e){let{gameId:t}=e;!function(e){let t;let n=a.Z.launchableGames[e],s=l.Z.getApplication(e);(null!=s?r.Z.isLaunchable(s):r.Z.isGameLaunchable(e)).then(t=>{t!==n&&i.Z.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:e,isLaunchable:t})})}(t)}let o={initialize(){i.Z.subscribe("CHECK_LAUNCHABLE_GAME",s)}}},306721:function(e,t,n){n.d(t,{Z:()=>a});var i=n(401430),l=n(283595),r=n(695103);let a={init(){l.Z.whenInitialized(()=>{null!=r.Z.testModeApplicationId&&(0,i.Wt)(r.Z.testModeApplicationId,r.Z.testModeOriginURL)})}}},531551:function(e,t,n){n.d(t,{Z:()=>d}),n(411104);var i=n(570140),l=n(51025),r=n(314897),a=n(804739);function s(){if(!(0,a.Q)())return;let e=r.default.getToken(),t=r.default.getId();if(null==e)throw Error("missing user token");l.S1(e,t)}function o(){l.ob()}let d={init(){i.Z.subscribe("CONNECTION_OPEN",s),i.Z.subscribe("LOGOUT",o)}}},304106:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(55935),d=n(981631),c=n(388032),u=n(25671);let h=e=>{let{IconComponent:t,className:n}=e;return(0,i.jsx)("div",{className:a()(u.iconCircle,n),children:(0,i.jsx)(t,{className:u.icon,color:"currentColor"})})},m=e=>{let{circle:t,smallHeader:n,text:l,className:r}=e;return(0,i.jsxs)("div",{className:a()(u.recommendationReason,r),children:[t,(0,i.jsxs)("div",{className:u.description,children:[null!=n?(0,i.jsx)("div",{className:u.smallHeader,children:n}):null,(0,i.jsx)("div",{className:u.text,children:l})]})]})};class p extends l.Component{render(){let{reason:e,className:t}=this.props;return e.type===d.AzA.RECENT_RELEASE_DATE?(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:s.Que}),smallHeader:c.intl.string(c.t.u81aYW),text:(0,o.vc)(e.releaseDate,"LL")}):e.type===d.AzA.RELEASE_DATE?(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:s.Que}),smallHeader:c.intl.string(c.t.qpwaNT),text:(0,o.vc)(e.releaseDate,"LL")}):e.type===d.AzA.EARLY_ACCESS?null!=e.releaseDate?(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:s.d$P,className:u.earlyAccess}),smallHeader:c.intl.string(c.t.HYys0t),text:(0,o.vc)(e.releaseDate,"LL")}):(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:s.d$P,className:u.earlyAccess}),text:c.intl.string(c.t.HYys0t)}):e.type===d.AzA.FLAVOR_TEXT?(0,i.jsx)(m,{circle:(0,i.jsx)(h,{IconComponent:s.dz2}),text:e.flavorText,className:t}):e.type===d.AzA.HAS_FREE_PREMIUM_CONTENT?(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:s.SrA,className:u.premiumCircle}),text:c.intl.string(c.t.R9SwVl)}):null}}},766219:function(e,t,n){n.d(t,{I:()=>s,s:()=>a});var i=n(823379),l=n(49898),r=n(388032);function a(e){switch(e){case l.GlobalDiscoveryTab.SERVERS:return r.intl.string(r.t["+Anbp6"]);case l.GlobalDiscoveryTab.APPS:return r.intl.string(r.t.bGwCoa);case l.GlobalDiscoveryTab.QUESTS:return r.intl.string(r.t.EcaD4e);default:(0,i.vE)(e)}}function s(e){if(e.startsWith("/discovery/applications"))return l.GlobalDiscoveryTab.APPS;switch(e){case"/discovery/quests":return l.GlobalDiscoveryTab.QUESTS;case"/discovery/servers":return l.GlobalDiscoveryTab.SERVERS;default:return l.GLOBAL_DISCOVERY_DEFAULT_TAB}}},724383:function(e,t,n){n.d(t,{Z:()=>E});var i=n(200651),l=n(192379),r=n(512969),a=n(442837),s=n(252618),o=n(353926),d=n(319443),c=n(106075),u=n(121711),h=n(823379),m=n(571457),p=n(836768),g=n(766219),_=n(49898),f=n(624527);let E=function(){let e=(0,a.e7)([o.Z],()=>o.Z.hasLoadedExperiments),t=p.Z.useField("selectedTab"),n=function(e){switch(e){case _.GlobalDiscoveryTab.SERVERS:return(0,i.jsx)(c.Z,{});case _.GlobalDiscoveryTab.APPS:return(0,i.jsx)(d.default,{});case _.GlobalDiscoveryTab.QUESTS:return(0,i.jsx)(u.Z,{});default:(0,h.vE)(e)}}(t),E=(0,r.TH)();return l.useEffect(()=>{let e=E.pathname,t=(0,g.I)(e);t!==p.Z.getField("selectedTab")&&p.Z.setState({selectedTab:t})},[E.pathname]),l.useEffect(()=>{e&&(0,m.RI)({selectedTab:t})},[t,e]),(0,i.jsxs)("section",{className:f.container,children:[(0,i.jsx)(s.yY,{location:(0,g.s)(t)}),(0,i.jsx)("div",{className:f.dragRegion}),n]})}},175307:function(e,t,n){n.d(t,{u:()=>o});var i=n(200651);n(192379);var l=n(780384),r=n(481060),a=n(410030),s=n(660541);function o(e){let{text:t,onClick:n}=e,o=(0,a.ZP)(),d=(0,l.wj)(o);return(0,i.jsxs)(r.zxk,{size:"medium",color:d?r.Ttl.TRANSPARENT:r.Ttl.WHITE,className:s.button,onClick:n,innerClassName:s.innerButton,children:[(0,i.jsx)(r.Text,{variant:"text-sm/semibold",color:"header-primary",children:t}),(0,i.jsx)(r.Gr1,{size:"sm",color:r.TVs.colors.HEADER_PRIMARY})]})}},135864:function(e,t,n){n.d(t,{Z:()=>T});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(636977),o=n(481060),d=n(132871),c=n(147890),u=n(31569),h=n(164991),m=n(859921),p=n(220068),g=n(836768),_=n(766219),f=n(749681),E=n(49898),I=n(46140),C=n(388032),N=n(270249);function v(e){let{tab:t}=e,n=g.Z.useField("selectedTab"),r=l.useMemo(()=>(function(e){switch(e){case E.GlobalDiscoveryTab.SERVERS:return(0,i.jsx)(o.QTo,{color:"currentColor"});case E.GlobalDiscoveryTab.APPS:return(0,i.jsx)(o.jje,{color:"currentColor"});case E.GlobalDiscoveryTab.QUESTS:return(0,i.jsx)(o.qDn,{color:"currentColor"})}})(t),[t]),C=l.useMemo(()=>(0,_.s)(t),[t]),v=n===t,T=l.useCallback(()=>{switch(t){case E.GlobalDiscoveryTab.QUESTS:return v&&p.Z.resetState(),(0,f.transitionToGlobalDiscovery)({tab:E.GlobalDiscoveryTab.QUESTS,location:I.dr.DISCOVERY_SIDEBAR,questContent:s.j.DISCOVERY_SIDEBAR});case E.GlobalDiscoveryTab.APPS:if(!v)return(0,c.dx)({restorePreviousView:!0,entrypoint:{name:d.n3.GLOBAL_DISCOVERY_SIDEBAR}});u.Z.resetState(),(0,f.transitionToGlobalDiscovery)({tab:t});return;case E.GlobalDiscoveryTab.SERVERS:if(!v)return(0,f.transitionToGlobalDiscovery)({tab:t});h.Z.resetState(),m.Z.resetState();return;default:return(0,f.transitionToGlobalDiscovery)({tab:t})}},[t,v]);return(0,i.jsxs)(o.P3F,{onClick:T,className:a()(N.navItem,{[N.selected]:v}),children:[(0,i.jsx)("div",{className:N.navItemIcon,children:r}),(0,i.jsx)(o.Text,{variant:"text-md/medium",color:"none",children:C})]})}let T=function(){return(0,i.jsxs)("div",{className:N.container,children:[(0,i.jsx)("div",{className:N.header,children:(0,i.jsx)(o.X6q,{variant:"text-lg/semibold",children:C.intl.string(C.t["1KqYnp"])})}),(0,i.jsx)("nav",{className:N.nav,children:E.GLOBAL_DISCOVERY_TABS.map(e=>(0,i.jsx)(v,{tab:e},e))})]})}},782738:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(454008);let o=l.memo(function(e){let{className:t}=e;return(0,i.jsx)("div",{className:a()(t,s.cardPlaceholder)})})},371260:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),l=n(192379),r=n(642128),a=n(442837),s=n(481060),o=n(607070),d=n(454008);let c={mass:1,tension:600,friction:60,clamp:!0},u=function(e){let{animate:t,state:n,cleanUp:u,children:h}=e,m=(0,a.e7)([o.Z],()=>o.Z.useReducedMotion),p=l.useMemo(()=>!1===t||m?{opacity:1}:n===s.pJH.ENTERED||n===s.pJH.MOUNTED?{from:{opacity:0},to:{opacity:1},config:c}:{from:{opacity:1},to:{opacity:0},config:c,onRest:()=>{u()}},[t,u,m,n]),g=(0,s.q_F)(p);return(0,i.jsx)(r.animated.div,{style:g,className:d.transitionItem,children:h})}},8991:function(e,t,n){n.d(t,{E:()=>o}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(200651);n(192379);var l=n(512969),r=n(979007),a=n(981631),s=n(272242);function o(){let e=new URLSearchParams(location.search),t=e.get("q"),n=e.get("category_id");return e.delete("page"),(0,i.jsxs)(l.rs,{children:[null!=n&&null==t?(0,i.jsx)(l.l_,{path:a.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(a.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY("".concat(n)))}):(0,i.jsx)(l.l_,{path:a.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(a.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,"?").concat(e.toString())}),(0,i.jsx)(l.l_,{path:a.Z5c.APPLICATION_DIRECTORY_PROFILE_STORE_SKU(":applicationId",":skuId"),to:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId")}),(0,i.jsx)(l.l_,{path:a.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",s.c.STORE),to:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",r.GlobalDiscoveryAppsSections.STORE)}),(0,i.jsx)(l.l_,{path:a.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",s.c.PREMIUM_DEPRECATED),to:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",r.GlobalDiscoveryAppsSections.STORE)}),(0,i.jsx)(l.l_,{path:a.Z5c.APPLICATION_DIRECTORY_PROFILE(":applicationId"),to:{pathname:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId"),search:location.search}}),(0,i.jsx)(l.l_,{path:a.Z5c.APPLICATION_DIRECTORY,to:a.Z5c.GLOBAL_DISCOVERY_APPS})]})}},762692:function(e,t,n){n.d(t,{Z:()=>c}),n(653041);var i=n(544891),l=n(343817),r=n(570140),a=n(900849),s=n(726115),o=n(128449),d=n(981631);let c={fetchSearchResults:async function e(e,t){let{categoryId:n,languageCode:c,offset:u,limit:h,withCounts:m}=t;r.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_START",query:e,categoryId:n,languageCode:c});try{let t=await i.tn.get({url:d.ANM.GUILD_DISCOVERY_SEARCH,query:{query:e,category_id:n===o.Hk?null:n,offset:u,limit:h,language_code:c,with_counts:m},oldFormErrors:!0,rejectWithError:!1}),l=t.body.guilds.map(s.Iv),a=t.body.total_count;if(m){var p;let n=[];null===(p=t.body.categories)||void 0===p||p.slice(0,8).forEach(e=>{let{id:t,count:i}=e;n.push([Number(t),i])}),r.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:n})}r.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_SUCCESS",query:e,categoryId:n,languageCode:c,guilds:l,total:a})}catch(i){let t=new l.Hx(i);a.m9({categoryId:n,error:t,willRequestRetry:!1,isRequestRetry:!1}),m&&r.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:[]}),r.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_FAILURE",query:e,categoryId:n,languageCode:c,error:i})}},clearSearchResults:function(e){var t;r.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR",ignoreQueries:null!==(t=null==e?void 0:e.ignoreQueries)&&void 0!==t?t:[]})},resetSearchLayout:function(){r.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET"})}}},331114:function(e,t,n){n.d(t,{Z:()=>m}),n(47120);var i,l=n(442837),r=n(570140),a=n(881052);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=new Map;class d{handleSearchCountStart(){this.error=null,this.isFetching=!0}handleSearchCountSuccess(e){this.counts=e,this.isFetching=!1,this.isInitialFetchComplete=!0}handleSearchCountFailure(e){this.error=new a.Hx(e),this.isFetching=!1}constructor(){s(this,"isInitialFetchComplete",!1),s(this,"isFetching",!1),s(this,"error",null),s(this,"counts",null)}}function c(e){var t;let n=null!==(t=o.get(e))&&void 0!==t?t:new d;return o.set(e,n),n}function u(e,t){let n=o.get(e);return null!=n?t(n):null}class h extends(i=l.ZP.Store){getIsInitialFetchComplete(e){return u(e,e=>e.isInitialFetchComplete)}getIsFetchingCounts(e){return u(e,e=>e.isFetching)}getCounts(e){return u(e,e=>e.counts)}}s(h,"displayName","GlobalDiscoveryServersSearchCountStore");let m=new h(r.Z,{CONNECTION_OPEN:function(){o.clear()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_START:function(e){let{query:t}=e;c(t).handleSearchCountStart()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t,categoryCounts:n}=e;c(t).handleSearchCountSuccess(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_FAILURE:function(e){let{query:t,error:n}=e;c(t).handleSearchCountFailure(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR:function(e){let{ignoreQueries:t}=e,n=new Set(t);o.forEach((e,t)=>{n.has(t)||o.delete(t)})}})},537883:function(e,t,n){n.d(t,{Z:()=>m});var i,l,r,a=n(442837),s=n(570140),o=n(331114),d=n(356164);let c=[];function u(){c=[]}class h extends(r=a.ZP.Store){initialize(){this.waitFor(o.Z,d.Z)}getVisibleTabs(){return c}}l="GlobalDiscoveryServersSearchLayoutStore",(i="displayName")in h?Object.defineProperty(h,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):h[i]=l;let m=new h(s.Z,{CONNECTION_OPEN:u,GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET:u,GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t}=e,n=o.Z.getCounts(t);if(null==n)return!1;c=n}})},959165:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(900849),l=n(762692),r=n(331114),a=n(356164),s=n(164991);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d{}let c=new class extends d{constructor(...e){super(...e),o(this,"loadMoreCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:r,offset:s}=e;!a.Z.getIsFetching({query:t,categoryId:n,languageCode:r})&&a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:r})&&(i.qn({withCounts:!1,offset:s}),await l.Z.fetchSearchResults(t,{categoryId:n,languageCode:r,offset:s,limit:12,withCounts:!1}))}),o(this,"loadCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:r}=e,s=a.Z.getIsFetching({query:t,categoryId:n,languageCode:r}),o=a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:r});s||o||(i.qn({withCounts:!1,offset:0}),await l.Z.fetchSearchResults(t,{categoryId:n,languageCode:r,offset:0,limit:12,withCounts:!1}))}),o(this,"loadCategoryResultsAndCounts",async e=>{let{query:t,loadId:n,categoryId:a,languageCode:o}=e;if(""===t.trim())return;let d=r.Z.getIsFetchingCounts(t),c=r.Z.getIsFetchingCounts(t);d||c||(s.Z.setState({fetchedQuery:t,resultsQuery:""}),i.tI(n,a),i.qn({withCounts:!0,offset:0}),await l.Z.fetchSearchResults(t,{categoryId:a,languageCode:o,offset:0,limit:12,withCounts:!0}),s.Z.setState({resultsQuery:t}))})}}},164991:function(e,t,n){n.d(t,{Z:()=>r});var i=n(972959);let l=Object.freeze({query:"",languageCode:null,categoryId:n(128449).Hk,fetchedQuery:"",resultsQuery:"",resultsInitialCategoryId:null,scrollPosition:null}),r=(0,i.H)(()=>l)},444324:function(e,t,n){n.d(t,{Z:()=>r}),n(47120);var i=n(900849);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{markAsSeen(e,t,n){this.categoryId!==e&&(this.categoryId=e,this.flushSeenGuilds(n)),this.guildIds.add(t)}flushSeenGuilds(e){this.guildIds.size>0&&(i.Az(e,Array.from(this.guildIds)),this.guildIds.clear())}constructor(e){l(this,"guildIds",new Set),l(this,"categoryId",void 0),this.categoryId=e}}},216742:function(e,t,n){n.d(t,{g:()=>r});var i=n(818083),l=n(987338);let r=(0,i.B)({kind:"user",id:"2024-10_rapidash_discovery_plus",label:"Rapidash Discovery Plus",defaultConfig:{enabled:!1,treatment:"control"},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Discovery Plus Enabled",config:{enabled:!0,treatment:"discovery-plus"}}]})},783393:function(e,t,n){n.d(t,{E:()=>s}),n(47120);var i=n(442837),l=n(526429),r=n(128449),a=n(388032);function s(e){let{categoryId:t}=e;return(0,i.e7)([l.Z],()=>(function(e){let[t]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[l.Z];return e===r.Hk?a.intl.string(a.t.Omu0fX):t.getCategoryName(e)})(t,[l.Z]))}},294330:function(e,t,n){n.d(t,{Eo:()=>R,VD:()=>O,ZP:()=>j}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(622535),d=n(481060),c=n(668781),u=n(239091),h=n(881052),m=n(410030),p=n(686546),g=n(540059),_=n(66637),f=n(782738),E=n(371260),I=n(372769),C=n(134432),N=n(695346),v=n(768581),T=n(356164),S=n(890064),A=n(981631),Z=n(388032),x=n(743038),b=n(129512),L=n(330065),y=n(755386);function O(e){let{guild:t,onClick:r,onView:s}=e,f=(0,g.Q3)("BaseGlobalDiscoveryServersCard"),[E,T]=l.useState(!1),[O,P]=l.useState(!1),[R,j]=l.useState(!1),D=l.useCallback(async()=>{P(!0);try{await r(t.id)}catch(n){var e;let t=new h.Hx(n);c.Z.show({title:Z.intl.string(Z.t.R0RpRU),body:null!==(e=t.getAnyErrorMessage())&&void 0!==e?e:Z.intl.string(Z.t.eAn6z8)})}finally{P(!1)}},[t.id,r]),w=l.useCallback(e=>{e&&!E&&(T(!0),null==s||s(t.id))},[t.id,E,s]),M=l.useCallback(e=>{(0,u.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,858523));return n=>(0,i.jsx)(e,{...n,guild:t})})},[t]),k=(0,m.ZP)(),U=t.features.has(A.oNc.HUB),G=l.useMemo(()=>{let e=v.ZP.getGuildDiscoverySplashURL({id:t.id,splash:t.discoverySplash,size:300*(0,C.x_)()});if(null!=e)return e;if(U)return y;switch(k){case A.BRd.DARK:return b;case A.BRd.LIGHT:return L}},[t.discoverySplash,t.id,U,k]),B=f?48:40,V=l.useMemo(()=>v.ZP.getGuildIconURL({id:t.id,icon:t.icon,size:B}),[t.icon,t.id,B]),H=N.Sb.useSetting();return(0,i.jsxs)("div",{className:x.container,children:[O&&(0,i.jsx)("div",{className:x.spinnerContainer,children:(0,i.jsx)(d.$jN,{type:d.$jN.Type.PULSING_ELLIPSIS,className:x.spinner})}),(0,i.jsx)(o.$,{onChange:w,active:!E,threshold:.55,children:(0,i.jsxs)(_.Z,{className:x.card,onClick:D,disabled:O,onContextMenu:M,children:[(0,i.jsxs)("div",{className:x.header,children:[(0,i.jsx)("div",{className:a()(x.banner,{[x.loaded]:R}),children:(0,i.jsx)("img",{src:G,alt:"",className:x.bannerImage,onLoad:()=>j(!0)})}),H&&(0,i.jsx)(S.Z,{guild:t,className:x.contextMenu}),(0,i.jsx)("div",{className:x.icon,children:(0,i.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:B+8,height:B+8,children:(0,i.jsx)("div",{className:x.iconMask,children:(0,i.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:B,height:B,children:(0,i.jsx)("img",{src:V,alt:"",className:x.avatar})})})})})]}),(0,i.jsxs)("div",{className:x.guildDetails,children:[(0,i.jsxs)("div",{className:x.title,children:[(0,i.jsx)(I.Z,{className:x.guildBadge,guild:t,tooltipColor:d.ua7.Colors.PRIMARY}),(0,i.jsx)(d.X6q,{variant:"heading-md/semibold",className:x.guildName,children:t.name})]}),(0,i.jsx)(d.Text,{className:x.description,variant:"text-sm/normal",color:"header-secondary",children:t.description}),(0,i.jsxs)("div",{className:x.memberDetails,children:[null!=t.presenceCount&&(0,i.jsxs)("div",{className:x.memberDetailsCount,children:[(0,i.jsx)("div",{className:x.presenceCountDot}),(0,i.jsx)(d.Text,{className:x.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:Z.intl.format(Z.t["LC+S+v"],{membersOnline:t.presenceCount})})]}),null!=t.memberCount&&(0,i.jsxs)("div",{className:x.memberDetailsCount,children:[(0,i.jsx)("div",{className:x.memberCountDot}),(0,i.jsx)(d.Text,{className:x.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:Z.intl.format(Z.t.zRl6XV,{count:t.memberCount})})]})]})]})]})})]})}function P(e){let{guildId:t,onClick:n,onView:l}=e,r=(0,s.e7)([T.Z],()=>T.Z.getGuild(t));return null==r?null:(0,i.jsx)(O,{guild:r,onClick:n,onView:l})}function R(e){let{guildId:t,index:n,onClick:r,onView:a}=e,s=l.useRef(null==t),o=l.useCallback((e,t,n,l)=>null==t.guildId?(0,i.jsx)(E.Z,{state:n,cleanUp:l,children:(0,i.jsx)(f.Z,{className:x.placeholder})},e):(0,i.jsx)(E.Z,{state:n,cleanUp:l,animate:s.current,children:(0,i.jsx)(P,{guildId:t.guildId,onClick:r,onView:a})},e),[r,a]),c=l.useCallback(e=>{var t;return null!==(t=e.guildId)&&void 0!==t?t:"".concat(e.index)},[]),u=l.useMemo(()=>[{guildId:t,index:n}],[t,n]);return(0,i.jsx)("div",{className:x.transitionGroup,children:(0,i.jsx)(d.W3x,{items:u,renderItem:o,getItemKey:c})})}let j=l.memo(P)},890064:function(e,t,n){n.d(t,{Z:()=>h}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(951394),d=n(858523),c=n(388032),u=n(123621);let h=function(e){let{guild:t,className:n}=e,[r,h]=l.useState(!1),m=l.useCallback(()=>h(!0),[h]),p=l.useCallback(()=>h(!0),[h]);return(0,i.jsx)("div",{className:a()(u.actionButtonsContainer,n,{[u.forceButtonsShow]:r}),children:(0,i.jsx)(o.ZP,{children:(0,i.jsx)(d.R,{onRequestOpen:m,onRequestClose:p,guild:t,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(s.ua7,{text:c.intl.string(c.t.UKOtz8),hideOnClick:!0,children:e=>{let{onClick:l,...r}=e;return(0,i.jsx)(o.zx,{...n,...r,onClick:e=>{e.stopPropagation(),null==l||l(),t(e)},"aria-label":c.intl.string(c.t.UKOtz8),children:(0,i.jsx)(s.xhG,{size:"md",color:"currentColor",className:u.overflowIcon})})}})}})})})}},858523:function(e,t,n){n.d(t,{R:()=>c,default:()=>d});var i=n(200651),l=n(192379),r=n(481060),a=n(239091),s=n(299206),o=n(388032);function d(e){let{guild:t,shiftId:n,onSelect:d,closePopout:c,"aria-label":u}=e,h=(0,s.Z)({id:t.id,label:o.intl.string(o.t["94lLDw"]),shiftId:n,onSuccess:c}),m=l.useCallback(e=>{e.stopPropagation()},[]);return(0,i.jsx)(r.P3F,{onClick:m,children:(0,i.jsx)(r.v2r,{onSelect:d,navId:"guild-discovery-context-menu","aria-label":null!=u?u:o.intl.string(o.t.ogxXGh),onClose:a.Zy,children:(0,i.jsx)(r.kSQ,{children:h})})})}let c=e=>{let{guild:t,children:n,onRequestOpen:l,onRequestClose:a}=e;return(0,i.jsx)(r.yRy,{onRequestOpen:l,onRequestClose:a,animation:r.yRy.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(d,{guild:t,closePopout:n})},children:n})}},590771:function(e,t,n){n.d(t,{Z:()=>_});var i=n(200651),l=n(192379),r=n(442837),a=n(571457),s=n(823379),o=n(275131),d=n(356164),c=n(726115),u=n(962486),h=n(149788),m=n(128449);function p(e){let{onScroll:t,onGuildCardSeen:n,onGuildCardClick:a}=e,s=(0,r.e7)([d.Z],()=>{var e;return null!==(e=d.Z.getGuildIds({categoryId:m.Hk}))&&void 0!==e?e:m.q5}),c=(0,r.e7)([d.Z],()=>{var e;return null===(e=d.Z.getIsFetching({categoryId:m.Hk}))||void 0===e||e});return l.useEffect(()=>{o.Z.fetchFeaturedGuilds()},[]),(0,i.jsx)(u.Z,{tab:m.vf.FEATURED,guildIds:s,loading:c,onScroll:t,onGuildCardSeen:n,onGuildCardClick:a})}function g(e){let{tab:t,onScroll:n,onGuildCardSeen:a,onGuildCardClick:s}=e,h=(0,c.lg)(t),p=(0,r.e7)([d.Z],()=>{var e;return null!==(e=d.Z.getGuildIds({categoryId:h}))&&void 0!==e?e:m.q5}),g=(0,r.e7)([d.Z],()=>{var e;return null===(e=d.Z.getIsFetching({categoryId:h}))||void 0===e||e});return l.useEffect(()=>{o.Z.fetchCategoryFeaturedGuilds({categoryId:h})},[h]),(0,i.jsx)(u.Z,{tab:t,guildIds:p,loading:g,onScroll:n,onGuildCardSeen:a,onGuildCardClick:s})}function _(e){let{selectedTab:t,onScroll:n,onGuildCardSeen:r,onGuildCardClick:o}=e;switch(l.useEffect(()=>{let e=(0,c.lg)(t);(0,a.kR)({selectedCategoryId:e})},[t]),t){case m.vf.FEATURED:return(0,i.jsx)(p,{tab:t,onScroll:n,onGuildCardClick:o,onGuildCardSeen:r});case m.vf.GAMING:case m.vf.MUSIC:case m.vf.ENTERTAINMENT:case m.vf.TECH:case m.vf.EDUCATION:return(0,i.jsx)(g,{tab:t,onScroll:n,onGuildCardClick:o,onGuildCardSeen:r},t);case m.vf.HUBS:return(0,i.jsx)(h.Z,{onScroll:n});default:(0,s.vE)(t)}}},106075:function(e,t,n){n.d(t,{Z:()=>S});var i=n(200651),l=n(192379),r=n(481060),a=n(979233),s=n(88693),o=n(611928),d=n(922122),c=n(680180),u=n(164991),h=n(444324),m=n(726115),p=n(859921),g=n(750910),_=n(28494),f=n(29086),E=n(590771),I=n(273596),C=n(128449),N=n(49898),v=n(388032),T=n(607495);function S(){let e=l.useRef((0,m.PM)()),{onScroll:t,scrollPosition:n,resetScrollPosition:S}=(0,a.M)(),{tabs:A,selectedTab:Z,setSelectedTab:x}=(0,f.Y)(),b=(0,m.lg)(Z),L=!C.MU.has(Z),{searchQuery:y,onSearchTextChange:O,onClearSearch:P,onSearchSubmit:R,isSearchVisible:j}=(0,_.H)({loadId:e.current}),D=p.Z.useField("searchBarState"),{onTabsAvailableWidthChange:w,onCollapsedSearchBarClick:M,onSearchBarBlur:k,tabsClassName:U}=(0,s.U)({isSearchBarVisible:L,isSearchBarEmpty:""===y.trim(),searchBarState:D,setSearchBarState:e=>p.Z.setState({searchBarState:e})}),G=u.Z.useField("fetchedQuery"),B=l.useCallback(e=>{x(e),j&&P()},[j,P,x]),V=l.useMemo(()=>j?A.filter(e=>{let{id:t}=e;return!C.MU.has(t)}):A,[A,j]),H=l.useRef(new h.Z(b)),{onGuildCardSeen:F,onGuildCardClick:z}=(0,g.H)({guildDiscoveryCardSeenManager:H.current,loadId:e.current});return l.useEffect(()=>{H.current.flushSeenGuilds(e.current)},[b]),l.useEffect(()=>{S()},[Z,S]),l.useEffect(()=>{j||u.Z.setState({scrollPosition:null})},[j]),(0,i.jsxs)("div",{className:T.container,children:[(0,i.jsxs)(o.ZP,{variant:j?o._6.RELATIVE:o._6.OVERLAY,children:[!j&&(0,i.jsx)(o.z6,{scrollPosition:n}),j?(0,i.jsx)(o.Cm,{icon:r.j9r,onClick:P}):(0,i.jsx)(o.aV,{icon:r.QTo}),!j&&(0,i.jsx)(d.Z,{className:U,tabs:V,selectedTab:j?null:Z,onTabSelect:B,onAvailableWidthChange:w}),j&&(0,i.jsx)(r.X6q,{variant:"heading-lg/semibold",color:"header-primary",className:T.searchResultsHeader,children:v.intl.format(v.t.zHdzqa,{query:G})}),L&&(0,i.jsx)(c.Z,{query:y,placeholder:v.intl.string(v.t["5h0QOD"]),onTextChange:O,onClear:P,onSubmit:R,onCollapsedClick:M,state:j?N.GlobalDiscoverySearchBarState.DEFAULT:D,onBlur:k})]}),j?(0,i.jsx)(I.Z,{loadId:e.current,onGuildCardClick:z,onGuildCardSeen:F}):(0,i.jsx)(E.Z,{selectedTab:Z,onScroll:t,onGuildCardClick:z,onGuildCardSeen:F})]})}},273596:function(e,t,n){n.d(t,{Z:()=>L}),n(47120),n(411104);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),d=n(481060),c=n(393903),u=n(626135),h=n(823379),m=n(900849),p=n(356164),g=n(164991),_=n(726115),f=n(28494),E=n(746728),I=n(140700),C=n(665807),N=n(188493),v=n(294330),T=n(981631),S=n(733977);let A=Object.freeze({top:0,bottom:0,left:32,right:202}),Z=Object.freeze({top:0,bottom:0,left:32,right:32}),x={page:T.ZY5.GUILD_DISCOVERY,object:T.qAy.CARD,section:T.jXE.DISCOVER_SEARCH},b=o().throttle(m.c6,1e3,{leading:!1,trailing:!0});function L(e){let{loadId:t,onGuildCardSeen:n,onGuildCardClick:r}=e,{guildIds:o,loading:m,searchResultsQuery:T,loadMore:L,searchCategoryId:y}=(0,f.f)({loadId:t}),O=0===o.length&&!m,P=l.useContext(u.AnalyticsContext),[R,j]=l.useState((0,_.PM)()),[D,w]=l.useState(!0),M=l.useRef(D),[k,U]=l.useState(3),G=l.useRef(k),B=l.useRef(null),V=l.useCallback(e=>{if(null!=e&&!O&&!m)336*(o.length/k)<=e.height&&L()},[O,m,o.length,k,L]),H=(0,c.y)(e=>{let t=null==e?void 0:e.getBoundingClientRect();if(null==t)return;let n=t.width;n<1024&&M.current?(M.current=!1,w(!1)):n>1024&&!M.current&&(M.current=!0,w(!0));let i=1;for(n-=D?450:0,n-=280;n>0;)n-=264,i+=1;i!==G.current&&(G.current=i,U(i)),V(t)});l.useLayoutEffect(()=>{var e;V(null===(e=H.current)||void 0===e?void 0:e.getBoundingClientRect())},[H,V]),l.useEffect(()=>{j((0,_.PM)())},[T]),l.useEffect(()=>{b({loadId:t,searchId:R,query:T,guildResults:o.map(p.Z.getGuild).filter(h.lm),analyticsContext:P,categoryId:y})},[P,o,t,y,R,T]);let F=l.useCallback(e=>n(e,y),[n,y]),z=l.useMemo(()=>m?[o.length,0]:[o.length],[o.length,m]),W=l.useCallback((e,n,l)=>{switch(e){case 0:return(0,i.jsxs)("div",{style:{paddingLeft:n.left,width:n.width-16},className:a()(S.heading,{[S.headingTopbar]:!D}),children:[!D&&(0,i.jsxs)("div",{className:S.headingFilters,children:[(0,i.jsx)(I.Z,{loadId:t}),(0,i.jsx)(N.Z,{loadId:t})]}),O&&(0,i.jsx)(C.Z,{loadId:t})]},l);case 1:return(0,i.jsx)(d.$jN,{className:a()(S.spinner,{[S.spinnerWithSidebar]:D})},l)}},[O,D,t]),Y=l.useCallback(e=>{switch(e){case 0:let t=D?16:50;return O?t+448:t;case 1:return 120;default:throw Error("[getSectionHeight] Failed for section: ".concat(e))}},[O,D]),K=l.useCallback((e,t)=>{switch(e){case 0:return o[t];case 1:return"loading";default:throw Error("[getItemKey] Failed for section: ".concat(e))}},[o]),q=l.useCallback(e=>{switch(e){case 0:return 320;case 1:return 0;default:throw Error("[getItemHeight] Failed for section: ".concat(e))}},[]),X=l.useCallback(async(e,t,n,i)=>{var l,a;await r(e,t,n,i);let s=null===(a=B.current)||void 0===a?void 0:null===(l=a.getScrollerState())||void 0===l?void 0:l.scrollTop;null!=s&&g.Z.setState({scrollPosition:s})},[r]),Q=l.useCallback((e,t,n,l)=>{if(0===e){let e=o[t];return(0,i.jsx)("div",{style:n,children:(0,i.jsx)(v.ZP,{guildId:e,onClick:async e=>await X(e,t,y,x),onView:e=>F(e)})},l)}return null},[o,X,F,y]);l.useEffect(()=>{let e=B.current;return()=>{var t;let n=null==e?void 0:null===(t=e.getScrollerState())||void 0===t?void 0:t.scrollTop;null!=n&&g.Z.setState({scrollPosition:n})}},[]),l.useLayoutEffect(()=>{let e=g.Z.getField("scrollPosition");null!=e&&setTimeout(()=>{var t;null===(t=B.current)||void 0===t||t.scrollTo({to:e,animate:!1,callback:()=>{g.Z.setState({scrollPosition:null})}})})},[]);let J=l.useMemo(()=>(0,s.debounce)(()=>{var e;let t=null===(e=B.current)||void 0===e?void 0:e.getScrollerState();if(null==t)return;let n=t.scrollTop+t.offsetHeight;t.scrollHeight-n<240&&L()},100,{leading:!0}),[L]),$=D?A:Z;return(0,i.jsx)("div",{className:S.container,ref:H,children:(0,i.jsx)(d.GMG,{ref:B,className:S.masonryList,sections:z,columns:k,itemGutter:16,padding:$,renderItem:Q,renderSection:W,getSectionHeight:Y,getItemKey:K,getItemHeight:q,chunkSize:24,onScroll:J,renderAccessory:e=>D?(0,i.jsx)("div",{className:S.sidebar,style:{height:e},children:(0,i.jsxs)("div",{className:S.sidebarContent,children:[(0,i.jsx)("div",{className:S.sidebarLanguageSelect,children:(0,i.jsx)(N.Z,{loadId:t})}),(0,i.jsx)(E.Z,{loadId:t})]})}):null})})}},750910:function(e,t,n){n.d(t,{H:()=>r});var i=n(192379),l=n(726115);function r(e){let{guildDiscoveryCardSeenManager:t,loadId:n}=e,r=i.useCallback((e,i)=>{t.markAsSeen(i,e,n)},[t,n]),a=i.useCallback((e,t,i,r)=>(0,l.vL)({loadId:n,guildId:e,index:t,categoryId:i,analyticsLocation:r}),[n]);return i.useMemo(()=>({onGuildCardSeen:r,onGuildCardClick:a}),[a,r])}},28494:function(e,t,n){n.d(t,{H:()=>p,f:()=>m});var i=n(192379),l=n(442837),r=n(900849),a=n(762692),s=n(959165),o=n(356164),d=n(164991),c=n(456268),u=n(859921),h=n(128449);function m(e){let{loadId:t}=e,n=d.Z.useField("fetchedQuery"),r=d.Z.useField("categoryId"),a=d.Z.useField("languageCode"),c=i.useMemo(()=>({categoryId:r,query:n,languageCode:a}),[r,a,n]),u=(0,l.e7)([o.Z],()=>{var e;return null!==(e=o.Z.getGuildIds(c))&&void 0!==e?e:h.q5}),m=(0,l.e7)([o.Z],()=>{var e;return null!==(e=o.Z.getIsFetching(c))&&void 0!==e&&e}),p=d.Z.useField("resultsQuery"),g=p!==n,_=i.useCallback(()=>{let e=o.Z.getGuildIds(c),n=o.Z.getTotal(c);if(null==e||null==n)return;let i=o.Z.getIsFetching(c),l=o.Z.getIsInitialFetchComplete(c);i||!l||e.length>=n||s.Z.loadMoreCategoryResults({loadId:t,offset:e.length,categoryId:d.Z.getField("categoryId"),query:d.Z.getField("fetchedQuery"),languageCode:d.Z.getField("languageCode")})},[t,c]);return i.useMemo(()=>({guildIds:u,loading:g||m,searchResultsQuery:p,loadMore:_,searchCategoryId:r}),[u,g,m,p,_,r])}function p(e){let{loadId:t}=e,n=u.Z.useField("isSearchVisible"),l=d.Z.useField("query");i.useEffect(()=>{(0,c.le)()},[]);let o=i.useCallback(e=>{d.Z.setState({query:e})},[]);return{searchQuery:l,onSearchTextChange:o,onClearSearch:i.useCallback(()=>{r.IZ(t),a.Z.clearSearchResults(),a.Z.resetSearchLayout(),d.Z.setState({query:"",fetchedQuery:"",resultsQuery:"",categoryId:h.Hk,resultsInitialCategoryId:null,scrollPosition:null}),u.Z.setState({isSearchVisible:!1})},[t]),onSearchSubmit:i.useCallback(()=>{let e=d.Z.getField("query"),n=d.Z.getField("fetchedQuery");if(""===e.trim()||e===n)return;a.Z.clearSearchResults();let i=d.Z.getField("languageCode"),l=d.Z.getField("categoryId");d.Z.setState({resultsInitialCategoryId:l}),u.Z.setState({isSearchVisible:!0}),s.Z.loadCategoryResultsAndCounts({loadId:t,categoryId:l,query:e,languageCode:i})},[t]),isSearchVisible:n}}},112471:function(e,t,n){n.d(t,{q:()=>d}),n(47120),n(653041),n(733860);var i=n(192379),l=n(442837),r=n(537883),a=n(356164),s=n(164991),o=n(128449);function d(){let e=s.Z.useField("fetchedQuery"),t=s.Z.useField("resultsInitialCategoryId"),n=s.Z.useField("languageCode"),d=(0,l.e7)([a.Z],()=>{if(null==t)return 0;let i=a.Z.getTotal({categoryId:t,query:e,languageCode:n});return null!=i?i:0}),c=(0,l.e7)([a.Z],()=>{let t=a.Z.getTotal({categoryId:o.Hk,query:e,languageCode:n});return null!=t?t:0}),u=(0,l.e7)([r.Z],()=>r.Z.getVisibleTabs());return i.useMemo(()=>{if(null==u)return null;if(null==t)return u;let e=[],n=new Set;for(let[t,i]of u)n.add(t),e.push([t,i]);let i=!1;return n.has(o.Hk)||(n.add(o.Hk),e.unshift([o.Hk,c]),i=!0),n.has(t)||(n.add(t),e.push([t,d]),i=!0),i?e:u},[u,t,c,d])}},29086:function(e,t,n){n.d(t,{Y:()=>s});var i=n(192379),l=n(726115),r=n(859921),a=n(128449);function s(){let e=r.Z.useField("selectedTab"),t=i.useMemo(()=>[a.vf.FEATURED,a.vf.GAMING,a.vf.MUSIC,a.vf.ENTERTAINMENT,a.vf.TECH,a.vf.EDUCATION,a.vf.HUBS].map(e=>({id:e,label:(0,l.vb)(e)})),[]),n=i.useCallback(e=>{r.Z.setState({selectedTab:e})},[]);return i.useEffect(()=>{null!=e&&t.some(t=>t.id===e)||n(t[0].id)},[e,t,n]),{tabs:t,selectedTab:null!=e?e:t[0].id,setSelectedTab:n}}},746728:function(e,t,n){n.d(t,{I:()=>p,Z:()=>_}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(706454),d=n(959165),c=n(164991),u=n(783393),h=n(112471),m=n(877696);function p(e){let{categoryId:t,loadId:n}=e;c.Z.setState({categoryId:t}),d.Z.loadCategoryResults({loadId:n,categoryId:t,query:c.Z.getField("fetchedQuery"),languageCode:c.Z.getField("languageCode")})}function g(e){let{loadId:t,categoryId:n,count:r}=e,d=l.useCallback(()=>{p({categoryId:n,loadId:t})},[n,t]),h=c.Z.useField("categoryId")===n,g=r.toLocaleString(o.default.locale),_=(0,u.E)({categoryId:n});return(0,i.jsxs)(s.P3F,{onClick:d,className:a()(m.category,{[m.selected]:h}),children:[(0,i.jsx)(s.Text,{className:m.name,variant:"text-sm/medium",color:"header-primary",children:_}),(0,i.jsx)(s.Text,{className:m.count,variant:"text-sm/normal",color:"text-muted",children:g})]})}let _=function(e){let{loadId:t}=e,n=(0,h.q)();return null==n?null:(0,i.jsx)("div",{className:m.categories,children:n.map(e=>{let[n,l]=e;return(0,i.jsx)(g,{loadId:t,categoryId:n,count:l},n)})})}},140700:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(89182),s=n(164991),o=n(783393),d=n(112471),c=n(746728),u=n(388032),h=n(368199);function m(e){let{count:t,categoryId:n}=e,l=(0,o.E)({categoryId:n});return(0,i.jsx)(a.iG,{count:t,name:l})}function p(e){let{loadId:t}=e,n=s.Z.useField("categoryId"),p=(0,d.q)(),g=(0,o.E)({categoryId:n}),_=l.useCallback(e=>{(0,c.I)({loadId:t,categoryId:Number(e)})},[t]),f=l.useMemo(()=>null==p?[]:p.map(e=>{let[t,n]=e;return{id:"".concat(t),label:(0,i.jsx)(m,{categoryId:t,count:n})}}),[p]);return null==p?null:(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"text-secondary",children:u.intl.string(u.t.f09BQE)}),(0,i.jsx)(a.ZP,{items:f,title:g,onSelect:_,selected:"".concat(n),"aria-label":u.intl.string(u.t.Ng5cTE),variant:a.PA.FILLED})]})}},665807:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(959165),o=n(164991),d=n(526429),c=n(128449),u=n(388032),h=n(464865),m=n(882008);let p=function(e){let{loadId:t}=e,n=o.Z.useField("categoryId"),p=(0,r.e7)([d.Z],()=>d.Z.getCategoryName(n)),g=l.useCallback(()=>{o.Z.setState({categoryId:c.Hk}),s.Z.loadCategoryResults({loadId:t,categoryId:c.Hk,query:o.Z.getField("fetchedQuery"),languageCode:o.Z.getField("languageCode")})},[t]),_=n===c.Hk?u.intl.string(u.t.Ivw1Ii):u.intl.formatToPlainString(u.t["+1WAFR"],{categoryName:p}),f=n===c.Hk?u.intl.string(u.t.aXvEjY):u.intl.format(u.t.XLioqq,{onClick:g});return(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)("img",{alt:"",src:m,className:h.image}),(0,i.jsx)(a.X6q,{variant:"heading-xl/semibold",className:h.header,children:_}),(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"header-secondary",children:f})]})}},188493:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651),l=n(192379),r=n(442837),a=n(89182),s=n(706454),o=n(762692),d=n(959165),c=n(164991),u=n(726115),h=n(128449),m=n(388032);function p(e){let{loadId:t}=e,n=(0,r.e7)([s.default],()=>(0,u.Xp)([s.default])),p=c.Z.useField("languageCode"),g=null!=p?p:n,_=l.useCallback(e=>{c.Z.setState({languageCode:e});let n=c.Z.getField("fetchedQuery");o.Z.clearSearchResults({ignoreQueries:[n]}),d.Z.loadCategoryResults({loadId:t,categoryId:c.Z.getField("categoryId"),query:n,languageCode:e})},[t]),f=l.useMemo(()=>(0,h.Cf)().map(e=>({id:e.code,label:e.name})),[]),E=l.useMemo(()=>{var e;let t=(0,h.Cf)().find(e=>e.code===g);return null!==(e=null==t?void 0:t.name)&&void 0!==e?e:m.intl.string(m.t.LQLMGB)},[g]);return(0,i.jsx)(a.ZP,{items:f,title:E,onSelect:_,selected:g,"aria-label":m.intl.string(m.t.Ng5cTE)})}},962486:function(e,t,n){n.d(t,{Z:()=>g}),n(653041);var i=n(200651),l=n(192379),r=n(481060),a=n(322665),s=n(17845),o=n(374939),d=n(283293),c=n(726115),u=n(294330),h=n(981631),m=n(545091);let p={page:h.ZY5.GUILD_DISCOVERY,object:h.qAy.CARD,section:h.jXE.DISCOVER_POPULAR};function g(e){let{tab:t,guildIds:n,loading:h,onScroll:g,onGuildCardClick:_,onGuildCardSeen:f}=e,E=(0,c.Mf)(t),I=(0,c.a$)(t),C=(0,c.QW)(t),N=(0,c.lg)(t),v=l.useMemo(()=>{let e=h?30:n.length,t=[];for(let a=0;a<e;a++){var l,r;t.push((0,i.jsx)(u.Eo,{guildId:null!==(l=n[a])&&void 0!==l?l:null,index:a,onClick:e=>_(e,a,N,p),onView:e=>f(e,N)},null!==(r=n[a])&&void 0!==r?r:a))}return t},[N,n,h,_,f]);return(0,i.jsxs)(d.Z,{onScroll:g,children:[(0,i.jsx)(s.Z,{title:E,description:I,children:(0,i.jsx)(a.Z,{})}),(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(r.X6q,{className:m.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:C}),(0,i.jsx)("div",{className:m.content,children:v})]})]})}},149788:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651),l=n(192379),r=n(481060),a=n(749210),s=n(322665),o=n(17845),d=n(374939),c=n(283293),u=n(469988),h=n(526383),m=n(294330),p=n(388032),g=n(545091),_=n(19707);let f=function(e){let{onScroll:t}=e,n=(0,h.Z)(),f=l.useMemo(()=>n.map(e=>({...e,presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0})),[n]);return(0,i.jsxs)(c.Z,{onScroll:t,children:[(0,i.jsx)(o.Z,{title:p.intl.string(p.t.X5xPlZ),description:p.intl.string(p.t["F/IQCA"]),children:(0,i.jsx)(s.Z,{})}),(0,i.jsxs)(d.Z,{children:[n.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.X6q,{className:g.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:p.intl.string(p.t["2DfZIS"])}),(0,i.jsxs)("div",{className:g.content,children:[f.map(e=>(0,i.jsx)(m.VD,{guild:e,onClick:()=>a.Z.transitionToGuildSync(e.id)},e.id)),(0,i.jsx)(u.Z,{hasHub:!0})]})]}):(0,i.jsx)("div",{className:g.content,children:(0,i.jsx)(u.Z,{hasHub:!1})}),(0,i.jsx)("div",{className:_.divider}),(0,i.jsxs)("div",{className:_.disclaimer,children:[(0,i.jsxs)(r.Text,{className:_.text,variant:"text-sm/medium",color:"header-secondary",children:[p.intl.string(p.t.O1k9XV)," "]}),(0,i.jsx)(r.Text,{className:_.text,variant:"text-sm/medium",color:"header-secondary",children:p.intl.string(p.t.FV5dvr)})]})]})]})}},869614:function(e,t,n){n.d(t,{Z:()=>l}),n(47120);let i=new Set(["nvidia"]);function l(e){for(let t of Object.keys(e)){let n=e[t];if(null!=n&&null==n.error&&i.has(t))return!0}return!1}},281083:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var i=n(209739),l=n.n(i),r=n(358085);let a={[r.PlatformTypes.WINDOWS]:{nvidia:"<=537.58.0 || >=546.31"}};function s(e){let t=a[(0,r.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let i=e[n],r=t[n];if(null==i||null==r||null!=i.error)continue;let a=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(i);if(!l().satisfies(a,r))return!0}return!1}},672598:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var i=n(209739),l=n.n(i),r=n(358085);let a={[r.PlatformTypes.WINDOWS]:{nvidia:">=397.93.0"}};function s(e){let t=a[(0,r.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let i=e[n],r=t[n];if(null==i||null==r||null!=i.error)continue;let a=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(i);if(!l().satisfies(a,r))return!0}return!1}},653255:function(e,t,n){n.d(t,{Z:()=>f});var i,l,r,a=n(442837),s=n(570140),o=n(358085),d=n(998502),c=n(869614),u=n(281083),h=n(672598);let m=!1,p=!0,g=!1;class _ extends(r=a.ZP.Store){initialize(){!o.isPlatformEmbedded||__OVERLAY__||d.ZP.getGPUDriverVersions().then(e=>{m=(0,h.Z)(e),p=(0,c.Z)(e),g=(0,u.Z)(e),this.emitChange()})}get GPUDriversOutdated(){return m}get canUseHardwareAcceleration(){return p}get problematicGPUDriver(){return g}getState(){return{GPUDriversOutdated:m,canUseHardwareAcceleration:p,problematicGPUDriver:g}}}l="StreamingCapabilitiesStore",(i="displayName")in _?Object.defineProperty(_,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):_[i]=l;let f=new _(s.Z,{OVERLAY_INITIALIZE:function(e){let{streamingCapabilitiesStoreState:t}=e;m=t.GPUDriversOutdated,p=t.canUseHardwareAcceleration}})},722835:function(e,t,n){n.d(t,{Z:()=>N});var i=n(209739),l=n.n(i),r=n(872810),a=n(579806),s=n(594190),o=n(199902),d=n(592125),c=n(430824),u=n(131951),h=n(496675),m=n(944486),p=n(449224),g=n(358085),_=n(102172),f=n(74299),E=n(299570),I=n(989941),C=n(70722);function N(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!(0,f.Z)(u.Z)||null!=o.Z.getCurrentUserActiveStream())return!1;let t=m.Z.getVoiceChannelId(),n=d.Z.getChannel(t);if(null==n)return!1;let i=n.getGuildId();if(!(0,_.JL)(n,c.Z,h.Z,!1))return!1;if(u.Z.getUseSystemScreensharePicker())(0,g.isMac)()&&l().satisfies(null===a.Z||void 0===a.Z?void 0:a.Z.os.release,C.jR)?(0,E.T)():(0,E.T)("window");else{let t=(0,I.Z)(s.ZP,p.Z);if(null==t||t.isLauncher&&!e)return!1;(0,r.WH)(i,n.id,{pid:t.pid})}return!0}},818634:function(e,t,n){n.d(t,{l:()=>s,y:()=>o});var i=n(15729),l=n(731965);let r=Object.freeze({isPopoutOpen:!1}),a=(0,i.U)(e=>r),s=e=>{(0,l.j)(()=>{a.setState(()=>({isPopoutOpen:e}))})},o=a},501640:function(e,t,n){n.d(t,{Z:()=>o});var i=n(149765),l=n(442837),r=n(984933),a=n(496675),s=n(981631);function o(e){let t=(0,l.e7)([r.ZP],()=>{var t;return null!==(t=r.ZP.getChannels(e)[r.sH])&&void 0!==t?t:[]},[e]);return 0===t.length?0:t.filter(e=>{let{channel:t}=e;return a.Z.can(i.$e(s.Plq.SEND_MESSAGES,s.Plq.VIEW_CHANNEL),t)}).length}},360453:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(949389),s=n(324262),o=n(434404),d=n(899667),c=n(267642),u=n(981631),h=n(388032),m=n(571472);let p=e=>{let{guild:t}=e,n=t.id,p=(0,l.e7)([d.Z],()=>d.Z.getAppliedGuildBoostsForGuild(t.id));return null==p||0>=(0,c._k)(p,n)?null:(0,i.jsx)(s.Z,{guild:t,onDismissed:()=>{(0,a.GO)(n)},onClick:()=>{o.Z.open(n,u.pNK.GUILD_PREMIUM)},message:h.intl.string(h.t.uogVVl),trackingSource:u.PsQ.GRACE_PERIOD_NOTICE,type:u.vID.GUILD_BOOSTING_GRACE_PERIOD,image:m,cta:h.intl.string(h.t["4E1M8P"]),ctaColor:r.Ttl.PRIMARY})}},377743:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var l=n(100527),r=n(906732),a=n(324262),s=n(26323),o=n(267642),d=n(981631),c=n(921944),u=n(30513),h=n(388032),m=n(420569);function p(e){let{guild:t,markAsDismissed:n}=e,p=(0,o.KK)(t,d.Eu4.TIER_2),{analyticsLocations:g}=(0,r.ZP)(l.Z.GUILD_BANNER_NOTICE);return(0,i.jsx)(a.Z,{guild:t,onDismissed:()=>n(c.L.UNKNOWN),cta:h.intl.string(h.t["oPAx7+"]),message:h.intl.format(h.t.AcaNY2,{boostsNeeded:p}),type:d.vID.GUILD_BANNER,image:m,onClick:()=>(0,s.Z)({analyticsLocations:g,analyticsSourceLocation:{section:d.jXE.CHANNEL_NOTICE,object:d.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,u.XO)()}),imageMarginTop:15,imageMarginX:22})}},834743:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(324262),s=n(623624),o=n(650774),d=n(981631),c=n(921944),u=n(388032),h=n(241626);class m extends l.PureComponent{render(){let{guild:e,memberCount:t,markAsDismissed:n}=this.props;return(0,i.jsx)(a.Z,{guild:e,onDismissed:()=>n(c.L.UNKNOWN),onClick:this.handleButtonClick,message:null==t||t<30?u.intl.string(u.t.hlitVV):u.intl.string(u.t.XHtaDA),cta:u.intl.string(u.t["vqb+Hx"]),trackingSource:d.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:d.vID.GUILD_BOOSTING,image:h,imageMarginX:26})}constructor(...e){var t,n;super(...e),t="handleButtonClick",n=()=>{let{guild:e}=this.props;(0,s.f)({guildId:e.id,location:{section:d.jXE.CHANNEL_NOTICE,object:d.qAy.SERVER_STATUS_CTA}})},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let p=r.ZP.connectStores([o.Z],e=>{let{guild:t}=e;return{memberCount:o.Z.getMemberCount(t.id)}})(m)},596557:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651),l=n(192379),r=n(704215),a=n(481060),s=n(785697),o=n(626135),d=n(700785),c=n(645041),u=n(981631),h=n(921944),m=n(647086),p=n(135899);function g(e){var t;let g=(0,s.SE)(e),_=p.$X.some(t=>(null==e?void 0:e.id)!==m._&&d.oz(t,e)),f=(null==e?void 0:e.defaultMessageNotifications)===u.bL.ALL_MESSAGES,E=(0,c.FT)(r.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds),I=g&&(_||f)&&!E,C=l.useCallback(()=>{var t;(0,c.Qd)(r.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds,!0,h.L.DISMISS)},[e]),N=l.useRef(!1);l.useEffect(()=>{if(I&&!N.current){var t;(0,a.ZDy)(async()=>{let{default:t}=await n.e("54597").then(n.bind(n,29022));return n=>(0,i.jsx)(t,{guild:e,canEveryoneModerate:_,isDefaultNotificationsAllMessages:f,...n})},{onCloseCallback:C}),o.default.track(u.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:r.C[r.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds}),N.current=!0}},[_,e,C,f,I])}},580079:function(e,t,n){n(653041),n(47120),n(724458);var i,l,r,a=n(392711),s=n.n(a),o=n(442837),d=n(570140),c=n(592125);n(914010);var u=n(709054),h=n(176505);let m={},p={},g={},_={};function f(e){let t=p[e];if(null==t)return;let n=u.default.fromTimestamp(Date.now()-9e5),i=s().findIndex(t,e=>u.default.compare(e.id,n)>0);if(-1===i)p[e]=[];else{let n=Math.max(i,t.length-26);p[e]=s().slice(t,n)}g[e]=Date.now()}function E(e,t,n,i){m[e].add(t);let l=g[t];(null==l||l+3e5>Date.now())&&f(t),null==p[t]&&(p[t]=[]),p[t].push({id:n,userId:i})}function I(e){let{channel:t}=e;delete p[t.id],delete g[t.id]}class C extends(i=o.ZP.Store){getActiveChannelsFetchStatus(e){return _[e]}getActiveChannelIds(e){return m[e]}getChannelMessageData(e){return p[e]}shouldFetch(e){var t;return null==m[e]&&!(null===(t=_[e])||void 0===t?void 0:t.loading)}}r="ActiveChannelsStore",(l="displayName")in C?Object.defineProperty(C,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):C[l]=r,new C(d.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(!(0,h.ME)(t)||null==n)return!1;let i=m[n];if(null==i)return!1;i.forEach(e=>{var t;f(e),(null===(t=p[e])||void 0===t?void 0:t.length)===0&&delete p[e]});let l=s().chain(Array.from(i)).filter(e=>e in p).sortBy(e=>{var t,n;return-(null!==(n=null===(t=p[e])||void 0===t?void 0:t.length)&&void 0!==n?n:0)}).value();m[n]=new Set(l)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:i,optimistic:l,isPushNotification:r}=e;if(l||r)return!1;let a=c.Z.getChannel(n);if(null==a)return!1;let s=a.guild_id;if(null==s||null==m[s])return!1;E(s,n,i.id,null===(t=i.author)||void 0===t?void 0:t.id)},GUILD_DELETE:function(e){let{guild:t}=e;delete m[t.id]},CHANNEL_DELETE:I,THREAD_DELETE:I,ACTIVE_CHANNELS_FETCH_START:function(e){let{guildId:t}=e;_[t]={loading:!0,error:null,fetchedAt:Date.now()}},ACTIVE_CHANNELS_FETCH_SUCCESS:function(e){let{guildId:t,channels:n}=e;_[t]={loading:!1,error:null,fetchedAt:Date.now()},m[t]=new Set,n.forEach(e=>{let{channel_id:n,messages:i}=e;i.forEach(e=>{E(t,n,e.message_id,e.user_id)})})},ACTIVE_CHANNELS_FETCH_FAILURE:function(e){let{guildId:t,error:n}=e;_[t]={loading:!1,error:n,fetchedAt:null}},CONNECTION_OPEN:function(){}})},381416:function(e,t,n){n.d(t,{s:()=>s});var i=n(200651);n(192379);var l=n(481060),r=n(388032),a=n(739387);function s(e){let{onDiscardApplication:t,onContinueApplication:n,guild:s}=e;return(0,i.jsxs)("div",{className:a.confirmation,children:[(0,i.jsx)("div",{className:a.iconWrapper,children:(0,i.jsx)(l.Gzi,{size:"md",color:l.TVs.colors.INTERACTIVE_ACTIVE})}),(0,i.jsx)(l.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:null!=s?r.intl.formatToPlainString(r.t.f5Jaw8,{guildName:s.name}):r.intl.string(r.t["0sTyER"])}),(0,i.jsxs)("div",{className:a.incompleteButtonsContainer,children:[(0,i.jsx)(l.zxk,{fullWidth:!0,onClick:n,look:l.zxk.Looks.FILLED,color:l.zxk.Colors.PRIMARY,size:l.zxk.Sizes.LARGE,children:r.intl.string(r.t.h3aGmp)}),(0,i.jsx)(l.zxk,{fullWidth:!0,onClick:t,look:l.zxk.Looks.FILLED,color:l.zxk.Colors.RED,size:l.zxk.Sizes.LARGE,children:r.intl.string(r.t.OQFlFB)})]})]})}},523924:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(693546),o=n(937111),d=n(388032),c=n(739387);let u=e=>{let{headerId:t,reapplyText:n,onReapply:u,confirmText:h,onWithdrawApplication:m,rejectionReason:p=null,guild:g=null}=e,_=(0,r.e7)([o.Z],()=>{var e;return o.Z.getCooldown(null!==(e=null==g?void 0:g.id)&&void 0!==e?e:"0")});l.useEffect(()=>{null==_&&null!=g&&s.Z.fetchJoinRequestCooldown(g.id)},[_,g]);let f=(null!=_?_:0)>0,E=f&&null!=_?Math.ceil((1e3*_-Date.now())/864e5):0;return(0,i.jsxs)("div",{className:c.confirmation,children:[(0,i.jsx)("div",{className:c.iconWrapper,children:(0,i.jsx)(a.P$X,{size:"md",color:a.TVs.colors.INTERACTIVE_ACTIVE})}),(0,i.jsxs)("div",{className:c.statusTextContainer,children:[(0,i.jsx)(a.X6q,{id:t,variant:"heading-lg/semibold",color:"header-primary",children:(null==g?void 0:g.name)!=null?d.intl.formatToPlainString(d.t["P+/gzM"],{guildName:g.name}):d.intl.string(d.t.gBPcuL)}),null!=p&&""!==p?(0,i.jsxs)(a.Text,{variant:"text-md/medium",color:"header-secondary",children:[(0,i.jsx)("span",{className:c.rejectionReasonLabel,children:d.intl.string(d.t.cf1psb)}),(0,i.jsx)("span",{children:p})]}):null]}),(0,i.jsxs)("div",{className:c.confirmationButtonRow,children:[(0,i.jsx)(a.DY3,{className:c.confirmationButton,text:f?d.intl.formatToPlainString(d.t.A0f0Pz,{days:E}):null,"aria-label":f?d.intl.formatToPlainString(d.t.A0f0Pz,{days:E}):void 0,children:(0,i.jsx)(a.zxk,{className:c.confirmationTooltipContents,onClick:u,color:a.zxk.Colors.PRIMARY,size:a.zxk.Sizes.LARGE,submitting:null==_,disabled:f,children:n})}),(0,i.jsx)(a.zxk,{onClick:m,size:a.zxk.Sizes.LARGE,color:a.zxk.Colors.RED,className:c.confirmationButton,children:h})]})]})}},390500:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651),l=n(192379),r=n(481060),a=n(970606),s=n(388032),o=n(739387);let d=function(e){let{onWithdrawApplication:t,guild:n=null}=e,d=null==n?void 0:n.id;return l.useEffect(()=>{null!=d&&(0,a.Pq)(d)},[d]),(0,i.jsxs)("div",{className:o.confirmation,children:[(0,i.jsx)("div",{className:o.iconWrapper,children:(0,i.jsx)(r.wGF,{size:"md",color:r.TVs.colors.INTERACTIVE_ACTIVE})}),(0,i.jsxs)("div",{className:o.statusTextContainer,children:[(0,i.jsx)(r.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:(null==n?void 0:n.name)!=null?s.intl.formatToPlainString(s.t["0Qlu//"],{guildName:n.name}):s.intl.string(s.t["5iLvS0"])}),(0,i.jsx)(r.Text,{variant:"text-md/medium",color:"header-secondary",children:s.intl.string(s.t.FdsK4u)})]}),(0,i.jsx)(r.zxk,{fullWidth:!0,onClick:t,look:r.zxk.Looks.FILLED,color:r.zxk.Colors.RED,size:r.zxk.Sizes.LARGE,children:s.intl.string(s.t.g9tK0t)})]})}},6039:function(e,t,n){n.d(t,{Z:()=>Z}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(393238),o=n(877604),d=n(998730),c=n(703656),u=n(430824),h=n(768581),m=n(302221),p=n(693546),g=n(305325),_=n(246364),f=n(937111),E=n(381416),I=n(523924),C=n(390500),N=n(981631),v=n(898625),T=n(388032),S=n(906160);function A(e){let{guild:t,width:n,height:r}=e,a=l.useMemo(()=>(null==t?void 0:t.splash)!=null?h.ZP.getGuildSplashURL({id:null==t?void 0:t.id,splash:null==t?void 0:t.splash}):null,[null==t?void 0:t.splash,null==t?void 0:t.id]),s=(0,d.N)(a);return null==a?(0,i.jsx)("div",{className:S.defaultGradient}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{className:S.splash,src:a,imageClassName:S.cover,width:n,height:r}),null!=s&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:S.splashGradient,style:{background:"linear-gradient(180deg, ".concat((0,m.aD)(s,.16)," 0%, ").concat((0,m.aD)(s,1)," 100%)")}})}),(0,i.jsx)("div",{className:S.splashGradient})]})}let Z=e=>{let{guildId:t}=e,{ref:n,width:o,height:d}=(0,s.Z)(),[h,m]=l.useState(v.hO.INITIAL),Z=(0,r.e7)([f.Z],()=>f.Z.getRequest(t)),x=(0,r.e7)([u.Z],()=>u.Z.getGuild(t)),{hasFetchedRequestToJoinGuilds:b,guildPreviewDisabled:L}=(0,r.cj)([f.Z],()=>({hasFetchedRequestToJoinGuilds:f.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:f.Z.getJoinRequestGuild(t)}));l.useEffect(()=>{null!=x&&(0,c.uL)(N.Z5c.CHANNEL(t))},[x,t]),l.useEffect(()=>{b||p.Z.fetchRequestToJoinGuilds()},[b]);let y=l.useCallback(()=>{m(Math.max(h,v.hO.FILLING)),p.Z.removeGuildJoinRequest(t),(0,c.uL)(N.Z5c.ME)},[t,h]),O=(e,t)=>()=>{(0,a.h7j)(n=>(0,i.jsx)(a.ConfirmModal,{header:T.intl.string(T.t.y0CVen),cancelText:T.intl.string(T.t.oEAioK),onConfirm:t,confirmText:T.intl.string(T.t.p89ACg),confirmButtonColor:a.zxk.Colors.RED,...n,children:(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:e})}))},P=async()=>{await p.Z.resetGuildJoinRequest(t),(0,g.hk)(t)},R=O(T.intl.format(T.t["9ZezpK"],{name:null==L?void 0:L.name}),y),j=O(T.intl.format(T.t.fJwWVl,{name:null==L?void 0:L.name}),y);return(0,i.jsxs)("div",{className:S.page,ref:n,children:[(0,i.jsx)(A,{guild:L,height:d,width:o}),(0,i.jsx)("div",{className:S.contentWrapper,children:(()=>{if(null==Z)return null;switch(Z.applicationStatus){case _.wB.SUBMITTED:return(0,i.jsx)(C.Z,{onWithdrawApplication:R,guild:L});case _.wB.REJECTED:return(0,i.jsx)(I.Z,{reapplyText:T.intl.string(T.t.I1LYVl),onReapply:P,confirmText:T.intl.string(T.t.g9tK0t),onWithdrawApplication:R,rejectionReason:Z.rejectionReason,guild:L});default:return(0,i.jsx)(E.s,{onDiscardApplication:j,onContinueApplication:()=>(0,g.hk)(t),guild:L})}})()}),(0,i.jsx)("div",{className:S.dragRegion})]})}},584233:function(e,t,n){n.d(t,{x:()=>a});var i=n(447543),l=n(652898),r=n(430824);async function a(e){let{code:t}=e,a=(await (0,l.Z)(t)).invite;if(null==a||null==a.guild||(await new Promise(e=>{r.Z.addConditionalChangeListener(()=>!r.Z.isLoaded()||(e(),!1))}),null==r.Z.getGuild(a.guild.id)))return;let{default:s}=await Promise.resolve().then(n.bind(n,17181));await s({guildId:a.guild.id}),i.Z.transitionToInvite(a)}},326145:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651),l=n(192379),r=n(481060),a=n(745752),s=n(17181),o=n(388032),d=n(957050);function c(e){let{guildId:t,channelId:n}=e,c=l.useCallback(()=>{null!=t&&null!=n&&((0,a.I1)(t),(0,s.default)({guildId:t,returnChannelId:n}))},[t,n]);return(0,i.jsx)("div",{className:d.container,children:(0,i.jsxs)("div",{className:d.explainerContainer,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",children:o.intl.string(o.t.FWtdQk)}),(0,i.jsx)(r.zxk,{onClick:c,children:(0,i.jsx)(r.Text,{variant:"text-md/medium",children:o.intl.string(o.t.VVFjAA)})})]})})}},408042:function(e,t,n){n(47120),n(653041);var i,l=n(442837),r=n(570140),a=n(314897),s=n(592125),o=n(430824),d=n(709054),c=n(231873);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h={};function m(e,t){let n=h[e];return!(null==n||n.has(t))&&(h[e]=new Set(n.add(t)),!0)}class p extends(i=l.ZP.PersistedStore){initialize(e){this.waitFor(a.default,o.Z),h={},null!=e&&d.default.keys(e).forEach(t=>{let n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(h[t]=new Set(n))})}getProgress(e){return h[e]}hasProgress(e){let t=h[e];return null!=t&&!t.has(c.Rg.DISMISSED)}getState(){return h}}u(p,"displayName","GuildProgressStore"),u(p,"persistKey","GuildProgressStore"),new p(r.Z,{CONNECTION_OPEN:function(){let e=[];d.default.keys(h).forEach(t=>{h[t].has(c.Rg.COMPLETED)&&e.push(t)}),e.forEach(e=>m(e,c.Rg.DISMISSED))},GUILD_PROGRESS_INITIALIZE:function(e){let{guildId:t}=e;null==h[t]&&(h[t]=new Set),h[t].has(c.Rg.COMPLETED)||h[t].delete(c.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){let{guildId:t}=e;if(null==h[t])return!1;h[t]=new Set(h[t].add(c.Rg.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){let{guildId:t}=e;return m(t,c.Rg.DISMISSED)},GUILD_CREATE:function(e){let{guild:{id:t,member_count:n}}=e,i=o.Z.getGuild(t);if(null==i)return!1;i.ownerId===a.default.getId()&&null!=h[i.id]&&(null!=i.icon&&h[i.id].add(c.Rg.AVATAR),n>1&&h[i.id].add(c.Rg.INVITE))},CHANNEL_CREATE:function(e){let{channel:t}=e;return null!=t&&null!=t.guild_id&&null!=h[t.guild_id]&&m(t.guild_id,c.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;for(let e of t)null!=e&&null!=e.guild_id&&null!=h[e.guild_id]&&!1!==m(e.guild_id,c.Rg.CHANNEL)&&(n=!0);return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){let{guild:t}=e;return null!=t&&null!=t.id&&null!=h[t.id]&&null!=t.icon&&m(t.id,c.Rg.AVATAR)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:i}=e,l=s.Z.getChannel(n);return(null===(t=i.author)||void 0===t?void 0:t.id)===a.default.getId()&&null!=l&&null!=h[l.guild_id]&&m(l.guild_id,c.Rg.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,memberCount:n}=e;return null!=h[t]&&n>1&&m(t,c.Rg.INVITE)}})},817520:function(e,t,n){n.d(t,{Z:()=>d});var i=n(442837),l=n(430824),r=n(644542),a=n(923726),s=n(144507),o=n(981631);function d(e){let t=(0,i.e7)([l.Z],()=>l.Z.getGuild(e)),n=(0,a.ss)(e),d=(0,a.Gp)(),c=(null==t?void 0:t.hasFeature(o.oNc.ROLE_SUBSCRIPTIONS_ENABLED))===!0&&(null==t?void 0:t.hasFeature(o.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))===!1,u=(0,s.H2)(t);return c&&d&&u&&r.jJ.trackExposure({guildId:e,location:"ca30d9_1"}),c&&d&&u&&n}},999309:function(e,t,n){n.d(t,{Z:()=>o});var i=n(442837),l=n(223892),r=n(430824),a=n(594174),s=n(981631);function o(e){var t;let n=(0,i.e7)([r.Z],()=>r.Z.getGuild(e)),o=(0,i.e7)([a.default],()=>a.default.getCurrentUser()),d=(null==n?void 0:n.ownerId)===(null==o?void 0:o.id),c=(0,l.Sd)();return d&&null!==(t=null==n?void 0:n.hasFeature(s.oNc.COMMUNITY))&&void 0!==t&&t&&c&&!((null==n?void 0:n.hasFeature(s.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.hasFeature(s.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.hasFeature(s.oNc.CREATOR_MONETIZABLE_DISABLED)))}},433280:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var l=n(990547),r=n(399606),a=n(213609),s=n(434404),o=n(970731),d=n(430824),c=n(594174),u=n(981631),h=n(388032),m=n(710825),p=n(968153);function g(e){let{guildId:t,markAsDismissed:n}=e,g=(0,r.e7)([d.Z,c.default],()=>{let e=c.default.getCurrentUser(),n=d.Z.getGuild(t);return(null==n?void 0:n.isOwner(e))===!0});return(0,a.Z)({type:l.ImpressionTypes.POPOUT,name:l.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:g}}),(0,i.jsx)("div",{className:m.container,children:(0,i.jsx)(o.ZP,{header:h.intl.string(h.t.C0m4ra),content:h.intl.string(h.t.zOHfER),asset:(0,i.jsx)("div",{className:m.image,children:(0,i.jsx)("img",{alt:h.intl.string(h.t.xad4wc),src:p,className:m.image})}),buttonCTA:h.intl.string(h.t.OgQQbG),onClick:()=>{s.Z.open(t,u.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:h.intl.string(h.t.WAI6xs),markAsDismissed:n})})}},34131:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(70097),r=n(434404),a=n(970731),s=n(981631),o=n(388032),d=n(592167);function c(e){let{guildId:t,markAsDismissed:n}=e;return(0,i.jsx)("div",{className:d.container,children:(0,i.jsx)(a.ZP,{header:o.intl.string(o.t.gCgirq),content:o.intl.string(o.t.fLMZFx),asset:(0,i.jsx)(l.Z,{className:d.video,src:"https://cdn.discordapp.com/assets/server-subscription-tier-template/upsell.mov",autoPlay:!0,loop:!0}),buttonCTA:o.intl.string(o.t.BQq86u),onClick:()=>{r.Z.open(t,s.pNK.ROLE_SUBSCRIPTIONS,void 0,s.KsC.ROLE_SUBSCRIPTION_TIER_TEMPLATE)},secondaryButtonCTA:o.intl.string(o.t.WAI6xs),markAsDismissed:n})})}},939225:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(481060),r=n(230711),a=n(931547),s=n(981631),o=n(526761),d=n(388032);function c(e){let{subscription:t}=e;return null==t?null:t.status===s.O0b.PAST_DUE?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.LZC,{size:16}),(0,i.jsx)(a.Z,{message:d.intl.string(d.t.eSuJEx),ctaMessage:d.intl.string(d.t.RXsxqa),onClick:()=>{r.Z.open(s.oAB.SUBSCRIPTIONS,o.cP)}})]}):null}},293423:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651);n(192379);var l=n(481060),r=n(584825),a=n(290348),s=n(934826),o=n(660196),d=n(330181),c=n(939225),u=n(36246),h=n(305342),m=n(726324),p=n(981631),g=n(388032),_=n(263192);let f=e=>{var t,n;let{guild:f}=e,E=(0,r.GG)(f.id)[0];(0,o.Z)({guildId:f.id,groupListingId:null==E?void 0:E.id,location:p.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==E?void 0:E.subscription_listings_ids});let{activeSubscription:I}=(0,s.Z)(null==E?void 0:E.id),C=(0,r.YB)(f.id),N=null==C?void 0:C.description,{editStateIds:v}=a.B7(null!==(t=null==E?void 0:E.id)&&void 0!==t?t:null,f.id);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.Z,{title:g.intl.format(g.t["rm+ojI"],{serverName:f.toString()}),description:null!=N?N:null,coverImageAsset:null!==(n=null==C?void 0:C.cover_image_asset)&&void 0!==n?n:null,guild:f,children:[null!=E?(0,i.jsx)(d.Z,{className:_.pendingPlanChangeNotice,groupListingId:E.id,subscription:I}):null,(0,i.jsx)(c.Z,{subscription:I})]}),(0,i.jsx)(l.y5t,{children:(0,i.jsx)(u.Z,{guildId:f.id,children:v.map(e=>{var t;return(0,i.jsx)(h.Z,{guildId:f.id,groupListingId:null!==(t=null==E?void 0:E.id)&&void 0!==t?t:"",listingId:e,analyticsLocation:p.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)})})})]})}},20967:function(e,t,n){n.d(t,{J:()=>u,z:()=>h});var i,l=n(200651);n(192379);var r=n(990547),a=n(481060),s=n(213609),o=n(388032),d=n(869504),c=n(837753),u=((i={}).GUILD_NOT_ELIGIBLE="guild_not_eligible",i.NOT_GUILD_MEMBER="not_guild_member",i);let h=e=>{let{errorType:t}=e;return(0,s.Z)({type:r.ImpressionTypes.PAGE,name:r.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}}),(0,l.jsx)("div",{className:d.errorPageContainer,children:(0,l.jsxs)("div",{className:d.errorPageContent,children:[(0,l.jsx)("img",{src:c,alt:"",className:d.errorPageIllo}),(0,l.jsx)(a.X6q,{variant:"heading-xl/extrabold",className:d.errorPageTitle,children:"guild_not_eligible"===t?o.intl.string(o.t.atZQVV):o.intl.string(o.t.gAdWBg)}),(0,l.jsx)(a.Text,{variant:"text-md/normal",className:d.errorPagSubtitle,children:"guild_not_eligible"===t?o.intl.string(o.t.teWe5O):o.intl.string(o.t["X/yMrK"])})]})})}},269675:function(e,t,n){n.d(t,{Z:()=>L});var i=n(200651),l=n(192379),r=n(873546),a=n(442837),s=n(481060),o=n(355467),d=n(270237),c=n(252618),u=n(423e3),h=n(200876),m=n(674180),p=n(38618),g=n(984370),_=n(430824),f=n(351402),E=n(730647),I=n(772021),C=n(396828),N=n(293423),v=n(20967),T=n(504762),S=n(807152),A=n(176505),Z=n(388032),x=n(255653);function b(e){let{guildId:t}=e,n=(0,a.e7)([_.Z],()=>_.Z.getGuild(t),[t]),b=(0,a.e7)([p.Z],()=>p.Z.isConnected()),L=(0,h.Z)(t),y=(0,I.Z)(t),O=(0,a.e7)([f.Z],()=>f.Z.isSubscriptionFetching),P=(0,E.f)(),{shouldHideGuildPurchaseEntryPoints:R,restrictionsLoading:j}=(0,m.uP)(t),D=null==n||!P||O||j;(0,c.Tt)({subsection:Z.intl.string(Z.t["KzCF//"]),location:null==n?void 0:n.name}),(0,d.Z)(r.tq?"role-subscriptions-overview":void 0);let w=b&&(null==n||!(L||y)||R&&!j);if(l.useEffect(()=>{o.jg()},[]),l.useEffect(()=>{w&&!r.tq&&(0,u.M)(t,A.oC.ROLE_SUBSCRIPTIONS)},[t,w]),r.tq&&w){let e=null==n?v.J.NOT_GUILD_MEMBER:v.J.GUILD_NOT_ELIGIBLE;return(0,i.jsx)(v.z,{errorType:e})}return(0,i.jsxs)("div",{className:x.container,children:[(0,i.jsxs)(g.Z,{toolbar:(0,i.jsx)(l.Fragment,{}),className:x.headerBar,children:[(0,i.jsx)(g.Z.Icon,{icon:(0,s.GSL)(C.Z),"aria-hidden":!0}),(0,i.jsx)(g.Z.Title,{children:Z.intl.string(Z.t["KzCF//"])})]}),(0,i.jsx)("div",{id:S.v}),(0,i.jsx)("div",{className:x.content,children:L?(0,i.jsx)(s.u2D,{className:x.scroller,children:(0,i.jsx)("div",{className:x.scrollerContent,children:D?(0,i.jsx)(s.$jN,{}):(0,i.jsx)(N.Z,{guild:n})})}):(0,i.jsx)(T.Z,{})})]})}function L(e){let{guildId:t}=e;return(0,i.jsx)(E.l,{guildId:t,refetchOnMount:!0,children:(0,i.jsx)(b,{guildId:t})})}},504762:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),r=n(388032),a=n(700930),s=n(968153);function o(){return(0,i.jsx)("div",{className:a.container,children:(0,i.jsxs)("div",{className:a.content,children:[(0,i.jsx)("img",{src:s,alt:r.intl.string(r.t.MvLOqq)}),(0,i.jsx)(l.LZC,{size:12}),(0,i.jsx)(l.X6q,{className:a.header,variant:"heading-lg/semibold",children:r.intl.string(r.t.t18lFh)}),(0,i.jsx)(l.LZC,{size:8}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:r.intl.string(r.t.TvGJgo)})]})})}},807152:function(e,t,n){n.d(t,{v:()=>i});let i="guild-role-subscription-overview-notice"},726324:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(200651);n(192379);var l=n(481060),r=n(565138),a=n(695346),s=n(506071),o=n(353254),d=n(770570);function c(e){let{coverImageAsset:t,title:n,guild:c,description:u,children:h}=e,m=a.QK.useSetting(),p=(0,s.n)(),[g,_]=(0,o.Z)(t,p&&m);return(0,i.jsxs)("div",{className:d.container,children:[(0,i.jsx)("div",{ref:g,className:d.coverImageContainer,children:null!=_&&(0,i.jsx)("img",{src:_,alt:"",className:d.coverImage})}),(0,i.jsx)("div",{className:d.guildIconContainer,children:(0,i.jsx)(r.Z,{guild:c,size:r.Z.Sizes.XLARGE})}),(0,i.jsx)(l.X6q,{variant:"heading-xl/semibold",className:d.ctaTitle,children:n}),(0,i.jsx)(l.Text,{className:d.ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:u}),h]})}},504160:function(e,t,n){n.d(t,{L_:()=>r,_6:()=>a,ji:()=>l});var i=n(570140);function l(e){let{eventId:t,stageId:n}=e;(null!=t||null!=n)&&i.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}function r(e){i.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_HIDE",eventId:e})}function a(e){i.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_SEEN",guildEventId:e})}},151864:function(e,t,n){n.d(t,{Z:()=>c}),n(653041);var i,l=n(442837),r=n(570140),a=n(765305);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o={hiddenEventsAndStages:[]};class d extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&null!=e.hiddenEventsAndStages&&(o=e)}isLiveChannelNoticeHidden(e){let{eventId:t,stageId:n}=e;return!!(null!=n&&o.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&o.hiddenEventsAndStages.includes("event-".concat(t))}getState(){return o}}s(d,"displayName","LiveChannelNoticesStore"),s(d,"persistKey","liveChannelNotices_v2");let c=new d(r.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){let{eventId:t,stageId:n}=e;null!=t?o.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&o.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);o.hiddenEventsAndStages.includes(n)&&(t.status===a.p1.CANCELED||t.status===a.p1.COMPLETED)&&(o.hiddenEventsAndStages=o.hiddenEventsAndStages.filter(e=>e!==n))},GUILD_SCHEDULED_EVENT_DELETE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);o.hiddenEventsAndStages.includes(n)&&(o.hiddenEventsAndStages=o.hiddenEventsAndStages.filter(e=>e!==n))},STAGE_INSTANCE_DELETE:function(e){let{instance:t}=e,n="stage-".concat(t.id);o.hiddenEventsAndStages.includes(n)&&(o.hiddenEventsAndStages=o.hiddenEventsAndStages.filter(e=>e!==n))}})},497656:function(e,t,n){n.d(t,{y:()=>a});var i=n(517334),l=n(592125),r=n(554747);function a(e){var t;let n=(0,r.eF)(e),a=(0,i.ZP)(e),s=l.Z.getChannel(null===(t=a[0])||void 0===t?void 0:t.id);return null!=n?n:s}},300213:function(e,t,n){n.d(t,{m:()=>d}),n(192379);var i=n(442837);n(565799),n(431328),n(501655);var l=n(427679),r=n(517334);n(199902);var a=n(592125);n(496675),n(938475);var s=n(151864);n(497656);var o=n(554747);function d(e){var t;let n=(0,r.ZP)(e),d=a.Z.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),c=(0,i.e7)([l.Z],()=>l.Z.getStageInstanceByChannel(null==d?void 0:d.id),[d]),u=(0,o.k5)(e),{isStageNoticeHidden:h,isEventNoticeHidden:m}=(0,i.cj)([s.Z],()=>({isStageNoticeHidden:s.Z.isLiveChannelNoticeHidden({stageId:null==c?void 0:c.id}),isEventNoticeHidden:s.Z.isLiveChannelNoticeHidden({eventId:null==u?void 0:u.id})}),[c,u]);return null!=u?null!=c?!h:!m:null!=c&&!h}n(765305),n(231338)},862099:function(e,t,n){n.d(t,{Co:()=>Q,ZP:()=>J,bZ:()=>X,gt:()=>V}),n(47120);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(442837),d=n(481060),c=n(884338),u=n(471445),h=n(986332),m=n(662842),p=n(540059),g=n(703656),_=n(922482),f=n(565799),E=n(501655),I=n(192079),C=n(427679),N=n(448206),v=n(496675),T=n(938475),S=n(626135),A=n(823379),Z=n(15274),x=n(924301),b=n(504160),L=n(151864),y=n(835184),O=n(725436),P=n(497656),R=n(79874),j=n(554747),D=n(230900),w=n(854698),M=n(139712),k=n(765305),U=n(981631),G=n(388032),B=n(293028);let V=r.memo(function(e){let{heading:t,location:n,locationIcon:i,details:r,detailsIcon:a,topic:o,onClickCloseIcon:c,children:u}=e,h=(0,p.Q3)("GuildNoticeBody");return(0,l.jsxs)("div",{className:B.channelNotice,children:[(0,l.jsxs)("div",{className:s()(B.textBlock,B.singleLine),children:[(0,l.jsx)("div",{className:B.liveIndicator}),(0,l.jsx)(d.Text,{color:"text-positive",variant:h?"text-xs/semibold":"text-xs/bold",className:B.liveNowText,children:t}),null!=c&&(0,l.jsx)(d.P3F,{onClick:c,className:B.closeIcon,"aria-label":G.intl.string(G.t.cpT0Cg),children:(0,l.jsx)(d.Dio,{size:"xs",color:"currentColor"})})]}),(0,l.jsx)(d.X6q,{color:"header-primary",variant:h?"heading-md/semibold":"text-md/semibold",className:B.eventName,children:o}),(0,l.jsxs)("div",{className:s()(B.textBlock,B.singleLine),children:[i,(0,l.jsx)(d.Text,{color:h?"none":"header-secondary",variant:"text-xs/normal",className:B.channelName,children:n}),null!=r&&null!=a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.Text,{className:B.dotDivider,color:h?"none":"header-secondary",variant:"text-xs/normal",children:"•"}),a,(0,l.jsx)(d.Text,{color:h?"none":"header-secondary",variant:"text-xs/normal",className:B.details,children:r})]})]}),u]})});function H(e){let{guildEvent:t,channel:n}=e,i=(0,o.Wu)([T.ZP],()=>T.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),r=(0,u.KS)(n);return(0,l.jsx)(V,{onClickCloseIcon:()=>(0,b.ji)({eventId:null==t?void 0:t.id}),heading:G.intl.string(G.t["X2K3//"]),topic:t.name,location:n.name,locationIcon:null!=r?(0,l.jsx)(r,{size:"xs",color:"currentColor",className:B.stageIcon}):null,children:(0,l.jsx)(Q,{channel:n,speakers:i,voiceType:1})})}function F(e){let{guildEvent:t,noticeType:n}=e,i=(0,w.DK)(t),r=(0,o.e7)([x.ZP],()=>x.ZP.isInterestedInEventRecurrence(t.id,i),[t.id,i]),a=(0,o.e7)([y.Z],()=>y.Z.getUpcomingNoticeSeenTime(t.id),[t.id]);return r||null!=a||(0,b._6)(t.id),(0,l.jsxs)(d.zxk,{fullWidth:!0,className:B.joinButton,innerClassName:B.rsvpButton,onClick:function(){(0,M.Z)(t.id,null,t.guild_id,()=>setTimeout(()=>(0,b.L_)(t.id),1e3)),S.default.track(U.rMx.CHANNEL_NOTICE_CTA_CLICKED,{guild_id:t.guild_id,notice_type:n})},look:r?d.zxk.Looks.OUTLINED:d.zxk.Looks.FILLED,color:r?d.zxk.Colors.TRANSPARENT:d.zxk.Colors.GREEN,size:d.zxk.Sizes.SMALL,children:[r?(0,l.jsx)(d.dz2,{size:"custom",color:"currentColor",width:16,height:16,className:B.buttonIcon}):(0,l.jsx)(d.Dkj,{size:"custom",color:"currentColor",width:16,height:16,className:B.buttonIcon}),G.intl.string(G.t.DlcqlZ)]})}function z(e){var t;let{guildEvent:n,noticeType:i}=e,a=(0,p.Q3)("GuildUpcomingEventNotice"),o=(0,D.cS)(n),c=null!=o?(0,O.m)(o,!0):null,h=(0,D.nE)(n),m=(0,u.KS)(h),{startTime:g,endTime:_}=(0,R.ZP)(n),{startDateTimeString:f,upcomingEvent:E,diffMinutes:I}=(0,w.ub)(g.toISOString(),null==_?void 0:_.toISOString()),C=E?I>0?G.intl.formatToPlainString(G.t.PQlCWl,{minutes:I}):G.intl.string(G.t.WINqKS):G.intl.formatToPlainString(G.t.DC6h3N,{date:f});return r.useEffect(()=>{S.default.track(U.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:i,guild_id:n.guild_id})},[n,i]),(0,l.jsxs)("div",{className:B.channelNotice,children:[(0,l.jsxs)("div",{className:B.textBlock,children:[(0,l.jsx)(d.P3F,{onClick:()=>(0,Z.bO)({eventId:n.id}),className:B.eventNameClickable,children:(0,l.jsx)(d.Text,{color:"header-primary",variant:"text-md/semibold",className:B.eventName,children:n.name})}),(0,l.jsx)(d.P3F,{onClick:()=>{S.default.track(U.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:i,guild_id:n.guild_id}),(0,b.L_)(n.id)},className:B.closeIcon,"aria-label":G.intl.string(G.t.cpT0Cg),children:(0,l.jsx)(d.Dio,{size:"xs",color:"currentColor"})})]}),(0,l.jsxs)("div",{className:s()(B.textBlock,B.singleLine),children:[(0,l.jsx)(d.Que,{size:"custom",color:"currentColor",className:B.stageIcon,width:16,height:16}),(0,l.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",className:B.startTime,children:C})]}),(0,l.jsxs)("div",{className:s()(B.textBlock,B.singleLine),children:[null!=m?(0,l.jsx)(m,{size:"xs",color:"currentColor",className:B.stageIcon}):(0,l.jsx)(d._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:B.stageIcon}),(0,l.jsx)(d.Text,{color:a?"none":"header-secondary",variant:"text-xs/normal",className:B.channelName,children:null!==(t=null==h?void 0:h.name)&&void 0!==t?t:c})]}),(0,l.jsx)(F,{guildEvent:n,noticeType:i})]})}function W(e){let{guildEvent:t}=e,n=(0,D.cS)(t);return null==n?null:(0,l.jsx)(V,{onClickCloseIcon:()=>(0,b.ji)({eventId:null==t?void 0:t.id}),heading:G.intl.string(G.t["1+boPj"]),topic:t.name,location:(0,O.m)(n,!0),locationIcon:(0,l.jsx)(d._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:B.stageIcon}),children:(0,l.jsx)(Y,{guildEvent:t})})}function Y(e){let{guildEvent:t}=e,n=r.useCallback(()=>{(0,Z.bO)({eventId:t.id})},[t]);return(0,l.jsx)(d.zxk,{fullWidth:!0,className:B.joinButton,onClick:n,color:d.zxk.Colors.GREEN,size:d.zxk.Sizes.SMALL,children:G.intl.string(G.t.z4FcDg)})}function K(e){let{channel:t,label:n}=e;return(0,l.jsx)(d.zxk,{fullWidth:!0,className:B.joinButton,onClick:()=>{null!=t&&null!=t.getGuildId()&&((0,_.Cq)(t),(0,g.XU)(t.getGuildId(),t.id))},color:d.zxk.Colors.GREEN,size:d.zxk.Sizes.SMALL,children:n})}function q(e){let{stageInstance:t,channel:n}=e,i=(0,o.Wu)([f.Z],()=>[...new Set(f.Z.getMutableParticipants(n.id,E.pV.SPEAKER).map(e=>e.user))],[n.id]),r=(0,o.e7)([f.Z],()=>f.Z.getParticipantCount(n.id,E.pV.AUDIENCE),[n.id]),a=G.intl.formatToPlainString(G.t["+v2pNz"],{count:"".concat(r)});return(0,l.jsx)(V,{onClickCloseIcon:()=>(0,b.ji)({stageId:null==t?void 0:t.id}),heading:G.intl.string(G.t["X2K3//"]),location:n.name,details:a,detailsIcon:(0,l.jsx)(d.VWR,{size:"custom",color:"currentColor",width:14,height:14,className:B.stageIcon}),locationIcon:(0,l.jsx)(d.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:B.stageIcon}),topic:t.topic,children:(0,l.jsx)(Q,{channel:n,speakers:i,voiceType:2})})}var X=((i={})[i.VOICE=1]="VOICE",i[i.STAGE=2]="STAGE",i[i.STUDY_ROOM=3]="STUDY_ROOM",i);function Q(e){let{channel:t,speakers:n,voiceType:i}=e,a=t.getGuildId(),u=r.useMemo(()=>n.slice(0,3),[n]),h=(0,o.e7)([v.Z],()=>v.Z.can(U.Plq.CONNECT,t)),m=(0,N.Z)(t.id),p=G.intl.string(G.t.VJlc0d);switch(i){case 1:p=G.intl.string(G.t.VJlc0d);break;case 2:p=G.intl.string(G.t.ZYO5OD),(null==m?void 0:m.speaker)?p=G.intl.string(G.t["/cnSFR"]):null!=m&&(p=G.intl.string(G.t.btSGOj));break;case 3:p=G.intl.string(G.t.wBoE6O);break;default:(0,A.vE)(i)}return null==a?null:(0,l.jsxs)(l.Fragment,{children:[u.length>0?(0,l.jsxs)("div",{className:s()(B.textBlock,B.singleLine),children:[(0,l.jsx)(c.Z,{guildId:a,users:u,showUserPopout:!0,size:c.u.SIZE_16}),(0,l.jsx)(d.Text,{color:"none",variant:"text-xs/normal",className:B.userNames,children:(0,I.ER)(a,u,null==t?void 0:t.id,n.length)})]}):null,h&&null==m&&(0,l.jsx)(K,{channel:t,label:p})]})}let J=r.memo(function(e){let{guild:t}=e,{showRedesignedLiveChannelNotice:n}=(0,h.o)(!0),i=(0,P.y)(t.id),r=(0,j.k5)(t.id),a=(0,j.Vm)(t.id),s=(0,o.e7)([C.Z],()=>C.Z.getStageInstanceByChannel(null==i?void 0:i.id),[i]),{isStageNoticeHidden:d,isEventNoticeHidden:c}=(0,o.cj)([L.Z],()=>({isStageNoticeHidden:L.Z.isLiveChannelNoticeHidden({stageId:null==s?void 0:s.id}),isEventNoticeHidden:L.Z.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}),[s,r]),u=null,p=null!=s&&null!=i&&!d;if(n)return(0,l.jsx)(m.Z,{guild:t});null==r||c?p&&(u=(0,l.jsx)(q,{stageInstance:s,channel:i})):r.entity_type===k.WX.STAGE_INSTANCE&&p?u=(0,l.jsx)(q,{stageInstance:s,channel:i}):r.entity_type===k.WX.EXTERNAL?u=(0,l.jsx)(W,{guildEvent:r}):r.entity_type===k.WX.VOICE&&null!=i&&(u=(0,l.jsx)(H,{guildEvent:r,channel:i}));let g=t.hasFeature(U.oNc.COMMUNITY)||t.hasFeature(U.oNc.HUB);if(null==u&&null!=a&&!g){let{upcomingEvent:e,noticeType:t}=a;u=(0,l.jsx)(z,{guildEvent:e,noticeType:t})}return u})},879064:function(e,t,n){n.d(t,{v:()=>r});var i=n(200651);n(192379);var l=n(481060);function r(e){(0,l.ZDy)(async()=>{let{default:t}=await n.e("8102").then(n.bind(n,674189));return n=>(0,i.jsx)(t,{...n,...e})},{modalKey:"Guild Settings Picker Modal"})}},337721:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(434404),r=n(970731),a=n(981631),s=n(388032),o=n(471475),d=n(930128);function c(e){let{guild:t,markAsDismissed:n}=e;return(0,i.jsx)(r.ZP,{header:s.intl.string(s.t.Hgd22t),content:s.intl.string(s.t.SorTPD),asset:(0,i.jsx)("div",{className:o.image,children:(0,i.jsx)("img",{alt:"",src:d})}),buttonCTA:s.intl.string(s.t["9l+df3"]),onClick:e=>{l.Z.open(t.id,a.pNK.DISCOVERY_LANDING_PAGE)},secondaryButtonCTA:s.intl.string(s.t.duVdqq),onSecondaryClick:()=>{},markAsDismissed:n})}},577718:function(e,t,n){n.d(t,{Z:()=>w}),n(47120);var i=n(200651),l=n(192379),r=n(704215),a=n(780384),s=n(481060),o=n(906732),d=n(243778),c=n(26323),u=n(433280),h=n(34131),m=n(434404),p=n(978946),g=n(567458),_=n(782959),f=n(276645),E=n(970731),I=n(626135),C=n(267642),N=n(337721),v=n(981631),T=n(921944),S=n(30513),A=n(474936),Z=n(388032),x=n(723247),b=n(740392),L=n(741160),y=n(829972),O=n(31932),P=n(642301);function R(e){null!=e&&m.Z.open(e.id,(0,p.r)(e.id),{section:v.jXE.PREMIUM_GUILD_PROGRESS_BAR},v.KsC.DISPLAY)}function j(e,t){null!=t&&((0,C.f2)(t,v.Eu4.TIER_1)?m.Z.open(t.id,(0,p.r)(t.id),{section:v.jXE.PREMIUM_GUILD_INVITE_SPLASH},v.KsC.INVITE):(0,c.Z)({analyticsLocations:e,analyticsSourceLocation:v.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,S.o9)()}))}function D(e){let{renderPopout:t,renderGuildHeaderDropdownButton:n}=e;return(0,i.jsx)(s.yRy,{renderPopout:()=>(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:t}),position:"bottom",align:"center",animation:s.yRy.Animation.TRANSLATE,shouldShow:!0,children:()=>n()})}let w=l.memo(function(e){let{contentTypes:t,theme:n,guild:l,renderGuildHeaderDropdownButton:s}=e,{analyticsLocations:c}=(0,o.ZP)(),p=()=>{I.default.track(v.rMx.TOOLTIP_VIEWED,{type:A.cd.PREMIUM_PROGRESS_BAR,location:{page:v.ZY5.GUILD_CHANNEL}})},S=()=>{I.default.track(v.rMx.PREMIUM_UPSELL_VIEWED,{type:A.cd.INVITE_SPLASH_UPSELL,location:{page:v.ZY5.GUILD_CHANNEL},location_stack:c})},w=(0,a.wj)(n)?y:O,[M,k]=(0,d.US)(t,T.R.GUILD_HEADER_TOOLTIPS);return(0,i.jsx)(i.Fragment,{children:(()=>{switch(M){case r.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(f.Z,{guildId:l.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(E.ZP,{onComponentMount:p,header:Z.intl.string(Z.t.nxtaFx),asset:(0,i.jsx)("img",{alt:"",src:w,className:b.fullWidthImage}),content:Z.intl.format(Z.t.ujItEh,{}),buttonCTA:Z.intl.string(Z.t.UzVPra),secondaryButtonCTA:Z.intl.string(Z.t["KkK/aG"]),onSecondaryClick:()=>R(),onClick:()=>R(l),markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(E.ZP,{onComponentMount:p,header:Z.intl.string(Z.t.KAsfPT),asset:(0,i.jsx)("img",{alt:"",src:w,className:b.fullWidthImage}),content:Z.intl.format(Z.t.zK1hpq,{}),buttonCTA:Z.intl.string(Z.t.UzVPra),secondaryButtonCTA:Z.intl.string(Z.t["KkK/aG"]),onSecondaryClick:()=>R(),onClick:()=>R(l),markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(u.Z,{guildId:l.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(N.Z,{guild:l,markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.GUILD_HEADER_INVITE_SPLASH:let e=(0,C.f2)(l,v.Eu4.TIER_1)?Z.intl.format(Z.t.DDzEVl,{}):Z.intl.formatToPlainString(Z.t.pMftkJ,{boostCount:(0,C.KK)(l,v.Eu4.TIER_1)}),t=(0,C.f2)(l,v.Eu4.TIER_1)?Z.intl.string(Z.t.rOFcBg):Z.intl.string(Z.t.hvVgAQ);return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(E.ZP,{onComponentMount:S,header:Z.intl.string(Z.t["36wK8/"]),asset:(0,i.jsx)("img",{alt:"",src:L,className:b.fullWidthImage}),content:e,buttonCTA:t,secondaryButtonCTA:Z.intl.string(Z.t.hBIHLS),onSecondaryClick:()=>j(c),onClick:()=>j(c,l),markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(g.Z,{markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(E.ZP,{className:x.tooltipOverrideColor,header:Z.intl.string(Z.t.hLUL3t),content:Z.intl.string(Z.t.ahWaPT),buttonCTA:Z.intl.string(Z.t["NX+WJC"]),onClick:()=>k(T.L.UNKNOWN),markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.GUILD_HEADER_SOUNDBOARD_PERMISSION:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(E.ZP,{header:Z.intl.string(Z.t.PZNQKC),content:Z.intl.string(Z.t.jQIyyM),buttonCTA:Z.intl.string(Z.t.RzWDqa),secondaryButtonCTA:Z.intl.string(Z.t.f3Pet7),asset:(0,i.jsx)("img",{alt:"",src:P,className:b.fullWidthImage}),onClick:()=>{m.Z.open(l.id,v.pNK.ROLES),m.Z.selectRole(l.getEveryoneRoleId(),Z.intl.string(Z.t.Bco7ND))},markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.MEDIA_CHANNEL_UPSELL:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(_.Z,{guildId:l.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:s});case r.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL:return(0,i.jsx)(D,{renderPopout:(0,i.jsx)(h.Z,{guildId:l.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:s});default:return s()}})()})})},242601:function(e,t,n){n.d(t,{Z:()=>ev}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(642128),o=n(232713),d=n(442837),c=n(704215),u=n(846519),h=n(481060),m=n(570140),p=n(239091),g=n(269128),_=n(711237),f=n(110924),E=n(100527),I=n(906732),C=n(211242),N=n(785203),v=n(745837),T=n(13228),S=n(540059),A=n(211644),Z=n(605236),x=n(243778),b=n(492162),L=n(818634),y=n(596557),O=n(817520),P=n(999309),R=n(408987),j=n(130734),D=n(499137),w=n(258871),M=n(972264),k=n(11352),U=n(304445),G=n(344185),B=n(155409),V=n(10401),H=n(970731),F=n(210887),z=n(592125),W=n(796974),Y=n(486472),K=n(984933),q=n(650774),X=n(430824),Q=n(819640),J=n(496675),$=n(878884),ee=n(19780),et=n(594174),en=n(74538),ei=n(374023),el=n(373274),er=n(315174),ea=n(577718),es=n(156978),eo=n(591190),ed=n(327530),ec=n(981631),eu=n(652785),eh=n(921944),em=n(647086),ep=n(388032),eg=n(723247);function e_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ef=88+ed.pm,eE=ef-24,eI="server-settings",eC={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}};class eN extends l.PureComponent{static getDerivedStateFromProps(e){let{guild:t,hasChannelNotice:n}=e;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null}componentDidMount(){var e;this.setAnimatedValue(0),m.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices),this.historyUnlisten=U.Z.addRouteChangeListener(this.handleHistoryChange);let{location:t}=U.Z.getHistory();(null===(e=t.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}componentWillUnmount(){this.showTimeout.stop(),this.state.controller.dispose(),this.historyUnlisten(),m.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)}getGuildBannerHash(){let{guild:e,hasChannelNotice:t}=this.props;return null==e||t?null:e.banner}renderGuildHeaderNotices(e){let{showGuildTemplateDirtyTooltip:t,showGuildHeaderTutorial:n,anyLayerOpen:l}=this.props,{shouldShowSubscribeTooltip:r}=this.state;return n?(0,i.jsx)("div",{onClick:t=>e?null:t.stopPropagation(),children:(0,i.jsx)(B.Z,{tutorialId:eI,position:"bottom",inlineSpecs:eC,children:this.renderGuildHeaderDropdownButton(e)})}):t?(0,i.jsx)(h.ua7,{forceOpen:!0,color:h.FGA.BRAND,position:"bottom",shouldShow:!e&&!l,text:ep.intl.string(ep.t.sFSrFB),"aria-label":ep.intl.string(ep.t.sFSrFB),children:()=>this.renderGuildHeaderDropdownButton(e)}):l||e?this.renderGuildHeaderDropdownButton(e):r?(0,i.jsx)(h.yRy,{renderPopout:()=>(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,i.jsx)(H.ZP,{header:ep.intl.string(ep.t["Q3qa4+"]),content:ep.intl.string(ep.t.UyHD4O),buttonCTA:ep.intl.string(ep.t.U9PrMz),onClick:this.handleCloseSubscribeTooltip})}),position:"bottom",align:"center",animation:h.yRy.Animation.TRANSLATE,shouldShow:!0,children:()=>this.renderGuildHeaderDropdownButton(e)}):this.renderGuildHeaderUpsellPopout(e)}renderGuildHeader(e){let{guild:t,isHeaderPopoutOpen:n,showGuildHeaderTutorial:l,showGuildTemplateDirtyTooltip:r,isGuildHeaderDismissibleTooltipShown:a,headerAnalyticsLocations:s}=this.props,{controller:o,renderBanner:d,bannerVisible:c,bannerVisibleHeight:u,communityInfoVisible:m}=this.state,p=l||r||a;return null==t?null:(0,i.jsx)(I.Gt,{value:s,children:(0,i.jsx)(h.KeG,{renderPopout:this.renderMenuPopout,position:"bottom",align:"center",animation:h.yRy.Animation.SCALE,shouldShow:n,onRequestClose:()=>{(0,L.l)(!1)},children:l=>{let{onClick:r,...a}=l;return(0,i.jsx)(er.ZP,{guild:t,controller:o,renderBanner:d,hasSubheader:e,bannerVisible:c,communityInfoVisible:m,guildBanner:this.getGuildBannerHash(),onClick:this.handleHeaderMenuToggle,onContextMenu:this.handleHeaderContextMenu,disableBannerAnimation:p,animationOverlayHeight:u,...a,children:this.renderGuildHeaderNotices(n)})}})})}setAnimatedValue(e){let{guild:t}=this.props,n=null!=this.getGuildBannerHash(),i=null==t?void 0:t.hasCommunityInfoSubheader();null!=t&&(n||i)&&(n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))}setAnimatedValueForGuildInfo(e){let{communityInfoVisible:t,controller:n}=this.state;(e>=20&&t||e<20&&!t)&&(t=!t),t!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:t}),n.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()}renderChannelList(){let{isUnavailable:e,guild:t,selectedChannel:n,enableStudyGroup:l,...r}=this.props;if(e||null==t)return(0,i.jsx)(eo.Z,{withBannerPadding:null!=t&&null!=this.getGuildBannerHash()});if(t.hasFeature(ec.oNc.HUB)&&!l)return(0,i.jsx)("div",{className:eg.hubContainer,children:(0,i.jsx)(w.Z,{guild:t,channel:null!=n?n:K.ZP.getDefaultChannel(t.id)})});{let e=t.id===em._?el.j:el.E;return(0,i.jsx)(e,{guild:t,...r,guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=t&&(null!=this.getGuildBannerHash()||t.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null})}}renderFooter(){let{shouldRenderClipsEducation:e}=this.props;return(0,i.jsx)(x.ZP,{contentTypes:[],children:t=>{let{visibleContent:n}=t;return e?(0,i.jsx)(v.Z,{}):(0,i.jsx)(i.Fragment,{})}})}render(){let{guild:e,footerAnalyticsLocations:t}=this.props;return(0,i.jsxs)("nav",{className:eg.container,onContextMenu:this.handleContextMenu,"aria-label":ep.intl.formatToPlainString(ep.t.nj5gAQ,{guildName:null!=e?e.toString():""}),children:[null!=e&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=e&&(0,i.jsx)(es.Z,{guild:e,setHasSubheader:e=>this.setState({hasGuildSubheader:e})}),this.renderChannelList(),(0,i.jsx)(I.Gt,{value:t,children:this.renderFooter()})]})}constructor(...e){super(...e),e_(this,"historyUnlisten",()=>{}),e_(this,"showTimeout",new u.V7),e_(this,"state",{controller:new s.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:this.props.isRefreshEnabled?ef:88,hasGuildSubheader:!1}),e_(this,"handleHistoryChange",e=>{null!=e.state&&e.state.shouldShowSubscribeTooltip&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}),e_(this,"handleHeaderMenuToggle",e=>{let{isHeaderPopoutOpen:t}=this.props;e.stopPropagation(),(0,L.l)(!t),this.closeAllHeaderNotices()}),e_(this,"handleContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,p.jW)(e,async()=>{let{default:e}=await n.e("92795").then(n.bind(n,652171));return n=>(0,i.jsx)(e,{...n,guild:t})})}),e_(this,"handleHeaderContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,p.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("44156"),n.e("63104"),n.e("6850"),n.e("58227"),n.e("16114"),n.e("54408"),n.e("11684"),n.e("33213"),n.e("16524")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,{...n,guild:t})})}),e_(this,"closeAllHeaderNotices",()=>{this.handleCloseSubscribeTooltip(),this.handleCloseTemplateDirtyTooltip(),this.handleCloseStudentHubPrivacySettingsTooltip()}),e_(this,"handleCloseStudentHubPrivacySettingsTooltip",()=>{var e;let t=(0,Z.un)(c.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),n=null===(e=this.props.guild)||void 0===e?void 0:e.hasFeature(ec.oNc.HUB);!t&&n&&(0,Z.EW)(c.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:eh.L.AUTO})}),e_(this,"handleCloseSubscribeTooltip",()=>{this.showTimeout.stop(),this.state.shouldShowSubscribeTooltip&&this.setState({shouldShowSubscribeTooltip:!1})}),e_(this,"handleCloseTemplateDirtyTooltip",()=>{let{guild:e,showGuildTemplateDirtyTooltip:t}=this.props;null!=e&&t&&R.Z.hideGuildTemplateDirtyTooltip(e.id)}),e_(this,"renderMenuPopout",async()=>{let{default:e}=await n.e("46826").then(n.bind(n,859432));return t=>{let{closePopout:n}=t,{guild:l}=this.props;return null!=l&&(0,i.jsx)(e,{onClose:n,guild:l})}}),e_(this,"renderGuildHeaderUpsellPopout",e=>{let{showGuildBoostingProgressBarUpsell:t,showGuildBoostingProgressBarSizeUpsell:n,showRoleSubscriptionUpsell:l,showInviteSplashUpsell:r,showDiscoveryLandingPageSettingsUpsell:a,showHubPrivacySettingsTooltip:s,showActiveThreadsNotice:o,showGuildSoundboardPermissionUpsell:d,showMediaChannelUpsell:u,showTierTemplatesUpsell:h,shouldRenderCustomNotificationSoundsCoachmark:m,guild:p,theme:g}=this.props;if(null==p)return this.renderGuildHeaderDropdownButton(e);let _=[];return(s&&_.push(c.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),o&&_.push(c.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE),t&&_.push(c.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS),n&&_.push(c.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK),l&&_.push(c.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL),d&&_.push(c.z.GUILD_HEADER_SOUNDBOARD_PERMISSION),r&&_.push(c.z.GUILD_HEADER_INVITE_SPLASH),a&&_.push(c.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL),0===_.length)?this.renderGuildHeaderDropdownButton(e):(u&&_.push(c.z.MEDIA_CHANNEL_UPSELL),h&&_.push(c.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL),m&&_.push(c.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK),(0,i.jsx)(ea.Z,{contentTypes:_,theme:g,guild:p,renderGuildHeaderDropdownButton:()=>this.renderGuildHeaderDropdownButton(e)}))}),e_(this,"renderGuildHeaderDropdownButton",e=>(0,i.jsx)(g.Z,{open:e,className:eg.dropdownButton})),e_(this,"setAnimatedValueForBanner",e=>{let t=this.props.isRefreshEnabled?ef:88,n=this.props.isRefreshEnabled?eE:64,{renderBanner:i,communityInfoVisible:l,bannerVisible:r,bannerVisibleHeight:a,controller:s}=this.state;(e>=n&&r||e<n&&!r)&&(r=!r),(e>=t&&!i||e<t&&i)&&(i=!i),a=Math.max(t-e,0),l=r,(i!==this.state.renderBanner||r!==this.state.bannerVisible||a!==this.state.bannerVisibleHeight||l!==this.state.communityInfoVisible)&&this.setState({renderBanner:i,bannerVisible:r,bannerVisibleHeight:a,communityInfoVisible:l}),s.update({value:Math.min(1,Math.max(0,1-e/t)),immediate:!0}).start()}),e_(this,"pinBannerOrGuildInfo",e=>{let{scrollTop:t}=e;this.setAnimatedValue(t)})}}function ev(e){var t;let{guildId:n,hideSelectedChannel:r,selectedChannelId:s}=e,u=(0,d.e7)([X.Z],()=>X.Z.getGuild(n));(0,_.J_)(n);let m=(0,b.Z)(n),p=(0,d.e7)([W.Z],()=>W.Z.getGuildDimensions(n).scrollTo),g=(0,d.e7)([ee.Z],()=>ee.Z.getChannelId()),[v,x,R]=(0,d.Wu)([J.Z],()=>[J.Z.can(ec.Plq.MANAGE_GUILD,u),J.Z.can(ec.Plq.MANAGE_ROLES,u),J.Z.can(ec.Plq.MANAGE_THREADS,u)]),w=(0,d.e7)([Y.Z],()=>Y.Z.isUnavailable(n)),U=(0,d.e7)([et.default],()=>et.default.getCurrentUser()),B=(0,d.e7)([F.Z],()=>F.Z.darkSidebar?ec.BRd.DARK:F.Z.theme),{enableStudyGroup:H}=(0,D.s)(u),K=(0,A.ZP)(e=>e.currentlyShown.has(c.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)),[el,er]=l.useState(!K),ea=(0,f.Z)(n),{analyticsLocations:es}=(0,I.ZP)(E.Z.GUILD_HEADER),{analyticsLocations:eo}=(0,I.ZP)(E.Z.GUILD_CHANNEL_LIST_FOOTER);l.useEffect(()=>{n!==ea&&er(!K)},[n,ea,K]);let[ed,em]=(0,A.ZP)(e=>[eu.XN.some(t=>e.currentlyShown.has(t.dismissibleContentType)),e.currentlyShownGroup.has(eh.R.GUILD_HEADER_TOOLTIPS)],o.X),ep=(0,N.Z)(u),eg=(0,h.s9z)(h.JQI),e_=(0,d.e7)([Q.Z],()=>Q.Z.hasLayers()),ef=(0,d.e7)([V.Z],()=>V.Z.shouldShow(eI)),eE=v&&(null==u?void 0:u.premiumProgressBarEnabled)===!1&&!ei.s.isDisallowPopupsSet(),eC=(0,d.e7)([q.Z],()=>q.Z.getMemberCount(n)),ev=v&&null!=eC&&eC>=30&&(null==u?void 0:u.premiumProgressBarEnabled)===!1&&!ei.s.isDisallowPopupsSet(),eT=x&&null!=u&&(u.hasFeature(ec.oNc.COMMUNITY)||null!=eC&&eC>50),eS=(0,P.Z)(n),eA=(null==u?void 0:u.hasFeature(ec.oNc.HUB))===!0,eZ=v&&(null==u?void 0:u.hasFeature(ec.oNc.DISCOVERABLE))===!0,ex=(0,C.Q)(),eb=(v||(null==u?void 0:u.premiumTier)===ec.Eu4.NONE)&&!ei.s.isDisallowPopupsSet()&&!ex,eL=(0,d.e7)([j.Z,Q.Z],()=>null!=u&&null!=U&&v&&!Q.Z.hasLayers()&&j.Z.shouldShowGuildTemplateDirtyTooltip(n)),ey=(0,d.e7)([z.Z],()=>z.Z.getChannel(s)),{isPopoutOpen:eO}=(0,L.y)(),eP=null!==(t=null==u?void 0:u.hasFeature(ec.oNc.COMMUNITY))&&void 0!==t&&t,eR=(0,d.e7)([G.Z],()=>!a().isEmpty(G.Z.getThreadsForGuild(n))),ej=en.ZP.isNewUser(U),eD=el&&!ej,ew=(0,T.Z)(U);(0,y.Z)(u);let eM=(0,Z.wE)(c.z.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP),ek=(0,M.Z)(n),eU=(0,O.Z)(n),eG=(0,d.e7)([ee.Z],()=>ee.Z.getChannelId()),eB=(0,d.e7)([$.Z],()=>$.Z.desyncedVoiceStatesCount),eV=k.Y.useExperiment({location:"GuildSidebar"},{autoTrackExposure:!0}).enabled,eH=(0,S.Q3)("GuildSidebar");return(0,i.jsx)(eN,{guildId:n,hideSelectedChannel:r,guild:u,scrollToChannel:p,selectedChannelId:r?null:s,selectedChannel:ey,selectedVoiceChannelId:g,voiceStates:m,rtcConnectedChannelId:eG,rtcDesyncedVoiceStatesCount:eB,isUnavailable:w,theme:B,user:U,hasChannelNotice:null!=ep||ed,anyLayerOpen:eg||e_,showGuildBoostingProgressBarUpsell:eE,showGuildBoostingProgressBarSizeUpsell:ev,showInviteSplashUpsell:eb,showDiscoveryLandingPageSettingsUpsell:eZ,showGuildHeaderTutorial:ef,showGuildTemplateDirtyTooltip:eL,showRoleSubscriptionUpsell:eS,showHubPrivacySettingsTooltip:eA,showNewUnreadsBar:eP,showActiveThreadsNotice:R&&null!=eC&&eC>=200&&eR,showGuildSoundboardPermissionUpsell:eT,showMediaChannelUpsell:ek,showTierTemplatesUpsell:eU,isHeaderPopoutOpen:eO,enableStudyGroup:H,isGuildHeaderDismissibleTooltipShown:em,canShowCoachMarkAtBottom:el,headerAnalyticsLocations:es,footerAnalyticsLocations:eo,shouldRenderClipsEducation:ew,isTutorialHighlightDismissed:eM,shouldRenderBurstCoachmark:eD,shouldRenderCustomNotificationSoundsCoachmark:eV,isRefreshEnabled:eH})}},156978:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651),l=n(192379),r=n(122611),a=n(896441);function s(e){let{guild:t,setHasSubheader:n}=e,s=l.useRef(null);return l.useLayoutEffect(()=>{let e=s.current;null!=e&&n(e.childNodes.length>0)}),(0,i.jsx)("div",{className:a.container,ref:s,children:(0,i.jsx)(r.Z,{guild:t})})}},130734:function(e,t,n){n.d(t,{Z:()=>p});var i,l,r,a=n(442837),s=n(433517),o=n(570140);let d="hasSeenGuildTemplatePromotionTooltip",c={},u=!0===s.K.get(d);function h(e){let{guildId:t}=e;c={...c,[t]:!1}}class m extends(r=a.ZP.Store){shouldShowGuildTemplateDirtyTooltip(e){var t;return null!==(t=c[e])&&void 0!==t&&t}shouldShowGuildTemplatePromotionTooltip(){return!u}}l="GuildTemplateTooltipStore",(i="displayName")in m?Object.defineProperty(m,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):m[i]=l;let p=new m(o.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){let{guildTemplate:t}=e;c={...c,[t.source_guild_id]:t.is_dirty||!1}},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){s.K.set(d,!0),u=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){c={...c,[e.guildTemplate.source_guild_id]:!1}},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:h,GUILD_TEMPLATE_DELETE_SUCCESS:h})},962220:function(e,t,n){n.d(t,{Z:()=>h});var i=n(39612),l=n(271579),r=n(756647),a=n(625128),s=n(626135),o=n(954824),d=n(751189),c=n(981631);let u="template",h={...d.Z,openNativeAppModal(e){a.Z.openNativeAppModal(e,c.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp(e,t){if(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)return;let n=null!=e?(0,i.Oh)(e):(0,i.Gk)(),a=(0,l.WS)(),d=(0,l.ZP)(n,{utmSource:u,fingerprint:t,attemptId:a});s.default.track(c.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,r.K)(t),attempt_id:a,source:u,guild_template_code:e}),o.Z.launch(d,()=>{})}}},427347:function(e,t,n){n.d(t,{Z:()=>I});var i=n(200651);n(192379);var l=n(704215),r=n(481060),a=n(230711),s=n(100527),o=n(906732),d=n(605236),c=n(314910),u=n(378364),h=n(197344),m=n(226625),p=n(981631),g=n(921944),_=n(388032),f=n(809551);function E(e){let{dismissibleContent:t}=e,n=h.Z.useIsEligible(),u=(0,d.wE)(t),{analyticsLocations:E}=(0,o.ZP)(s.Z.HOLIDAY_COACHMARK),I=e=>{(0,d.EW)(l.z.HOLIDAY_COACHMARK_HALLOWEEN_2024,{dismissAction:e})},C=()=>{a.Z.open(p.oAB.NOTIFICATIONS,null,{analyticsLocations:E}),I(g.L.SECONDARY)};return n&&!u?(0,i.jsx)(c.ZP,{children:(0,i.jsxs)("div",{className:f.wrapper,children:[(0,i.jsxs)("div",{className:f.backgroundWrapper,children:[(0,i.jsx)(m.Z,{className:f.backgroundImage,pageMultiplier:5}),(0,i.jsx)("div",{className:f.backgroundOverlay})]}),(0,i.jsx)("div",{className:f.heroImage}),(0,i.jsxs)("div",{className:f.content,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(r.X6q,{variant:"heading-md/bold",color:void 0,className:f.specialText,children:_.intl.string(_.t.zUhr3N)}),(0,i.jsx)(r.Text,{variant:"text-xs/normal",color:"always-white",children:_.intl.format(_.t.Xw2XUV,{settingsHook:(e,t)=>(0,i.jsx)(r.P3F,{tag:"span",className:f.specialTextLink,onClick:C,children:e},t)})})]}),(0,i.jsx)(r.P3F,{className:f.closeClickable,onClick:()=>I(g.L.USER_DISMISS),children:(0,i.jsx)(r.Dio,{color:"currentColor",size:"xs"})})]})]})}):null}function I(){return null==u.Z.coachmarkDismissibleContent?null:(0,i.jsx)(E,{dismissibleContent:u.Z.coachmarkDismissibleContent})}},226625:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),d=n(642128),c=n(442837),u=n(481060),h=n(607070),m=n(939486);let p={mass:10,tension:550,friction:140};function g(e){let{className:t,pageMultiplier:n}=e,r=(0,c.e7)([h.Z],()=>h.Z.useReducedMotion),[s,g]=l.useState({x:0,y:0}),_=l.useMemo(()=>o().throttle(e=>{if(!r)g({x:(window.innerWidth-e.pageX*n)/90,y:(window.innerHeight-e.pageY*n)/90})},20),[n,r]);l.useEffect(()=>(window.addEventListener("mousemove",_),()=>window.removeEventListener("mousemove",_)),[_]);let[f,E]=(0,u.q_F)(()=>({x:0,y:0,config:p}));return l.useEffect(()=>{E({x:s.x,y:s.y})},[s.x,s.y,E]),(0,i.jsx)(d.animated.div,{style:{transform:(0,d.to)([f.x,f.y],(e,t)=>"translate3d(".concat(e,"px, ").concat(t,"px, 0)"))},className:a()(m.background,t)})}},315964:function(e,t,n){n.d(t,{Z:()=>a});var i=n(570140),l=n(142497),r=n(190378);let a={init(){i.Z.subscribe("VOICE_CHANNEL_SELECT",e=>{let{channelId:t}=e;null==t&&l.Kw(r.v.VOICE_PANEL_INTRODUCTION)})}}},499137:function(e,t,n){n.d(t,{s:()=>s});var i=n(192379),l=n(818083),r=n(981631);let a=(0,l.B)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]}),s=e=>{var t;return i.useEffect(()=>{null!=e&&e.hasFeature(r.oNc.HUB)&&a.trackExposure({guildId:e.id,location:"467c32_1"})},[e]),a.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:r.lds,location:"467c32_2"},{autoTrackExposure:!1,disable:null==e||!e.hasFeature(r.oNc.HUB)})}},469988:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var l=n(481060),r=n(388032),a=n(647487);let s=e=>{let{hasHub:t}=e;return(0,i.jsxs)("div",{className:a.container,children:[(0,i.jsx)("div",{className:a.iconContainer,children:(0,i.jsx)(l.aVH,{size:"md",color:l.TVs.colors.WHITE.css})}),(0,i.jsx)(l.Text,{color:"header-primary",variant:"text-lg/semibold",className:a.header,children:t?r.intl.string(r.t.hsSHh4):r.intl.string(r.t.Wf6iio)}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:a.__invalid_description,children:t?r.intl.string(r.t.FZ2J3d):r.intl.string(r.t.TvHcv7)}),(0,i.jsx)("div",{className:a.gap}),(0,i.jsx)(l.zxk,{size:l.zxk.Sizes.LARGE,color:t?l.zxk.Colors.PRIMARY:l.zxk.Colors.GREEN,onClick:()=>(0,l.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})}),children:(0,i.jsx)(l.Text,{variant:"text-sm/semibold",className:a.addButton,color:"none",children:t?r.intl.string(r.t.IyjHDw):r.intl.string(r.t["KU/aNz"])})})]})}},613609:function(e,t,n){n.d(t,{Z:()=>_}),n(47120),n(773603);var i=n(200651),l=n(192379),r=n(442837),a=n(447543),s=n(568154),o=n(703656),d=n(430824),c=n(701190),u=n(449934),h=n(650233),m=n(981631),p=n(898625),g=n(639673);let _=e=>{let{guildId:t,inviteCode:n}=e,[_,f]=l.useState(p.hO.INITIAL),[E,I]=l.useState(null!=n);l.useEffect(()=>{null!=n&&a.Z.resolveInvite(n,"Hub").finally(()=>I(!1))},[n]);let C=(0,r.e7)([c.Z],()=>null!=n?c.Z.getInvite(n):null),N=(0,r.e7)([d.Z],()=>d.Z.getGuild(t));l.useEffect(()=>{null!=N&&(0,o.uL)(m.Z5c.CHANNEL(t))},[N,t]);let v=l.useCallback(e=>{f(t=>Math.max(t,e))},[]),T=(0,u.gK)();return(0,i.jsx)("div",{className:g.page,children:(0,i.jsxs)(s.Z,{embedded:!0,splash:T,waveState:_,showLogo:!1,updateWaveState:v,children:[(0,i.jsx)("div",{className:g.dragRegion}),(0,i.jsx)("div",{className:g.contentWrapper,children:!E&&(0,i.jsx)(h.H,{invite:C})})]})})}},704631:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(481060),r=n(324262),a=n(981631),s=n(921944),o=n(388032),d=n(524094);function c(e){let{guild:t,markAsDismissed:c}=e;return(0,i.jsx)(r.Z,{guild:t,onDismissed:()=>c(s.L.UNKNOWN),onClick:function(){(0,l.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})})},message:o.intl.string(o.t["1+hiPz"]),cta:o.intl.string(o.t.hvVgAQ),trackingSource:a.PsQ.HUB_LINK_NOTICE,type:a.vID.HUB_LINK,image:d})}},567458:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),r=n(921944),a=n(388032),s=n(18918);function o(e){let{markAsDismissed:t}=e;return(0,i.jsxs)("div",{className:s.container,children:[(0,i.jsx)("div",{className:s.pointer}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",className:s.content,children:a.intl.string(a.t.rdzeVF)}),(0,i.jsx)(l.zxk,{color:l.zxk.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{t(r.L.AUTO)},children:a.intl.string(a.t["NX+WJC"])})]})}},526383:function(e,t,n){n.d(t,{Z:()=>a}),n(47120);var i=n(442837),l=n(430824),r=n(981631);function a(){return(0,i.Wu)([l.Z],()=>Object.entries(l.Z.getGuilds()).filter(e=>{let[t,n]=e;return n.hasFeature(r.oNc.HUB)}).map(e=>{let[t,n]=e;return n}))}},819792:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var l=n(642128),r=n(442837),a=n(481060),s=n(536442),o=n(984933),d=n(496675),c=n(51382),u=n(91326),h=n(503856),m=n(981631);function p(e){let{channel:t,guild:n}=e,o=(0,r.e7)([s.qc],()=>s.qc.hasHotspot(s.v6.HUB_STUDY_ROOM_NOTICE)),d=(0,h.r)(t.guild_id),m=(0,a.q_F)({maxHeight:d?0:300,overflow:"hidden",delay:400});return(0,i.jsx)(l.animated.div,{style:m,children:o?(0,i.jsx)(c.Z,{channel:t,guild:n}):(0,i.jsx)(u.Z,{name:"\uD83D\uDCDA☕ ".concat(t.name),channel:t})})}let g=function(e){let{guild:t}=e,n=(0,r.e7)([o.ZP],()=>o.ZP.getChannels(t.id)[o.Zb][0]),l=(0,r.e7)([d.Z],()=>null!=n&&d.Z.can(m.Plq.CONNECT,n.channel));return t.hasFeature(m.oNc.HUB)&&null!=n&&l?(0,i.jsx)(p,{channel:n.channel,guild:t}):null}},51382:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var l=n(324262),r=n(536442),a=n(703656),s=n(922482),o=n(981631),d=n(388032),c=n(882977);let u=e=>{let{channel:t,guild:n}=e;return(0,i.jsx)(l.Z,{guild:n,onDismissed:()=>{(0,r.Kw)(r.v6.HUB_STUDY_ROOM_NOTICE)},onClick:()=>{(0,r.Kw)(r.v6.HUB_STUDY_ROOM_NOTICE),null!=t&&null!=t.getGuildId()&&((0,s.Cq)(t),(0,a.XU)(t.getGuildId(),t.id))},title:d.intl.string(d.t["4Y2AS0"]),message:d.intl.string(d.t.wTsxTU),cta:d.intl.string(d.t.wBoE6O),image:c,type:o.vID.HUB_STUDY_ROOM})}},91326:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(442837),r=n(471445),a=n(862099),s=n(938475),o=n(388032),d=n(644833);let c=function(e){let{name:t,channel:n}=e,c=(0,l.Wu)([s.ZP],()=>s.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),u=(0,r.KS)(n);return(0,i.jsx)(a.gt,{heading:o.intl.string(o.t["X2K3//"]),topic:t,location:o.intl.string(o.t.LZA6NT),locationIcon:null!=u?(0,i.jsx)(u,{size:"xs",color:"currentColor",className:d.icon}):null,children:(0,i.jsx)(a.Co,{channel:n,speakers:c,voiceType:a.bZ.STUDY_ROOM})})}},919285:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(324262),r=n(434404),a=n(929507),s=n(981631),o=n(388032),d=n(943935);function c(e){let{guild:t}=e,n=()=>a.Z.dismissNotice(t.id);return(0,i.jsx)(l.Z,{guild:t,onDismissed:n,cta:o.intl.string(o.t.RzWDqa),message:o.intl.format(o.t["kQ/MDg"],{}),type:s.vID.COMMANDS_MIGRATION,image:d,onClick:()=>{n(),r.Z.open(t.id,s.pNK.INTEGRATIONS)},imageMarginTop:15,imageMarginX:22})}},975533:function(e,t,n){n.d(t,{Z:()=>b});var i=n(570140),l=n(846027),r=n(13245),a=n(287734),s=n(872810),o=n(223245),d=n(317770),c=n(924557),u=n(39604),h=n(569545),m=n(722835),p=n(703656),g=n(641015),_=n(183584),f=n(199902),E=n(131951),I=n(246946),C=n(808506),N=n(237997),v=n(626135),T=n(554174),S=n(981631),A=n(65154);let Z={[S.kg4.TOGGLE_PRIORITY_SPEAKER]:{onTrigger(){},keyEvents:{}},[S.kg4.UNASSIGNED]:{onTrigger(){},keyEvents:{}},[S.kg4.PUSH_TO_TALK]:{onTrigger(e,t){E.Z.getMode(t.context)===S.pM4.PUSH_TO_TALK&&(Z[S.kg4.PUSH_TO_TALK].isPressed=e,E.Z.getMediaEngine().eachConnection(t=>t.setForceAudioInput(e,!1),t.context))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[S.kg4.PUSH_TO_TALK_PRIORITY]:{onTrigger(e){E.Z.getMode()===S.pM4.PUSH_TO_TALK&&(Z[S.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e,E.Z.getMediaEngine().eachConnection(t=>t.setForceAudioInput(e,!0),A.Yn.DEFAULT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[S.kg4.PUSH_TO_MUTE]:{onTrigger(e){E.Z.getMode()===S.pM4.VOICE_ACTIVITY&&(Z[S.kg4.PUSH_TO_MUTE].isPressed=e,l.Z.setTemporarySelfMute(e))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[S.kg4.TOGGLE_MUTE]:{onTrigger:()=>l.Z.toggleSelfMute({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[S.kg4.TOGGLE_DEAFEN]:{onTrigger:()=>l.Z.toggleSelfDeaf({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[S.kg4.TOGGLE_VOICE_MODE]:{onTrigger(){let e=E.Z.getMode()===S.pM4.PUSH_TO_TALK?S.pM4.VOICE_ACTIVITY:S.pM4.PUSH_TO_TALK;l.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},[S.kg4.TOGGLE_OVERLAY]:{onTrigger(){let e=C.Z.enabled;r.Z.setEnabled(!e,!e)},keyEvents:{keyup:!0,keydown:!1}},[S.kg4.TOGGLE_OVERLAY_INPUT_LOCK]:{onTrigger(){let e=(0,T.Z)();null!=e&&r.Z.setInputLocked(!N.Z.isLocked(e),e)},keyEvents:{keyup:!0,keydown:!1}},[S.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]:{onTrigger(){let e=C.Z.getFocusedPID(),t=null!=e;null!=e&&t&&N.Z.isPinned(S.Odu.TEXT)&&N.Z.isLocked(e)&&C.Z.isReady(e)&&r.Z.activateRegion(S.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},[S.kg4.TOGGLE_GO_LIVE_STREAMING]:{onTrigger(){let e=f.Z.getCurrentUserActiveStream();if(null!=e)return(0,s.g)((0,h.V9)(e));(0,m.Z)()},keyEvents:{keyup:!0,keydown:!1}},[S.kg4.TOGGLE_STREAMER_MODE]:{onTrigger(){o.Z.setEnabled(!I.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}},[S.kg4.NAVIGATE_BACK]:{onTrigger:()=>(0,p.op)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[S.kg4.NAVIGATE_FORWARD]:{onTrigger:()=>(0,p.eH)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[S.kg4.SOUNDBOARD]:{onTrigger:()=>{if(!(0,g.D)())return;let e=(0,T.Z)();null!=e&&(N.Z.isLocked(e)?(0,_.IN)(!0,e):(0,_.oZ)(e))},keyEvents:{keyup:!0,keydown:!1}},[S.kg4.SOUNDBOARD_HOLD]:{onTrigger:e=>{if(!(0,g.D)())return;let t=(0,T.Z)();if(null!=t){e?(0,_.IN)(!1,t):(0,_.oZ)(t);return}},keyEvents:{keyup:!0,keydown:!0}},[S.kg4.SAVE_CLIP]:{onTrigger:()=>{(0,c.ln)()&&(v.default.track(S.rMx.CLIP_SAVE_KEYBIND_PRESSED),(0,u.C1)())},keyEvents:{keyup:!1,keydown:!0}},[S.kg4.SWITCH_TO_VOICE_CHANNEL]:{onTrigger(e,t){let{params:{channelId:n}}=t;null!=n&&a.default.selectVoiceChannel(n)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}},[S.kg4.DISCONNECT_FROM_VOICE_CHANNEL]:{onTrigger(){a.default.selectVoiceChannel(null)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}}};class x extends d.Z{_initialize(){i.Z.wait(()=>i.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:Z}))}_terminate(){}}let b=new x},972264:function(e,t,n){n.d(t,{Z:()=>o});var i=n(442837),l=n(430824),r=n(496675),a=n(312146),s=n(981631);function o(e){let t=(0,i.e7)([l.Z],()=>l.Z.getGuild(e)),n=(0,a.Ui)(t),o=r.Z.can(s.Plq.MANAGE_CHANNELS,t);return n&&o}},782959:function(e,t,n){n.d(t,{Z:()=>m});var i=n(200651);n(192379);var l=n(481060),r=n(367907),a=n(70097),s=n(970731),o=n(626135),d=n(63063),c=n(981631),u=n(388032),h=n(636277);function m(e){let{guildId:t,markAsDismissed:m}=e,p=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Text,{color:"always-white",variant:"text-sm/normal",className:h.upsellBody,children:u.intl.string(u.t["yQ0X+f"])}),(0,i.jsx)(l.Text,{color:"always-white",variant:"text-sm/normal",children:u.intl.format(u.t["2Sapx8"],{hcArticleUrl:d.Z.getCreatorSupportArticleURL(c.BhN.MEDIA_CHANNEL)})})]});return(0,i.jsx)(s.ZP,{header:u.intl.string(u.t.fW7UqK),content:p,asset:(0,i.jsx)(a.Z,{className:h.video,src:"https://cdn.discordapp.com/assets/media_channel/media_channel_upsell_demo.mp4",autoPlay:!0,loop:!0}),buttonCTA:u.intl.string(u.t.JzJpg4),onClick:()=>{o.default.track(c.rMx.MEDIA_CHANNEL_UPSELL_CLICKED,{...(0,r.hH)(t)}),(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("45094"),n.e("20110")]).then(n.bind(n,218613));return n=>(0,i.jsx)(e,{...n,channelType:c.d4z.GUILD_MEDIA,guildId:t})})},secondaryButtonCTA:u.intl.string(u.t.WAI6xs),markAsDismissed:m})}},584731:function(e,t,n){n(47120);var i=n(442837),l=n(570140),r=n(513418),a=n(710845),s=n(592125),o=n(375954),d=n(625236);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=-1/0,h=new a.Z("MessagePreviewStore");class m extends i.ZP.Store{isLatest(e,t){var n;let i=this.guilds.get(null!=e?e:null);return null!==(n=null==i?void 0:i.isLatest(t,this.generation))&&void 0!==n&&n}isLocalFetchNeeded(e){var t,n;return null===(n=null===(t=this.guilds.get(e))||void 0===t?void 0:t.localNeeded)||void 0===n||n}message(e,t){var n,i;return null!==(i=null===(n=this.guilds.get(e))||void 0===n?void 0:n.messageRecord(t))&&void 0!==i?i:null}data(e){return this.guilds.has(e)||this.guilds.set(e,new d.B),this.guilds.get(e)}handleOneGuildCreate(e){var t,n;let i=this.data(e.id);i.putMany(null!==(t=e.lastMessages)&&void 0!==t?t:[],this.generation),i.putMany(null!==(n=e.threadMessages)&&void 0!==n?n:[],this.generation),null!=e.lastMessages&&(i.localNeeded=!1)}handleConnectionOpen(e){for(let t of(this.generation+=1,e.guilds))this.handleOneGuildCreate(t)}handleGuildCreate(e){this.handleOneGuildCreate(e.guild)}handleGuildDelete(e){this.guilds.delete(e.guild.id)}handleMessageCreate(e){var t;if(e.optimistic||e.isPushNotification)return!1;this.data(null!==(t=e.guildId)&&void 0!==t?t:null).put(e.message.channel_id,e.message,this.generation)}handleMessageDelete(e){var t,n;let i=null!==(n=e.guildId)&&void 0!==n?n:null;if((null===(t=this.data(i))||void 0===t?void 0:t.messageId(e.channelId))===e.id){let t=o.Z.getMessages(e.channelId),n=t.hasMoreAfter?null:t.last();null!=n?this.data(i).put(e.channelId,n,this.generation):this.data(i).delete(e.channelId)}}handleMessageUpdate(e){var t;let n=null!==(t=e.guildId)&&void 0!==t?t:null,i=e.message.channel_id,l=e.message.id;if(null==i||null==l)return!1;let r=this.data(n);if((null==r?void 0:r.messageId(i))!==l)return!1;null==r||r.update(e.message)}handleThreadListSync(e){var t;this.data(e.guildId).putMany(null!==(t=e.mostRecentMessages)&&void 0!==t?t:[],this.generation)}handleLoadMessagesSuccess(e){var t,n;let i=s.Z.getBasicChannel(e.channelId);if(null==i)return!1;(0,r.Z)(e.messages),e.isAfter||e.isBefore||e.hasMoreAfter?this.data(i.guild_id).putNew(e.channelId,null!==(n=e.messages[0])&&void 0!==n?n:null,this.generation):this.data(i.guild_id).put(e.channelId,null!==(t=e.messages[0])&&void 0!==t?t:null,this.generation)}handleLocalMessagesLoaded(e){let t=s.Z.getBasicChannel(e.channelId);if(null!=t){var n;(0,r.Z)(e.messages),this.data(t.guild_id).putNew(e.channelId,null!==(n=e.messages[0])&&void 0!==n?n:null,u)}}handleMessagePreviewsLoaded(e){h.verbose("adding remote previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let n of e.messages)t.isLatest(n.channel_id,this.generation)||t.put(n.channel_id,n,this.generation)}handleMessagePreviewsLocallyLoaded(e){h.verbose("adding local previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let[n,i]of e.messages)t.has(n)||t.put(n,i,u);t.localNeeded=!1}handleLogout(e){this.guilds.clear()}constructor(){super(l.Z,{CONNECTION_OPEN:e=>this.handleConnectionOpen(e),GUILD_CREATE:e=>this.handleGuildCreate(e),GUILD_DELETE:e=>this.handleGuildDelete(e),LOAD_MESSAGES_SUCCESS:e=>this.handleLoadMessagesSuccess(e),LOCAL_MESSAGES_LOADED:e=>this.handleLocalMessagesLoaded(e),LOGOUT:e=>this.handleLogout(e),MESSAGE_CREATE:e=>this.handleMessageCreate(e),MESSAGE_DELETE:e=>this.handleMessageDelete(e),MESSAGE_PREVIEWS_LOADED:e=>this.handleMessagePreviewsLoaded(e),MESSAGE_PREVIEWS_LOCALLY_LOADED:e=>this.handleMessagePreviewsLocallyLoaded(e),MESSAGE_UPDATE:e=>this.handleMessageUpdate(e),THREAD_LIST_SYNC:e=>this.handleThreadListSync(e)}),c(this,"guilds",new Map),c(this,"generation",0)}}new m},625236:function(e,t,n){n.d(t,{B:()=>o}),n(47120);var i=n(786761),l=n(23750),r=n(306680),a=n(709054);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{isLatest(e,t){return this.messageGeneration(e,t)===t}messageGeneration(e,t){let n=this.messages.get(e);return null==n?-1/0:n.generation!==t&&null!=n.message&&n.message.id===r.ZP.lastMessageId(e)?(this.messages.set(e,{...n,generation:t}),t):n.generation}messageId(e){var t,n;let i=this.messages.get(e);return null!==(n=null==i?void 0:null===(t=i.message)||void 0===t?void 0:t.id)&&void 0!==n?n:null}messageRecord(e){var t;let n=this.messages.get(e);return null==n||null==n.message||n.message instanceof l.ZP||(n.message=(0,i.e5)(n.message)),null!==(t=null==n?void 0:n.message)&&void 0!==t?t:null}has(e){return this.messages.has(e)}put(e,t,n){this.messages.set(e,{message:t,generation:n})}putNew(e,t,n){var i,l,r;let s=this.messages.get(e);null!=t&&(l=t.id,null==(r=null==s?void 0:null===(i=s.message)||void 0===i?void 0:i.id)||a.default.compare(l,r)>0)&&this.put(e,t,n)}putMany(e,t){for(let n of e)this.put(n.channel_id,n,t)}update(e){var t;if(null==e.id||null==e.channel_id)return;let n=e.channel_id,r=this.messages.get(n);if((null==r?void 0:null===(t=r.message)||void 0===t?void 0:t.id)!==e.id)return;let a=r.message instanceof l.ZP?(0,i.wi)(r.message,e):(0,i.gx)(r.message,e);this.messages.set(n,{...r,message:a})}delete(e){this.messages.delete(e)}constructor(){s(this,"localNeeded",!0),s(this,"messages",new Map)}}},900255:function(e,t,n){n.d(t,{x:()=>l});var i=n(709054);function l(e){return e.sort((e,t)=>i.default.compare(e.lastMessageId,t.lastMessageId)).reverse()}},647090:function(e,t,n){n.d(t,{J:()=>a});var i=n(442837),l=n(375954),r=n(594174);let a=e=>(0,i.e7)([l.Z,r.default],()=>{if(null==e)return!1;let t=r.default.getCurrentUser();return null!=l.Z.getMessages(e).findNewest(e=>e.author.id===(null==t?void 0:t.id))})},26373:function(e,t,n){n.d(t,{K:()=>c,V:()=>u});var i=n(192379),l=n(442837),r=n(990169),a=n(355298),s=n(333984),o=n(899740),d=n(355350);function c(){let e=(0,o.q)(),t=i.useRef(e),n=(0,l.e7)([a.Z],()=>a.Z.isReady()),s=i.useRef(n);return i.useEffect(()=>{n&&!s.current&&(s.current=!0,t.current=e)},[n,e]),1>=(0,r.Z)(t)&&1===e}function u(){let e=(0,d.w)(),t=i.useRef(e),n=(0,l.e7)([s.Z],()=>s.Z.isReady()),a=i.useRef(n);return i.useEffect(()=>{n&&!a.current&&(a.current=!0,t.current=e)},[n,e]),1>=(0,r.Z)(t)&&1===e}},620924:function(e,t,n){n.d(t,{c:()=>o}),n(913527);var i=n(442837),l=n(91159),r=n(306680),a=n(709054),s=n(868807);function o(e){let t=(0,s.a)(e),n=function(e){let{lastMessageId:t,message:n,loaded:i}=e;return i&&null!=n?a.default.extractTimestamp(n.id):null!=t?a.default.extractTimestamp(t):null}({lastMessageId:(0,i.e7)([r.ZP],()=>r.ZP.lastMessageId(e.id)),...t});return null==n?"":(0,l.Ye)(n)}},332712:function(e,t,n){n.d(t,{O:()=>d});var i=n(192379),l=n(442837),r=n(570140),a=n(621853),s=n(484459),o=n(594174);function d(e){let t=(0,l.e7)([o.default],()=>o.default.getUser(e)),n=(0,l.Wu)([a.Z],()=>{var t,n;return null!==(n=null===(t=a.Z.getMutualGuilds(e))||void 0===t?void 0:t.map(e=>e.guild))&&void 0!==n?n:[]});return i.useEffect(()=>{0===n.length&&null!=t&&null==a.Z.getMutualGuilds(e)&&r.Z.wait(()=>(0,s.Z)(e,void 0,{withMutualGuilds:!0}))},[n,t,e]),n}},28476:function(e,t,n){n.d(t,{a:()=>s});var i=n(442837),l=n(355298),r=n(869404),a=n(333984);function s(){return(0,i.e7)([l.Z,a.Z],()=>(0,r.IO)([l.Z,a.Z]))}},177033:function(e,t,n){n.d(t,{Z:()=>d});var i=n(192379),l=n(442837),r=n(592125),a=n(594174),s=n(355298),o=n(900255);function d(){let e=(0,l.e7)([r.Z],()=>r.Z.getPrivateChannelsVersion()),t=(0,l.Wu)([r.Z,s.Z],()=>{let e=r.Z.getMutablePrivateChannels(),t=Array.from(s.Z.getMessageRequestChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,o.x)(t)},[e]),n=(0,l.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return i.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},727813:function(e,t,n){n.d(t,{Z:()=>d});var i=n(192379),l=n(442837),r=n(592125),a=n(594174),s=n(900255),o=n(333984);function d(){let e=(0,l.e7)([r.Z],()=>r.Z.getPrivateChannelsVersion()),t=(0,l.Wu)([r.Z,o.Z],()=>{let e=r.Z.getMutablePrivateChannels(),t=Array.from(o.Z.getSpamChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,s.x)(t)},[e]),n=(0,l.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return i.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},355350:function(e,t,n){n.d(t,{w:()=>r});var i=n(442837),l=n(333984);function r(){return(0,i.e7)([l.Z],()=>l.Z.getSpamChannelsCount())}},545724:function(e,t,n){n.d(t,{Z:()=>m}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(748780),o=n(91192),d=n(481060),c=n(239091),u=n(687683),h=n(599739);let m=function(e){let{index:t,children:r,user:m,channel:p,onClick:g,isFocused:_,isActive:f,onOtherHover:E,className:I}=e,[C,N]=l.useState(!1),[v,T]=l.useState(!1),S=()=>{N(!0),!_||f||v||null==E||E()},A=()=>{N(!1)},Z=(e,t)=>{null!=t&&(T(!0),(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("4616")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:()=>{T(!1)}}))};return(0,i.jsx)(o.mh,{id:p.id,children:e=>(0,i.jsx)(d.tEY,{offset:{left:-8,right:-8},children:(0,i.jsx)(s.Z.div,{className:a()(h.messageRequestItem,I,{[h.active]:f||v,[h.firstItem]:0===t}),onContextMenu:e=>Z(e,m),onMouseEnter:S,onMouseLeave:A,onClick:null!=g?g:void 0,style:{LIST_ROW_HEIGHT:u.WN,opacity:1},...e,children:r(C||f||v)})})})}},745052:function(e,t,n){n.d(t,{Z:()=>es}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(91192),o=n(286379),d=n(442837),c=n(704215),u=n(481060),h=n(150063),m=n(230711),p=n(112724),g=n(183126),_=n(493773),f=n(607070),E=n(209613),I=n(325708),C=n(320149),N=n(82295),v=n(252618),T=n(605236),S=n(243778),A=n(984370),Z=n(797614),x=n(359110),b=n(6025),L=n(897473),y=n(108427),O=n(970731),P=n(210887),R=n(433355),j=n(592125),D=n(819640),w=n(626135),M=n(647090),k=n(385956),U=n(610697),G=n(26373),B=n(486622),V=n(922409),H=n(899740),F=n(177033),z=n(355350),W=n(307947),Y=n(96479),K=n(480874),q=n(687683),X=n(981631),Q=n(921944),J=n(526761),$=n(388032),ee=n(80599),et=n(3114);function en(){let e=l.useRef(null),t=(0,H.q)(),n=(0,F.Z)(),r=(0,G.K)(),d=(0,g.N)(),c=l.useCallback(()=>{(0,u.showToast)((0,u.createToast)($.intl.string($.t.EDYbS0),u.ToastType.FAILURE))},[]),{rejectAll:h}=(0,B.m)({onError:c}),m=(0,E.Z)("message-requests-list"),{channelId:p}=(0,V._)(),_=l.useCallback(()=>{h(n.map(e=>e.channel.id))},[n,h]),f=l.useCallback(e=>{var t,l;let{row:s}=e,o=n[s],d=null===(l=n[s+1])||void 0===l?void 0:null===(t=l.channel)||void 0===t?void 0:t.id,c=o.channel.id;return(0,i.jsx)(Y.Z,{index:s,className:a()({[ee.selected]:null!=p&&p===c,[ee.siblingSelected]:null!=p&&p===d}),channel:o.channel,user:o.user,hasSingleMessageRequest:r},c)},[r,n,p]),I=l.useCallback(()=>(0,i.jsxs)(N.Z,{className:ee.sectionTitle,children:[t>0?$.intl.formatToPlainString($.t.rA4iWV,{count:t}):$.intl.string($.t.flPU6u),d&&t>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Text,{className:ee.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:"•"}),(0,i.jsx)(u.zxk,{onClick:_,look:u.iLD.LINK,color:u.Ttl.LINK,size:u.PhG.NONE,className:ee.clearAllButton,"aria-label":$.intl.string($.t.p6t7RE),children:$.intl.string($.t.p6t7RE)})]}):null]},"title"),[t,_,d]);return(n.length!==t&&Z.Z.increment({name:o.V.MESSAGE_REQUEST_COUNT_DRIFT}),0===n.length)?(0,i.jsx)(W.Z,{section:q.pS.REQUESTS}):(0,i.jsx)(s.bG,{navigator:m,children:(0,i.jsx)(s.SJ,{children:t=>{let{ref:l,role:r,...a}=t;return(0,i.jsx)(u.aVo,{className:ee.list,innerRole:r,innerAriaLabel:$.intl.string($.t.e7GWjY),ref:t=>{var n;e.current=t,l.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:q.oi,rowHeight:q.WN,renderSection:I,renderRow:f,sections:[n.length],chunkSize:30,fade:!0,...a},"message-requests-list")}})})}function ei(e){let{pageWidth:t,onSidebarResize:n}=e,l=(0,d.e7)([R.ZP],()=>R.ZP.getSidebarState(R.uZ)),r=(0,d.e7)([j.Z],()=>j.Z.getChannel(null==l?void 0:l.channelId));if(null==l||l.type!==L.tI.VIEW_MESSAGE_REQUEST||null==r||!r.isPrivate())return null;let a=t-X.R7I;return(0,i.jsx)(I.Z,{sidebarType:I.y.MessageRequestSidebar,maxWidth:a,onWidthChange:n,children:(0,i.jsx)(C.Z,{channel:r,baseChannelId:R.uZ})})}let el=function(e){let{markAsDismissed:t}=e;return(0,i.jsx)(O.ZP,{header:$.intl.string($.t.hRT8tb),content:$.intl.string($.t.apPgJC),buttonCTA:$.intl.string($.t.LNoAQU),className:ee.messageRequestCoachmark,onClick:()=>t(Q.L.UNKNOWN),markAsDismissed:t,caretPosition:O.DF.TOP_CENTER,headerClassName:ee.__invalid_header})},er=e=>{let t=(0,U.Z)(),n=()=>D.Z.hasLayers()||(0,u.$sL)(),r=(0,d.e7)([f.Z],()=>f.Z.useReducedMotion);return l.useEffect(()=>{(0,T.kk)(c.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK)},[]),(0,i.jsx)(S.ZP,{contentTypes:[c.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK],children:l=>{let{visibleContent:a,markAsDismissed:s}=l;return a===c.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK?(0,i.jsx)(u.yRy,{renderPopout:()=>t?(0,i.jsx)(el,{markAsDismissed:s}):(0,i.jsx)(O.ZP,{header:$.intl.string($.t.hRT8tb),content:$.intl.string($.t["8JWodn"]),buttonCTA:$.intl.string($.t.JN6EOD),secondaryButtonCTA:$.intl.string($.t.LNoAQU),className:ee.messageRequestCoachmark,onClick:e=>{e.stopPropagation(),m.Z.open(X.oAB.CONTENT_AND_SOCIAL,null,{scrollPosition:J.FY.MESSAGE_REQUESTS_V2})},markAsDismissed:s,caretPosition:O.DF.TOP_CENTER,headerClassName:ee.__invalid_header}),position:"bottom",align:"center",animation:r?u.yRy.Animation.NONE:u.yRy.Animation.TRANSLATE,shouldShow:!n(),spacing:16,children:()=>e.children}):e.children}})};function ea(e){let{section:t}=e;return t===q.pS.SPAM?(0,i.jsx)(K.Z,{}):(0,i.jsx)(en,{})}let es=(0,p.Z)(function(e){let{width:t}=e,n=(0,H.q)();(0,_.ZP)(()=>{h.Y(X.Z5c.MESSAGE_REQUESTS),(0,y.e)("message-requests"),w.default.track(X.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n}),Z.Z.increment({name:o.V.MESSAGE_REQUEST_VIEW})});let r=(0,d.e7)([P.Z],()=>P.Z.theme),s=(0,z.w)(),[c,m]=l.useState(!1),p=(0,d.e7)([R.ZP],()=>{let e=R.ZP.getSidebarState(R.uZ);return null!=e&&e.type===L.tI.VIEW_MESSAGE_REQUEST?e:null}),g=null==p?void 0:p.channelId,f=null!=p,E=(0,k.T)(g),I=(0,M.J)(g);l.useEffect(()=>{null!=g&&!E&&I&&f&&((0,x.Kh)(g),b.Z.closeChannelSidebar(R.uZ))},[g,I,f,E]);let[C,N]=l.useState(q.pS.REQUESTS),T=e=>{N(e)};return(0,v.Tt)({location:$.intl.string($.t.e7GWjY)}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:a()(et.chat,ee.container,{[et.threadSidebarOpen]:f,[et.threadSidebarFloating]:f&&c}),children:[(0,i.jsx)(u.f6W,{theme:r,children:e=>(0,i.jsxs)(A.Z,{className:e,toolbar:!0,children:[(0,i.jsx)(A.Z.Icon,{icon:u._XJ,"aria-hidden":!0}),(0,i.jsx)(er,{children:(0,i.jsx)(A.Z.Title,{children:$.intl.string($.t.e7GWjY)})}),(0,i.jsx)(A.Z.Divider,{}),(0,i.jsxs)(u.njP,{"aria-label":$.intl.string($.t.e7GWjY),selectedItem:C,type:"top-pill",onItemSelect:T,children:[(0,i.jsx)(u.njP.Item,{id:q.pS.REQUESTS,className:ee.item,children:$.intl.string($.t["7RFcXV"])}),(0,i.jsx)(u.njP.Item,{id:q.pS.SPAM,className:ee.item,children:0===s?$.intl.string($.t.ulKXHh):$.intl.formatToPlainString($.t["5jtrlZ"],{count:s})})]})]})}),(0,i.jsx)("div",{className:et.content,children:(0,i.jsx)(ea,{section:C})})]}),f&&(0,i.jsx)(ei,{pageWidth:t,onSidebarResize:(e,t)=>{m(t)}})]})})},81471:function(e,t,n){n.d(t,{Z:()=>T});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),d=n(95398),c=n(905405),u=n(255269),h=n(937889),m=n(267128),p=n(695346),g=n(496675),_=n(699516),f=n(868807),E=n(981631),I=n(217702),C=n(388032),N=n(795479),v=n(663362);let T=l.memo(function(e){let{channel:t}=e,{loaded:n,error:r,message:T}=(0,f.a)(t),S=(0,c.p)(),{isBlocked:A,isIgnored:Z}=(0,s.cj)([_.Z],()=>({isBlocked:null!=T&&_.Z.isBlockedForMessage(T),isIgnored:null!=T&&_.Z.isIgnoredForMessage(T)}),[T]),x=(0,s.e7)([g.Z],()=>g.Z.can(E.Plq.MANAGE_MESSAGES,t)),b=p.cC.useSetting(),{content:L}=l.useMemo(()=>(null==T?void 0:T.content)!=null&&""!==T.content?(0,h.ZP)(T,{formatInline:!0,noStyleAndInteraction:!0,shouldFilterKeywords:S}):{content:null},[T,S]),y=null;if(r)y=(0,i.jsx)(o.Text,{className:N.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t.BZHld3)});else if(n){if(null!=T&&A)y=(0,i.jsx)(o.Text,{className:N.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t["WPe+xM"])});else if(null!=T&&Z)y=(0,i.jsx)(o.Text,{className:N.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t.uxrh1N)});else if(null!=T){let{contentPlaceholder:e,renderedContent:t}=(0,m.f)(T,L,A,Z,a()(N.messageContent,v.inlineFormat),{leadingIconClass:N.messageContentIcon,trailingIconClass:N.messageContentIcon,iconSize:I.WW});y=null!=t?(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-muted",className:N.messageContent,children:t}):(0,i.jsx)(o.Text,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:N.messageReplacement,children:e})}else y=(0,i.jsx)(o.Text,{className:N.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t["0KfDxM"])})}else y=null;return(0,i.jsx)(d.a.Provider,{value:(0,u.Z)(b,x),children:(0,i.jsx)(o.Rny,{className:N.messageFocusBlock,children:y})})})},376191:function(e,t,n){n.d(t,{Z:()=>S});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(129861),s=n(607070),o=n(570928),d=n(388905),c=n(1585),u=n(125988),h=n(43267),m=n(522289),p=n(699516),g=n(51144),_=n(998502),f=n(620924),E=n(332712),I=n(81471),C=n(388032),N=n(779160);let v=e=>{let{userId:t}=e,n=(0,E.O)(t);return null==n||0===n.length?(0,i.jsx)(r.Text,{className:N.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t.jpY0X1)}):(0,i.jsxs)("div",{className:N.mutualGuildsContainer,children:[(0,i.jsx)(m.Z,{guilds:n,maxGuilds:3,size:d.Vj.Sizes.SMOL,hideOverflowCount:!0}),(0,i.jsx)(r.Text,{className:N.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:C.intl.format(C.t.eE3oen,{count:n.length})})]})},T=_.ZP.getEnableHardwareAcceleration()?r.Xo$:r.qEK;function S(e){var t;let{channel:n,otherUser:d,active:m}=e,_=(0,l.e7)([s.Z],()=>s.Z.useReducedMotion),E=(0,l.e7)([p.Z],()=>null==d?null:p.Z.getNickname(d.id)),S=!_&&m,A=(0,f.c)(n),{avatarDecorationSrc:Z}=(0,u.Z)({user:d,size:(0,c.y9)(r.EFr.SIZE_40),onlyAnimateOnHover:!0});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T,{className:N.avatar,src:(0,h.x)(n,40,S),avatarDecoration:Z,size:r.EFr.SIZE_40,"aria-label":null!==(t=null==d?void 0:d.username)&&void 0!==t?t:C.intl.string(C.t["30mdIy"])}),(0,i.jsxs)("div",{className:N.userPreview,children:[(0,i.jsxs)("div",{className:N.userContainerWithPreview,children:[(0,i.jsx)(a.Z,{nick:E,user:d,showAccountIdentifier:!0,className:N.tagContainer,usernameClass:N.username,discriminatorClass:null!=g.ZP.getGlobalName(d)?N.globalName:N.discriminator}),(0,i.jsx)(r.Text,{className:N.timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:A})]}),(0,i.jsx)(o.Z,{hoverText:(0,i.jsx)(I.Z,{channel:n}),forceHover:m,children:(0,i.jsx)(v,{userId:d.id})})]})]})}},307947:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(210887),s=n(687683),o=n(388032),d=n(32090),c=n(138715),u=n(979770);function h(e){let{section:t}=e,n=(0,l.e7)([a.Z],()=>a.Z.theme);return(0,i.jsxs)(r.ubH,{theme:n,className:d.emptyStateContainer,children:[(0,i.jsx)(r.oxh,{width:415,height:200,lightSrc:u,darkSrc:c}),(0,i.jsx)(r.OZU,{note:t===s.pS.SPAM?o.intl.string(o.t.hasFPT):o.intl.string(o.t.SXrqTU)})]})}},96479:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(6025),r=n(433355),a=n(626135),s=n(585483),o=n(922409),d=n(545724),c=n(749405),u=n(981631);function h(e){let{index:t,className:n,channel:h,user:m,hasSingleMessageRequest:p}=e,{channelId:g}=(0,o._)();return(0,i.jsx)(d.Z,{index:t,className:n,isFocused:g===h.id,channel:h,user:m,onClick:e=>{e.stopPropagation(),l.Z.openPrivateChannelAsSidebar({channelId:h.id,baseChannelId:r.uZ,hasSingleMessageRequest:p}),a.default.track(u.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!1,channel_id:h.id,other_user_id:m.id}),setTimeout(()=>{s.S.dispatch(u.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:h.id})},0)},children:e=>(0,i.jsx)(c.C,{active:e,user:m,channel:h})})}},749405:function(e,t,n){n.d(t,{C:()=>p});var i=n(200651),l=n(192379),r=n(481060),a=n(359110),s=n(6025),o=n(433355),d=n(26373),c=n(486622),u=n(376191),h=n(388032),m=n(64284);function p(e){let{active:t,user:n,channel:p}=e,g=(0,d.K)(),_=l.useCallback(()=>{(0,r.showToast)((0,r.createToast)(h.intl.string(h.t.EDYbS0),r.ToastType.FAILURE))},[]),f=l.useCallback(()=>{s.Z.closeChannelSidebar(o.uZ)},[]),E=l.useCallback(()=>{s.Z.closeChannelSidebar(o.uZ),g&&(0,a.Kh)(p.id)},[p.id,g]),{acceptMessageRequest:I,rejectMessageRequest:C,isAcceptLoading:N,isRejectLoading:v,isUserProfileLoading:T,isOptimisticAccepted:S,isOptimisticRejected:A}=(0,c.m)({user:n,onAcceptSuccess:E,onRejectSuccess:f,onError:_}),Z=N||v||T||S||A;return(0,i.jsxs)("div",{className:m.container,children:[(0,i.jsx)(u.Z,{channel:p,otherUser:n,active:t}),(0,i.jsxs)("div",{className:m.actions,children:[(0,i.jsx)(r.zxk,{className:m.button,color:r.Ttl.PRIMARY,size:r.zxk.Sizes.SMALL,onClick:e=>{e.stopPropagation(),C(p.id)},disabled:Z,submitting:v||A,children:h.intl.string(h.t.B2nygY)}),(0,i.jsx)(r.zxk,{className:m.button,color:r.Ttl.BRAND,size:r.zxk.Sizes.SMALL,onClick:e=>{e.stopPropagation(),I(p.id)},disabled:Z,submitting:N||T||S,children:h.intl.string(h.t.Kz8Pws)})]})]})}},125855:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var l=n(6025),r=n(433355),a=n(626135),s=n(585483),o=n(545724),d=n(426051),c=n(981631);function u(e){let{index:t,className:n,channel:u,user:h,hasSingleMessageRequest:m}=e;return(0,i.jsx)(o.Z,{index:t,className:n,isFocused:!1,channel:u,user:h,onClick:e=>{e.stopPropagation(),l.Z.openPrivateChannelAsSidebar({channelId:u.id,baseChannelId:r.uZ,hasSingleMessageRequest:m}),a.default.track(c.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!0,channel_id:u.id,other_user_id:h.id}),setTimeout(()=>{s.S.dispatch(c.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:u.id})},0)},children:e=>(0,i.jsx)(d.Z,{active:e,user:h,channel:u})})}},480874:function(e,t,n){n.d(t,{Z:()=>x});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(91192),o=n(286379),d=n(481060),c=n(183126),u=n(493773),h=n(209613),m=n(82295),p=n(797614),g=n(626135),_=n(26373),f=n(486622),E=n(922409),I=n(727813),C=n(355350),N=n(307947),v=n(125855),T=n(687683),S=n(981631),A=n(388032),Z=n(754960);function x(){let e=l.useRef(null),t=(0,I.Z)(),n=(0,C.w)(),r=(0,_.V)(),x=(0,c.N)(),b=(0,h.Z)("message-requests-spam-list"),{channelId:L}=(0,E._)(),y=l.useCallback(()=>{(0,d.showToast)((0,d.createToast)(A.intl.string(A.t.EDYbS0),d.ToastType.FAILURE))},[]),{rejectAll:O}=(0,f.m)({onError:y}),P=l.useCallback(()=>{O(t.map(e=>e.channel.id))},[t,O]);(0,u.ZP)(()=>{g.default.track(S.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n}),p.Z.increment({name:o.V.SPAM_MESSAGE_REQUEST_VIEW})});let R=l.useCallback(e=>{var n,l;let{row:s}=e,o=t[s],d=null===(l=t[s+1])||void 0===l?void 0:null===(n=l.channel)||void 0===n?void 0:n.id,c=o.channel.id;return(0,i.jsx)(v.Z,{index:s,className:a()({[Z.selected]:null!=L&&L===c,[Z.siblingSelected]:null!=L&&L===d}),channel:o.channel,user:o.user,hasSingleMessageRequest:r},c)},[t,r,L]),j=l.useCallback(()=>(0,i.jsxs)(m.Z,{className:Z.sectionTitle,children:[A.intl.format(A.t.C79Edn,{count:n}),x&&n>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Text,{className:Z.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:"•"}),(0,i.jsx)(d.zxk,{onClick:P,look:d.iLD.LINK,color:d.Ttl.LINK,size:d.PhG.SMALL,className:Z.clearAllButton,"aria-label":A.intl.string(A.t.p6t7RE),children:A.intl.string(A.t.p6t7RE)})]}):null]},"message-requests-spam-title"),[n,P,x]);return 0===t.length?(0,i.jsx)(N.Z,{section:T.pS.SPAM}):(0,i.jsx)(s.bG,{navigator:b,children:(0,i.jsx)(s.SJ,{children:n=>{let{ref:l,role:r,...a}=n;return(0,i.jsx)(d.aVo,{className:Z.list,innerRole:r,innerAriaLabel:A.intl.string(A.t.e7GWjY),ref:t=>{var n;e.current=t,l.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:T.oi,rowHeight:T.WN,renderSection:j,renderRow:R,sections:[t.length],chunkSize:30,fade:!0,...a},"message-requests-spam-list")}})})}},426051:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651),l=n(192379),r=n(286379),a=n(481060),s=n(797614),o=n(359110),d=n(6025),c=n(433355),u=n(26373),h=n(486622),m=n(376191),p=n(86203),g=n(388032),_=n(724776);function f(e){let{active:t,user:n,channel:f}=e,E=(0,u.V)(),I=l.useCallback(()=>{(0,a.showToast)((0,a.createToast)(g.intl.string(g.t.pIQ3h4),a.ToastType.FAILURE)),s.Z.increment({name:r.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})},[]),C=l.useCallback(()=>{d.Z.closeChannelSidebar(c.uZ)},[]),N=l.useCallback(()=>{d.Z.closeChannelSidebar(c.uZ),E&&(0,o.Kh)(f.id)},[f.id,E]),{acceptMessageRequest:v,isAcceptLoading:T,isUserProfileLoading:S,isOptimisticAccepted:A}=(0,h.m)({user:n,onAcceptSuccess:N,onRejectSuccess:C,onError:I}),Z=T||S,x=Z||A;return(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)(m.Z,{otherUser:n,channel:f,active:t}),(0,i.jsxs)("div",{className:_.actions,children:[(0,i.jsx)(a.zxk,{className:_.button,color:a.Ttl.PRIMARY,size:a.zxk.Sizes.SMALL,onClick:e=>{v(f.id),e.stopPropagation()},disabled:x,submitting:Z,children:g.intl.string(g.t.vicfl5)}),(0,i.jsx)(p.Z,{className:_.button,channel:f,buttonSize:a.zxk.Sizes.SMALL})]})]})}},285865:function(e,t,n){n.d(t,{Z:()=>l});var i=n(570140);let l={closeSidebar(){i.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},openSidebar(){i.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})}}},659971:function(e,t,n){n.d(t,{Z:()=>u});var i,l,r,a=n(873546),s=n(442837),o=n(570140);let d=!1;class c extends(r=s.ZP.Store){getIsOpen(){return!a.tq||d}}l="MobileWebSidebarStore",(i="displayName")in c?Object.defineProperty(c,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[i]=l;let u=new c(o.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){d=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){d=!1}})},480387:function(e,t,n){n.d(t,{HJ:()=>h,Zd:()=>p,yD:()=>m});var i=n(213919),l=n(544891),r=n(570140),a=n(893776),s=n(710845),o=n(314897),d=n(726745),c=n(981631);let u=new s.Z("MultiAccountActionCreators");function h(){let e=o.default.getId();d.Z.getUsers().forEach(async t=>{let n,{id:a}=t,s=i.getToken(a);if(null==s||""===s){r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:a});return}r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:a});try{n=await l.tn.get({url:c.ANM.ME,headers:{authorization:s},retries:3,rejectWithError:!1})}catch(t){let e=(null==t?void 0:t.status)===401||(null==t?void 0:t.status)===403;r.Z.dispatch({type:e?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:a});return}r.Z.dispatch({type:e===a?"CURRENT_USER_UPDATE":"USER_UPDATE",user:n.body}),r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:a})})}function m(e,t){u.log("Switching account to ".concat(e),{switchSynchronously:t});let n=i.getToken(e);return null==n?(u.log("Switching accounts failed because there was no token"),r.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e}),Promise.resolve()):a.Z.switchAccountToken(n,t)}function p(e){r.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},251423:function(e,t,n){n.d(t,{L:()=>o});var i=n(192379),l=n(442837),r=n(570140),a=n(480387),s=n(726745);function o(){let e=(0,l.cj)([s.Z],()=>({isLoading:s.Z.getIsValidatingUsers(),multiAccountUsers:s.Z.getUsers()}));return i.useEffect(()=>{r.Z.wait(()=>{a.HJ()})},[]),e}},331541:function(e,t,n){n.d(t,{Z:()=>W});var i=n(200651),l=n(192379),r=n(873546),a=n(852229),s=n(442837),o=n(481060),d=n(393238),c=n(727637),u=n(100527),h=n(906732),m=n(734934),p=n(300284),g=n(680295),_=n(785717),f=n(687158),E=n(899007),I=n(648052),C=n(867176),N=n(537006),v=n(483424),T=n(681837),S=n(502762),A=n(530),Z=n(309494),x=n(4517),b=n(171368),L=n(420654),y=n(695346),O=n(158776),P=n(246946),R=n(572004),j=n(5192),D=n(74538),w=n(474376),M=n(435478),k=n(591974),U=n(764443),G=n(383832),B=n(981631),V=n(228168),H=n(388032),F=n(907553),z=n(593401);function W(e){let{currentUser:t,onClose:n,setPopoutRef:W}=e,Y=__OVERLAY__,K=(0,f.ZP)(t.id),{analyticsLocations:q}=(0,h.ZP)(u.Z.ACCOUNT_PROFILE_POPOUT),X=(0,_.ZB)({layout:"SIMPLIFIED_ACCOUNT_POPOUT",userId:t.id}),{ref:Q}=(0,d.Z)(),J=(0,c.Z)(Q);l.useEffect(()=>{null==W||W(Q.current)},[Q,W]);let $=(0,s.e7)([O.Z],()=>O.Z.getStatus(t.id)),ee=(0,s.e7)([P.Z],()=>P.Z.hidePersonalInformation),et=(0,m.p)(),en=y.Sb.useSetting(),ei=(0,U.I)($),el=(0,w.g)(n),er=(0,p.Z)({analyticsLocations:q}),ea=(0,D.I5)(t),es=e=>{null==n||n(),(0,b.openUserProfileModal)({sourceAnalyticsLocations:q,...X,...e})};return(0,i.jsx)(h.Gt,{value:q,children:(0,i.jsx)(_.Mt,{value:X,children:(0,i.jsx)(o.VqE,{ref:Q,"aria-label":t.username,children:(0,i.jsxs)(S.Z,{className:F.themeContainer,user:t,displayProfile:K,profileType:V.y0.BITE_SIZE,children:[(0,i.jsxs)("header",{className:z.header,children:[(0,i.jsx)(C.Z,{user:t,displayProfile:K,profileType:V.y0.BITE_SIZE}),(0,i.jsx)(E.Z,{user:t,displayProfile:K,profileType:V.y0.BITE_SIZE,onOpenProfile:Y?void 0:es}),(0,i.jsx)(x.Z,{location:"AccountProfilePopout",user:t,profileType:V.y0.BITE_SIZE,onCloseProfile:n})]}),(null==K?void 0:K.profileEffectId)!=null&&(0,i.jsx)(g.Z,{profileEffectId:null==K?void 0:K.profileEffectId,isHovering:J}),(0,i.jsxs)(o.Ttm,{className:F.body,children:[(0,i.jsx)(A.Z,{user:t,className:F.username,profileType:V.y0.BITE_SIZE,nickname:j.ZP.getName(null,null,t),onOpenProfile:Y?void 0:es,pronouns:null==K?void 0:K.pronouns,tags:(0,i.jsx)(I.Z,{displayProfile:K,profileType:V.y0.BITE_SIZE,onClose:n}),nicknameIcons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.Z,{userId:t.id}),(0,i.jsx)(Z.Z,{user:t,isHovering:J})]})}),(0,i.jsx)(L.Z,{user:t,bio:null==K?void 0:K.bio,hidePersonalInformation:ee,onClose:n}),(0,i.jsx)(N.Z,{isPremiumUser:ea,onInteraction:n}),(0,i.jsx)(v.Z,{user:t,currentUser:t,displayProfile:K,onClose:n}),(0,i.jsxs)("div",{className:F.menus,children:[(0,i.jsx)(S.Z.Overlay,{className:F.menuOverlay,children:(0,i.jsxs)(M.PB,{id:"profile-".concat(t.id),children:[(0,i.jsx)(M.Mv,{id:"edit-profile",action:"EDIT_PROFILE",label:H.intl.string(H.t.s5vZlZ),icon:o.vdY,onClick:()=>{er(),n()}}),(0,i.jsx)("div",{className:F.menuDivider}),(0,i.jsx)(M.Mv,{id:"set-status",action:"PRESS_SET_STATUS",label:(0,i.jsx)(k.Z,{}),icon:()=>(0,i.jsx)(o.qbd,{status:$,size:12}),hint:(et||$===B.Skl.DND)&&(0,i.jsx)(o.owu,{size:"xxs"}),renderSubmenu:r.tq?void 0:e=>{let{closePopout:t}=e;return(0,i.jsx)(M.eq,{navId:"set-status-submenu",className:F.statusPickerModalMenu,"aria-label":H.intl.string(H.t.E13trK),onClose:t,children:ei})},onClick:r.tq?()=>{n(),(0,o.ZDy)(()=>new Promise(e=>e(e=>{let{onClose:t,...n}=e;return(0,i.jsx)(o.Y0X,{...n,size:o.CgR.SMALL,"aria-label":H.intl.string(H.t["3Uj+2t"]),className:F.statusPickerModal,children:(0,i.jsx)(o.v2r,{navId:"set-status-submenu-mobile-web",variant:"fixed","aria-label":H.intl.string(H.t.E13trK),className:F.statusPickerModalMenu,hideScroller:!0,onClose:t,onSelect:void 0,children:ei})})})))}:void 0})]})}),(0,i.jsx)(S.Z.Overlay,{className:F.menuOverlay,children:(0,i.jsxs)(M.PB,{id:"account-".concat(t.id),children:[(0,i.jsx)(M.Mv,{id:"switch-accounts",action:"PRESS_SWITCH_ACCOUNTS",icon:o.lMe,label:H.intl.string(H.t.oMNyYG),onClick:()=>{n(),(0,G.Z)()},renderSubmenu:e=>{let{closePopout:t}=e;return(0,i.jsx)(M.eq,{navId:"switch-accounts-submenu","aria-label":H.intl.string(H.t.wFhVqK),onClose:t,children:el})}}),!__OVERLAY__&&R.wS&&en&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:F.menuDivider}),(0,i.jsx)(M.Mv,{id:"copy-user-id",action:"COPY_USER_ID",icon:o.VuL,label:H.intl.string(H.t["/AXYnJ"]),onClick:()=>{(0,a.J)(t.id),n()}})]})]})})]})]})]})})})})}},435478:function(e,t,n){n.d(t,{Mv:()=>h,PB:()=>m,eq:()=>p}),n(47120);var i=n(200651),l=n(192379),r=n(25441),a=n(91192),s=n(657707),o=n(481060),d=n(209613),c=n(475413),u=n(907553);function h(e){let{id:t,label:n,icon:d,hint:h,renderSubmenu:m,...p}=e,{onFocus:g,..._}=(0,a.JA)(t),{id:f}=(0,a.f$)(),[E,I]=l.useState(!1),C=null!=m;l.useLayoutEffect(()=>{if(C)return(0,r.N)(f,e=>{I(e===t)})},[t,f,C]);let N=e=>(0,i.jsxs)(c.kF,{...e,..._,...p,role:"button",look:o.zxk.Looks.BLANK,innerClassName:u.menuItemInner,color:u.menuItemColor,themeColor:"none",fullWidth:!0,onMouseEnter:()=>{var t;null==e||null===(t=e.onMouseEnter)||void 0===t||t.call(e),g()},children:[(0,i.jsx)(d,{size:"xs",color:"currentColor"}),(0,i.jsxs)("div",{className:u.menuItemLabel,children:[n,h]}),C&&(0,i.jsx)(s.Fbu,{size:"xs",color:"currentColor"})]});return C?(0,i.jsx)(o.yRy,{spacing:0,renderPopout:m,shouldShow:E,onRequestClose:()=>I(!1),children:N}):N()}function m(e){let{id:t,children:n}=e,l=(0,d.Z)(t);return(0,i.jsx)(a.bG,{navigator:l,children:(0,i.jsx)(a.SJ,{children:e=>{let{ref:t,...r}=e;return(0,i.jsx)("div",{...r,ref:t,onMouseLeave:()=>l.setFocus(null),children:n})}})})}function p(e){return(0,i.jsx)("div",{className:u.submenuPaddingContainer,children:(0,i.jsx)(o.v2r,{variant:"fixed",hideScroller:!0,onSelect:void 0,...e})})}},591974:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651),l=n(442837),r=n(481060),a=n(626562),s=n(885110),o=n(51144),d=n(231338),c=n(388032),u=n(843855);function h(){var e;let t=(0,l.e7)([s.Z],()=>s.Z.getStatus()),n=null!==(e=(0,o.u5)(t))&&void 0!==e?e:"",h=t===d.Sk.INVISIBLE||t===d.Sk.OFFLINE,m=(0,a.Vm)({location:"AccountProfilePopoutMenuItemStatusLabel"});return(0,i.jsxs)("div",{className:u.container,children:[n,n.length>0&&m&&h&&(0,i.jsx)(r.ua7,{text:c.intl.string(c.t.L99HQk),children:e=>(0,i.jsx)(r.P4T,{size:"xs",color:r.TVs.colors.STATUS_WARNING,...e})})]})}},764443:function(e,t,n){n.d(t,{I:()=>I});var i=n(200651);n(192379);var l=n(722770),r=n(481060),a=n(440051),s=n(734934),o=n(158238),d=n(695346),c=n(70956),u=n(51144),h=n(246133),m=n(981631),p=n(388032),g=n(907553);let _=[{duration:30*c.Z.Millis.MINUTE,label:()=>p.intl.string(p.t.RxJGbG)},{duration:c.Z.Millis.HOUR,label:()=>p.intl.string(p.t.UMWBZm)},{duration:3*c.Z.Millis.HOUR,label:()=>p.intl.string(p.t.QmYWtr)},{duration:8*c.Z.Millis.HOUR,label:()=>p.intl.string(p.t.EpAXPD)},{duration:c.Z.Millis.DAY,label:()=>p.intl.string(p.t["755t4u"])},{duration:void 0,label:()=>p.intl.string(p.t["46dqJS"])}];function f(e){let{status:t,currentStatus:n,description:l,defaultClickExpire:a}=e,s=(0,i.jsx)(i.Fragment,{children:_.map(e=>{let{duration:l,label:a}=e;return(0,i.jsx)(r.sNh,{id:"".concat(t,"-").concat(l),label:a(),action:()=>(0,h.Z)(t,n,void 0,l),dontCloseOnAction:!0},l)})});return(0,i.jsx)(r.sNh,{id:t,className:g.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,label:e=>{let{isFocused:n}=e;return(0,i.jsxs)("div",{className:g.statusItem,children:[(0,i.jsx)(r.qbd,{status:t,className:g.icon,size:10,color:n?"currentColor":void 0}),(0,i.jsx)("div",{className:g.status,children:(0,u.u5)(t)}),null!=l&&(0,i.jsx)("div",{className:g.description,children:l})]})},action:()=>(0,h.Z)(t,n,void 0,a?c.Z.Millis.DAY:void 0),dontCloseOnAction:!0,children:t!==m.Skl.ONLINE?s:void 0})}function E(e,t,n){return(0,i.jsx)(r.sNh,{id:e,keepItemStyles:!0,render:t=>{let{isFocused:l}=t;return(0,i.jsxs)("div",{className:g.statusItem,children:[(0,i.jsx)(r.qbd,{status:e,className:g.icon,size:10,color:l?"currentColor":void 0}),(0,i.jsx)("div",{className:g.status,children:(0,u.u5)(e)}),null!=n&&(0,i.jsx)("div",{className:g.description,children:n})]})},action:()=>(0,h.Z)(e,t),dontCloseOnAction:!0})}function I(e){let{expiringStatus:t,defaultClickExpire:n}=a.i.useExperiment({location:"AccountProfilePopout"}),c=d.Cr.useSetting(),u=(0,s.p)(),h=o.e.useExperiment({location:"AccountProfilePopout"}).allowQuietMode||u,I=d.fv.useSetting(),C=e===m.Skl.DND,N=t=>{let n=null!=c&&"0"!==c?p.intl.formatToPlainString(p.t.BWD8fn,{endTime:new Date(Number(c)).toLocaleString(p.intl.currentLocale,{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):void 0;if(e===t&&null!=n)return n;switch(t){case m.Skl.DND:return h?p.intl.string(p.t.day5Aw):p.intl.string(p.t.U9Vv19);case m.Skl.INVISIBLE:return p.intl.string(p.t.MqanVF);default:return}},v=(0,i.jsx)(i.Fragment,{children:_.map(t=>{let{duration:n,label:l}=t;return(0,i.jsx)(r.sNh,{id:"".concat(e,"-").concat(n),label:l(),action:()=>{(0,s.oW)(!0,n)},dontCloseOnAction:!0},n)})});return(0,i.jsxs)(i.Fragment,{children:[E(m.Skl.ONLINE,e),(0,i.jsx)(r.Clw,{},"menu-separator-statuses"),t?f({status:m.Skl.IDLE,currentStatus:e,description:N(m.Skl.IDLE),defaultClickExpire:n}):E(m.Skl.IDLE,e,N(m.Skl.IDLE)),t?f({status:m.Skl.DND,currentStatus:e,description:N(m.Skl.DND),defaultClickExpire:n}):E(m.Skl.DND,e,N(m.Skl.DND)),t?f({status:m.Skl.INVISIBLE,currentStatus:e,description:N(m.Skl.INVISIBLE),defaultClickExpire:n}):E(m.Skl.INVISIBLE,e,N(m.Skl.INVISIBLE)),h||u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Clw,{},"menu-separator-statuses"),(0,i.jsx)(r.sNh,{id:"quiet-mode","aria-label":"focus mode",className:g.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,label:()=>(0,i.jsxs)("div",{className:g.statusItem,children:[(0,i.jsx)(r.owu,{size:"xxs",className:g.icon}),(0,i.jsxs)("div",{className:g.focusModeTitle,children:[p.intl.string(p.t.gJRnwM),(0,i.jsx)(r.IGR,{text:u?p.intl.string(p.t.ApAu9f):C?p.intl.string(p.t.gH3Fra):p.intl.string(p.t["64pl8/"]),color:u?l.Z.BRAND_500:C?l.Z.RED_400:l.Z.PRIMARY_500})]}),(0,i.jsx)("div",{className:g.description,children:u&&null!=I&&"0"!==I?p.intl.formatToPlainString(p.t.BWD8fn,{endTime:new Date(Number(I)).toLocaleString(p.intl.currentLocale,{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):p.intl.string(p.t["Br1q+/"])})]}),action:()=>{(0,s.oW)(!u)},dontCloseOnAction:!0,children:v},"quiet-mode")]}):null]})}},383832:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(71509);function s(){(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("52030"),n.e("85325"),n.e("59769")]).then(n.bind(n,266653));return t=>(0,i.jsx)(e,{...t})},{onCloseCallback:()=>{r.Z.dispatch({type:"LOGIN_RESET",isMultiAccount:!0})},modalKey:a.Ui})}},474376:function(e,t,n){n.d(t,{g:()=>v}),n(653041);var i=n(200651);n(192379);var l=n(442837),r=n(780384),a=n(481060),s=n(44315),o=n(540059),d=n(210887),c=n(598077),u=n(246946),h=n(594174),m=n(626135),p=n(51144),g=n(480387),_=n(726745),f=n(251423),E=n(383832),I=n(981631),C=n(388032),N=n(989387);function v(e){let t=(0,l.e7)([h.default],()=>h.default.getCurrentUser()),n=(0,l.e7)([u.Z],()=>u.Z.hidePersonalInformation),v=(0,l.e7)([d.Z],()=>(0,r.wj)(d.Z.theme)),T=(0,o.R6)("useMultiAccountMenuItems"),{multiAccountUsers:S}=(0,f.L)(),A=e=>{e!==(null==t?void 0:t.id)&&(m.default.track(I.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:I.jXE.USER_PROFILE}}),g.yD(e))},Z=S.map(l=>{let r=new c.Z(l),o=r.id===(null==t?void 0:t.id),d=l.tokenStatus===_.q.INVALID,u=n?null:"#".concat(r.discriminator);return(0,i.jsx)(a.sNh,{id:r.id,focusedClassName:N.focused,label:e=>{let{isFocused:t}=e;return(0,i.jsxs)("div",{className:N.userMenuItem,children:[(0,i.jsx)(a.qEK,{src:r.getAvatarURL(void 0,40),size:a.EFr.SIZE_24,"aria-label":l.username}),(0,i.jsxs)("div",{className:N.userMenuUsername,children:[(0,i.jsx)(a.Text,{className:N.userMenuText,variant:"text-sm/normal",children:p.ZP.getUserTag(r,{mode:"username",identifiable:n?"never":"always"})}),!r.isPomelo()&&(0,i.jsx)(a.Text,{className:N.userMenuDiscriminator,variant:"text-sm/normal",children:u})]}),o&&(0,i.jsx)(a.owK,{size:"sm",color:(0,s.Lq)(t?I.Ilk.WHITE_500:I.Ilk.BRAND_500),secondaryColor:(0,s.Lq)(t&&v||t&&!T&&!v?I.Ilk.BRAND_500:I.Ilk.WHITE_500),className:N.activeIcon}),d&&(0,i.jsx)(a.P4T,{color:(0,s.Lq)(I.Ilk.RED_400),secondaryColor:(0,s.Lq)(t&&v||t&&!T&&!v?I.Ilk.BRAND_500:I.Ilk.WHITE_500),size:"xs",className:N.activeIcon})]})},action:()=>{null==e||e(),d?(0,E.Z)():A(r.id)}},r.id)});return Z.push((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Clw,{}),(0,i.jsx)(a.sNh,{id:"manage-accounts",label:C.intl.string(C.t.WbFpq6),action:()=>{null==e||e(),(0,E.Z)()}})]})),Z}},440051:function(e,t,n){n.d(t,{i:()=>l});var i=n(818083);(0,i.B)({kind:"user",id:"2024-01_expiring_status",label:"Expiring status Experiment ",defaultConfig:{expiringStatus:!1},treatments:[{id:1,label:"allow expiring status",config:{expiringStatus:!0}}]});let l=(0,i.B)({kind:"user",id:"2025-01_expiring_status_v2",label:"Expiring status Experiment V2",defaultConfig:{expiringStatus:!1,defaultClickExpire:!1},treatments:[{id:1,label:"allow expiring status",config:{expiringStatus:!0,defaultClickExpire:!1}},{id:2,label:"default change status click expires after 24h",config:{expiringStatus:!0,defaultClickExpire:!0}}]})},109497:function(e,t,n){n(653041);var i,l=n(442837),r=n(570140),a=n(695346),s=n(885110),o=n(70956),d=n(981631);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=[],h=!1;function m(){return u.length>=4&&u.some(e=>e<Date.now()-3*o.Z.Millis.DAY)}class p extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&Array.isArray(e.sessionStartsWithDND)&&(u=e.sessionStartsWithDND)}showNagBar(){return h}getState(){return{sessionStartsWithDND:u}}getTemp(){return{x:a.Cr.getSetting()}}}c(p,"displayName","HabitualDNDStore"),c(p,"persistKey","habitualDND"),new p(r.Z,{POST_CONNECTION_OPEN:function(){s.Z.getStatus()===d.Skl.DND&&"0"===a.Cr.getSetting()?(u.push(Date.now()),u=u.filter(e=>e>Date.now()-5*o.Z.Millis.DAY),m()&&setTimeout(()=>{r.Z.dispatch({type:"HABITUAL_DND_CLEAR"})},15*o.Z.Millis.SECOND)):u=[]},HABITUAL_DND_CLEAR:function(){h=!!m(),u=[]}})},158238:function(e,t,n){n.d(t,{e:()=>i});let i=(0,n(818083).B)({kind:"user",id:"2024-01_quiet_mode",label:"Quiet Mode (dnd-equivalent) Experiment ",defaultConfig:{allowQuietMode:!1},treatments:[{id:1,label:"allow quiet mode",config:{allowQuietMode:!0}}]})},225559:function(e,t,n){n.d(t,{L:()=>l,v:()=>r});var i=n(570140);function l(){i.Z.dispatch({type:"NOW_PLAYING_MOUNTED"})}function r(){i.Z.dispatch({type:"NOW_PLAYING_UNMOUNTED"})}},791359:function(e,t,n){n.d(t,{Z:()=>R}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(954955),o=n.n(s),d=n(442837),c=n(481060),u=n(570140),h=n(569984),m=n(918701),p=n(93127),g=n(814443),_=n(594174),f=n(801077),E=n(626135),I=n(70956),C=n(225559),N=n(910436),v=n(203028),T=n(358924),S=n(292140),A=n(525296),Z=n(981631),x=n(674563),b=n(388032),L=n(658385);let y=15*I.Z.Millis.MINUTE,O=(0,A.Z)(function(e){let{party:t,onUserContextMenu:n,onChannelContextMenu:r,quest:a}=e,s=(0,i.jsx)(v.Z,{party:t,onUserContextMenu:n}),d=(0,i.jsx)(N.Z,{party:t,onChannelContextMenu:r,quest:a}),{partiedMembers:u,applicationStreams:h,currentActivities:m,voiceChannels:p}=t,g=u.length,_=h.length,f=m.length,I=p.length>0,C=l.useCallback(()=>{let e=m.filter(e=>{var t,n;return(null===(t=e.game)||void 0===t?void 0:t.name)!=null&&(null===(n=e.game)||void 0===n?void 0:n.type)===x.wW.GAME}).map(e=>e.game.name);E.default.track(Z.rMx.NOW_PLAYING_CARD_HOVERED,{num_users:g,num_streams:_,num_activities:f,in_voice_channel:I,games_detected:e})},[g,_,f,I,m]),A=o()(C,y);return null!=s||null!=d?(0,i.jsx)(c.yRy,{position:"left",renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(S.Z,{party:t,close:n})},spacing:8,children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(T.Z,{...e,onMouseEnter:A,"aria-haspopup":"menu",className:L.itemCard,active:n,children:(0,i.jsxs)("div",{children:[s,d]})})}}):null}),P=a().throttle(()=>p.W(!1),3e5);function R(){let{nowPlayingCards:e,loaded:t,needsRefresh:n,fetching:r,currentUser:a}=(0,d.cj)([f.Z,g.Z,_.default],()=>({nowPlayingCards:f.Z.nowPlayingCards,loaded:f.Z.loaded,needsRefresh:g.Z.needsRefresh(),fetching:g.Z.getFetching(),currentUser:_.default.getCurrentUser()})),s=(0,d.e7)([h.Z],()=>h.Z.quests);l.useEffect(()=>(u.Z.wait(()=>C.L()),()=>u.Z.wait(()=>C.v())),[null==a?void 0:a.id]),l.useEffect(()=>{n&&!r&&P()},[n,r]);let o=l.useMemo(()=>{let t=new Map,n=new Set;for(let i of e)i.party.currentActivities.forEach(e=>{let{activity:l}=e;if(null!=l){let e=(0,m.ZZ)(s,l);null==e||n.has(e.id)||(t.set(i.party.id,e),n.add(e.id))}});return t},[e,s]),p=null;return t?(p=e.length>0?e.map(e=>{let{party:t}=e;return(0,i.jsx)(O,{party:t,quest:o.get(t.id)},t.id)}):(0,i.jsxs)("div",{className:L.emptyCard,children:[(0,i.jsx)(c.X6q,{variant:"heading-md/semibold",className:L.emptyHeader,children:b.intl.string(b.t["ngJ/5u"])}),(0,i.jsx)(c.Text,{color:"none",className:L.emptyText,variant:"text-sm/normal",children:b.intl.string(b.t["99ZWxc"])})]}),(0,i.jsx)(i.Fragment,{children:p})):(0,i.jsx)("div",{className:L.emptyCard,children:(0,i.jsx)(c.$jN,{})})}},910436:function(e,t,n){n.d(t,{Z:()=>I}),n(653041),n(47120);var i=n(200651);n(192379);var l=n(287734),r=n(872810),a=n(122810),s=n(841784),o=n(503438),d=n(802856),c=n(420660),u=n(918701),h=n(23404),m=n(81063),p=n(761282),g=n(358924),_=n(868854),f=n(817915),E=n(981631);function I(e){let{party:t,onChannelContextMenu:n,quest:I}=e,C=(0,_.L)(),{voiceChannels:N,currentActivities:v,partiedMembers:T,applicationStreams:S,guildContext:A}=t,Z=[],x=e=>{var t,n;let{length:l}=Z;if(0===l){Z.push(e);return}let r=Z[l-1],a="".concat(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),s="".concat(null!==(n=null==r?void 0:r.key)&&void 0!==n?n:"").startsWith("game")&&a.startsWith("rich-presence");Z.push((0,i.jsx)(g.Z.Separator,{inset:s},"sep-".concat(a))),Z.push(e)};for(let{activity:e}of(N.length>0&&N.forEach(e=>{let{members:t,channel:l,guild:r}=e;x((0,i.jsx)(g.Z.VoiceSection,{guild:r,channel:l,members:t,partySize:function(e,t){let n;let i=e.length;return n=i+0,{knownSize:i,unknownSize:0,totalSize:n}}(t),onChannelContextMenu:n},"voice-".concat(l.id)))}),t.currentActivities))if(null!=e){let t=p.ct(e);if(null!=t){x(t);break}}return S.length>0&&C&&S.forEach(e=>{let{stream:t,streamUser:n,activity:a}=e;x((0,i.jsx)(g.Z.ApplicationStreamingSection,{guildId:null==A?void 0:A.id,user:n,activity:a,applicationStream:t,onPreviewClick:()=>{l.default.selectVoiceChannel(t.channelId),(0,r.iV)(t)}},"application-stream-".concat(t.ownerId)))}),v.forEach((e,t)=>{var n,l,r,p,_,C,S,Z,b;let{activity:L,game:y,playingMembers:O,activityUser:P}=e;if(null==L||null==L.type)return null;if(v.length>1&&L.type===E.IIU.PLAYING&&!(0,a.Z)(L)&&null!=y)x((0,i.jsx)(g.Z.GameSection,{icon:y.getIconURL(f.Z),name:y.name,partySize:{knownSize:O.length,unknownSize:0,totalSize:O.length},members:O},"game-".concat(null!==(n=L.session_id)&&void 0!==n?n:t,"-").concat(null!==(l=L.application_id)&&void 0!==l?l:t)));else if((0,s.Z)(L)){let e=new Set(O.map(e=>e.id)),t=null===(r=N.find(e=>null!=e))||void 0===r?void 0:r.channel;null!=t&&x((0,i.jsx)(g.Z.EmbeddedActivitySection,{activity:L,participants:e,channel:t,guildId:t.guild_id},"embedded-activity-".concat(L.application_id)))}else if((null!=L.assets||(0,a.Z)(L))&&L.type===E.IIU.PLAYING)x((0,i.jsx)(g.Z.RichPresenceSection,{activity:L,getAssetImage:m.getAssetImage},"rich-presence-".concat(null!==(p=L.session_id)&&void 0!==p?p:t,"-").concat(P.id)));else if((0,c.Z)(L)){let e=N.length>0&&N[0].members.length>1,n=O.length>1;x((0,i.jsx)(g.Z.TwitchSection,{guildId:null==A?void 0:A.id,activity:L,user:e||n?P:null,getAssetImage:m.getAssetImage},"streaming-".concat(null!==(_=L.session_id)&&void 0!==_?_:t)))}else(0,o.Z)(L)?x((0,i.jsx)(g.Z.SpotifySection,{activity:L,isSolo:1===T.length,partySize:{knownSize:O.length,unknownSize:0,totalSize:O.length},getAssetImage:m.getAssetImage,members:O},"spotify-".concat(null!==(C=L.session_id)&&void 0!==C?C:t,"-").concat(P.id))):(null!=L.assets||(0,a.Z)(L))&&L.type===E.IIU.LISTENING?x((0,i.jsx)(g.Z.RichPresenceSection,{activity:L,getAssetImage:m.getAssetImage},"rich-presence-".concat(null!==(S=L.session_id)&&void 0!==S?S:t,"-").concat(P.id))):(0,d.Z)(L)&&x((0,i.jsx)(g.Z.XboxSection,{title:y.name},"xbox-".concat(null!==(Z=L.session_id)&&void 0!==Z?Z:t)));null!=I&&null!=y&&(0,u._D)(L,I)&&x((0,i.jsx)(h.Z,{quest:I},"quest-".concat(I.id,"-").concat(null!==(b=L.session_id)&&void 0!==b?b:t)))}),Z.length>0?(0,i.jsx)(g.Z.Body,{children:Z}):null}},203028:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i=n(200651);n(192379);var l=n(512722),r=n.n(l),a=n(841784),s=n(503438),o=n(802856),d=n(810568),c=n(168524),u=n(707409),h=n(51144),m=n(761282),p=n(358924),g=n(817915),_=n(981631),f=n(388032);function E(e){var t,l;let{party:E,onUserContextMenu:I}=e,{priorityMembers:C,guildContext:N}=E,v=C[0],T=function(e){let{priorityMembers:t,partiedMembers:n}=e,i=new Set(t.map(e=>{let{user:t}=e;return t.id})),l=n.filter(e=>!i.has(e.id)),r=h.ZP.getName(t[0].user),a=null!=t[1]?h.ZP.getName(t[1].user):null!=l[0]?h.ZP.getName(l[0]):null;switch(n.length){case 1:return r;case 2:return f.intl.format(f.t.t1DyCw,{user1:r,user2:a});default:return f.intl.format(f.t["5CSEcH"],{user1:r,user2:a,extras:n.length-2})}}(E),{subtitle:S,icon:A}=function(e){var t;let{priorityMembers:l,partiedMembers:d,voiceChannels:c,currentActivities:h}=e,E=l.length,I=d.length-E,C=h[0],N=null==C?void 0:C.activity,v=null==C?void 0:C.startedPlayingTime,T={name:null!==(t=null==N?void 0:N.name)&&void 0!==t?t:""};if((0,a.Z)(N)&&null!=N)return{subtitle:(0,i.jsx)(u.ZP,{start:v,location:u.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:T}),icon:null};if(E+I===1&&null!=C){let{game:e}=C;if(null==N)return{subtitle:null,icon:null};let t=m.dc(N);if(null!=t)return t;switch(N.type){case _.IIU.PLAYING:if((0,o.Z)(N))return{subtitle:f.intl.string(f.t.tO8wOz),icon:(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.XBOX})};return{subtitle:(0,i.jsx)(u.ZP,{start:v,location:u.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:T}),icon:null!=e?(0,i.jsx)(p.Z.Header.Icon,{src:null!=e.getIconURL(g.Z)?e.getIconURL(g.Z):n(211827)}):null};case _.IIU.STREAMING:return{subtitle:f.intl.string(f.t.HyGHj4),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};case _.IIU.LISTENING:let l;return l=(0,s.Z)(N)?(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.SPOTIFY}):null!=e.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:e.getIconURL(g.Z)}):(0,i.jsx)(p.Z.Header.Icon,{src:n(211827)}),{subtitle:f.intl.formatToPlainString(f.t.NF5xoq,{name:N.name}),icon:l};case _.IIU.WATCHING:return{subtitle:f.intl.formatToPlainString(f.t.pW3Ip6,{name:N.name}),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};default:return{subtitle:f.intl.string(f.t.grGyaW),icon:null}}}if(0===h.length){if(c.length>0)return{subtitle:f.intl.string(f.t.grGyaW),icon:null};let e=h[0];if(null!=e){let{activity:t}=e;if(null!=t){let e=m.dc(t);if(null!=e)return e}if(null!=t&&t.type===_.IIU.LISTENING)return{subtitle:f.intl.string(f.t.rmnkz8),icon:(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.SPOTIFY})}}}else if(1===h.length){let e=h.find(e=>null!=e.activity);if(null==e)return{subtitle:null,icon:null};let{activity:t,game:n,startedPlayingTime:l}=e;return r()(null!=t,"Activity was null somehow"),{subtitle:(0,i.jsx)(u.ZP,{start:l,location:u.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:T}),icon:null!=n&&null!=n.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:n.getIconURL(g.Z)}):null}}return{subtitle:f.intl.string(f.t.sau5tr),icon:(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.MULTIPLE})}}(E),Z=(0,c.Z)({applicationId:null===(l=E.currentActivities[0])||void 0===l?void 0:null===(t=l.activity)||void 0===t?void 0:t.application_id,location:"FriendsActivityFeed",source:d.m1.FriendsActivityFeed});return(0,i.jsx)(p.Z.Header,{priorityUser:v,guildId:null==N?void 0:N.id,title:T,subtitle:S,icon:A,onSubtitleClick:Z,onIconClick:Z,onContextMenu:e=>I(e,v.user)})}},358924:function(e,t,n){n.d(t,{Z:()=>el}),n(47120);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(442837),d=n(692547),c=n(481060),u=n(287734),h=n(438139),m=n(2052),p=n(726542),g=n(638880),_=n(655922),f=n(122810),E=n(833664),I=n(503438),C=n(420660),N=n(74433),v=n(906732),T=n(812206),S=n(933557),A=n(194082),Z=n(264165),x=n(548816),b=n(925329),L=n(102172),y=n(871118),O=n(707409),P=n(359110),R=n(769654),j=n(849171),D=n(314897),w=n(592125),M=n(594174),k=n(395361),U=n(639351),G=n(81063),B=n(823379),V=n(51144),H=n(599706),F=n(981631),z=n(388032),W=n(982144);let Y={SMALL:64,LARGE:160},K=[14,14,12,12,10,8,6],q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,l.jsx)(c.Text,{className:s()(W.textContent,t),variant:"text-sm/semibold",children:e})},X=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,l.jsx)(c.Text,{className:s()(W.textContent,t),variant:"text-xs/normal",children:e})},Q=(0,h.Z)(e=>{let{message:t}=e;return(0,l.jsx)("div",{className:W.__invalid_timestamp,children:t})}),J=e=>{let{children:t}=e;return(0,l.jsx)("section",{className:W.section,children:t})};class $ extends r.Component{renderTimePlayed(){let e;let{activity:t}=this.props,{timestamps:n}=t;return null==n||!(0,E.Z)(t)||(0,I.Z)(t)?null:X((0,f.Z)(t)?(0,l.jsx)(Q,{timestamps:n}):(0,l.jsx)(O.ZP,{start:n.start,end:n.end,location:O.ZP.Locations.USER_ACTIVITY,className:W.__invalid_playTime}))}render(){var e,t;let{activity:{assets:i,details:r,state:a,application_id:o},getAssetImage:d}=this.props;return(0,l.jsx)(J,{children:(0,l.jsxs)("div",{className:W.activitySection,children:[null!=i&&0!==Object.keys(i).length?(0,l.jsxs)("div",{className:W.activitySectionAssets,children:[(0,l.jsx)("img",{alt:null!==(e=i.large_text)&&void 0!==e?e:"",src:d(o,i.large_image,[Y.LARGE,Y.LARGE]),className:s()(W.largeImage,{[W.largeImageMask]:null!=i.small_image})}),null!=i.small_image?(0,l.jsx)("img",{alt:null!==(t=i.small_text)&&void 0!==t?t:"",src:d(o,i.small_image,[Y.SMALL,Y.SMALL]),className:W.smallImage}):null]}):(0,l.jsx)("div",{className:W.activitySectionAssets,children:(0,l.jsx)("img",{alt:"",src:n(211827),className:W.largeImage})}),(0,l.jsxs)("div",{children:[q(null!=r&&""!==r?r:z.intl.string(z.t["2TbM/P"])),null!=a?X(a):null,this.renderTimePlayed()]})]})})}}var ee=((i=ee||{}).XBOX="XBOX",i.SPOTIFY="SPOTIFY",i.MULTIPLE="MULTIPLE",i);let et=e=>{let t,{src:n,onClick:i,onContextMenu:r}=e;switch(n){case"XBOX":t=(0,l.jsx)(U.Z,{className:W.headerIcon,color:d.Z.unsafe_rawColors.PRIMARY_300.css});break;case"SPOTIFY":t=(0,l.jsx)(k.Z,{className:W.headerIcon,color:d.Z.unsafe_rawColors.SPOTIFY.css});break;case"MULTIPLE":t=(0,l.jsx)("div",{className:W.multipleIconWrapper,children:(0,l.jsx)(c.iWm,{size:"md",className:s()(W.headerIcon,W.multipleIcon),color:d.Z.unsafe_rawColors.PRIMARY_300.css})});break;default:t=(0,l.jsx)("img",{src:null!=n?n:void 0,alt:"",className:W.headerIcon})}return null!=i||null!=r?(0,l.jsx)(c.P3F,{onClick:i,className:s()(null!=i?W.clickable:""),onContextMenu:r,children:t}):t};et.Src=ee;let en=e=>{let{priorityUser:t,title:n,subtitle:i,icon:r,onSubtitleClick:a,onIconClick:o,onContextMenu:d,guildId:u}=e,h=(0,l.jsx)(c.Text,{color:"header-secondary",className:W.textContent,variant:"text-sm/normal",children:i});return(0,l.jsxs)("header",{className:null!=r?W.headerFull:W.headerSimple,children:[(0,l.jsx)(c.qEK,{src:t.user.getAvatarURL(u,32),"aria-label":t.user.username,size:c.EFr.SIZE_32,className:W.headerAvatar,status:t.status,onContextMenu:d}),(0,l.jsxs)("div",{className:W.__invalid_headerDetails,children:[(0,l.jsx)(c.Text,{className:s()(W.textContent),variant:"text-md/semibold",children:n}),null!=a?(0,l.jsx)(c.P3F,{className:W.clickable,onClick:a,children:h}):h]}),null!=r&&null!=o?(0,l.jsx)(c.P3F,{className:W.clickable,onClick:o,children:r}):r]})};en.Icon=et;let ei=e=>{let{children:t,className:n,...i}=e;return(0,l.jsx)(c.tEY,{children:(0,l.jsx)(x.Z,{className:s()(n,W.wrapper),padded:!0,...i,children:t})})};ei.Header=en,ei.Body=e=>{let{children:t}=e;return(0,l.jsx)(x.Z,{inset:!0,padded:!1,className:W.body,children:t})},ei.Separator=e=>{let{inset:t,className:n}=e;return(0,l.jsx)("div",{className:s()(W.separator,{[W.inset]:t},n)})},ei.VoiceSection=e=>{var t,n;let{guild:i,channel:a,partySize:o,members:d,onChannelContextMenu:h}=e,m=r.useRef(null),p=(0,S.ZP)(a,!0);return(0,l.jsx)(J,{children:(0,l.jsxs)("div",{className:W.voiceSection,ref:m,onContextMenu:e=>h(e,a),children:[(0,l.jsx)(c.P3F,{onClick:()=>(0,R.X)(i.id),"aria-hidden":!0,tabIndex:-1,children:(0,l.jsxs)("div",{className:W.voiceSectionAssets,children:[null!=i.getIconURL(32)?(0,l.jsx)("img",{alt:"",src:null!==(t=i.getIconURL(32))&&void 0!==t?t:void 0,className:s()(W.voiceSectionGuildImage,W.largeImageMask)}):(0,l.jsx)("div",{className:W.voiceSectionNoGuildImageWrapper,children:(0,l.jsx)("div",{className:W.voiceSectionNoGuildImage,style:{fontSize:null!==(n=K[i.acronym.length])&&void 0!==n?n:K[K.length-1]},children:i.acronym})}),(0,l.jsx)("div",{className:W.voiceSectionIconWrapper,children:(0,l.jsx)(c.gj8,{size:"md",color:"currentColor",className:W.voiceSectionIcon})})]})}),(0,l.jsx)(c.P3F,{onClick:()=>{u.default.selectVoiceChannel(a.id),(0,P.Kh)(a.id)},focusProps:{ringTarget:m},children:(0,l.jsxs)("div",{className:W.voiceSectionDetails,children:[q(i.toString(),W.voiceSectionText),X(p,W.voiceSectionText)]})}),(0,l.jsx)(H.Z,{partySize:o,members:d,guildId:i.id})]})})},ei.GameSection=e=>{let{icon:t,name:n,partySize:i,members:r}=e;return(0,l.jsx)(J,{children:(0,l.jsxs)("div",{className:W.gameSection,children:[null!=t?(0,l.jsx)("img",{alt:"",src:t,className:W.gameSectionIcon}):null,(0,l.jsxs)("div",{children:[q(n),X(z.intl.formatToPlainString(z.t.C4WXvb,{memberCount:i.totalSize}))]}),(0,l.jsx)(H.Z,{partySize:i,members:r})]})})},ei.RichPresenceSection=$,ei.XboxSection=e=>{let{title:t}=e;return(0,l.jsx)(J,{children:(0,l.jsxs)("div",{className:W.xboxSection,children:[(0,l.jsx)(U.Z,{className:W.xboxSectionIcon}),(0,l.jsxs)("div",{className:W.__invalid_xboxSectionDetails,children:[q(t),X(z.intl.string(z.t["JG9r+/"]))]})]})})},ei.SpotifySection=e=>{var t;let{activity:{assets:n,details:i,state:r,application_id:a},partySize:o,members:c,isSolo:u,getAssetImage:h}=e;return(0,l.jsx)(J,{children:(0,l.jsxs)("div",{className:W.spotifySection,children:[null!=n?(0,l.jsxs)("div",{className:W.activitySectionAssets,children:[(0,l.jsx)("img",{alt:null!==(t=n.large_text)&&void 0!==t?t:"",src:h(a,n.large_image,[Y.LARGE,Y.LARGE]),className:s()(W.largeImage,W.borderRadius0,{[W.largeImageMask]:null!=n.small_image})}),u?null:(0,l.jsx)(k.Z,{className:W.smallImage,color:d.Z.unsafe_rawColors.SPOTIFY.css})]}):(0,l.jsx)("div",{}),(0,l.jsxs)("div",{children:[null!=i?q(i):null,null!=r?X(r):null]}),(0,l.jsx)(H.Z,{minAvatarsShown:u?2:1,partySize:o,members:c})]})})},ei.TwitchSection=e=>{let t,{activity:i,user:r,getAssetImage:a,guildId:o}=e,{name:d,details:u,assets:h,application_id:m}=i;if(null!=h&&(0,C.Z)(i)){var g;t=(0,l.jsx)(Z.Z,{className:W.twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,l.jsxs)(c.P3F,{href:(0,_.Z)(i),tag:"a",target:"_blank",children:[(0,l.jsx)("img",{alt:null!==(g=h.large_text)&&void 0!==g?g:"",src:a(m,h.large_image,[900,500]),className:W.twitchSectionPreview}),(0,l.jsx)("img",{src:n(497726),className:W.twitchSectionPlayButton,alt:""})]})})}return(0,l.jsxs)(J,{children:[(0,l.jsxs)("div",{className:s()({[W.twitchSectionSimple]:null==r,[W.twitchSectionFull]:null!=r}),children:[(0,l.jsx)("img",{alt:"",src:p.Z.get(F.ABu.TWITCH).icon.lightSVG,className:W.twitchSectionIcon}),(0,l.jsxs)("div",{children:[q(d),null!=u?X(u):null]}),null!=r?(0,l.jsx)(c.qEK,{src:r.getAvatarURL(o,24),"aria-label":r.username,className:W.twitchSectionAvatar,size:c.EFr.SIZE_24}):null]}),t]})},ei.ApplicationStreamingSection=e=>{var t,n;let{activity:i,user:r,applicationStream:a,onPreviewClick:s,guildId:d}=e,u=(0,o.e7)([w.Z],()=>w.Z.getChannel(a.channelId)),[h,m]=(0,L.wq)(u),p=(0,l.jsxs)(c.P3F,{onClick:h?s:void 0,className:W.applicationStreamingPreviewWrapper,children:[(0,l.jsx)(y.Z,{stream:a,className:W.applicationStreamingPreviewSize}),(0,l.jsx)(c.Text,{className:W.applicationStreamingHoverText,variant:"text-sm/medium",color:"always-white",children:(0,L.P9)(m)})]}),g=null!==(n=null===(t=(0,N.Z)(i,a))||void 0===t?void 0:t.activityText)&&void 0!==n?n:z.intl.string(z.t.eXan7O);return(0,l.jsxs)(J,{children:[(0,l.jsxs)("div",{className:W.applicationStreamingSection,children:[(0,l.jsx)(c.qEK,{size:c.EFr.SIZE_32,src:r.getAvatarURL(d,32),"aria-label":r.username,className:W.applicationStreamingAvatar}),(0,l.jsxs)("div",{children:[q(V.ZP.getName(r)),X(g)]}),(0,l.jsx)(A.ZP,{size:A.ZP.Sizes.SMALL})]}),p]})},ei.EmbeddedActivitySection=e=>{let{activity:t,channel:n,guildId:i,participants:a}=e,[s,d]=r.useState(null),u=t.application_id;r.useEffect(()=>{null!=u&&(0,G.fetchAssetIds)(u,["embedded_background"]).then(e=>{let[t]=e;return d(t)})},[u]);let h=(0,o.Wu)([M.default,D.default],()=>Array.from(a).map(e=>D.default.getId()===e?null:M.default.getUser(e)).filter(B.lm)),p=(0,m.O)(),{analyticsLocations:_}=(0,v.ZP)();if(null==u)return null;let f=T.Z.getApplication(u);if(null==f)return null;let E=null!=t.created_at&&t.created_at>0?{start:t.created_at}:void 0,I=(0,G.getAssetImage)(f.id,s,300);return(0,l.jsxs)(J,{children:[(0,l.jsxs)("div",{className:W.embeddedActivityTopRow,children:[(0,l.jsx)(b.Z,{game:f,size:b.Z.Sizes.XSMALL,className:W.embeddedActivityIcon}),(0,l.jsx)("div",{className:W.embeddedActivityName,children:(0,l.jsx)(c.Text,{variant:"text-sm/semibold",children:f.name})}),null!=E?(0,l.jsx)("div",{className:W.embeddedActivityTimeElapsed,children:(0,l.jsx)(c.Text,{color:"text-muted",variant:"text-sm/normal",children:(0,l.jsx)(Q,{timestamps:E})})}):null]}),(0,l.jsxs)("div",{className:W.embeddedActivityPlayerContainer,children:[null!=I?(0,l.jsx)("img",{src:I,alt:f.name,className:W.embeddedActivityImage}):null,(0,l.jsxs)("div",{className:W.embeddedActivityImageOverlay,children:[(0,l.jsx)(j.OV,{users:h,guildId:i,channelId:n.id}),(0,l.jsx)("div",{className:W.embeddedActivityJoinWrapper,children:(0,l.jsx)(c.zxk,{size:c.zxk.Sizes.SMALL,onClick:e=>{e.stopPropagation(),(0,g.Z)({applicationId:u,activityChannelId:n.id,locationObject:p.location,analyticsLocations:_})},children:z.intl.string(z.t.VJlc0d)})})]})]})]})};let el=ei},199104:function(e,t,n){n.d(t,{Z:()=>E});var i=n(200651);n(192379);var l=n(442837),r=n(704215),a=n(481060),s=n(410575),o=n(100527),d=n(906732),c=n(313201),u=n(243778),h=n(352455),m=n(480294),p=n(791359),g=n(981631),_=n(388032),f=n(150737);function E(){let{analyticsLocations:e}=(0,d.ZP)(o.Z.ACTIVE_NOW_COLUMN),t=(0,l.e7)([m.Z],()=>m.Z.hasConsented(g.pjP.PERSONALIZATION))?[]:[r.z.NOW_PLAYING_CONSENT_CARD],n=(0,c.Dt)();return(0,i.jsx)(d.Gt,{value:e,children:(0,i.jsx)(s.Z,{section:g.jXE.ACTIVE_NOW_COLUMN,children:(0,i.jsx)("aside",{className:f.container,"aria-labelledby":n,children:(0,i.jsxs)(a.Ttm,{className:f.scroller,children:[(0,i.jsx)(a.X6q,{variant:"heading-lg/semibold",className:f.header,id:n,children:_.intl.string(_.t.F4Zgg4)}),(0,i.jsx)(u.ZP,{contentTypes:t,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===r.z.NOW_PLAYING_CONSENT_CARD)return(0,i.jsx)(h.Z,{className:f.__invalid_consentCard,markAsDismissed:n})}}),(0,i.jsx)(p.Z,{})]})})})})}},292140:function(e,t,n){n.d(t,{Z:()=>_});var i=n(200651);n(192379);var l=n(481060),r=n(493773),a=n(626135),s=n(144145),o=n(555927),d=n(738762),c=n(244080),u=n(247530),h=n(260889),m=n(981631),p=n(674563),g=n(388032);function _(e){let{party:t,close:n,onSelect:_}=e,f=(0,d.Z)(t),E=(0,h.Z)(t),I=(0,u.Z)(t),C=(0,c.Z)(t),N=(0,s.Z)(t),v=(0,o.Z)(t);return(0,r.ZP)(()=>{let e=t.currentActivities.filter(e=>{var t,n;return(null===(t=e.game)||void 0===t?void 0:t.name)!=null&&(null===(n=e.game)||void 0===n?void 0:n.type)===p.wW.GAME}).map(e=>e.game.name);a.default.track(m.rMx.OPEN_POPOUT,{type:"Now Playing Card Popout",games_detected:e})}),(0,i.jsxs)(l.v2r,{navId:"now-playing-menu",onClose:n,"aria-label":g.intl.string(g.t.ogxXGh),onSelect:_,children:[f,(0,i.jsxs)(l.kSQ,{children:[E,I]}),(0,i.jsx)(l.kSQ,{children:C}),(0,i.jsx)(l.kSQ,{children:N}),v]})}},841710:function(e,t,n){n.d(t,{Y:()=>c,Z:()=>d});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(129861),o=n(492395);function d(e){let{user:t,status:n,isFocused:l,guildId:r}=e;return(0,i.jsxs)("div",{className:o.memberItem,children:[(0,i.jsx)(a.qEK,{src:t.getAvatarURL(r,24),className:o.avatar,"aria-label":t.username,size:a.EFr.SIZE_24,status:n,statusColor:l?"currentColor":void 0}),(0,i.jsx)(s.Z,{user:t,hideDiscriminator:!0})]})}function c(e){let{label:t}=e;return(0,i.jsxs)("div",{className:o.memberItem,children:[(0,i.jsx)("div",{className:r()(o.avatar,o.unknown)}),(0,i.jsx)("div",{children:t})]})}},144145:function(e,t,n){n.d(t,{Z:()=>Z}),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(278323),o=n(287734),d=n(230711),c=n(726542),u=n(620662),h=n(841784),m=n(802856),p=n(594190),g=n(592745),_=n(553795),f=n(757266),E=n(283595),I=n(417363),C=n(626135),N=n(804739),v=n(346329),T=n(981631),S=n(388032);let A=c.Z.get(T.ABu.XBOX).name;function Z(e){let{currentActivities:t}=e,n=t.length>1,Z=function(e){let{currentActivities:t}=e,n=(0,r.e7)([_.Z],()=>_.Z.getAccounts().some(e=>e.type===c.Z.get(T.ABu.XBOX).type)),l=t.some(e=>{let{activity:t}=e;return(0,m.Z)(t)});return n||!l?null:(0,i.jsx)(a.sNh,{id:"xbox-connect",action:()=>d.Z.open(T.oAB.CONNECTIONS),label:S.intl.formatToPlainString(S.t.XWSHTU,{platform:A})})}(e),x=function(e){let{currentActivities:t}=e,n=l.useContext(C.AnalyticsContext);return(0,r.Wu)([p.ZP,E.Z,g.Z,I.Z,f.Z],()=>t.filter(e=>!(0,h.Z)(e.activity)).map(e=>{let{activity:t,game:i}=e,l=E.Z.getActiveLibraryApplication(i.id);return{...e,libraryApplication:l,canJoin:null!=t&&(0,u.Z)(t,T.xjy.JOIN)&&t.type===T.IIU.PLAYING,canPlay:(0,N.t)({LibraryApplicationStore:E.Z,LaunchableGameStore:g.Z,DispatchApplicationStore:I.Z,ConnectedAppsStore:f.Z,applicationId:i.id,branchId:null!=l?l.branchId:null}),isLaunching:g.Z.launchingGames.has(i.id),isRunning:p.ZP.getRunningVerifiedApplicationIds().includes(i.id),location:n.location}}),[n.location,t])}(e),b=[];for(let e of x){let{activity:t}=e;null!=t&&null!=t.type&&b.push(function(e,t){let{canJoin:n,activity:l,activityUser:r}=e;if(!n||null==l)return null;async function d(){if(null==l)return;let e=await s.Z.sendActivityInviteUser({type:T.mFx.JOIN_REQUEST,userId:r.id,activity:l,location:T.Sbl.PROFILE_POPOUT});null!=e&&o.default.selectPrivateChannel(e.id)}return(0,i.jsx)(a.sNh,{id:"join-".concat(l.session_id),label:t?S.intl.formatToPlainString(S.t.wFAvxM,{name:r.toString()}):S.intl.string(S.t.OKsSCQ),action:d})}(e,n),function(e,t){let{activity:n,game:l,libraryApplication:r,location:s,canPlay:o,isRunning:d,isLaunching:c}=e;if(!o||null==n)return null;let u=d?S.intl.formatToPlainString(S.t["gBme//"],{name:l.name}):c?S.intl.formatToPlainString(S.t.WtSQwM,{name:l.name}):void 0;return(0,i.jsx)(a.sNh,{id:"play-".concat(n.session_id),action:function(){(0,v.playApplication)(l.id,r,{analyticsParams:{location:{...s,object:T.qAy.LIST_ITEM}}})},label:t?S.intl.formatToPlainString(S.t.ZDZEJC,{name:l.name}):S.intl.string(S.t.XKUw8v),subtext:u})}(e,n))}return[Z,...b]}},555927:function(e,t,n){n.d(t,{Z:()=>h}),n(653041),n(47120),n(390547);var i=n(200651),l=n(192379),r=n(481060),a=n(906732),s=n(171368),o=n(841710),d=n(981631),c=n(388032);function u(e){let{priorityMembers:t,otherMembers:n,totalMembers:l,activity:a,guildId:u,sourceAnalyticsLocations:h}=e,m=[];for(let{user:e,status:n}of t)m.push((0,i.jsx)(r.sNh,{id:e.id,keepItemStyles:!0,render:t=>(0,i.jsx)(o.Z,{...t,user:e,status:n,guildId:u}),action:()=>(0,s.openUserProfileModal)({userId:e.id,guildId:u,sourceAnalyticsLocations:h,analyticsLocation:{section:d.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}));for(let e of n)m.push((0,i.jsx)(r.sNh,{id:e.id,keepItemStyles:!0,render:t=>(0,i.jsx)(o.Z,{...t,user:e,guildId:u}),action:()=>(0,s.openUserProfileModal)({userId:e.id,guildId:u,sourceAnalyticsLocations:h,analyticsLocation:{section:d.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}));let p=l-m.length;return p>0&&m.push((0,i.jsx)(r.sNh,{id:"unknown-members-".concat(null==a?void 0:a.session_id),render:e=>(0,i.jsx)(o.Y,{...e,label:c.intl.formatToPlainString(c.t["6Kqn9P"],{count:p})})})),m}function h(e){let{priorityMembers:t,partiedMembers:n,currentActivities:s,guildContext:o}=e,d=new Set(t.map(e=>{let{user:t}=e;return t.id})),h=n.filter(e=>!d.has(e.id)),{analyticsLocations:m}=(0,a.ZP)(),p=l.useMemo(()=>{let e=s.flatMap(e=>{let{playingMembers:t}=e;return t}).map(e=>e.id);return n.filter(t=>!e.includes(t.id))},[n,s]);if(s.length<=1&&0===p.length){var g,_;return(0,i.jsx)(r.kSQ,{label:n.length>1?c.intl.formatToPlainString(c.t.C4WXvb,{memberCount:n.length}):void 0,children:u({priorityMembers:t,otherMembers:h,totalMembers:n.length,activity:null!==(_=null===(g=s[0])||void 0===g?void 0:g.activity)&&void 0!==_?_:void 0,guildId:null==o?void 0:o.id,sourceAnalyticsLocations:m})})}let f=s.map((e,n)=>{let{playingMembers:l,game:a,activity:s}=e,c=new Set(l.map(e=>e.id));return(0,i.jsx)(r.kSQ,{label:"".concat(a.name," - ").concat(l.length),children:u({priorityMembers:t.filter(e=>{let{user:t}=e;return c.has(t.id)}),otherMembers:l.filter(e=>!d.has(e.id)),totalMembers:l.length,activity:null!=s?s:void 0,guildId:null==o?void 0:o.id,sourceAnalyticsLocations:m})},n)}),E=p.map(e=>e.id);return[...f,(0,i.jsx)(r.kSQ,{label:"".concat(c.intl.string(c.t["mIx+gI"])," - ").concat(p.length),children:u({priorityMembers:t.filter(e=>{let{user:t}=e;return E.includes(t.id)}),otherMembers:p.filter(e=>!d.has(e.id)),totalMembers:p.length,guildId:null==o?void 0:o.id,sourceAnalyticsLocations:m})})]}},738762:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651),l=n(192379),r=n(481060),a=n(493683),s=n(367907),o=n(205129),d=n(626135),c=n(981631),u=n(388032);function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{priorityMembers:n,partiedMembers:h}=e,m=l.useContext(d.AnalyticsContext),p=n.map(e=>{let{user:t}=e;return t.id}),g=1===h.length&&1===n.length,_=n.length-h.length>0;return(g||t)&&!_&&0!==p.length?(0,i.jsx)(r.sNh,{id:"message",action:function(){a.Z.openPrivateChannel(p).then(t=>s.ZP.trackWithMetadata(c.rMx.ACTIVITY_FEED_DM_VISITED,{source:{...m.location,object:c.qAy.LIST_ITEM},channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1,...(0,o.y)(e)}))},label:u.intl.string(u.t["g33r/P"])}):null}},244080:function(e,t,n){n.d(t,{Z:()=>l});var i=n(380349);function l(e){let{currentActivities:t,isSpotifyActivity:n}=e,l=t[0],r=(0,i.Z)(null==l?void 0:l.activity,null==l?void 0:l.activityUser);return n?r:null}},247530:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(481060),r=n(287734),a=n(872810),s=n(51144),o=n(388032);function d(e){let{applicationStreams:t}=e;return t.map(e=>{let{stream:t,streamUser:n}=e;return(0,i.jsx)(l.sNh,{id:"spectate-".concat(t.ownerId),action:()=>{r.default.selectVoiceChannel(t.channelId),(0,a.iV)(t)},label:o.intl.formatToPlainString(o.t.m09d0d,{streamerName:s.ZP.getName(n)})},"spectate-".concat(t.ownerId))})}},260889:function(e,t,n){n.d(t,{Z:()=>_});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(287734),o=n(367907),d=n(359110),c=n(769654),u=n(496675),h=n(205129),m=n(626135),p=n(981631),g=n(388032);function _(e){let t=l.useContext(m.AnalyticsContext),n=e.voiceChannels[0],_=(0,r.e7)([u.Z],()=>null!=n&&u.Z.can(p.Plq.CONNECT,n.channel));return null==n?null:[(0,i.jsx)(a.sNh,{id:"join-voice",action:function(){(0,d.Kh)(n.channel.id),s.default.selectVoiceChannel(n.channel.id),o.ZP.trackWithMetadata(p.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,{source:{...t.location,object:p.qAy.LIST_ITEM},guild_id:n.guild.id,channel_id:n.channel.id,...(0,h.y)(e)})},label:g.intl.string(g.t["8yOlh4"]),disabled:!_},"join-voice"),(0,i.jsx)(a.sNh,{id:"goto-server",action:function(){(0,c.X)(n.guild.id),o.ZP.trackWithMetadata(p.rMx.ACTIVITY_FEED_GUILD_VISITED,{source:{...t.location,object:p.qAy.LIST_ITEM},guild_id:n.guild.id,af_recently_played:!1,...(0,h.y)(e)})},label:g.intl.string(g.t.RGgqm5)},"goto-server")]}},525296:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651),l=n(192379),r=n(493683),a=n(239091),s=n(730749),o=n(430824);function d(e){return(0,s.Z)(class extends l.Component{render(){return(0,i.jsx)(e,{...this.props,onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu})}handleMessageUser(e,t){return r.Z.openPrivateChannel(t.id)}handleUserContextMenu(e,t,l){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("4616")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:l})}handleGuildContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("44156"),n.e("63104"),n.e("6850"),n.e("58227"),n.e("16114"),n.e("54408"),n.e("11684"),n.e("33213"),n.e("16524")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,{...n,guild:t})})}handleChannelContextMenu(e,t){let l=o.Z.getGuild(t.getGuildId());if(null==l)return null;(0,a.jW)(e,async()=>{let{default:e}=await n.e("40283").then(n.bind(n,428108));return n=>(0,i.jsx)(e,{...n,channel:t,guild:l})})}})}},929809:function(e,t,n){n.d(t,{H:()=>r,c:()=>l});var i=n(570140);function l(e){i.Z.wait(()=>i.Z.dispatch({type:"NUF_NEW_USER",newUserType:e}))}function r(){i.Z.wait(()=>i.Z.dispatch({type:"NUF_COMPLETE"}))}},701476:function(e,t,n){n.d(t,{M5:()=>l});var i,l=((i={})[i.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED",i[i.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED",i[i.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED",i[i.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE",i)},785997:function(e,t,n){n.d(t,{F:()=>l});var i,l=((i={}).AGE_GATE="age-gate",i.CHOOSE_TEMPLATE="choose-template",i.CUSTOMIZE_GUILD="customize-server",i.CHANNEL_PROMPT="channel-prompt",i.JOIN_GUILD="join-server",i.CREATION_INTENT="creation-intent",i.COMPLETE="complete",i)},122333:function(e,t,n){let i;n.d(t,{Z:()=>O}),n(47120);var l=n(200651);n(192379);var r=n(481060),a=n(570140),s=n(317770),o=n(622822),d=n(391650),c=n(305325),u=n(983736),h=n(341298),m=n(390885),p=n(524329),g=n(995532),_=n(486472),f=n(430824),E=n(914010),I=n(594174),C=n(823379),N=n(358085),v=n(929809),T=n(179645),S=n(701476),A=n(785997),Z=n(981631),x=n(188785),b=n(630724);function L(){null!=i&&(0,r.Mr3)(i)}class y extends s.Z{_initialize(){a.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.subscribe("LOGOUT",L)}_terminate(){a.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.unsubscribe("LOGOUT",L)}handleConnectionOpen(){var e;let t;let a=T.Z.getType();if(null==a)return;switch(a){case S.M5.INVITE_UNCLAIMED:m.Z.flowStart(b.MK.INVITE,b.EW.NUF_STARTED);break;case S.M5.ORGANIC_REGISTERED:m.Z.flowStart(b.MK.ORGANIC,b.EW.NUF_STARTED);break;case S.M5.MARKETING_UNCLAIMED:m.Z.flowStart(b.MK.ORGANIC_MARKETING,b.EW.NUF_STARTED)}let s=!1,L=E.Z.getGuildId();if(a===S.M5.INVITE_UNCLAIMED){let e=f.Z.getGuild(L);null!=e&&(0,u.Dc)(e)&&(s=!0,(0,p.RM)(e.id))}let y=()=>0===_.Z.totalGuilds&&!N.isPlatformEmbedded,O=o.b();e=[{key:"Unified NUF Modal",open:async function(e){let t=e=>{switch(e){case A.F.AGE_GATE:m.Z.flowStep(b.MK.ANY,b.EW.AGE_GATE);break;case A.F.CHOOSE_TEMPLATE:m.Z.flowStep(b.MK.ANY,b.X2.GUILD_TEMPLATES);break;case A.F.CUSTOMIZE_GUILD:m.Z.flowStep(b.MK.ANY,b.X2.GUILD_CREATE);break;case A.F.CHANNEL_PROMPT:m.Z.flowStep(b.MK.ANY,b.X2.CHANNEL_PROMPT);break;case A.F.JOIN_GUILD:m.Z.flowStep(b.MK.ANY,b.X2.JOIN_GUILD);break;case A.F.CREATION_INTENT:m.Z.flowStep(b.MK.ANY,b.X2.CREATION_INTENT);break;case A.F.COMPLETE:m.Z.flowStep(b.MK.ANY,b.X2.SUCCESS);break;case null:break;default:C.vE(e)}};i=await (0,r.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("63288"),n.e("1337"),n.e("42483"),n.e("64885")]).then(n.bind(n,599219));return n=>(0,l.jsx)(e,{...n,onSlideChange:t})},{onCloseRequest:Z.dG4,onCloseCallback:e,modalKey:i})},predicate:()=>y()&&!x.a},{key:"New User Age Gate",open:d.i,predicate:()=>O&&!y()&&!x.a},{key:"Claim Account Modal",open:e=>d.j(N.isPlatformEmbedded,e),predicate:()=>{var e;return!s&&null!=I.default.getCurrentUser()&&!(null===(e=I.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!x.a&&!(0,h.g)("new_user_manager")}},{key:"Verification Gate with Claim Account",open:e=>(0,c.hk)(L,null!=e?e:void 0),predicate:()=>{var e;return s&&!(null===(e=I.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!x.a}},{key:"Guild Welcome Modal",open:e=>(0,r.ZDy)(async()=>{let{default:e}=await n.e("77578").then(n.bind(n,184782));return t=>(0,l.jsx)(e,{...t,guildId:L})},{onCloseCallback:e}),predicate:()=>null!=L&&null!=g.Z.get(L)&&g.Z.get(L)!==g.a}],t=()=>{v.H(),m.Z.flowStep(b.MK.ANY,b.EW.NUF_COMPLETE,!0)},[...e].reverse().forEach(e=>{let n=t;t=()=>{e.predicate()?e.open(n):n()}}),t()}}let O=new y},46145:function(e,t,n){n.d(t,{Z:()=>m}),n(47120),n(733860);var i,l=n(442837),r=n(570140),a=n(592125),s=n(271383),o=n(430824);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=[],u=new Set;class h extends(i=l.ZP.PersistedStore){initialize(e){var t;this.waitFor(s.ZP,o.Z,a.Z),u=new Set([...c=null!==(t=null==e?void 0:e.channelHistory)&&void 0!==t?t:[]])}getState(){return{channelHistory:c}}getChannelHistory(){return c}}d(h,"displayName","RecentVoiceChannelStore"),d(h,"persistKey","RecentVoiceChannelStore");let m=new h(r.Z,{POST_CONNECTION_OPEN:function(){u=new Set([...c])},VOICE_CHANNEL_SELECT:function(e){var t,n;let{channelId:i}=e;return!(null==i||!(null!==(n=null===(t=a.Z.getChannel(i))||void 0===t?void 0:t.isVocal())&&void 0!==n&&n)||u.has(i))&&(c.unshift(i),u.add(i),c.length>10&&(c.length=10,u=new Set([...c])),!0)}})},824138:function(e,t,n){n.d(t,{Z:()=>A}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),d=n(481060),c=n(100527),u=n(600164),h=n(184301),m=n(347475),p=n(237583),g=n(63063),_=n(870569),f=n(345243),E=n(115530),I=n(981631),C=n(388032),N=n(153737);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T={HOST:5,LISTENER:4};class S extends l.PureComponent{isHost(){let{currentUser:e,host:t}=this.props;return e.id===(null==t?void 0:t.id)}renderTitle(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(E.Z,{children:this.isHost()?C.intl.formatToPlainString(C.t["6UJ7mp"],{count:this.props.party.length}):C.intl.string(C.t.RZufbG)}),(0,i.jsx)(f.Z,{children:C.intl.string(C.t["0ZHLIi"])})]})}renderStopListeningButton(){let{onStopListening:e}=this.props;return this.isHost()?null:(0,i.jsx)(_.Z,{tooltipText:C.intl.string(C.t.LeZSp6),onClick:e,icon:d.Dio})}renderHelpIcon(){return this.isHost()?(0,i.jsx)(_.Z,{tooltipText:C.intl.string(C.t.U7N2Hh),onClick:()=>{window.open(g.Z.getArticleURL(I.BhN.SPOTIFY_CONNECTION),"_blank")},icon:d.d3s}):null}render(){return(0,i.jsxs)("div",{className:N.listeningAlong,children:[this.renderTitle(),(0,i.jsx)(u.Z,{justify:u.Z.Justify.END,className:N.party,children:(0,i.jsx)(p.Z,{users:this.props.party,max:this.isHost()?T.HOST:T.LISTENER,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,i.jsxs)("div",{className:N.icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]})}constructor(...e){super(...e),v(this,"renderPartyMember",(e,t)=>{let n;if(null==e)return null;let{host:r,onUserContextMenu:s}=this.props;return n=(null==r?void 0:r.id)===e.id?C.intl.string(C.t.N9bqDw):C.intl.string(C.t.Z2Y4c3),(0,i.jsx)(d.yRy,{preload:()=>(0,h.Z)(e.id,e.getAvatarURL(void 0,80)),renderPopout:t=>(o()(null!=e,""),(0,i.jsx)(m.Z,{...t,userId:e.id,newAnalyticsLocations:[c.Z.AVATAR]})),position:"top",align:"center",children:r=>(0,i.jsx)(d.ua7,{text:n,children:n=>{let{onMouseEnter:i,onMouseLeave:o}=n;return(0,l.createElement)(d.qEK,{...r,key:e.id,src:e.getAvatarURL(void 0,24),size:d.EFr.SIZE_24,className:a()(N.avatar,t),"aria-label":e.username,onMouseEnter:i,onMouseLeave:o,onContextMenu:t=>void(null!=e&&(null==s||s(t,e)))})}})},e.id)}),v(this,"renderPartyMemberOverflow",(e,t,n)=>{let{renderOverflowPopout:l}=this.props;return(0,i.jsx)(d.yRy,{renderPopout:l,children:n=>(0,i.jsx)(d.ua7,{text:C.intl.string(C.t.Zf4NPT),children:l=>(0,i.jsx)("div",{className:a()(N.overflow,t),...l,...n,children:e})})},n)})}}let A=S},720734:function(e,t,n){n.d(t,{Z:()=>eF}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(374470),o=n(442837),d=n(704215),c=n(846519),u=n(400354),h=n(652844),m=n(747906),p=n(789639),g=n(930295),_=n(481060),f=n(355467),E=n(239091),I=n(230711),C=n(410575),N=n(941129),v=n(634894),T=n(586902),S=n(907305),A=n(468363),Z=n(297369),x=n(953372),b=n(570928),L=n(100527),y=n(906732),O=n(676742),P=n(1585),R=n(304761),j=n(865427),D=n(682901),w=n(571250),M=n(628581),k=n(55311),U=n(575175),G=n(64220),B=n(600164),V=n(427217),H=n(540059),F=n(605236),z=n(243778),W=n(258609),Y=n(427347),K=n(331541),q=n(332473),X=n(240504),Q=n(637906),J=n(39370),$=n(19199),ee=n(866483),et=n(14357),en=n(763296),ei=n(640806),el=n(184301),er=n(52538),ea=n(861254),es=n(879815),eo=n(294629),ed=n(875527),ec=n(378441),eu=n(469887),eh=n(306609),em=n(199902),ep=n(314897),eg=n(592125),e_=n(819640),ef=n(131951),eE=n(19780),eI=n(885110),eC=n(246946),eN=n(594174),ev=n(78839),eT=n(626135),eS=n(768581),eA=n(572004),eZ=n(70956),ex=n(74538),eb=n(374023),eL=n(51144),ey=n(998502),eO=n(870569),eP=n(345243),eR=n(115530),ej=n(981631),eD=n(215023),ew=n(388032),eM=n(226007);function ek(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eU=ey.ZP.getEnableHardwareAcceleration()?_.Xo$:_.qEK,eG=2*eZ.Z.Millis.MINUTE,eB=30*eZ.Z.Millis.DAY;function eV(e){let{speaking:t,streaming:n,currentUser:l,status:r,handleMouseLeave:s,renderNameTag:o}=e,d=(0,H.Q3)("RTC Avatar"),c=(0,O.Z)(null==l?void 0:l.avatarDecoration),u=(0,eS.NZ)({avatarDecoration:c,size:(0,P.y9)(_.EFr.SIZE_32)}),h=(0,_.dQu)(_.TVs.modules.guildbar.AVATAR_SIZE);return null==l?null:(0,i.jsx)(C.Z,{object:ej.qAy.AVATAR,children:(0,i.jsx)(_.yRy,{clickTrap:!0,renderPopout:e=>{let{closePopout:t,setPopoutRef:n}=e;return(0,i.jsx)("div",{className:eM.accountProfilePopoutWrapper,children:(0,i.jsx)(K.Z,{currentUser:l,onClose:()=>{s(),null==t||t()},setPopoutRef:n})})},position:"top",align:"left",animation:_.yRy.Animation.FADE,spacing:14,fixed:!0,preload:()=>(0,el.Z)(l,void 0,{withMutualGuilds:!1,withMutualFriends:!1}),children:e=>(0,i.jsxs)(_.P3F,{...e,"aria-label":ew.intl.string(ew.t["3Uj+2t"]),className:eM.avatarWrapper,children:[(0,i.jsx)(eU,{size:d?_.EFr["SIZE_".concat(h)]:_.EFr.SIZE_32,src:l.getAvatarURL(void 0,d?h-4:32,!1),avatarDecoration:u,"aria-label":l.username,status:n?ej.Skl.STREAMING:r,isSpeaking:t,className:eM.avatar}),(0,i.jsx)("div",{className:a()(eM.nameTag,{[eM.canCopy]:eA.wS}),children:o()})]})})})}class eH extends l.PureComponent{get isCopiedStreakGodlike(){let{copiedStreak:e}=this.state;return e>=10}componentDidUpdate(e){let{speakingWhileMuted:t,occluded:n}=e,{speakingWhileMuted:i,occluded:l}=this.props;l!==n&&this.handleOccludedChanged(),i!==t&&this.handleSpeakingWhileMutedChanged()}componentWillUnmount(){this.copiedTimeout.stop(),this.copiedDecayTimeout.stop(),this.speakingWhileMutedTooltipTimeout.stop()}renderCopiedSuccess(){let{copiedStreak:e}=this.state,t=[ew.intl.string(ew.t.MSaeTU),ew.intl.string(ew.t.UmrCw8),ew.intl.string(ew.t.gKE0Ji),ew.intl.string(ew.t["4DSKbm"]),ew.intl.string(ew.t["+8ENdX"]),ew.intl.string(ew.t.GlWHv7),ew.intl.string(ew.t.hIzxU1),ew.intl.string(ew.t["26uMPD"]),ew.intl.string(ew.t.uFs7R0),ew.intl.string(ew.t.bLXdcX),ew.intl.string(ew.t.gPg9fX)],n=Math.min(Math.max(0,e-1),t.length-1);return(0,i.jsx)(_.UkV,{isShaking:this.isCopiedStreakGodlike,children:t[n]})}renderStatus(){let{hovered:e}=this.state,{activities:t,activityStatusCleanupEnabled:n,applicationStream:l,currentUser:r,status:a,userTag:s,voiceActivityStatusEnabled:o,voiceChannel:d}=this.props;if(null==r)return null;if((n||o)&&(0,Z.Z)({activities:t,status:a,applicationStream:l,voiceChannel:o?d:void 0}))return(0,i.jsx)(b.Z,{hoverText:s,forceHover:e,children:(0,i.jsx)(x.Z,{user:r,activities:t,applicationStream:l,voiceChannel:o?d:void 0,textClassName:eM.activityStatusText,hideTooltip:!0})});let c=null==t?void 0:t.find(e=>{let{type:t}=e;return t===ej.IIU.CUSTOM_STATUS});return null!=c?(0,i.jsx)(b.Z,{hoverText:s,forceHover:e,children:(0,i.jsx)(V.Z,{activity:c,emojiClassName:eM.emoji,className:eM.customStatus})}):null!=a&&a!==ej.Skl.UNKNOWN&&r.isPomelo()?(0,i.jsx)(b.Z,{hoverText:s,forceHover:e,children:eL.ZP.humanizeStatus(a)}):s}renderNameTag(){let{currentUser:e}=this.props;return null==e?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eM.panelTitleContainer,children:(0,i.jsx)(eR.Z,{children:eL.ZP.getName(e)})}),(0,i.jsx)("div",{className:eM.panelSubtextContainer,children:(0,i.jsx)(eP.Z,{children:this.renderStatus()})})]})}renderAvatarWithPopout(){return(0,i.jsx)(eV,{...this.props,handleMouseLeave:this.handleMouseLeave,renderNameTag:()=>this.renderNameTag()})}renderNameZone(){let{currentUser:e,dismissibleContents:t}=this.props;return null==e?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(z.ZP,{contentTypes:t.avatar,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;return t===d.z.PREMIUM_SUBSCRIPTION_APRIL_MARKETING_DECO_TOOLTIP?(0,i.jsx)(G.Z,{markAsDismissed:n,children:()=>this.renderAvatarWithPopout()}):this.renderAvatarWithPopout()}})})}render(){let{currentUser:e,selfDeaf:t,selfMute:n,awaitingRemote:l,serverMute:r,serverDeaf:a,suppress:s,dismissibleContents:o}=this.props,{shouldShowSpeakingWhileMutedTooltip:c}=this.state;return null==e?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:eM.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[this.renderNameZone(),(0,i.jsxs)(B.Z,{grow:0,className:eM.buttons,children:[(0,i.jsx)(eW,{selfMute:n,serverMute:r,suppress:s,awaitingRemote:l,tooltipText:c?ew.intl.string(ew.t["29gnR0"]):void 0,tooltipColor:c?_.FGA.GREEN:void 0,tooltipForceOpen:c||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,onClick:this.handleToggleSelfMute,onContextMenu:this.handleInputAudioContextMenu}),(0,i.jsx)(eY,{selfDeaf:t,serverDeaf:a,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,awaitingRemote:l}),(0,i.jsx)(z.ZP,{contentTypes:o.settings,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;switch(t){case d.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2:return(0,i.jsx)(_.yRy,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(J.Z,{}),children:this.renderSettingsGear});case d.z.USER_SAFETY_CONSUMER_EDUCATION_BLOCK:return(0,i.jsx)(_.yRy,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(ee.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case d.z.USER_SAFETY_CONSUMER_EDUCATION_MUTE:return(0,i.jsx)(_.yRy,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(et.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case d.z.SOUNDBOARD_VOLUME_EDUCATION:return(0,i.jsx)(_.yRy,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(ei.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case d.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK:return(0,i.jsx)(_.yRy,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(er.Z,{}),children:this.renderSettingsGear});default:return this.renderSettingsGear()}}})]})]}),(0,i.jsx)(Y.Z,{})]})}constructor(...e){super(...e),ek(this,"copiedTimeout",new c.V7),ek(this,"copiedDecayTimeout",new c.V7),ek(this,"speakingWhileMutedTooltipTimeout",new c.V7),ek(this,"lastSpeakingWhileMutedNotificationTime",void 0),ek(this,"state",{hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1}),ek(this,"handleToggleSelfMute",()=>{let{serverMute:e,suppress:t}=this.props;(0,U.Z)(e,t,ej.jXE.ACCOUNT_PANEL)}),ek(this,"handleToggleSelfDeaf",()=>{let{serverDeaf:e}=this.props;(0,k.Z)(e,ej.jXE.ACCOUNT_PANEL)}),ek(this,"handleOpenAccountSettings",()=>{this.handleOpenSettings()}),ek(this,"handleOpenSettings",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ej.oAB.ACCOUNT,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;I.Z.open(e,t,n)}),ek(this,"handleOpenSettingsContextMenu",e=>{let{currentUser:t}=this.props;null!=t&&(0,E.jW)(e,async()=>{let{default:e}=await n.e("2535").then(n.bind(n,923422));return n=>(0,i.jsx)(e,{...n,user:t,premiumSubscription:this.props.premiumSubscription,webBuildOverride:this.props.webBuildOverride})})}),ek(this,"handleInputAudioContextMenu",(e,t)=>{(0,E.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659580));return()=>(0,i.jsx)(y.Gt,{value:t,children:this.props.simplifiedCallSettingsEnabled?(0,i.jsx)(e,{onClose:E.Zy,renderInputDevices:!0,renderInputVolume:!0,simplified:!0}):(0,i.jsx)(e,{onClose:E.Zy,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0})})})}),ek(this,"handleOutputAudioContextMenu",(e,t)=>{(0,E.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659580));return()=>(0,i.jsx)(y.Gt,{value:t,children:this.props.simplifiedCallSettingsEnabled?(0,i.jsx)(e,{onClose:E.Zy,renderOutputDevices:!0,renderOutputVolume:!0,simplified:!0}):(0,i.jsx)(e,{onClose:E.Zy,renderOutputDevices:!0,renderOutputVolume:!0})})})}),ek(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),ek(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),ek(this,"handleMouseEnterMute",()=>{this.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1}),this.speakingWhileMutedTooltipTimeout.stop()}),ek(this,"handleMouseLeaveMute",()=>{this.setState({hoveringOnMute:!1})}),ek(this,"handleCopyTag",()=>{let{currentUser:e}=this.props,{shouldShowNametagTooltip:t,copiedStreak:n}=this.state;if(null==e)return;(0,eA.JG)(eL.ZP.getUserTag(e,{decoration:"never",identifiable:"always"})),eT.default.track(ej.rMx.TEXT_COPIED,{type:"User Tag"});let i={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};t||(i.copiedStreak=n+1),this.setState(i,()=>{this.copiedTimeout.start(1e3,()=>this.setState({shouldShowNametagTooltip:!1})),this.copiedDecayTimeout.start(2e3,()=>this.setState({copiedStreak:0}))})}),ek(this,"handleOccludedChanged",()=>{let{occluded:e}=this.props;e&&this.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})}),ek(this,"handleSpeakingWhileMutedChanged",()=>{let{selfMute:e,serverMute:t,suppress:n,speakingWhileMuted:i,occluded:l}=this.props,{hoveringOnMute:r}=this.state,a=void 0===this.lastSpeakingWhileMutedNotificationTime||Date.now()-this.lastSpeakingWhileMutedNotificationTime>eG;i?r||!e||t||n||l||!a||this.setState({shouldShowSpeakingWhileMutedTooltip:!0},()=>{this.lastSpeakingWhileMutedNotificationTime=Date.now(),this.speakingWhileMutedTooltipTimeout.start(2e3,()=>this.setState({shouldShowSpeakingWhileMutedTooltip:!1}))}):(this.setState({shouldShowSpeakingWhileMutedTooltip:!1}),this.speakingWhileMutedTooltipTimeout.stop())}),ek(this,"renderSettingsGear",()=>(0,i.jsx)(ez,{isEligibleForPomelo:this.props.isEligibleForPomelo,webBuildOverride:this.props.webBuildOverride,onClick:this.handleOpenAccountSettings,onContextMenu:this.handleOpenSettingsContextMenu}))}}function eF(){var e;let t=(0,o.e7)([eN.default],()=>eN.default.getCurrentUser()),n=(0,o.e7)([ep.default],()=>ep.default.getId()),{activities:r,streaming:a,status:s}=(0,o.cj)([eI.Z],()=>{let e=eI.Z.getActivities();return{activities:e,streaming:null!=e.find(e=>{let{type:t}=e;return t===ej.IIU.STREAMING}),status:eI.Z.getStatus()}}),c=(0,o.e7)([em.Z],()=>em.Z.getAnyStreamForUser(n)),u=(0,T.Z)({userId:n}),h=eL.ZP.useUserTag(t,{decoration:"never"}),m=(0,o.e7)([eC.Z],()=>eC.Z.hidePersonalInformation),p=(0,o.e7)([eE.Z,eg.Z],()=>{let e=eE.Z.getChannelId();return null!=e?eg.Z.getChannel(e):null}),{mute:g,selfMute:E,suppress:I}=(0,eo.Z)(p),{selfDeaf:C,deaf:Z}=(0,es.Z)(p),x=(0,o.e7)([R.C],()=>{var e;return(0,j.fD)()?null===(e=R.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null}),b=(0,o.e7)([ev.ZP],()=>ev.ZP.getPremiumTypeSubscription()),O=(0,o.e7)([ef.Z],()=>ef.Z.getSpeakingWhileMuted()),P=(0,o.e7)([e_.Z],()=>e_.Z.hasLayers()),w=(0,_.s9z)(_.JQI)||P||eb.s.isDisallowPopupsSet(),M=(0,q.b)(),k=(0,o.e7)([W.Z],()=>null!=W.Z.getAwaitingRemoteSessionInfo()),U=(0,$.D)(),G=(0,N.u)(),B=ex.ZP.canUsePremiumGuildMemberProfile(t),V=(null==t?void 0:null===(e=t.avatarDecoration)||void 0===e?void 0:e.skuId)===eD.rL,{activityStatusCleanupEnabled:H}=(0,S.w)({location:"Account"}),{voiceActivityStatusEnabled:z}=(0,A.U)({location:"Account"}),{enabled:Y}=(0,D.Z)({location:"Account"}),K="account";(0,v.j)({location:K+" auto on",autoTrackExposure:!0}),(0,v.j)({location:K+" auto off",autoTrackExposure:!1});let J=(0,o.e7)([en.Z],()=>en.Z.hasHadOtherUserPlaySoundInSession()),ee=function(){let e=(0,F.wE)(d.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2),[t,n]=(0,o.Wu)([X.Z],()=>[X.Z.hasFetchedRelevance,X.Z.profileThemesRelevanceExceeded]),[i,r]=(0,o.Wu)([ev.ZP],()=>[ev.ZP.hasFetchedMostRecentPremiumTypeSubscription(),ev.ZP.getMostRecentPremiumTypeSubscription()]),{enabled:a}=Q.Z.useExperiment({location:"08bd40_1"},{autoTrackExposure:!0}),s=l.useMemo(()=>{let e=new Date().getTime();return null!=r&&(r.status===ej.O0b.ACTIVE||e-r.currentPeriodEnd.getTime()<eB)},[r]);return l.useEffect(()=>{(async()=>{if(!e&&null==n&&a){if(!i){await (0,f.ou)();return}!s&&(t||await (0,f.l0)())}})()},[a,n,e,i,t,s]),!e&&!!a&&!s&&null!=n&&n}(),{analyticsLocations:et}=(0,y.ZP)(L.Z.ACCOUNT),ei={avatar:[],settings:[]};return!w&&(ee&&ei.settings.push(d.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2),U&&(1===G?ei.settings.push(d.z.USER_SAFETY_CONSUMER_EDUCATION_MUTE):ei.settings.push(d.z.USER_SAFETY_CONSUMER_EDUCATION_BLOCK)),J&&ei.settings.push(d.z.SOUNDBOARD_VOLUME_EDUCATION),B&&ei.settings.push(d.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK),V&&ei.avatar.push(d.z.PREMIUM_SUBSCRIPTION_APRIL_MARKETING_DECO_TOOLTIP)),(0,i.jsx)(y.Gt,{value:et,children:(0,i.jsx)(eH,{currentUser:t,activities:r,applicationStream:c,voiceChannel:p,dismissibleContents:ei,userTag:h,hidePrivateData:m,occluded:w,premiumSubscription:b,selfDeaf:C,selfMute:E,serverDeaf:Z,serverMute:g,speaking:u,speakingWhileMuted:O,status:s,streaming:a,suppress:I,webBuildOverride:x,awaitingRemote:k,isEligibleForPomelo:M,simplifiedCallSettingsEnabled:Y,activityStatusCleanupEnabled:H,voiceActivityStatusEnabled:z})})}function ez(e){let{webBuildOverride:t,isEligibleForPomelo:n,onClick:l,onContextMenu:r}=e,a=_.ewm,s=(0,p.i)();return a=null!=t?_.bgT:n?_.Ncx:s.Component,(0,i.jsx)(eO.Z,{tooltipText:null!=t?ew.intl.formatToPlainString(ew.t.Gzh6ZG,{webBuildOverride:t.id}):ew.intl.string(ew.t.cduTBA),onClick:l,onContextMenu:r,icon:(0,i.jsx)(a,{size:"refresh_sm"}),...s.events})}function eW(e){let{selfMute:t,serverMute:n,suppress:r,awaitingRemote:a,tooltipText:o,tooltipColor:d,tooltipForceOpen:c,onMouseEnter:u,onMouseLeave:p,onClick:f,onContextMenu:E}=e,I=t||r||n,C=l.useRef(null),N=(0,h.O)(I?"unmute":"mute"),v=(0,m.P)(I?"unmute":"mute"),{activeVoice:T}=(0,ec.o)(),{Component:S,events:A,play:Z}=null!=T?v:N,x=n||r?_.v0G:S,{mode:b}=(0,ea.ZP)({location:"RTC Microphone Button"}),O=null!=o?o:(0,M.Z)(t,n,r,a,b===ea.BK.GroupedButtonsRedMic),{analyticsLocations:P}=(0,y.ZP)(L.Z.AUDIO_INPUT_BUTTON),R=(0,ed.Hu)({location:L.Z.AUDIO_INPUT_BUTTON,autoTrackExposure:!0});l.useEffect(()=>()=>Z(),[I,Z]);let j=l.useCallback(e=>{E(e,P)},[E,P]),[D,w]=l.useState(!1),k=l.useCallback(e=>{var t;if((0,s.k)(null==e?void 0:e.target,Node)&&(null===(t=C.current)||void 0===t?void 0:t.contains(e.target)))return g.F;w(!1)},[]);return(0,i.jsx)(y.Gt,{value:P,children:(0,i.jsxs)("div",{ref:C,className:eM.micButtonParent,children:[(0,i.jsx)(eO.Z,{tooltipText:O,tooltipColor:d,tooltipForceOpen:c,onMouseEnter:()=>{u(),A.onMouseEnter()},onMouseLeave:()=>{p(),A.onMouseLeave()},icon:(0,i.jsx)(x,{size:"custom",width:20,height:20,color:I?_.TVs.colors.STATUS_DANGER:"currentColor"}),iconForeground:I?eM.strikethrough:null,onClick:f,onContextMenu:j,role:"switch",className:R?eM.micButtonWithMenu:void 0,"aria-label":ew.intl.string(ew.t["w4m94+"]),"aria-checked":I,disabled:a}),R&&(0,i.jsx)(_.yRy,{position:"top",align:"center",animation:_.yRy.Animation.FADE,onRequestClose:k,shouldShow:D,renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(eh.l,{onSettingsButtonClick:t})},children:(e,t)=>{let{onClick:n,...l}=e,{isShown:r}=t,s=r?_.u04:_.CJ0;return(0,i.jsx)("div",{children:(0,i.jsx)(eu.B,{onCTA:()=>w(!0),canBeShown:!r,children:(e,t)=>(0,i.jsx)(eO.Z,{tooltipText:ew.intl.string(ew.t.Hapb4O),icon:(0,i.jsx)(s,{className:eM.buttonChevronIcon,size:"custom",width:12,height:12,color:_.TVs.colors.TEXT_NORMAL}),role:"button",className:eM.buttonChevron,"aria-label":ew.intl.string(ew.t.Hapb4O),disabled:a,onClick:e=>{null==t||t(),n(e),w(!D)},...l})})})}})]})})}function eY(e){let{selfDeaf:t,serverDeaf:n,awaitingRemote:r,onClick:s,onContextMenu:o}=e,d=t||n,{Component:c,play:h,events:{onMouseEnter:m,onMouseLeave:p}}=(0,u.l)(d?"undeafen":"deafen"),g=n?_.Vm4:c,{analyticsLocations:f}=(0,y.ZP)(L.Z.AUDIO_OUTPUT_BUTTON);l.useEffect(()=>()=>h(),[d,h]);let E=l.useCallback(e=>{o(e,f)},[o,f]);return(0,i.jsx)(y.Gt,{value:f,children:(0,i.jsx)(eO.Z,{tooltipText:(0,w.Z)(t,n,r),onMouseEnter:m,onMouseLeave:p,icon:(0,i.jsx)(g,{size:"custom",width:20,height:20,color:d?_.TVs.colors.STATUS_DANGER:"currentColor"}),onClick:s,onContextMenu:E,innerClassName:a()({[eM.redIcon]:n}),iconForeground:d?eM.strikethrough:null,role:"switch","aria-label":ew.intl.string(ew.t.wjcRFR),"aria-checked":d,disabled:r})})}},235555:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(442837),o=n(239091),d=n(476669),c=n(524331),u=n(768419),h=n(831506),m=n(699516),p=n(594174),g=n(823379),_=n(824138),f=n(388032);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends l.PureComponent{hasParty(e){return e.length>1}handleStopListening(){(0,c.Z)()}render(){let{currentUser:e,host:t,party:n}=this.props;return this.hasParty(n)&&null!=e?(0,i.jsx)(_.Z,{currentUser:e,host:t,party:n,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null}constructor(...e){super(...e),E(this,"handleUserContextMenu",(e,t)=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("4616")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})}),E(this,"renderOverflowPopout",()=>{let{party:e}=this.props;return(0,i.jsx)(d.Z,{party:e,header:f.intl.formatToPlainString(f.t.I9et19,{count:e.length})})})}}let C=s.ZP.connectStores([u.Z,p.default,m.Z,h.Z],()=>{let e,t;let n=u.Z.getSyncingWith(),i=u.Z.getActivity(),l=p.default.getCurrentUser(),r=[];if(null!=n?(e=p.default.getUser(n.userId),t=n.partyId):null!=i&&null!=i.party&&null!=i.party.id&&(e=l,t=i.party.id),null!=t){var s;r=a()(Array.from(null!==(s=h.Z.getParty(t))&&void 0!==s?s:[])).map(e=>p.default.getUser(e)).filter(g.lm).orderBy([t=>null==e||e.id===t.id,e=>m.Z.isFriend(e.id)],["desc","desc"]).value()}return{currentUser:l,host:e,party:r}})(I)},746508:function(e,t,n){n.d(t,{Z:()=>eY}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),d=n(568611),c=n(442837),u=n(592471),h=n(749280),m=n(864094),p=n(75735),g=n(382600),_=n(481060),f=n(846027),E=n(239091),I=n(925549),C=n(284056),N=n(730749),v=n(2052),T=n(40851),S=n(317381),A=n(596040),Z=n(588580),x=n(374065),b=n(451576),L=n(119315),y=n(403404),O=n(100527),P=n(906732),R=n(424602),j=n(682901),D=n(793865),w=n(933557),M=n(600164),k=n(540059),U=n(258609),G=n(446226),B=n(935261),V=n(74299),H=n(803647),F=n(142497),z=n(810788),W=n(160404),Y=n(703656),K=n(917405),q=n(641015),X=n(848543),Q=n(565799),J=n(501655),$=n(368442),ee=n(600518),et=n(485287),en=n(754277),ei=n(590415),el=n(695346),er=n(923973),ea=n(829750),es=n(189771),eo=n(544384),ed=n(560688),ec=n(127608),eu=n(76021),eh=n(173507),em=n(25827),ep=n(199902),eg=n(314897),e_=n(592125),ef=n(430824),eE=n(819640),eI=n(131951),eC=n(496675),eN=n(19780),ev=n(699516),eT=n(594174),eS=n(979651),eA=n(938475),eZ=n(626135),ex=n(63063),eb=n(51144),eL=n(870569),ey=n(345243),eO=n(594117),eP=n(226323),eR=n(981631),ej=n(190378),eD=n(388032),ew=n(74671),eM=n(483938);function ek(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e){let t=e.currentTarget;eZ.default.track(eR.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:eR.jXE.NOISE_CANCELLATION_POPOUT}})}function eG(){let e=l.useRef(null);(0,_.Tbt)(e),l.useEffect(()=>{eZ.default.track(eR.rMx.OPEN_POPOUT,{type:eR.jXE.NOISE_CANCELLATION_POPOUT})},[]);let t=(0,c.e7)([eI.Z],()=>eI.Z.getNoiseCancellation());return(0,i.jsxs)("div",{ref:e,className:ew.noiseCancellationPopout,children:[(0,i.jsx)(_.j7V,{hideBorder:!0,className:eM.marginBottom4,value:t,onChange:()=>f.Z.setNoiseCancellation(!t,{section:eR.jXE.NOISE_CANCELLATION_POPOUT}),note:eD.intl.string(eD.t.uKdWn5),children:eD.intl.string(eD.t.WGWHv7)}),(0,i.jsx)(C.Z,{title:eD.intl.string(eD.t.JdUas7),notchBackground:C._.BLACK,buttonTest:eD.intl.string(eD.t["sG+MGh"]),buttonStop:eD.intl.string(eD.t.Yp3SbG),buttonClassName:ew.micTestButton,buttonColor:_.zxk.Colors.PRIMARY,location:{section:eR.jXE.NOISE_CANCELLATION_POPOUT}}),(0,i.jsx)(_.vwX,{tag:_.RB0.H5,className:a()(eM.marginBottom8,eM.marginTop20),children:eD.intl.string(eD.t.k6h1Fx)}),(0,i.jsxs)(M.Z,{justify:M.Z.Justify.BETWEEN,className:ew.__invalid_footer,children:[(0,i.jsx)(_.eee,{href:eR.EYA.KRISP,onClick:e=>eU(e),children:(0,i.jsx)("div",{className:ew.krispLogo})}),(0,i.jsx)(_.eee,{href:ex.Z.getArticleURL(eR.BhN.NOISE_SUPPRESSION),className:ew.krispLink,onClick:e=>eU(e),children:eD.intl.string(eD.t.hvVgAQ)})]})]})}function eB(){let e=(0,c.e7)([en.Z],()=>en.Z.isMuted()),t=e?eD.intl.string(eD.t.ScHlfn):eD.intl.string(eD.t.zqxfra);return(0,i.jsx)(eL.Z,{"aria-label":t,tooltipText:t,icon:e?_.xjP:_.RZG,onClick:()=>(0,ee.v)(!e)})}function eV(e){let{channel:t,enableActivities:n,disabled:r}=e,s=(0,k.Q3)("ConnectedVideoButton"),{enabled:o}=(0,j.Z)({location:"ConnectedVideoButton"}),d=(0,er.Z)(),u=(0,es.Z)(t),h=(0,c.cj)([S.ZP],()=>null!=S.ZP.getSelfEmbeddedActivityForChannel(t.id)),m=(0,q.Z)(t),{reachedLimit:g,limit:E}=(0,ea.Z)(t),I=l.useCallback(()=>{(0,ed.Z)()},[]),C=(0,T.bp)(),N=l.useCallback(e=>{if(eI.Z.isVideoEnabled()===e)return;let n=()=>{var n;f.Z.setVideoEnabled(e),e&&(0,Y.uL)(eR.Z5c.CHANNEL(null!==(n=t.getGuildId())&&void 0!==n?n:eR.ME,t.id))};e?(0,eh.Z)(n,C):n()},[t,C]),v=h||n||m,{Component:A,play:Z,events:x}=(0,p.o)(d.enabled?"disable":"enable");return l.useEffect(()=>()=>Z(),[d.enabled,Z]),(0,i.jsx)(em.Z,{onChange:N,onCameraUnavailable:I,hasPermission:u,channelLimit:E,channelLimitReached:g,...d,enabled:!r&&d.enabled,children:e=>{let{unavailable:t,isActive:n,label:l,iconComponent:r,...d}=e,c=(0,i.jsx)(A,{size:s?"md":"sm",className:a()(ew.buttonIcon,{[ew.withText]:!v}),color:"currentColor"});return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(D.Z,{onClose:t,simplified:o})},position:"top",align:"center",animation:_.yRy.Animation.FADE,children:(e,r)=>{let{onClick:o,...u}=e,{isShown:h}=r;return(0,i.jsx)(_.ua7,{text:l,children:e=>(0,i.jsx)(_.zxk,{...d,...e,...u,onClick:t=>{var n;d.onClick(t),null===(n=e.onClick)||void 0===n||n.call(e),h&&o(t)},onMouseEnter:()=>{var t,n;null===(t=e.onMouseEnter)||void 0===t||t.call(e),null===(n=u.onMouseEnter)||void 0===n||n.call(u),x.onMouseEnter()},onMouseLeave:()=>{var t;null===(t=e.onMouseLeave)||void 0===t||t.call(e),x.onMouseLeave()},onContextMenu:t=>{var n;o(t),null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:s?_.zxk.Sizes.MEDIUM:_.zxk.Sizes.SMALL,className:a()(ew.button,ew.buttonColor,{[ew.buttonActive]:n,[ew.fauxDisabled]:t,[ew.disabled]:d.disabled}),innerClassName:ew.buttonContents,wrapperClassName:ew.button,fullWidth:!0,children:v?c:(0,i.jsxs)(M.Z,{align:M.Z.Align.CENTER,children:[c,eD.intl.string(eD.t.FlNoSU)]})})})}})}})}function eH(e){let t,n,{channel:l,enableActivities:r}=e,s=(0,k.Q3)("ConnectedVideoButton"),o=(0,T.bp)(),{analyticsLocations:d}=(0,P.ZP)(),m=o===eR.IlC.POPOUT,p=(0,x.KF)(l.id),g=(0,x.g5)(p),{userInActivity:f}=(0,c.cj)([S.ZP],()=>({userInActivity:null!=S.ZP.getSelfEmbeddedActivityForChannel(l.id)})),E=(0,v.O)(),I=(0,Z.a)(),C=p!==x.jy.CAN_LAUNCH,{enabled:N}=R.nS.useExperiment({location:"RTCConnection"},{autoTrackExposure:!0}),{Component:A,events:b,play:O}=(0,u.s)(),{Component:j,events:D,play:w}=(0,h.w)();return(N?(t=D,n=w):(t=b,n=O),r)?(0,i.jsx)(_.ua7,{text:g,children:e=>(0,i.jsxs)(_.zxk,{...e,fullWidth:!0,size:s?_.zxk.Sizes.MEDIUM:_.zxk.Sizes.SMALL,...t,onClick:()=>{var t;n(),(0,y.Z)({channel:l,guildId:l.guild_id,locationObject:E.location,openInPopout:m,analyticsLocations:d,opensAppLauncherModal:!0}),null===(t=e.onClick)||void 0===t||t.call(e)},onMouseEnter:()=>{var n;t.onMouseEnter(),null==e||null===(n=e.onMouseEnter)||void 0===n||n.call(e)},onMouseLeave:()=>{var n;t.onMouseLeave(),null==e||null===(n=e.onMouseLeave)||void 0===n||n.call(e)},disabled:C,className:a()(ew.button,ew.buttonColor,{[ew.buttonActive]:f,[ew.disabled]:C}),innerClassName:ew.buttonContents,wrapperClassName:ew.button,children:[I?(0,i.jsx)(L.r,{top:-1,right:-1}):null,N?(0,i.jsx)(j,{size:s?"md":"sm",color:"currentColor",className:ew.buttonIcon}):(0,i.jsx)(A,{size:s?"md":"sm",color:"currentColor",className:ew.buttonIcon})]})}):null}function eF(e){let t,{channel:n,canGoLive:r,enableActivities:s,disabled:o}=e,d=(0,k.Q3)("ConnectedStreamButton"),u=(0,c.e7)([eT.default],()=>eT.default.getCurrentUser()),h=(0,c.Wu)([ep.Z],()=>ep.Z.getAllActiveStreams()),p=(0,es.Z)(n),g=n.getGuildId(),f=(0,c.cj)([S.ZP],()=>null!=S.ZP.getSelfEmbeddedActivityForChannel(n.id)),E=(0,q.Z)(n),I=l.useCallback(()=>{(0,eu.Z)(g,n.id,eR.jXE.ACTIVITY_PANEL)},[g,n.id]),C=h.find(e=>e.ownerId===(null==u?void 0:u.id)),N=(0,eo.E)(n,u,h);t=null==C?r?I:ec.Z:()=>(0,H.Z)(C);let v=null!=C||N.length>0,T=p?eD.intl.string(eD.t.fjBNo6):eD.intl.string(eD.t.uQn9Bw),A=f||s||E,Z=null!=C,{Component:x,events:b,play:L}=(0,m.P)(Z?"disable":"enable");l.useEffect(()=>()=>L(),[L,Z]);let y=(0,i.jsx)(x,{size:d?"md":"sm",color:"currentColor",className:a()(ew.buttonIcon,{[ew.withText]:!A})});return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(eo.Z,{channel:n,currentUser:u,activeStreams:h,onClose:t,handleGoLive:r?I:ec.Z})},position:"top",align:"center",animation:_.yRy.Animation.FADE,children:e=>{let{onClick:n,onMouseEnter:l,...r}=e;return(0,i.jsx)(_.ua7,{text:T,children:e=>(0,i.jsx)(_.zxk,{...e,size:d?_.zxk.Sizes.MEDIUM:_.zxk.Sizes.SMALL,onClick:i=>{var l;v?n(i):t(),null===(l=e.onClick)||void 0===l||l.call(e)},disabled:!p||o,className:a()(ew.button,ew.buttonColor,{[ew.buttonActive]:null!=C,[ew.disabled]:!p||o}),...v?r:null,onMouseEnter:()=>{var t;null==l||l(),null===(t=e.onMouseEnter)||void 0===t||t.call(e),b.onMouseEnter()},onMouseLeave:()=>{var t;null===(t=e.onMouseLeave)||void 0===t||t.call(e),b.onMouseLeave()},innerClassName:ew.buttonContents,wrapperClassName:ew.button,children:A?y:(0,i.jsxs)(M.Z,{align:M.Z.Align.CENTER,children:[y,eD.intl.string(eD.t["r0/+v7"])]})})})}})}class ez extends l.PureComponent{renderConnectionStatus(){let e;let{channel:t,guild:n,rtcConnectionQuality:l,rtcConnectionState:r,rtcConnectionLastPing:a,hasVideo:s}=this.props;if(null==t)return null;let o=(0,w.F6)(t,eT.default,ev.Z);return null!=n?(e=eR.Z5c.CHANNEL(n.id,t.id),o="".concat(o," / ").concat(n.name)):e=eR.Z5c.CHANNEL(eR.ME,t.id),(0,i.jsx)(K.Z,{channelId:t.id,quality:l,state:r,lastPing:a,hasVideo:s,children:(0,i.jsx)(_.tEY,{children:(0,i.jsx)(d.rU,{to:e,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu,children:(0,i.jsx)(ey.Z,{className:ew.channel,children:this.props.isVisualRefreshEnabled?(0,i.jsx)(_.Text,{variant:"text-sm/medium",color:"text-secondary",lineClamp:1,children:o}):o})})})})}renderNoiseCancellation(){let{noiseCancellationActive:e,noiseCancellationError:t,hasLayers:n,remoteVoiceState:l,channel:r,voiceStates:a}=this.props;return null!=l?null:(null==r?void 0:r.isGuildStageVoice())&&!(null!=a.find(e=>e.user.id===eg.default.getId()&&(0,ei.gf)(e.voiceState)===ei.xO.ON_STAGE))&&(0,et.U5)(r.id)?(0,i.jsx)(eB,{}):!n&&t?(0,i.jsx)(_.ua7,{text:eD.intl.string(eD.t["i+SO/f"]),tooltipClassName:ew.noiseCancellationTooltip,forceOpen:!0,children:e=>{let{"aria-label":t}=e;return(0,i.jsx)(eL.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:_.oIc})}}):(0,i.jsx)(_.yRy,{position:"top",align:"center",renderPopout:()=>(0,i.jsx)(eG,{}),children:(t,n)=>{let{isShown:l}=n;return(0,i.jsx)(eW,{popoutProps:t,isShown:l,noiseCancellationActive:e})}},"krisp-popout")}renderVoiceStates(){let{channel:e,voiceStates:t,showVoiceStates:n}=this.props;return null!=e&&n&&0!==t.length?(0,i.jsx)(eP.Z,{voiceStates:t,channel:e,className:ew.voiceUsers}):null}renderChannelButtons(){let{channel:e,canGoLive:t,remoteVoiceState:n,enableActivities:l,voiceStates:r,selfStream:s,isPrivateChannelWithEnabledActivities:o}=this.props;if(null==e||null!=n)return null;let d=eg.default.getId();if(e.isGuildStageVoice()){if(!(0,$.tu)(e.guild_id)||!t)return null;let n=r.find(e=>e.user.id===d);if(null==n||n.voiceState.suppress)return null}let c=(e.isGuildVoice()||o)&&l,{reachedLimit:u}=(0,ea.t)(e),h=(0,$.xJ)(e.id);return(0,i.jsxs)("div",{className:ew.actionButtons,children:[(0,i.jsx)(eV,{channel:e,enableActivities:c,disabled:!h&&u}),(0,i.jsx)(eF,{channel:e,canGoLive:t,enableActivities:c,disabled:e.isGuildStageVoice()&&(h&&null==s||!h&&u)}),(0,i.jsxs)(i.Fragment,{children:[c?(0,i.jsx)(eH,{channel:e,enableActivities:l}):null,(0,q.Z)(e)?(0,i.jsx)(X.Z,{className:a()(ew.button,ew.buttonColor),innerClassName:ew.buttonContents,iconClassName:ew.buttonIcon,channel:e}):null]})]})}render(){let{channel:e,noiseCancellationSupported:t,shouldShowVoicePanelIntroduction:n}=this.props;return null==e?null:(0,i.jsx)(_.yRy,{renderPopout:this.renderVoicePanelIntroduction,position:"top",align:"center",animation:_.yRy.Animation.TRANSLATE,shouldShow:n,children:()=>(0,i.jsxs)("div",{className:ew.container,children:[(0,i.jsxs)(M.Z,{className:ew.connection,align:M.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:ew.inner,children:this.renderConnectionStatus()}),(0,i.jsxs)(M.Z,{grow:0,shrink:0,className:ew.voiceButtonsContainer,children:[t?this.renderNoiseCancellation():null,(0,i.jsx)(eO.Z,{channel:e})]})]}),this.renderVoiceStates(),this.renderChannelButtons()]})})}constructor(...e){super(...e),ek(this,"canScreenshare",()=>{let{channel:e,canGoLive:t}=this.props;return t&&null!=e&&null!=e.getGuildId()}),ek(this,"handleNoiseCancellationClicked",()=>{let{noiseCancellationActive:e}=this.props;f.Z.setNoiseCancellation(!e,{section:eR.jXE.NOISE_CANCELLATION_POPOUT})}),ek(this,"handleGoLive",()=>{let{guild:e,channel:t}=this.props,n=null!=t?t.getGuildId():null!=e?e.id:null;null!=n&&(0,eu.Z)(n,t.id,eR.Sbl.VOICE_PANEL)}),ek(this,"handleChannelLinkClick",e=>{var t;let{guild:n,channel:i}=this.props;o()(null!=i,"Channel is null during navigation click"),e.stopPropagation(),I.Z.channelListScrollTo(null!==(t=null==n?void 0:n.id)&&void 0!==t?t:eR.ME,i.id)}),ek(this,"handleChannelLinkContextMenu",e=>{let{channel:t,analyticsLocations:l}=this.props;(0,E.jW)(e,async()=>{let{default:e}=await n.e("56944").then(n.bind(n,600830));return n=>(0,i.jsx)(P.Gt,{value:l,children:(0,i.jsx)(e,{...n,channel:t})})})}),ek(this,"handleCloseVoicePanelIntroduction",()=>{F.Kw(ej.v.VOICE_PANEL_INTRODUCTION)}),ek(this,"renderVoicePanelIntroduction",()=>(0,i.jsxs)("div",{className:a()(ew.voicePanelIntroductionWrapper,"theme-light"),children:[(0,i.jsx)(_.X6q,{className:ew.voicePanelIntroductionHeader,variant:"heading-md/semibold",children:eD.intl.string(eD.t["ba/rLy"])}),(0,i.jsx)(_.Text,{className:ew.voicePanelIntroductionText,variant:"text-sm/normal",children:eD.intl.string(eD.t.Ne1Ee3)}),(0,i.jsx)(_.zxk,{className:ew.voicePanelIntroductionButton,color:_.zxk.Colors.BRAND,onClick:this.handleCloseVoicePanelIntroduction,children:eD.intl.string(eD.t.shaBeH)})]}))}}function eW(e){let{popoutProps:t,isShown:n,noiseCancellationActive:r}=e,{play:a,Component:s,events:o}=(0,g.P)(r?"disable":"enable");return l.useEffect(()=>()=>a(),[r,a]),(0,i.jsx)(eL.Z,{...t,onMouseEnter:()=>{var e;null===(e=t.onMouseEnter)||void 0===e||e.call(t),o.onMouseEnter()},onMouseLeave:()=>{o.onMouseLeave()},tooltipClassName:ew.noiseCancellationTooltip,tooltipText:n?null:eD.intl.string(eD.t.vFiCS0),icon:(0,i.jsx)(s,{size:"refresh_sm"})})}let eY=(0,N.Z)(function(e){let t=(0,k.Q3)("ConnectedRTCConnection"),n=(0,G.Z)(),r=(0,c.e7)([U.Z],()=>U.Z.getAwaitingRemoteSessionInfo()),a=(0,c.e7)([eT.default],()=>eT.default.getCurrentUser()),{channelId:s,...o}=(0,c.cj)([eN.Z],()=>null!=n?{channelId:n.channelId,rtcConnectionQuality:eR.IE4.FINE,rtcConnectionState:eR.hes.RTC_CONNECTED,rtcConnectionLastPing:0}:{channelId:eN.Z.getChannelId(),rtcConnectionQuality:eN.Z.getQuality(),rtcConnectionState:eN.Z.getState(),rtcConnectionLastPing:eN.Z.getLastPing()}),d=(0,c.e7)([e_.Z],()=>e_.Z.getChannel(s),[s]),u=null==d?void 0:d.getGuildId(),h=(0,c.e7)([ef.Z],()=>ef.Z.getGuild(u),[u]),m=(0,c.cj)([eI.Z],()=>({noiseCancellationSupported:eI.Z.isNoiseCancellationSupported(),noiseCancellationActive:eI.Z.getNoiseCancellation(),noiseCancellationError:eI.Z.isNoiseCancellationError(),canGoLive:(0,V.Z)(eI.Z)})),p=(0,c.e7)([eI.Z,z.Z],()=>z.Z.hasHotspot(ej.v.VOICE_PANEL_INTRODUCTION)&&(0,eb.EO)(a)&&!eI.Z.isInteractionRequired()&&!(null==d?void 0:d.isGuildStageVoice())),g=(0,c.e7)([eS.Z],()=>null!=s&&eS.Z.hasVideo(s),[s]),f=(0,c.e7)([ep.Z],()=>ep.Z.getCurrentUserActiveStream()),E=(0,c.e7)([eE.Z],()=>eE.Z.hasLayers()),I=(0,c.e7)([W.Z],()=>W.Z.isViewingRoles(u)),C=(0,c.e7)([eC.Z],()=>I&&!eC.Z.can(eR.Plq.VIEW_CHANNEL,d),[I,d]),N=el.Fg.useSetting(),[v,T,S]=(0,c.Wu)([eA.ZP,Q.Z],()=>(null==d?void 0:d.isGuildStageVoice())?[Q.Z.getMutableParticipants(d.id,J.pV.SPEAKER),Q.Z.getParticipantsVersion(d.id),null]:[null,null,null!=d?eA.ZP.getVoiceStatesForChannel(d):null],[d]),Z=l.useMemo(()=>{var e,t;return null!==(t=null!==(e=null==v?void 0:v.map(e=>{let{user:t,userNick:n,voiceState:i}=e;return{user:t,nick:n,voiceState:i}}))&&void 0!==e?e:S)&&void 0!==t?t:[]},[v,T,S]),[x,L]=l.useState(!1);l.useEffect(()=>{(I||C)&&L(!1)},[I,C,L]);let{analyticsLocations:y}=(0,P.ZP)(O.Z.RTC_PANEL),R=(0,A.Z)(null!=u?u:eR.lds,null==d?void 0:d.id),j=(0,b.Z)(null==d?void 0:d.id);return(0,i.jsx)(P.Gt,{value:y,children:(0,i.jsxs)("div",{className:ew.wrapper,children:[null!=n||null!=r?(0,i.jsx)(B.Z,{voiceState:n,awaitingRemoteSessionInfo:r}):null,(0,i.jsx)(ez,{...e,...m,...o,enableActivities:R,remoteVoiceState:n,guild:h,channel:d,hasVideo:g,selfStream:f,hasLayers:E,voiceStates:Z,showVoiceStates:N,shouldShowVoicePanelIntroduction:p,isPrivateChannelWithEnabledActivities:j,analyticsLocations:y,isVisualRefreshEnabled:t}),!x&&I&&null!=u?(0,i.jsxs)("div",{className:ew.viewAsRolesWarning,children:[(0,i.jsx)(_.Text,{variant:"text-sm/normal",className:ew.viewAsRolesWarningText,children:C?eD.intl.string(eD.t.efjuQE):eD.intl.string(eD.t.br8H2N)}),(0,i.jsx)(_.zxk,{className:ew.viewAsRolesWarningButton,size:_.zxk.Sizes.MIN,onClick:()=>{L(!0)},children:eD.intl.string(eD.t.WAI6xs)})]}):null]})})})},594117:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var l=n(685072),r=n(287734),a=n(15274),s=n(389303),o=n(881824),d=n(719100),c=n(870569),u=n(388032);function h(e){let{tooltipText:t,onClick:n}=e,{events:r,Component:a}=(0,l.K)();return(0,i.jsx)(c.Z,{tooltipText:t,onClick:n,...r,icon:(0,i.jsx)(a,{size:"refresh_sm"})})}function m(e){let{channel:t}=e;return(0,i.jsx)(h,{tooltipText:u.intl.string(u.t.SMKyio),onClick:()=>{if((0,d.Z)(t)){(0,o.Us)(t);return}r.default.disconnect()}})}function p(e){let{channel:t}=e;return(0,i.jsx)(h,{tooltipText:u.intl.string(u.t["6vrfgo"]),onClick:()=>{if((0,s.Z)(t)){(0,a.lC)(t);return}r.default.disconnect()}})}function g(e){let{channel:t}=e;return t.isGuildStageVoice()?(0,i.jsx)(m,{channel:t}):(0,i.jsx)(p,{channel:t})}},226323:function(e,t,n){n.d(t,{Z:()=>T}),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),d=n(239091),c=n(586902),u=n(512384),h=n(184301),m=n(347475),p=n(314897),g=n(131951),_=n(51144),f=n(524484),E=n(388032),I=n(83140);let C={offset:2},N={serverDeaf:{icon:o.Vm4,colorize:!0,getStatus:()=>E.intl.string(E.t.btxSdH)},serverMute:{icon:o.v0G,colorize:!0,getStatus:()=>E.intl.string(E.t.uLddbW)},deaf:{icon:o.wE8,colorize:!1,getStatus:()=>E.intl.string(E.t.NjmiOD)},mute:{icon:o.nRN,colorize:!1,getStatus:()=>E.intl.string(E.t.tjtv3N)},localMute:{icon:o.v0G,colorize:!1,getStatus:()=>E.intl.string(E.t["9F+xJS"])}};function v(e){var t,l;let{channel:r,user:p,nick:v,mute:T,deaf:S,serverMute:A,serverDeaf:Z}=e,x=(0,s.e7)([g.Z],()=>g.Z.isLocalMute(p.id)),b=(0,c.Z)({userId:p.id,checkSoundSharing:!0}),L=null!==(t=r.getGuildId())&&void 0!==t?t:void 0,y=p.getAvatarURL(r.guild_id,24),O=null!=v?v:_.ZP.getName(p),{icon:P,colorize:R,getStatus:j}=null!==(l=function(e){let{serverDeaf:t,deaf:n,serverMute:i,mute:l,localMute:r}=e;if(t)return N.serverDeaf;if(n)return N.deaf;if(i)return N.serverMute;if(r)return N.localMute;if(l)return N.mute}({serverDeaf:Z,deaf:S,serverMute:A,mute:T,localMute:x}))&&void 0!==l?l:{},D=null!=j?E.intl.formatToPlainString(E.t["1+MVBA"],{userName:O,status:j()}):O;function w(e){null!=L?(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("7717"),n.e("65023")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:p,guildId:L,channel:r,showMediaItems:!0})}):(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("4616")]).then(n.bind(n,881351));return t=>(0,i.jsx)(e,{...t,user:p,showMediaItems:!0})})}return(0,i.jsx)(o.yRy,{preload:()=>(0,h.Z)(p.id,p.getAvatarURL(L,80),{guildId:L,channelId:r.id}),position:"top",renderPopout:e=>(0,i.jsx)(m.Z,{userId:p.id,guildId:L,channelId:r.id,...e}),children:e=>(0,i.jsx)(o.ua7,{text:D,children:t=>(0,i.jsx)(o.P3F,{...t,...e,className:I.avatarContainer,onContextMenu:w,focusProps:C,children:(0,i.jsx)(u.Z,{shakeLocation:f.oZ.VOICE_USER,isShaking:b,children:(0,i.jsx)("div",{className:a()(I.avatar,{[I.speaking]:b}),style:{backgroundImage:"url(".concat(y,")")},children:null!=P?(0,i.jsx)(P,{className:a()(I.avatarIconOverlay,{[I.avatarIconRed]:R}),color:"currentColor",size:"xs"}):null})})})})})}function T(e){let{voiceStates:t,channel:n,className:r}=e,[d,c]=l.useState(!1),u=d?o.V_R:o.qJs,h=(0,i.jsx)(o.M0o,{className:I.expandButton,onClick:()=>c(!d),color:o.YX$.PRIMARY,size:o.tT7.SIZE_24,tooltip:d?E.intl.string(E.t["Z/Tya2"]):E.intl.string(E.t.XR5BAQ),icon:(0,i.jsx)(u,{size:"xs",color:"currentColor"}),focusProps:C}),m=(0,s.e7)([p.default],()=>p.default.getId(),[]),[g,_]=function(e,t){let n=[];for(let i of e)if(!(i.user.id===t||n.some(e=>e.user.id===i.user.id))){if(n.length>=7)return[n,!0];n.push(i)}return[n,!1]}(t,m),f=_&&d?t:g;return f.length<=0?null:(0,i.jsx)(o.zJl,{className:a()(I.scroller,r),fade:!0,children:(0,i.jsxs)("div",{className:I.voiceUsers,role:"group","aria-label":E.intl.string(E.t["/ZgaVV"]),children:[f.map(e=>{let{user:t,nick:l,voiceState:r}=e;return t.id!==m?(0,i.jsx)(v,{channel:n,user:t,nick:l,mute:r.isVoiceMuted(),deaf:r.isVoiceDeafened(),video:r.selfVideo,serverMute:r.mute,serverDeaf:r.deaf},t.id):null}),_?h:null]})})}},179742:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(512969),r=n(880257),a=n(106939),s=n(981631);function o(){return!1===(0,r.Z)()?(0,i.jsx)(l.l_,{to:s.Z5c.SETTINGS("family-center")}):(0,i.jsx)(a.Z,{})}},321488:function(e,t,n){n.d(t,{Z:()=>h});var i,l=n(200651);n(192379);var r=n(120356),a=n.n(r),s=n(873546),o=n(481060),d=n(74344),c=((i=c||{})[i.ACCEPT=0]="ACCEPT",i[i.DENY=1]="DENY",i[i.DEFAULT=2]="DEFAULT",i);function u(e){let{icon:t,tooltip:n,onClick:i,actionType:r=2,shouldHighlight:c}=e;return(0,l.jsx)(o.ua7,{text:n,children:e=>(0,l.jsx)(o.P3F,{...e,"aria-label":n,onClick:i,className:a()(d.actionButton,{[d.actionAccept]:0===r,[d.actionDeny]:1===r,[d.highlight]:c,[d.actionButtonMobile]:s.tq}),children:(0,l.jsx)(t,{className:d.icon,color:"currentColor"})})})}u.ActionTypes=c;let h=u},666286:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651),l=n(192379),r=n(481060),a=n(115849),s=n(540059),o=n(645792),d=n(787642),c=n(437314),u=n(981631),h=n(388032),m=n(86511);function p(){let e=(0,s.Q3)("AddFriendHeader");return(0,i.jsxs)("header",{className:m.header,children:[(0,i.jsx)(r.vwX,{tag:e?"h1":"h2",className:m.title,children:h.intl.string(h.t.w5uwoK)}),(0,i.jsx)(a.Z,{})]})}let g=function(){let e=(0,s.Q3)("AddFriend");return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(p,{}),(0,o.b)()&&(0,i.jsx)(d.Z,{}),e?null:(0,i.jsx)("div",{className:m.emptyState,children:(0,i.jsx)(c.Z,{type:u.pJs.ADD_FRIEND})})]})}},787642:function(e,t,n){n.d(t,{Z:()=>C});var i=n(200651),l=n(192379),r=n(481060),a=n(313201),s=n(540059),o=n(703656),d=n(769654),c=n(430824),u=n(626135),h=n(768581),m=n(125631),p=n(981631),g=n(388032),_=n(953783);let f=(0,a.hQ)(),E="".concat(f,"-decription");function I(e,t,n){return(0,i.jsxs)("button",{className:_.container,onClick:n,children:["function"==typeof e?(0,i.jsx)("div",{className:_.icon,children:(0,i.jsx)(e,{className:_.__invalid_iconInner,color:r.TVs.colors.WHITE.css})}):(0,i.jsx)("img",{className:_.icon,alt:"",src:e}),(0,i.jsx)(r.Text,{className:_.text,variant:"text-md/medium",children:t}),(0,i.jsx)(m.Z,{className:_.arrow})]},t)}function C(){let e=Object.values(c.Z.getGuilds()).filter(e=>e.hasFeature(p.oNc.HUB)),t=(0,s.Q3)("AddFriendOtherPlaces"),n=e=>{u.default.track(p.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:e}),(0,d.X)(e)};return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("header",{className:_.header,children:[(0,i.jsx)(r.vwX,{tag:t?"h1":"h2",className:_.title,children:g.intl.string(g.t.IuMx1d)}),t?(0,i.jsx)(r.R94,{id:E,type:r.R94.Types.DESCRIPTION,children:(0,i.jsx)(r.Text,{tag:"div",variant:"heading-md/normal",children:g.intl.string(g.t.DwevPj)})}):null]}),(0,i.jsxs)("div",{className:_.grid,children:[e.map(e=>I(h.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:240}),e.name,()=>{n(e.id)})),I(r.Jmo,g.intl.string(g.t.AhKnz8),()=>{u.default.track(p.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED),(0,o.uL)(p.Z5c.GUILD_DISCOVERY)})]})]})}},125631:function(e,t,n){n.d(t,{Z:()=>l});var i=n(200651);function l(e){let{color:t="currentColor",...n}=e;return(0,i.jsx)("svg",{...n,fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:t,fillRule:"evenodd"})})}n(192379)},434184:function(e,t,n){n.d(t,{Z:()=>_});var i=n(200651),l=n(192379),r=n(481060),a=n(194359),s=n(906732),o=n(171368),d=n(626135),c=n(321488),u=n(417183),h=n(170245),m=n(981631),p=n(388032),g=n(821583);function _(e){let{user:t,key:n,isFocused:_}=e,f=l.useContext(d.AnalyticsContext),{analyticsLocations:E}=(0,s.ZP)(),I=e=>{e.stopPropagation(),a.Z.unblockUser(t.id,{location:"Friends"})};return(0,i.jsx)(u.Z,{isFocused:_,onClick:()=>(0,o.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:E,analyticsLocation:f.location}),user:t,children:e=>(0,i.jsxs)("div",{className:g.listItemContents,children:[(0,i.jsx)(h.Z,{user:t,hovered:e,status:m.Skl.UNKNOWN,subText:p.intl.string(p.t["4bDptL"])}),(0,i.jsx)(c.Z,{icon:r.I9k,actionType:c.Z.ActionTypes.DENY,tooltip:p.intl.string(p.t.XyHpKC),onClick:I,shouldHighlight:e})]})},n)}},352455:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(924628),o=n(230711),d=n(548816),c=n(981631),u=n(921944),h=n(388032),m=n(947349);function p(e){let{className:t,markAsDismissed:n}=e;return(0,i.jsxs)(d.Z,{className:r()(m.card,t),children:[(0,i.jsx)(a.X6q,{variant:"heading-md/semibold",className:m.header,children:h.intl.string(h.t.HcbnMD)}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",children:h.intl.format(h.t.NkFrzM,{onPrivacyClick:()=>{o.Z.open(c.oAB.DATA_AND_PRIVACY)}})}),(0,i.jsxs)("div",{className:m.buttonContainer,children:[(0,i.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,onClick:()=>(0,s.g)([c.pjP.PERSONALIZATION],[]),children:h.intl.string(h.t.ebojgI)}),(0,i.jsx)(a.zxk,{color:a.zxk.Colors.PRIMARY,size:a.zxk.Sizes.SMALL,onClick:()=>n(u.L.DISMISS),look:a.zxk.Looks.LINK,children:h.intl.string(h.t.f3Pet7)})]})]})}},701861:function(e,t,n){n.d(t,{Z:()=>L}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(442837),o=n(481060),d=n(493683),c=n(239091),u=n(443589),h=n(703656),m=n(592125),p=n(131951),g=n(699516),_=n(51144),f=n(298213),E=n(321488),I=n(417183),C=n(825682),N=n(170245),v=n(981631),T=n(65154),S=n(388032),A=n(337336);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){let{user:t,applicationId:n,isGameRelationship:r,onSelect:a}=e,u=l.useCallback(()=>{d.Z.openPrivateChannel(t.id,!0)},[t.id]),h=l.useCallback(()=>{d.Z.openPrivateChannel(t.id,!0,!0)},[t.id]),m=l.useCallback(()=>{f.Z.removeFriend({userId:t.id,applicationId:r?n:null,location:"Friends"})},[n,r,t.id]),g=l.useCallback(()=>{let e=r?S.intl.string(S.t["RLcE6+"]):S.intl.string(S.t.cvSt1N);(0,o.h7j)(n=>(0,i.jsx)(o.ConfirmModal,{header:S.intl.formatToPlainString(S.t.fPLvZW,{name:_.ZP.getName(t)}),confirmText:e,cancelText:S.intl.string(S.t["ETE/oK"]),onConfirm:m,...n,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:S.intl.format(S.t.l5FFq6,{name:_.ZP.getName(t)})})}))},[m,r,t]),E=(0,s.e7)([p.Z],()=>p.Z.supports(T.AN.VIDEO)),I=t.isProvisional,C=r?S.intl.string(S.t["RLcE6+"]):S.intl.string(S.t.cvSt1N);return(0,i.jsxs)(o.v2r,{navId:"friend-row","aria-label":S.intl.string(S.t.liqwPD),onClose:c.Zy,onSelect:a,children:[!I&&E?(0,i.jsx)(o.sNh,{id:"start-video-call",label:S.intl.string(S.t.oCqlGB),action:h}):null,!I&&(0,i.jsx)(o.sNh,{id:"start-voice-call",label:S.intl.string(S.t.focH1t),action:u}),(0,i.jsx)(o.sNh,{id:"remove-friend",label:C,action:g,color:"danger"})]})}class b extends l.PureComponent{componentWillLeave(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)}componentWillEnter(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)}render(){let{user:e,isFocused:t,activities:n,applicationStream:l,status:r,isMobile:a,isGameRelationship:s,giftIntentType:d}=this.props,{isActiveRow:h}=this.state;return(0,i.jsx)(I.Z,{ref:this.peopleListItemRef,isFocused:t,isActive:h,user:e,onOtherHover:()=>h?null:(0,c.Zy)(),onClick:this.handleOpenPrivateChannel,children:t=>(0,i.jsxs)("div",{className:A.listItemContents,children:[(0,i.jsx)(N.Z,{user:e,status:r,isMobile:a,subText:(0,i.jsx)(C.Z,{hovered:t,activities:n,applicationStream:l,status:r,user:e,userIgnored:g.Z.isIgnored(e.id)}),hovered:t,showAccountIdentifier:!s}),(0,i.jsxs)("div",{className:A.actions,children:[null!=d&&(0,i.jsx)(u.Z,{recipientUser:e,giftIntentType:d,analyticsPage:v.ZY5.FRIENDS_LIST,shouldHighlight:t}),(0,i.jsx)(E.Z,{icon:o.kBi,tooltip:S.intl.string(S.t["g33r/P"]),onClick:this.handleOpenPrivateChannel,shouldHighlight:t}),(0,i.jsx)(E.Z,{icon:o.Huf,tooltip:S.intl.string(S.t.UKOtz8),onClick:this.handleOpenActionsMenu,shouldHighlight:t})]})]})})}constructor(...e){super(...e),Z(this,"peopleListItemRef",l.createRef()),Z(this,"state",{isActiveRow:!1}),Z(this,"handleOpenPrivateChannel",e=>{let{user:t}=this.props;e.stopPropagation();let n=a().find(m.Z.getMutablePrivateChannels(),e=>e.type===v.d4z.DM&&e.getRecipientId()===t.id);null!=n?(0,h.uL)(v.Z5c.CHANNEL(v.ME,n.id)):d.Z.openPrivateChannel(t.id)}),Z(this,"handleOpenActionsMenu",e=>{let{user:t,isGameRelationship:n,applicationId:l}=this.props;(0,c.vq)(e,e=>(0,i.jsx)(x,{...e,user:t,applicationId:l,isGameRelationship:n}),{onClose:()=>{this.setState({isActiveRow:!1})}}),this.setState({isActiveRow:!0})})}}let L=b},437314:function(e,t,n){n.d(t,{Z:()=>C,j:()=>_}),n(411104),n(47120);var i,l=n(200651),r=n(192379),a=n(748780),s=n(442837),o=n(481060),d=n(540059),c=n(922611),u=n(210887),h=n(981631),m=n(388032),p=n(66116);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=((i={}).SECTION_NO_RESULTS="SECTION_NO_RESULTS",i);let f=Object.freeze({SECTION_ALL:{lightSrc:n(900933),darkSrc:n(67764),width:376,height:162,renderContent:e=>(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(o.OZU,{note:m.intl.string(m.t.Y4vMY2)}),(0,l.jsx)(o.zxk,{className:p.button,onClick:e,children:m.intl.string(m.t.w5uwoK)})]})},SECTION_ONLINE:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,l.jsx)(o.OZU,{note:m.intl.string(m.t.v7HbiY)})},SECTION_BLOCKED:{lightSrc:n(459505),darkSrc:n(356634),width:433,height:232,renderContent:()=>(0,l.jsx)(o.OZU,{note:m.intl.string(m.t["9xdyWF"])})},SECTION_PENDING:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:(e,t)=>(0,l.jsxs)("div",{className:p.emptyStateContainer,children:[(0,l.jsx)(o.OZU,{note:m.intl.string(m.t["aCYQ+P"])}),null!=e&&(0,l.jsx)(o.zxk,{color:o.zxk.Colors.PRIMARY,look:o.zxk.Looks.OUTLINED,size:o.zxk.Sizes.TINY,onClick:e,className:p.spamButton,children:(0,l.jsx)(o.Text,{variant:"text-xs/medium",color:"text-muted",children:t?m.intl.string(m.t.R40bU1):m.intl.string(m.t.rXl8fn)})})]})},SECTION_SUGGESTIONS:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:()=>(0,l.jsx)(o.OZU,{note:m.intl.string(m.t["vgI/EB"])})},SECTION_NO_RESULTS:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,l.jsx)(o.OZU,{note:m.intl.string(m.t["7sW4h4"])})}}),E=e=>{let{theme:t}=e,n=m.intl.string(m.t["oi+B4u"]),i=f.SECTION_ALL,a=(0,d.Q3)("AddFriendEmpty");return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(o.ubH,{theme:t,children:[!a&&(0,l.jsx)(o.oxh,{width:i.width,height:i.height,lightSrc:i.lightSrc,darkSrc:i.darkSrc}),(0,l.jsx)(o.OZU,{note:n})]})})};class I extends r.PureComponent{render(){let{type:e,onClick:t,theme:n}=this.props,i={opacity:this.state.opacity},r=function(e){switch(e){case h.pJs.ADD_FRIEND:case h.pJs.ALL:return f.SECTION_ALL;case h.pJs.ONLINE:return f.SECTION_ONLINE;case h.pJs.PENDING:return f.SECTION_PENDING;case h.pJs.SUGGESTIONS:return f.SECTION_SUGGESTIONS;case h.pJs.BLOCKED:return f.SECTION_BLOCKED;case"SECTION_NO_RESULTS":return f.SECTION_NO_RESULTS;default:throw Error("FriendsEmptyState: Invalid empty state")}}(e);return e===h.pJs.ADD_FRIEND?(0,l.jsx)(a.Z.div,{className:p.friendsEmpty,style:i,children:(0,l.jsx)(E,{theme:n})}):(0,l.jsx)(a.Z.div,{className:p.friendsEmpty,style:i,children:(0,l.jsxs)(o.ubH,{theme:n,children:[!this.isDesktopVisualRefreshEnabled&&(0,l.jsx)(o.oxh,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),r.renderContent(t,this.isStealthRemediationEnabled)]})})}constructor(...e){super(...e),g(this,"isStealthRemediationEnabled",(0,c.Do)({location:"FriendsEmptyState"})),g(this,"isDesktopVisualRefreshEnabled",(0,d.i9)("FriendsEmptyState")),g(this,"state",{opacity:new a.Z.Value(1)}),g(this,"componentWillEnter",e=>{this.state.opacity.setValue(0),a.Z.timing(this.state.opacity,{toValue:1,duration:250}).start(e)}),g(this,"componentWillLeave",e=>{a.Z.timing(this.state.opacity,{toValue:0,duration:250}).start(e)})}}let C=s.ZP.connectStores([u.Z],()=>({theme:u.Z.theme}),{forwardRef:!0})(I)},696577:function(e,t,n){n.d(t,{Z:()=>x});var i=n(200651),l=n(192379),r=n(442837),a=n(692547),s=n(481060),o=n(906732),d=n(812206),c=n(925329),u=n(79712),h=n(171368),m=n(594174),p=n(626135),g=n(51144),_=n(743056),f=n(321488),E=n(417183),I=n(170245),C=n(981631),N=n(388032),v=n(715137);function T(e){var t;let{user:n,applicationId:r,isGameRelationship:o,active:d}=e,c=(null===(t=m.default.getCurrentUser())||void 0===t?void 0:t.isStaff())&&(null==n?void 0:n.isStaff()),{acceptFriendRequest:u,cancelFriendRequest:h}=(0,_.u)({userId:n.id,applicationId:r,isGameRelationship:o,location:"Friends"}),p=l.useCallback(e=>{e.stopPropagation(),u()},[u]),g=l.useCallback(e=>{e.stopPropagation(),h()},[h]);return(0,i.jsxs)(i.Fragment,{children:[c&&(0,i.jsx)("div",{className:v.staffIndicator,children:(0,i.jsx)(s.IGR,{color:a.Z.unsafe_rawColors.BRAND_500.css,text:N.intl.string(N.t.oMx98P)})}),(0,i.jsx)(f.Z,{icon:s.dz2,actionType:f.Z.ActionTypes.ACCEPT,tooltip:N.intl.string(N.t.ZcibdX),onClick:p,shouldHighlight:d}),(0,i.jsx)(f.Z,{icon:s.Dio,actionType:f.Z.ActionTypes.DENY,tooltip:N.intl.string(N.t.xuio0N),onClick:g,shouldHighlight:d})]})}function S(e){let{userId:t,applicationId:n,isGameRelationship:r,active:a}=e,{cancelFriendRequest:o}=(0,_.u)({userId:t,applicationId:n,isGameRelationship:r,location:"Friends"}),d=l.useCallback(e=>{e.stopPropagation(),o()},[o]);return(0,i.jsx)(f.Z,{icon:s.Dio,actionType:f.Z.ActionTypes.DENY,tooltip:N.intl.string(N.t.eaq81d),onClick:d,shouldHighlight:a})}function A(e){let{disambiguateGameRelationships:t,isGameRelationship:n,applicationId:a,userTag:o}=e,h=l.useMemo(()=>t?n?N.intl.string(N.t.ujfP6e):N.intl.string(N.t.yltuhY):o,[t,n,o]),m=(0,r.e7)([d.Z],()=>null!=a?d.Z.getApplication(a):null);return(0,i.jsxs)("div",{className:v.applicationSublabel,children:[(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"text-secondary",children:h}),null!=m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{height:2,width:2}),(0,i.jsx)(c.Z,{game:m,size:c.Z.Sizes.XXSMALL}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"text-secondary",children:m.name})]})]})}function Z(e){let{user:t,hovered:n,status:l,disambiguateGameRelationships:r,isGameRelationship:a,applicationId:s}=e,o=g.ZP.useUserTag(t);return(0,i.jsx)(I.Z,{user:t,hovered:n,status:l,showAccountIdentifier:!!r&&!a,subText:(0,i.jsx)(A,{disambiguateGameRelationships:r,isGameRelationship:a,applicationId:s,userTag:o})})}function x(e){let{user:t,type:n,status:r,isFocused:a,applicationId:s,disambiguateGameRelationships:d,isGameRelationship:c}=e,u=l.useContext(p.AnalyticsContext),{analyticsLocations:m}=(0,o.ZP)(),g=r===C.Skl.OFFLINE?C.Skl.UNKNOWN:r,_=l.useCallback(()=>(0,h.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:m,analyticsLocation:u.location}),[u.location,m,t.id]);return(0,i.jsx)(E.Z,{isFocused:a,user:t,onClick:_,children:e=>(0,i.jsxs)("div",{className:v.listItemContents,children:[(0,i.jsx)(Z,{user:t,hovered:e,status:g,disambiguateGameRelationships:d,isGameRelationship:c,applicationId:s}),(0,i.jsx)("div",{className:v.actions,children:n===C.OGo.PENDING_INCOMING?(0,i.jsx)(T,{user:t,applicationId:s,isGameRelationship:c,active:e}):(0,i.jsx)(S,{userId:t.id,applicationId:s,isGameRelationship:c,active:e})})]})})}},596957:function(e,t,n){n.d(t,{Z:()=>k}),n(411104),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),d=n(529103),c=n(194359),u=n(410575),h=n(100527),m=n(906732),p=n(835473),g=n(372460),_=n(327419),f=n(795448),E=n(922611),I=n(699516),C=n(974042),N=n(451478),v=n(434184),T=n(701861),S=n(437314),A=n(696577),Z=n(163417),x=n(830880),b=n(492347),L=n(42575),y=n(617015),O=n(981631),P=n(388032),R=n(574514);let j=[];function D(){d.Z.setSection(O.pJs.ADD_FRIEND)}function w(){(0,o.ZDy)(async()=>{let{default:e}=await n.e("36312").then(n.bind(n,153932));return t=>(0,i.jsx)(e,{...t})})}function M(e){let{section:t,showSpamCta:n}=e,r=l.useMemo(()=>n?w:t!==O.pJs.PENDING?D:void 0,[n,t]);return(0,i.jsx)("div",{className:R.emptyStateContainer,children:(0,i.jsx)(S.Z,{type:t,onClick:r},t)})}let k=function(e){let{titleId:t}=e,{analyticsLocations:n}=(0,m.ZP)(h.Z.FRIENDS_LIST),{rows:r,section:d}=(0,s.cj)([C.ZP],()=>C.ZP.getState()),D=(0,s.e7)([N.Z],()=>N.Z.isFocused()),{relationshipCount:k,hasBlockedOrIgnored:U}=(0,s.cj)([I.Z],()=>({relationshipCount:I.Z.getRelationshipCount(),hasBlockedOrIgnored:I.Z.getBlockedOrIgnoredIDs().length>0})),G=(0,E.Do)({location:"PeopleList"}),B=(0,g.wn)({location:"PeopleList"}),V=(0,_.U)({location:"PeopleList"}),[H,F]=l.useState(()=>{let e={};for(let t of Object.values(O.pJs))e[t]="";return e}),z=l.useCallback(e=>{let{key:t,...n}=e;switch(d){case O.pJs.BLOCKED:return(0,i.jsx)(v.Z,{...n,isFocused:D},t);case O.pJs.PENDING:return(0,i.jsx)(A.Z,{...n,isFocused:D,disambiguateGameRelationships:V},t);case O.pJs.SUGGESTIONS:return(0,i.jsx)(L.Z,{...n,isFocused:D},t);case O.pJs.ONLINE:case O.pJs.ALL:default:return(0,i.jsx)(T.Z,{...n,isFocused:D},t)}},[D,V,d]),W=l.useCallback(e=>{F({...H,[d]:e})},[H,d]),Y=l.useCallback(()=>{F({...H,[d]:""})},[H,d]),K=l.useMemo(()=>d===O.pJs.PENDING&&(r.filter(O.pJs.SPAM).length>0||r.filter(O.pJs.PENDING_IGNORED).length>0),[r,d]),q=l.useMemo(()=>r.filter(d,H[d]),[r,H,d]),X=B&&d===O.pJs.PENDING,Q=l.useMemo(()=>{if(!X)return j;let e=[];return q.forEach(t=>{let{applicationId:n}=t;null!=n&&e.push(n)}),e},[X,q]);(0,p.Z)(Q,X);let J=l.useMemo(()=>{if(d===O.pJs.PENDING){let e=[],t=[];return q.forEach(n=>{n.type===O.OGo.PENDING_INCOMING?e.push(n):n.type===O.OGo.PENDING_OUTGOING&&t.push(n)}),[e,t]}return[q]},[q,d]),$=l.useMemo(()=>q.filter(e=>e.type===O.OGo.PENDING_INCOMING).length,[q]),ee=d===O.pJs.PENDING&&$>0&&$>=y.yf,et=l.useCallback(e=>{e.stopPropagation(),c.Z.confirmClearPendingRelationships($)},[$]),en=l.useCallback(e=>{let n=function(e,t,n){switch(e){case O.pJs.ONLINE:return P.intl.formatToPlainString(P.t.BagU2d,{online:t.toString()});case O.pJs.PENDING:if(0===n)return P.intl.formatToPlainString(P.t["g+3FIS"],{count:t.toString()});if(1===n)return P.intl.formatToPlainString(P.t.npJsRk,{count:t.toString()});throw Error("Unexpected pending friend requests section index: ".concat(n));case O.pJs.SUGGESTIONS:return P.intl.formatToPlainString(P.t["DYMZ/v"],{count:t.toString()});case O.pJs.BLOCKED:return P.intl.formatToPlainString(P.t.M83kKy,{count:t.toString()});default:return P.intl.formatToPlainString(P.t.rHRrhI,{count:t.toString()})}}(d,J[e].length,e);return d===O.pJs.PENDING&&0===e?(0,i.jsxs)("div",{className:R.sectionTitle,children:[(0,i.jsx)(b.Z,{id:t,title:n}),ee&&(0,i.jsx)(o.zxk,{look:o.iLD.LINK,color:o.Ttl.LINK,className:R.clearButton,size:o.zxk.Sizes.TINY,onClick:et,"aria-label":P.intl.string(P.t.O8k7Oz),children:P.intl.string(P.t.O8k7Oz)})]},n):(0,i.jsx)("div",{className:R.sectionTitle,children:(0,i.jsx)(b.Z,{id:t,title:n})},n)},[J,d,t,ee,et]);if(l.useEffect(()=>{d===O.pJs.ALL&&(0,f.d$)()},[d]),0===q.length&&""===H[d])return(0,i.jsx)(M,{section:d,showSpamCta:K});let ei=""!==H[d],el=0===q.length&&ei;return(0,i.jsx)(m.Gt,{value:n,children:(0,i.jsxs)(u.Z,{section:O.jXE.FRIENDS_LIST,children:[G&&U&&(0,i.jsx)(x.R,{}),(0,i.jsx)(o.E1j,{className:a()(R.searchBar,el?R.searchEmptyState:null),query:H[d],onChange:W,onClear:Y,size:o.E1j.Sizes.MEDIUM}),(0,i.jsx)(Z.Z,{rows:J,renderRow:z,renderSection:en,sectionFilter:d,isVirtualizedList:k>=y.nG,hasSearchQuery:ei,footer:K&&!el?(0,i.jsx)(o.zxk,{look:o.zxk.Looks.LINK,color:R.viewSpamButtonColor,className:R.viewSpamButton,onClick:w,size:o.PhG.TINY,children:(0,i.jsx)(o.Text,{variant:"text-xs/medium",children:G?P.intl.string(P.t.R40bU1):P.intl.string(P.t.rXl8fn)})}):null}),el&&(0,i.jsx)("div",{className:R.emptyStateContainer,children:(0,i.jsx)(S.Z,{type:S.j.SECTION_NO_RESULTS},d)})]})})}},417183:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(748780),o=n(91192),d=n(481060),c=n(239091),u=n(617015),h=n(179935);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends l.PureComponent{componentWillLeave(e){s.Z.parallel([s.Z.timing(this.state.opacity,{toValue:0,duration:200}),s.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)}componentWillEnter(e){this.state.opacity.setValue(0),this.state.height.setValue(0),s.Z.parallel([s.Z.timing(this.state.opacity,{toValue:1,duration:200}),s.Z.timing(this.state.height,{toValue:u.NV,duration:200})]).start(e)}render(){let{height:e,opacity:t,hovered:n,isContextMenuActive:l}=this.state,{children:r,user:c,onClick:u,isActive:m,className:p,activeClassName:g}=this.props;return(0,i.jsx)(o.mh,{id:c.id,children:o=>(0,i.jsx)(d.tEY,{offset:{left:-8,right:-8},children:(0,i.jsx)(s.Z.div,{className:a()(p,h.peopleListItem,null!=g?{[g]:m||l}:null,{[h.active]:m||l}),onContextMenu:e=>this.handleContextMenu(e,c),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:null!=u?u:void 0,style:{height:e,opacity:t},...o,children:r(n||m||l)})})})}constructor(...e){super(...e),m(this,"state",{height:new s.Z.Value(u.NV),opacity:new s.Z.Value(1),hovered:!1,isContextMenuActive:!1}),m(this,"handleMouseEnter",()=>{let{isFocused:e,isActive:t,onOtherHover:n}=this.props,{isContextMenuActive:i}=this.state;this.setState({hovered:e}),!e||t||i||null==n||n()}),m(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),m(this,"handleContextMenu",(e,t)=>{this.setState({isContextMenuActive:!0}),(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("4616")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:()=>{this.setState({isContextMenuActive:!1})}})})}}let g=p},163417:function(e,t,n){n.d(t,{Z:()=>a});var i=n(200651);n(192379);var l=n(145641),r=n(322701);function a(e){let{rows:t,renderRow:n,renderSection:a,isVirtualizedList:s,hasSearchQuery:o,sectionFilter:d,footer:c}=e;return s?(0,i.jsx)(l.Z,{rows:t,renderRow:n,renderSection:a,footer:c}):(0,i.jsx)(r.Z,{rows:t,renderRow:n,renderSection:a,sectionFilter:d,hasSearchQuery:o,footer:c})}},145641:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651),l=n(192379),r=n(924826),a=n(91192),s=n(442837),o=n(481060),d=n(607070),c=n(617015),u=n(574514);let h=function(e){let{rows:t,renderRow:n,renderSection:h,footer:m}=e,p=e=>{let{section:i,row:l}=e,r=t[i];if(null==r||null==l)return null;let a=r[l];return null==a?null:n(a)},g=l.useCallback(e=>{let{section:t}=e;return h(t)},[h]),_=(0,s.e7)([d.Z],()=>d.Z.keyboardModeEnabled),f=l.useRef(null),E=l.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),I=l.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToBottom({callback:()=>requestAnimationFrame(()=>e())})}),[]),C=l.useCallback(e=>{let t=document.querySelector(e),n=f.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:()=>null==t?void 0:t.focus()})},[]),N=(0,r.ZP)({id:"people-list",isEnabled:_,scrollToStart:E,scrollToEnd:I,setFocus:C}),v=l.useMemo(()=>t.map(e=>e.length),[t]);return(0,i.jsx)(a.bG,{navigator:N,children:(0,i.jsx)(a.SJ,{children:e=>{let{ref:t,...n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o._2F,{ref:e=>{var n;f.current=e,t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},renderRow:p,rowHeight:c.NV,renderSection:g,sectionHeight:c.aS,sections:v,className:u.peopleList,...n}),m]})}})})}},322701:function(e,t,n){n.d(t,{Z:()=>m});var i=n(200651),l=n(192379),r=n(924826),a=n(91192),s=n(442837),o=n(215569),d=n(481060),c=n(607070),u=n(981631),h=n(574514);let m=function(e){let{rows:t,renderRow:n,renderSection:m,hasSearchQuery:p,sectionFilter:g,footer:_}=e,f=(0,s.e7)([c.Z],()=>c.Z.keyboardModeEnabled),E=(0,s.e7)([c.Z],()=>c.Z.useReducedMotion),I=(0,r.ZP)({id:"people",isEnabled:f,async scrollToStart(){},async scrollToEnd(){}}),C=g!==u.pJs.ONLINE&&g!==u.pJs.ALL,N=E||p||C,v=l.useMemo(()=>t.map((e,t)=>0===e.length?null:N?(0,i.jsxs)("div",{children:[m(t),e.map(n)]},t):(0,i.jsxs)(o.W,{transitionAppear:!1,component:"div",children:[m(t),e.map(n)]},t)),[n,m,t,N]);return(0,i.jsx)(a.bG,{navigator:I,children:(0,i.jsx)(a.SJ,{children:e=>{let{ref:t,...n}=e;return(0,i.jsxs)(d.w0Z,{ref:t,className:h.peopleList,...n,children:[v,_]})}})})}},270759:function(e,t,n){n.d(t,{Z:()=>R}),n(610138),n(216116),n(78328),n(815648),n(47120),n(757143);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512969),o=n(873546),d=n(442837),c=n(481060),u=n(570140),h=n(150063),m=n(529103),p=n(252618),g=n(313201),_=n(540059),f=n(5254),E=n(984370),I=n(518311),C=n(199104),N=n(922611),v=n(108427),T=n(210887),S=n(974042),A=n(849862),Z=n(666286),x=n(596957),b=n(981631),L=n(723359),y=n(388032),O=n(778639);function P(){return(0,i.jsx)("div",{className:O.inviteToolbar,children:(0,i.jsx)(I.Z,{tooltip:y.intl.string(y.t.HfOgAw)})})}let R=function(e){let{initialSection:t}=e,n=(0,N.Do)({location:"PeoplePage"}),r=(0,s.TH)(),I=(0,s.k6)(),R=(0,_.Q3)("PeoplePage");l.useEffect(()=>{"true"===new URLSearchParams(r.search).get("confirm-age")&&u.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:L.L0.DEEP_LINK_PROMPT}).then(()=>{I.replace(b.Z5c.ME)})},[I,r]),l.useEffect(()=>{h.Y(b.Z5c.FRIENDS),(0,v.e)("friends")},[]);let j=(0,d.e7)([T.Z],()=>T.Z.theme),D=(0,A.If)(),{section:w,rows:M}=(0,d.cj)([S.ZP],()=>S.ZP.getState()),k=(0,d.e7)([f.Z],()=>f.Z.getSuggestionCount()),U=l.useMemo(()=>M.getRelationshipCounts(),[M]);l.useEffect(()=>{null!=t&&m.Z.setInitialSection(t),0===U[b.OGo.FRIEND]&&0===U[b.OGo.PENDING_INCOMING]&&0===U[b.OGo.PENDING_OUTGOING]&&0===U[b.OGo.BLOCKED]&&m.Z.setSection(b.pJs.ADD_FRIEND)},[t,U]);let G=e=>{m.Z.setSection(e)},B=(0,g.Dt)(),V=(0,g.Dt)(),H=[{id:b.pJs.ONLINE,show:!R||M.filter(b.pJs.ONLINE).length>0,content:y.intl.string(y.t.b9w3bG),className:O.item},{id:b.pJs.ALL,show:!R||U[b.OGo.FRIEND]>0,content:y.intl.string(y.t.PfjFjY),className:O.item},{id:b.pJs.PENDING,show:!R||M.filter(b.pJs.PENDING).length>0,content:(0,i.jsxs)(i.Fragment,{children:[y.intl.string(y.t.p6IHGB),D>0&&(0,i.jsx)(c.mAB,{count:D,className:O.badge})]}),ariaLabel:y.intl.formatToPlainString(y.t.OAC0Z2,{count:D.toString()}),className:O.item},{id:b.pJs.SUGGESTIONS,show:k>0,content:(0,i.jsxs)(i.Fragment,{children:[y.intl.string(y.t["8rSi19"]),(0,i.jsx)(c.mAB,{count:k,className:O.badge})]}),ariaLabel:y.intl.formatToPlainString(y.t.AbMQp6,{count:k.toString()}),className:O.item},{id:b.pJs.BLOCKED,show:R?U[b.OGo.BLOCKED]>0&&!n:!n,content:y.intl.string(y.t["4bDptL"]),className:O.item},{id:b.pJs.ADD_FRIEND,show:!0,content:(0,i.jsx)("span",{children:y.intl.string(y.t.j0wbEx)}),ariaLabel:y.intl.string(y.t.j0wbEx),className:a()(O.item,O.addFriend)}];return(0,i.jsxs)("main",{className:O.container,"aria-label":y.intl.string(y.t.TdEu5e),children:[(0,i.jsx)(p.yY,{location:y.intl.string(y.t.TdEu5e)}),(0,i.jsx)(c.f6W,{theme:j,children:e=>(0,i.jsxs)(E.Z,{className:e,toolbar:(0,i.jsx)(P,{}),scrollable:o.tq,role:"navigation","aria-labelledby":B,children:[(0,i.jsx)(E.Z.Icon,{icon:c.iFz,"aria-hidden":!0}),(0,i.jsx)(E.Z.Title,{id:B,children:y.intl.string(y.t.TdEu5e)}),(0,i.jsx)(E.Z.Divider,{}),(0,i.jsx)(c.njP,{"aria-label":y.intl.string(y.t.TdEu5e),selectedItem:w,type:"top-pill",onItemSelect:G,className:O.tabBar,children:H.filter(e=>e.show).map(e=>(0,i.jsx)(c.njP.Item,{id:e.id,className:e.className,"aria-label":e.ariaLabel,children:e.content},e.id))})]})}),(0,i.jsxs)("div",{className:O.tabBody,children:[(0,i.jsx)(c.njP.Panel,{id:w,className:O.peopleColumn,"aria-labelledby":V,children:w===b.pJs.ADD_FRIEND?(0,i.jsx)(Z.Z,{}):(0,i.jsx)(x.Z,{titleId:V})}),(0,i.jsx)("div",{className:O.nowPlayingColumn,children:(0,i.jsx)(C.Z,{})})]})]})}},830880:function(e,t,n){n.d(t,{R:()=>p}),n(47120);var i=n(200651);n(192379);var l=n(704215),r=n(481060),a=n(230711),s=n(243778),o=n(981631),d=n(921944),c=n(526761),u=n(726985),h=n(388032),m=n(502781);function p(){let[e,t]=(0,s.US)([l.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE]),n=e===l.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE,p=()=>{a.Z.open(o.oAB.CONTENT_AND_SOCIAL,u.s6.RESTRICTED_USERS,{scrollPosition:c.FY.RESTRICTED_ACCOUNTS})};return n?(0,i.jsxs)("div",{className:m.blockedIgnoredSettingsNotice,children:[(0,i.jsx)(r.d3s,{size:"md"}),(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"interactive-active",children:h.intl.format(h.t.zqv4nZ,{hook:(e,t)=>(0,i.jsx)(r.eee,{onClick:p,children:e},t)})}),(0,i.jsx)(r.P3F,{className:m.closeButton,onClick:()=>t(d.L.USER_DISMISS),children:(0,i.jsx)(r.Dio,{})})]}):null}},492347:function(e,t,n){n.d(t,{Z:()=>a});var i=n(200651);n(192379);var l=n(82295),r=n(762202);function a(e){let{title:t,id:n}=e;return(0,i.jsx)(l.Z,{className:r.title,id:n,children:t})}},825682:function(e,t,n){n.d(t,{Z:()=>m});var i=n(200651);n(192379);var l=n(468363),r=n(297369),a=n(956221),s=n(771173),o=n(372276),d=n(565640),c=n(51144),u=n(388032),h=n(116324);let m=function(e){let{hovered:t,activities:n,applicationStream:m,status:p,user:g,userIgnored:_}=e,f=(0,d.Z)(null==g?void 0:g.id,"StatusText"),{voiceActivityStatusEnabled:E}=(0,l.U)({location:"StatusText"}),{voiceChannel:I}=(0,a.Z)({userId:null==g?void 0:g.id}),C=E?I:void 0;return _?(0,i.jsx)("div",{className:h.text,children:u.intl.string(u.t.tFY5ZW)}):(0,r.Z)({activities:n,status:p,applicationStream:m,voiceChannel:C})?(0,i.jsx)(s.Z,{location:"StatusText",textClassName:h.text,emojiClassName:h.customStatusEmoji,activities:n,applicationStream:m,voiceChannel:C,animate:t,user:g,textSize:"sm"}):null!=f?(0,i.jsx)(o.Z,{textClassName:h.text,entry:f}):(0,i.jsx)("div",{className:h.text,children:(0,c.u5)(p)})}},42575:function(e,t,n){n.d(t,{Z:()=>f});var i=n(200651),l=n(192379),r=n(481060),a=n(194359),s=n(906732),o=n(388380),d=n(171368),c=n(626135),u=n(321488),h=n(417183),m=n(170245),p=n(981631),g=n(388032),_=n(290457);function f(e){let{user:t,nickname:n,status:f,isFocused:E}=e,I=l.useContext(c.AnalyticsContext),{analyticsLocations:C}=(0,s.ZP)(),N=e=>{null==e||e.stopPropagation(),a.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},v=e=>{null==e||e.stopPropagation(),o.Z.ignore(t.id)},T=f===p.Skl.OFFLINE?p.Skl.UNKNOWN:f;return(0,i.jsx)(h.Z,{isFocused:E,user:t,onClick:()=>(0,d.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:C,analyticsLocation:I.location}),children:e=>{let l=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{icon:r.dz2,actionType:u.Z.ActionTypes.ACCEPT,tooltip:g.intl.string(g.t.ZcibdX),onClick:N,shouldHighlight:e}),(0,i.jsx)(u.Z,{icon:r.Dio,actionType:u.Z.ActionTypes.DENY,tooltip:g.intl.string(g.t.xuio0N),onClick:v,shouldHighlight:e})]});return(0,i.jsxs)("div",{className:_.listItemContents,children:[(0,i.jsx)(m.Z,{user:t,hovered:e,status:T,subText:n,className:_.__invalid_userInfo}),(0,i.jsx)("div",{className:_.actions,children:l})]})}})}},170245:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(129861),o=n(700582),d=n(699516);n(51144);var c=n(922358);let u=function(e){let{user:t,hovered:n,subText:l,showAccountIdentifier:u,status:h,isMobile:m,className:p}=e,g=(0,a.e7)([d.Z],()=>d.Z.getNickname(t.id));return(0,i.jsxs)("div",{className:r()(c.userInfo,p,{[c.hovered]:n}),children:[(0,i.jsx)(o.Z,{user:t,className:c.avatar,animate:n,status:h,isMobile:m}),(0,i.jsxs)("div",{className:c.text,children:[(0,i.jsx)(s.Z,{user:t,nick:g,botClass:c.botTag,className:r()(c.discordTag,{[c.alignPomelo]:t.isPomelo()}),usernameClass:c.username,discriminatorClass:c.discriminator,showAccountIdentifier:u}),(0,i.jsx)("div",{className:c.subtext,children:l})]})]})}},541692:function(e,t,n){let i;n.d(t,{Z:()=>h});var l,r=n(442837),a=n(570140),s=n(133080);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=(0,s.K4)();function c(e){var t;let{countryCode:n}=e;null!=n&&(d=null!==(t=(0,s.Zz)(n))&&void 0!==t?t:(0,s.K4)())}class u extends(l=r.ZP.DeviceSettingsStore){initialize(e){null!=e&&(i=e.selectedCountryCode)}getUserAgnosticState(){return{selectedCountryCode:i}}getCountryCode(){return null!=i?i:d}}o(u,"displayName","PhoneStore"),o(u,"persistKey","PhoneStore");let h=new u(a.Z,{PHONE_SET_COUNTRY_CODE:function(e){let{countryCode:t}=e;i=t},CONNECTION_OPEN:c,SET_LOCATION_METADATA:c})},960275:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(570140),l=n(317770),r=n(314897),a=n(57562),s=n(882029),o=n(955204),d=n(351780),c=n(843693);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=new Set;class m extends l.Z{_initialize(){i.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate),i.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}_terminate(){i.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate),i.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}constructor(...e){super(...e),u(this,"handleSettingsUpdate",e=>{let{settings:t}=e;t.enabled?(0,a.T)(o.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,a.T)(o.hn.DISABLE_POGGERMODE),Object.keys(t).some(e=>e.startsWith("confetti"))&&(0,a.T)(o.hn.CUSTOMIZE_CONFETTI)}),u(this,"handleMessageCreate",e=>{var t;let{channelId:n,message:{author:i,nonce:l,mentions:u}}=e;if(!d.Z.isEnabled())return!1;let m=r.default.getId();if((null==u?void 0:u.find(e=>e.id===m))!=null?(0,a.T)(o.hn.PING_ME):(null!==(t=null==u?void 0:u.length)&&void 0!==t?t:0)>0&&(null==i?void 0:i.id)===m&&(0,a.T)(o.hn.PING_SOMEONE),!(0,c.wU)(null==i?void 0:i.id,m,l,h))return!1;let p=c.ZP.getMostRecentMessageCombo(n),{combo:g}=null!=p?p:{};if(null==g)return!1;Object.values(o.hn).forEach(e=>{if(null!=s.Z.getUnlocked(e))return;let t=(0,o.oX)(e),n=null==t?void 0:t.checkUnlock;null!=n&&!1!==n(g)&&(0,a.T)(e)})})}}let p=new m},678492:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(317770),s=n(388032);class o extends a.Z{_initialize(){r.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}_terminate(){r.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}handlePoggermodeTemporarilyDisabled(){(0,l.h7j)(e=>(0,i.jsx)(l.ConfirmModal,{...e,header:s.intl.string(s.t.wDQgnZ),confirmText:s.intl.string(s.t["cY+Ooa"]),confirmButtonColor:l.zxk.Colors.GREEN,children:(0,i.jsx)(l.Text,{variant:"text-md/normal",children:s.intl.string(s.t.OJklbW)})}))}}let d=new o},269089:function(e,t,n){n.d(t,{Z:()=>_}),n(47120);var i=n(200651);n(192379);var l=n(570140),r=n(765250),a=n(317770),s=n(663993),o=n(355863),d=n(788983),c=n(981631);n(316095);let u=(0,s.Un)({createPromise:()=>n.e("80960").then(n.bind(n,223455)),webpackId:223455,name:"PopoutWindowChannelCall"}),h=(0,s.Un)({createPromise:()=>n.e("20176").then(n.bind(n,432472)),webpackId:432472,name:"PopoutWindowStageChannelCall"}),m=(0,s.Un)({createPromise:()=>n.e("80960").then(n.bind(n,945778)),webpackId:945778,name:"PopoutWindowRTCDebug"}),p=(0,s.Un)({createPromise:()=>Promise.all([n.e("93382"),n.e("92922"),n.e("69838"),n.e("27278")]).then(n.bind(n,748623)),webpackId:748623,name:"PopoutWindowActivity"});class g extends a.Z{_initialize(){l.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),l.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),l.Z.subscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.initializeStyleSheetObserver()}_terminate(){l.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),l.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),l.Z.unsubscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.terminateStyleSheetObserver()}handleOpenChannelCallPopout(e){let{channel:t}=e;d.bA(c.KJ3.CHANNEL_CALL_POPOUT,e=>t.isGuildStageVoice()?(0,i.jsx)(h,{windowKey:e,channelId:t.id}):(0,i.jsx)(u,{windowKey:e,channelId:t.id}),{defaultWidth:854,defaultHeight:480})}initializeStyleSheetObserver(){this._observer=new MutationObserver(function(e){for(let t of e)if("childList"===t.type){for(let e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&"LINK"===e.tagName&&"stylesheet"===e.rel){let t=e.href,n=e.integrity;d.YS(t,n)}}}),this._observer.observe(document.head,{childList:!0})}terminateStyleSheetObserver(){null!=this._observer&&(this._observer.disconnect(),this._observer=null)}handleOpenRTCDebugPopout(){d.bA(c.KJ3.RTC_DEBUG_POPOUT,e=>(0,i.jsx)(m,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}async handleOpenActivityPopout(){let{OVERLAY_V3_LAYOUT_ID:e}=await Promise.resolve().then(n.bind(n,501787));(0,r.te)(e,o.Z.getDefaultLayout(e,1),1),d.bA(c.KJ3.ACTIVITY_POPOUT,e=>(0,i.jsx)(p,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}constructor(...e){var t;super(...e),(t="_observer")in this?Object.defineProperty(this,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):this[t]=null}}let _=new g},380570:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(748780),l=n(570140),r=n(317770),a=n(716578),s=n(928518);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Z{_initialize(){s.Z.addChangeListener(this.handlePopoutWindowChange),l.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)}_terminate(){s.Z.removeChangeListener(this.handlePopoutWindowChange),l.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus),this.injectWindowAnimationFrame(window)}injectWindowAnimationFrame(e){let t=t=>e.requestAnimationFrame(t),n=t=>e.cancelAnimationFrame(t);i.Z.inject.RequestAnimationFrame(t),i.Z.inject.CancelAnimationFrame(n),a.f.setRAF(t,n)}constructor(...e){super(...e),o(this,"handleMainWindowFocus",e=>{e.focused&&e.windowId===window.__DISCORD_WINDOW_ID&&this.injectWindowAnimationFrame(window)}),o(this,"handlePopoutWindowChange",()=>{let e=s.Z.getWindowKeys().find(e=>s.Z.getWindowFocused(e));if(null==e)return this.injectWindowAnimationFrame(window);let t=s.Z.getWindow(e);if(null==t||t.closed)return this.injectWindowAnimationFrame(window);this.injectWindowAnimationFrame(t)})}}let c=new d},240504:function(e,t,n){n.d(t,{Z:()=>m});var i,l=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=12*n(70956).Z.Millis.HOUR,o={profileThemesRelevanceExceeded:null,savedAt:null},d={hasFetchedRelevance:!1},c=o,u=d;class h extends(i=l.ZP.PersistedStore){initialize(e){u=d,c=o;let t=new Date;null!=e&&null!=e.savedAt&&t.getTime()-e.savedAt<s&&(c=e)}get hasFetchedRelevance(){return u.hasFetchedRelevance}get profileThemesRelevanceExceeded(){return c.profileThemesRelevanceExceeded}getState(){return c}}a(h,"displayName","PerksRelevanceStore"),a(h,"persistKey","PerksRelevanceStore");let m=new h(r.Z,{BILLING_PERKS_RELEVANCE_FETCH_START:function(){u.hasFetchedRelevance=!0},BILLING_PERKS_RELEVANCE_FETCH_SUCCESS:function(e){let{res:t}=e;null!=t&&(c.profileThemesRelevanceExceeded=t.eligible,c.savedAt=new Date().getTime())},BILLING_PERKS_RELEVANCE_FETCH_FAIL:function(){},LOGOUT:function(){u=d,c=o}})},837689:function(e,t,n){n.d(t,{Z:()=>x}),n(47120);var i=n(200651);n(192379);var l=n(873546),r=n(704215),a=n(481060),s=n(570140),o=n(317770),d=n(605236),c=n(594174),u=n(431),h=n(74538),m=n(374023),p=n(775412),g=n(695349),_=n(913976),f=n(533990),E=n(104494),I=n(29920),C=n(346497),N=n(727310),v=n(318199),T=n(474936);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A="PremiumServerDriveAnnouncementModal";class Z extends o.Z{_initialize(){s.Z.subscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),s.Z.subscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}_terminate(){s.Z.unsubscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),s.Z.unsubscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}constructor(...e){super(...e),S(this,"maybeOpenServerDriveAnnouncementModal",async(e,t)=>{let l=(0,v.r)({content:e,isPreview:t});return null!=l&&!!(!1!==t||(null==l?void 0:l.contentIdentifier)!=="summer_bogo_content"||await (0,C.k)())&&((0,a.Mr3)(A),(0,a.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,318199));return t=>(0,i.jsx)(e,{renderModalProps:t,properties:l})},{modalKey:A}),!0)}),S(this,"handlePreview",e=>{let{properties:t}=e;this.maybeOpenServerDriveAnnouncementModal(t,!0)}),S(this,"getOfferFromStore",()=>{let e=c.default.getCurrentUser();if((0,h.I5)(e))return{};let t=[T.hs,T.RU,T.rB,T.ih].map(e=>u.Z.getUserDiscountOffer(e)).filter(e=>null!=e&&!(0,E.kA)(e)).shift();if(null!=t)return{userDiscountOffer:t};let n=(0,p.J0)();return null!=n?{userTrialOffer:n}:{}}),S(this,"mayShowAnnouncementModal",async()=>{if(await (0,C.l2)(),m.s.isDisallowPopupsSet())return;let e=this.getOfferFromStore(),t=f.Z.getCurrentConfig({location:"announcementManager"},{autoTrackExposure:!1}).inExperiment||f.Z.isAAMode({location:"announcementManager"}),n=(0,d.un)(r.z.REVERSE_TRIAL_ENDED_UPSELL),i=c.default.getCurrentUser();if(t&&!n&&!(0,a.$sL)()&&!(0,h.I5)(i)){let t=await (0,g.r)(e.userTrialOffer);null!=t&&(0,N.Z)({upsellType:t})}if((null==i||i.verified)&&!(0,a.$sL)()&&_.Z.getCurrentConfig({location:"OfferAnnouncementManager"}).enabled&&!l.tq){for(let t of(await (0,I.He)(e)))if(await this.maybeOpenServerDriveAnnouncementModal(t,!1))break}})}}let x=new Z},565216:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(692547),r=n(780384),a=n(481060),s=n(410030);let o=e=>{let{className:t}=e,n=(0,s.ZP)(),o=(0,a.dQu)(l.Z.colors.BACKGROUND_ACCENT).hex();return(0,i.jsx)("svg",{width:"700",height:"120",viewBox:"0 0 700 120",className:t,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fill:(0,r.wj)(n)?o:"white",opacity:"1",d:"M351 39.047C185.4 -31.2102 48 9.77319 0 39.047V583.068C0 587.486 3.58174 591.068 8.00002 591.068H692C696.418 591.068 700 587.486 700 583.068V39.047C653.333 68.3208 516.6 109.304 351 39.047Z"})})}},318199:function(e,t,n){n.d(t,{default:()=>_,r:()=>g});var i=n(200651);n(192379);var l=n(581282),r=n(8853),a=n(663002),s=n(2052),o=n(410030),d=n(100527),c=n(906732),u=n(605236),h=n(960048),m=n(276792),p=n(290347);function g(e){let{content:t,isPreview:n}=e,i=r.t.fromBinary((0,l.c)(t));return"announcementModalVariant1"!==i.properties.oneofKind?null:!n&&(0===i.properties.announcementModalVariant1.dismissKey.trim().length||(0,u.un)(Number(i.properties.announcementModalVariant1.dismissKey)))?null:(n&&(i.properties.announcementModalVariant1.dismissKey=""),i)}function _(e){let{renderModalProps:t,properties:n}=e,{location:l}=(0,s.O)(),{analyticsLocations:r}=(0,c.ZP)(d.Z.PREMIUM_MARKETING_ANNOUNCEMENT_MODAL),u=(0,o.ZP)(),g=(0,a.ap)(u);if("announcementModalVariant1"===n.properties.oneofKind){let e=(0,m.N)({content:n.properties.announcementModalVariant1,renderModalProps:t,analyticsLocations:r,analyticsLocation:l,isLightTheme:g});return(0,i.jsx)(p.Z,{...e})}return h.Z.captureMessage("Property type ".concat(n.properties.oneofKind," is not supported to render ServerDriveAnnouncementModal")),null}},557017:function(e,t,n){n.d(t,{t:()=>r});var i=n(818083),l=n(987338);let r=(0,i.B)({kind:"user",id:"2025-01_q1_marketing_messaging",label:"2025 Q1 Collectible Deco Marketing Moment",defaultConfig:{enabled:!1},commonTriggerPoint:l.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Users will see the 2025 Q1 Collectible Deco Marketing Moment",config:{enabled:!0}}]})},637906:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(818083).B)({kind:"user",id:"2023-08_dcf_ml_model",label:"DCF ML Perks Relevance Model",defaultConfig:{enabled:!1},treatments:[{id:0,label:"threshold 0",config:{enabled:!0}},{id:1,label:"threshold 1",config:{enabled:!0}},{id:2,label:"threshold 2",config:{enabled:!0}},{id:3,label:"threshold 3",config:{enabled:!0}},{id:4,label:"threshold 4",config:{enabled:!0}}]})},913976:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(818083).B)({kind:"user",id:"2023-12_marketing_automation_experiment",label:"Marketing Automation",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Ask server for marketing content for rendering",config:{enabled:!0}}]})},533990:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(818083).B)({kind:"user",id:"2024-08_reverse_trial",label:"Reverse Trials",defaultConfig:{enabled:!1,isFollowup:!1,inExperiment:!1},treatments:[{id:0,label:"Users receives no trial.",config:{enabled:!1,isFollowup:!1,inExperiment:!0}},{id:1,label:"Users recieve 2 week trial.",config:{enabled:!0,isFollowup:!1,inExperiment:!0}},{id:2,label:"User recieves 1 week trial and 1 week followup trial",config:{enabled:!0,isFollowup:!0,inExperiment:!0}},{id:98,label:"Users recieve 2 week trial.",config:{enabled:!0,isFollowup:!1,inExperiment:!0}},{id:99,label:"User recieves 1 week trial and 1 week followup trial",config:{enabled:!0,isFollowup:!0,inExperiment:!0}}]})},767870:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(704215),s=n(927359),o=n(706140),d=n(325767),c=n(823188),u=n(461739);let h="premium_tier_gradient",m="smaller_sparkle_gradient";function p(e){let{width:t=14,height:n=15,color:l="white",foreground:r,...a}=e;return(0,i.jsxs)("svg",{...(0,d.Z)({...a}),preserveAspectRatio:"none",width:t,height:n,viewBox:"0 0 14 15",className:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:h,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,i.jsx)("stop",{offset:"0%",stopColor:"#8547C6"}),(0,i.jsx)("stop",{offset:"50%",stopColor:"#B845C1"}),(0,i.jsx)("stop",{offset:"100%",stopColor:"#AB5D8A"})]})}),(0,i.jsxs)("linearGradient",{id:m,x1:"-4.95474",y1:"5.44067",x2:"11.2384",y2:"8.58386",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#8547C6"}),(0,i.jsx)("stop",{offset:"0.52899",stopColor:"#B845C1"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#AB5D8A"})]}),(0,i.jsx)("path",{d:"M8.59403 1.52779C8.04647 0.0480288 5.95353 0.0480288 5.40597 1.52779L4.56476 3.8011C4.36219 4.34854 3.93057 4.78016 3.38313 4.98273L1.10982 5.82394C-0.36994 6.3715 -0.36994 8.46444 1.10982 9.012L3.38313 9.8532C3.93057 10.0558 4.36219 10.4874 4.56476 11.0348L5.40597 13.3081C5.95353 14.7879 8.04647 14.7879 8.59403 13.3081L9.43524 11.0348C9.63781 10.4874 10.0694 10.0558 10.6169 9.8532L12.8902 9.012C14.3699 8.46444 14.3699 6.3715 12.8902 5.82394L10.6169 4.98273C10.0694 4.78016 9.63781 4.34854 9.43524 3.8011L8.59403 1.52779Z",fill:l})]})}function g(e){let{className:t,startsAt:n,endsAt:l,messageStyle:d,upperCase:g,showSparkles:_}=e,[f]=(0,o.Tt)(a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL,{showAfterTimestamp:n.valueOf(),cooldownDurationMs:0}),E=(0,s.Z)(l,d);return g&&(E=E.toUpperCase()),(0,i.jsxs)("div",{className:r()(t,u.countDown),children:[_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{foreground:u.sparkleStar1,color:"url(#".concat(m,")")}),(0,i.jsx)(p,{foreground:u.sparkleStar2,color:"url(#".concat(h,")")})]}):null,(0,i.jsx)(c.mn,{text:E,colorOptions:f===a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL?c.VE.PREMIUM_TIER_2_NEW_GRADIENT_FILL:c.VE.PREMIUM_TIER_2_GREY_FILL})]})}},443589:function(e,t,n){n.d(t,{Z:()=>b});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(642128),o=n(990547),d=n(873546),c=n(481060),u=n(906732),h=n(213609),m=n(963249),p=n(579185),g=n(814443),_=n(626135),f=n(479446),E=n(522558),I=n(441623),C=n(317271),N=n(674701),v=n(474936),T=n(981631),S=n(388032),A=n(781057),Z=n(74344);let x={width:14,height:14};function b(e){let{recipientUser:t,giftIntentType:n,analyticsPage:r,shouldHighlight:b}=e,{analyticsLocations:L}=(0,u.ZP)(),{isHovered:y,setIsHovered:O,onMouseEnter:P,onMouseLeave:R}=(0,p.Z)(200,300),{enableEmojiCTA:j}=E.w.useExperiment({location:"GiftIntentActionButton"},{autoTrackExposure:!1});l.useEffect(()=>{let e=g.Z.getUserAffinity(t.id);(0,h.h)({name:o.ImpressionNames.GIFT_INTENT_ACTION_BUTTON,type:o.ImpressionTypes.VIEW,properties:{gift_intent_type:n,affinity:null==e?void 0:e.affinity}})},[t,n]);let D=l.useCallback(e=>{"focus"!==e.type&&P()},[P]),w=e=>{e.stopPropagation();let i=g.Z.getUserAffinity(t.id);_.default.track(T.rMx.GIFT_INTENT_ACTION_BUTTON_CLICKED,{gift_intent_type:n,affinity:null==i?void 0:i.affinity}),(0,m.Z)({isGift:!0,initialPlanId:null,giftRecipient:t,analyticsLocation:(0,C.F)(n).actionButton,analyticsLocations:L,analyticsObject:{page:r,section:T.jXE.FRIENDS_LIST_FRIEND_ROW,object:T.qAy.BUTTON_CTA,objectType:T.Qqv.GIFT},giftMessage:M()})},M=()=>n===v.hX.FRIEND_ANNIVERSARY?S.intl.formatToPlainString(S.t["L2s/Nz"],{numberOfYears:I.Z.getFriendAnniversaryYears(t.id)}):(0,f.Ou)(n),k=()=>n===v.hX.FRIEND_ANNIVERSARY?S.intl.string(S.t["4LohBA"]):(0,f.Ou)(n),U=()=>j?(0,i.jsx)(c.P3F,{"aria-label":k(),onClick:w,className:a()(Z.actionButton,A.popoutButton,{[Z.highlight]:b,[Z.actionButtonMobile]:d.tq}),onMouseEnter:D,onMouseLeave:R,children:(0,i.jsx)(s.animated.div,{className:A.spriteContainer,children:(0,i.jsx)("div",{className:A.sprite})})}):(0,i.jsx)(c.zxk,{onClick:w,onMouseEnter:D,onMouseLeave:R,children:(0,i.jsxs)("div",{className:A.pillContentContainer,children:[(0,i.jsx)(c.OgN,{size:"custom",width:x.width,height:x.height,color:"currentColor"}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"always-white",className:A.pillButtonText,children:k()})]})});return(0,i.jsx)(c.yRy,{animation:c.yRy.Animation.FADE,nudgeAlignIntoViewport:!1,closeOnScroll:!0,shouldShow:y,position:"right",align:"top",spacing:9,onRequestClose:()=>{O(!1)},renderPopout:e=>(0,i.jsx)(N.Z,{giftIntentType:n,premiumGiftIntentCardType:N.U.COACHMARK,recipientUser:t,onMouseEnter:P,onMouseLeave:R,popoutPosition:e.position,analyticsPage:r,analyticsSection:T.jXE.FRIENDS_LIST_FRIEND_ROW_GIFT_POPOUT,giftIntentSecondaryAction:v.X2.SEND_MESSAGE,glow:!0}),children:()=>U()})}},29920:function(e,t,n){n.d(t,{He:()=>a});var i=n(544891);n(570140);var l=n(960048),r=n(981631);async function a(e){let{userTrialOffer:t,userDiscount:n,userDiscountOffer:a}=e;try{let e=await i.tn.post({url:r.ANM.PREMIUM_MARKETING,body:{user_trial_offer:t,user_discount:n,user_discount_offer:a},rejectWithError:!0});if(e.ok)return e.body;return l.Z.captureMessage("fetchPremiumMarketingContentWithUserOffer failed"),[]}catch(e){return[]}}},276792:function(e,t,n){n.d(t,{N:()=>f});var i=n(200651);n(192379);var l=n(704215),r=n(740111),a=n(481060),s=n(963249),o=n(703656),d=n(626135),c=n(63063),u=n(823188),h=n(474936),m=n(981631),p=n(388032),g=n(155852),_=n(74316);function f(e){var t,n;let{content:f,renderModalProps:E,analyticsLocations:I,analyticsLocation:C,isLightTheme:N}=e,v="AnnouncementModalVariant1_".concat(l.z[Number(f.dismissKey)]),{onClose:T}=E,S=null!=f.button&&""!==f.button.copy?f.button.copy:p.intl.string(p.t.YScQSE),A=(null===(t=f.button)||void 0===t?void 0:t.buttonAction)===r.Wc.OPEN_MARKETING_PAGE?"jump_to_mkt_button":"get_nitro_button",Z=(null===(n=f.button)||void 0===n?void 0:n.buttonAction)===r.Wc.OPEN_MARKETING_PAGE?()=>{(0,o.uL)(m.Z5c.APPLICATION_STORE),T()}:()=>(0,s.Z)({subscriptionTier:h.Si.TIER_2,analyticsLocations:I,analyticsObject:{...C,object:m.qAy.BUTTON_CTA,objectType:m.Qqv.TIER_2},onClose:e=>{e&&T()}}),x=""!==f.helpArticleId?()=>(0,i.jsxs)(i.Fragment,{children:["\xa0",(0,i.jsx)(a.eee,{className:g.termsApplyAnchor,href:c.Z.getArticleURL(f.helpArticleId),children:p.intl.string(p.t["sBp+u7"])})]}):void 0,b={type:"video",src:N?f.heroArtVideoLinkLightTheme:f.videoLink};null!=f.heroArtVideoSubtitles&&(b.subtitles=f.heroArtVideoSubtitles.map(e=>({locale:e.locale,src:e.link,isDefault:!1}))),(""!==f.heroArtImageLinkDarkTheme||""!==f.heroArtImageLinkLightTheme)&&(b={type:"image",src:N?f.heroArtImageLinkLightTheme:f.heroArtImageLinkDarkTheme});let L=N?u.VE.PREMIUM_TIER_2_NEW_GRADIENT_FILL:u.VE.PREMIUM_TIER_2_WHITE_FILL,y=""!==f.modalTopPill?()=>(0,i.jsx)(u.Cy,{text:f.modalTopPill,className:g.modalTopPill,colorOptions:L}):void 0;return{renderModalProps:E,header:f.header,modalTopExtra:y,subHeader:f.subheader,subHeaderExtra:x,body:f.body,heroArt:b,featureCards:f.featureCards.map(e=>({header:e.header,subHeader:e.body,imageSrc:N?e.imageLinkLightTheme:e.imageLink,tagText:""!==e.pill?e.pill:void 0})),changeLogId:v,button:()=>{let e=Date.now();return(0,i.jsxs)(a.gtL,{className:g.buttonWide,innerClassName:g.innerButton,wrapperClassName:g.tier2Gradient,size:a.zxk.Sizes.SMALL,onClick:()=>{d.default.track(m.rMx.CHANGE_LOG_CTA_CLICKED,{change_log_id:v,cta_type:A,seconds_open:Math.round((Date.now()-e)/1e3),target:v}),Z()},children:[(0,i.jsx)("img",{alt:"",className:g.nitroIconSubHeader,src:_}),S]})},modalDismissibleContent:""!==f.dismissKey?Number(f.dismissKey):void 0}}},792254:function(e,t,n){n.d(t,{Z:()=>S});var i=n(442837),l=n(410030),r=n(607070),a=n(474936),s=n(231338),o=n(955092),d=n(250225),c=n(778441),u=n(238988),h=n(298233),m=n(304354),p=n(265704),g=n(85010),_=n(954620),f=n(28747),E=n(962658),I=n(29971),C=n(730837),N=n(95897),v=n(171362),T=n(945720);function S(e){let t=(0,i.e7)([r.Z],()=>r.Z.useReducedMotion),n=(0,l.ZP)();return t?function(e,t){switch(e){case a.cd.ANIMATED_AVATAR_MODAL_UPSELL:return t===s.BR.DARK?_.Z:C.Z;case a.cd.ANIMATED_BANNER_MODAL_UPSELL:return t===s.BR.DARK?f.Z:N.Z;case a.cd.PROFILE_EFFECT_MODAL_UPSELL:return t===s.BR.DARK?I.Z:T.Z;case a.cd.AVATAR_DECORATION_MODAL_UPSELL:return t===s.BR.DARK?E.Z:v.Z}}(e,n):function(e,t){switch(e){case a.cd.ANIMATED_AVATAR_MODAL_UPSELL:return t===s.BR.DARK?o.Z:h.Z;case a.cd.ANIMATED_BANNER_MODAL_UPSELL:return t===s.BR.DARK?d.Z:m.Z;case a.cd.PROFILE_EFFECT_MODAL_UPSELL:return t===s.BR.DARK?u.Z:g.Z;case a.cd.AVATAR_DECORATION_MODAL_UPSELL:return t===s.BR.DARK?c.Z:p.Z}}(e,n)}},276645:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),r=n(970731),a=n(388032),s=n(123167);function o(e){let{guildId:t,markAsDismissed:o}=e;return(0,i.jsx)(r.ZP,{className:s.container,asset:(0,i.jsx)("img",{className:s.image,src:n(297806),alt:""}),header:a.intl.string(a.t["2l9beX"]),headerClassName:s.header,content:a.intl.string(a.t.gdqdND),buttonCTA:a.intl.string(a.t.RzWDqa),buttonProps:{color:l.Ttl.WHITE,innerClassName:s.primaryButton},onClick:()=>{(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("31898")]).then(n.bind(n,751212));return n=>(0,i.jsx)(e,{...n,guildId:t})})},secondaryButtonCTA:a.intl.string(a.t.TulDPj),secondaryButtonProps:{look:l.iLD.LINK,color:l.Ttl.WHITE},markAsDismissed:o})}},708711:function(e,t,n){n.d(t,{Z:()=>r});var i=n(818083),l=n(987338);let r=(0,i.B)({kind:"user",id:"2025-01_tiered_tenure_badges_mobile",label:"Tiered Tenure Badging Mobile Experience",commonTriggerPoint:l.$P.CONNECTION_OPEN,defaultConfig:{enabled:!1,isBadgeVersion2:!1},treatments:[{id:2,label:"Enable Tiered Tenure Badges v2 on mobile",config:{enabled:!0,version:2,isBadgeVersion2:!0}}]})},474486:function(e,t,n){n.d(t,{A7:()=>N,CI:()=>v,lH:()=>T});var i=n(200651),l=n(192379),r=n(704215),a=n(481060),s=n(605236),o=n(765585),d=n(703656),c=n(119269),u=n(938736),h=n(227140),m=n(981631),p=n(921944),g=n(388032),_=n(479723);let f="url(#dark-purple-gradient)",E=()=>(0,i.jsxs)("div",{className:_.coachtipContent,children:[(0,i.jsx)(a.X6q,{variant:"heading-sm/bold",children:g.intl.string(g.t.USo4s7)}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",children:g.intl.format(g.t.AGKQq6,{numReferrals:3})})]}),I=()=>(0,i.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10.8079 11.6918C11.052 11.9359 11.4477 11.9359 11.6918 11.6918C11.9359 11.4477 11.9359 11.052 11.6918 10.8079L8.38384 7.49996L11.6918 4.19201C11.9359 3.94793 11.9359 3.5522 11.6918 3.30813C11.4477 3.06405 11.052 3.06405 10.8079 3.30813L7.49996 6.61607L4.19194 3.30806C3.94786 3.06398 3.55214 3.06398 3.30806 3.30806C3.06398 3.55214 3.06398 3.94786 3.30806 4.19194L6.61608 7.49996L3.30806 10.808C3.06398 11.0521 3.06398 11.4478 3.30806 11.6919C3.55214 11.9359 3.94786 11.9359 4.19194 11.6919L7.49996 8.38384L10.8079 11.6918Z",fill:"white"})}),C=()=>(0,s.EW)(r.z.REFERRAL_INCENTIVE_TOOLTIP_AND_TAB_COLOR,{dismissAction:p.L.TAKE_ACTION}),N=e=>{let{children:t}=e;return(0,i.jsx)(a.yRy,{shouldShow:!0,renderPopout:()=>(0,i.jsx)(o.Z,{artClassName:_.coachmarkArt,dismissIconClassName:_.exitIcon,onDismissIconClick:C,dismissIcon:(0,i.jsx)(I,{}),headerClassName:_.incentiveCoachtipContent,contentClassName:_.incentiveCoachtipContainer,pointerClassName:_.incentiveTooltipPointer,onTryFeature:()=>{(0,d.uL)(m.Z5c.NITRO_HOME),C()},art:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.ZP,{staticPercentage:100,iconClassName:_.incentiveIcon,showAnimations:!1,progressCircleVariation:c.Qo.NITRO_LOGO,ellipseOpacity:1,circleColor:f,circleStroke:f,progressCircleStrokeSize:4})}),position:"right",align:"top",tryItText:g.intl.string(g.t.RzWDqa),header:g.intl.formatToPlainString(g.t.md2GU1,{discountRate:u.Nq}),hideDismissButton:!0,body:g.intl.formatToPlainString(g.t.mxPPxc,{discountRate:u.Nq}),dismissibleContent:r.z.REFERRAL_INCENTIVE_TOOLTIP_AND_TAB_COLOR,maxWidth:320}),children:t})},v=e=>{let{children:t}=e,n=(0,i.jsxs)("div",{className:_.coachTipContainer,children:[(0,i.jsx)("div",{className:_.iconContainer,children:(0,i.jsx)(c.ZP,{staticPercentage:100,iconClassName:_.icon,showAnimations:!0,progressCircleVariation:c.Qo.NITRO_LOGO,ellipseOpacity:1,customAnimationClassName:_.customCircleAnimation,circleColor:"url(#purple-gradient)"})}),(0,i.jsx)(E,{})]});return(0,i.jsx)(a.ua7,{text:n,position:"right","aria-label":g.intl.string(g.t.USo4s7),tooltipClassName:_.marketingBadgeTooltip,allowOverflow:!0,tooltipContentClassName:_.tooltipContent,children:e=>(0,i.jsx)("div",{...e,children:t})})},T=e=>{let{isSelected:t,onSelect:n}=e;return l.useEffect(()=>{t&&n()},[t,n]),(0,i.jsx)(h.Z,{copy:g.intl.string(g.t.y2b7CA)})}},457396:function(e,t,n){n.d(t,{g:()=>V,i:()=>B}),n(47120);var i=n(200651);n(192379);var l=n(91192),r=n(442837),a=n(704215),s=n(481060),o=n(515753),d=n(927359),c=n(975298),u=n(605236),h=n(243778),m=n(819640),p=n(594174),g=n(351402),_=n(78839),f=n(626135),E=n(74538),I=n(502087),C=n(695349),N=n(650032),v=n(767870),T=n(104494),S=n(639119),A=n(655525),Z=n(314684),x=n(52188),b=n(346497),L=n(924540),y=n(474486),O=n(119850),P=n(701910),R=n(938736),j=n(227140),D=n(474936),w=n(981631),M=n(921944),k=n(388032),U=n(949831);let G="NitroTabButton",B=e=>{let{selected:t}=e,n=(0,r.e7)([p.default],()=>p.default.getCurrentUser()),i=(0,r.e7)([_.ZP],()=>_.ZP.getPremiumTypeSubscription()),l=(0,S.N)(),a=(0,T.Ng)(),s=(0,b.Vi)(),o=(0,R.vx)(G),d=(0,R.wG)(G),c=(0,Z.$_)(),u=(0,O.V)(),h=(0,E.Qo)(n,i),m=(0,r.e7)([I.Z],()=>I.Z.getCreatedAtOverride()),g=t||null!=l||null!=a||s||o||d||null!=c||null!=u||h,f=null!=m?m:null==n?void 0:n.createdAt;return g||null!=n&&null!=f&&Date.now()-f.getTime()>12096e5},V=e=>{let t,n,I,V,{selected:H,route:F,locationState:z,...W}=e,Y=(0,r.e7)([p.default],()=>p.default.getCurrentUser()),K=(0,r.e7)([_.ZP],()=>_.ZP.getPremiumTypeSubscription()),q=(0,E.Qo)(Y,K),X=(0,l.JA)("nitro"),Q=(0,S.N)(),J=(0,T.Ng)(),$=(0,C.W)(),ee=(0,r.e7)([g.Z],()=>g.Z.isLocalizedPromoEnabled)&&null==Q,et=(0,b.Vi)(),en=(0,Z.$_)(),ei=(0,O.V)(),el=(0,R.Kn)(G),er=(0,R.vx)(G),ea=(0,R.wG)(G),es=(0,r.e7)([m.Z],()=>m.Z.hasLayers()),{fractionalState:eo,startsAt:ed,endsAt:ec}=(0,c.Z)({forceFetch:!0}),[eu,eh]=(0,h.bf)(eo!==D.a$.NONE?a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL:null,{showAfterTimestamp:ed.valueOf(),cooldownDurationMs:0}),{enabled:em}=N._.useExperiment({location:G},{autoTrackExposure:!1}),ep=em&&(null==Q?void 0:Q.trial_id)===D.a7,[eg,e_]=(0,h.US)($?[a.z.REVERSE_TRIAL_NITRO_TAB_BADGE_V2]:[],void 0,!0);if(!B({selected:H}))return null;eo===D.a$.NONE||$||(V=9,I=(0,i.jsx)(v.Z,{className:"",startsAt:ed,endsAt:ec,messageStyle:d.a.SHORT_TIME,upperCase:!0})),er?(t=U.referralIncentive,V=7):ea?(I=(0,i.jsx)(P.Z,{copy:k.intl.string(k.t.jyYgZ2)}),V=8):et?(I=(0,i.jsx)(A.Z,{}),V=0):null!=eg&&eg===a.z.REVERSE_TRIAL_NITRO_TAB_BADGE_V2?(I=(0,i.jsx)(j.Z,{copy:k.intl.string(k.t.HwUCnp),showStars:!1}),V=4):null!=en?(I=(0,i.jsx)(j.Z,{copy:en,showStars:!1}),V=1):null!=ei?(I=(0,i.jsx)(j.Z,{copy:ei,showStars:!1}),V=1):null!=J?(I=(0,i.jsx)(L.GN,{userDiscount:J,isTabSelected:H,includesAmountOff:!1}),V=3):null==Q||ep?el?(I=(0,i.jsx)(y.lH,{isSelected:H,onSelect:()=>(0,u.EW)(a.z.REFERRAL_PROGRAM_PREMIUM_TAB_BADGE,{dismissAction:M.L.TAKE_ACTION})}),V=6):ee&&(I=(0,i.jsx)(x.k,{entryPoint:x.U.PrivateMessages}),H||(t=U.localizeBadge),V=5):(I=(0,i.jsx)(L.$H,{trialOffer:Q,isTabSelected:H}),V=4);let ef=(0,i.jsx)(o.Qj,{selected:H,route:F,icon:s.SrA,text:k.intl.string(k.t.Ipxkoq),locationState:z,onClick:()=>{eu===a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL&&eh(M.L.TAKE_ACTION),f.default.track(w.rMx.NITRO_TAB_VISITED,{badge_decorator:V,has_premium:q}),er||ea?((0,u.EW)(a.z.REFERRAL_INCENTIVE_TOOLTIP_AND_TAB_COLOR,{dismissAction:M.L.TAKE_ACTION}),ea&&(0,u.EW)(a.z.REFERRAL_INCENTIVE_AWARDED_INFO,{dismissAction:M.L.TAKE_ACTION})):null!=eg&&e_(M.L.USER_DISMISS)},...W,...X,className:t,avatarWithTextClassName:n,children:I});return el?(0,i.jsx)(y.CI,{children:ef}):er&&!es?(0,i.jsx)(y.A7,{children:()=>ef}):ef}},701910:function(e,t,n){n.d(t,{Z:()=>a});var i=n(200651);n(192379);var l=n(227140),r=n(388032);let a=e=>{let{copy:t}=e;return(0,i.jsx)(l.Z,{copy:null!=t?t:r.intl.string(r.t.y2b7CA)})}},290347:function(e,t,n){n.d(t,{Z:()=>Z}),n(47120),n(411104),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),d=n(607070),c=n(446411),u=n(468846),h=n(313201),m=n(70097),p=n(605236),g=n(524444),_=n(626135),f=n(960048),E=n(565216),I=n(981631),C=n(921944),N=n(388032),v=n(270160);let T=[],S=e=>{let{tagText:t,className:n}=e;return(0,i.jsx)(o.IGR,{className:a()(v.tag,n),text:t})},A=e=>{let{header:t,subHeader:n,imageSrc:l,tagText:r,wideStyle:s}=e;return(0,i.jsxs)("div",{className:a()(v.featureCard,{[v.wideStyle]:s}),children:[null!=r?(0,i.jsx)(S,{tagText:r,className:v.featureCardTag}):null,(0,i.jsx)("img",{alt:"",className:a()(v.featureCardImg,{[v.wideStyle]:s}),src:l}),(0,i.jsxs)("div",{className:v.featureCardTextGroup,children:[(0,i.jsx)(o.X6q,{variant:"heading-md/extrabold",className:v.featureCardTextHeader,children:t}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:n})]})]})};function Z(e){let{className:t,renderModalProps:n,heroArt:r,heroArtClassName:S,modalDismissibleContent:Z,modalTopExtra:x,header:b,headerClassName:L,subHeader:y,subHeaderExtra:O,featureCards:P,changeLogId:R,button:j,body:D}=e,{onClose:w,transitionState:M}=n,k=(0,h.Dt)(),U=P.length%2==0,G=(0,s.e7)([d.Z],()=>d.Z.useReducedMotion),[B,V]=l.useState(Date.now()),[H,F]=l.useState(0),[z,W]=l.useState(0),[Y,K]=l.useState(!1),[q,X]=l.useState(!0),Q=l.useRef(B),J=l.useRef(H),$=l.useRef(z),ee=l.useRef(Y),et=l.useRef(q),[en,ei]=l.useState(T),el=l.useRef(!1);function er(){let e=Date.now(),t=e-Q.current,n=J.current,i=$.current;return ee.current&&(F(n+=t),et.current||W(i+=t)),V(e),[n,i]}return l.useEffect(()=>{let e=async()=>{try{var e;if("video"!==r.type||null==r.subtitles)return;let t=null===(e=r.subtitles)||void 0===e?void 0:e.map(async e=>{let t=await fetch(e.src);if(!t.ok)throw Error("Failed to fetch the subtitle file ".concat(e.src));let n=await t.text(),i=new Blob([n],{type:"text/vtt"}),l=URL.createObjectURL(i);return{...e,src:l}});ei(await Promise.all(t))}catch(e){f.Z.captureException(e),ei(T)}};!0!==el.current&&e(),el.current=!0},[r,en]),l.useEffect(()=>()=>{null!=en&&en.forEach(e=>{URL.revokeObjectURL(e.src)})},[en]),l.useEffect(()=>{Q.current=B,J.current=H,$.current=z,ee.current=Y,et.current=q},[B,H,z,Y,q]),l.useEffect(()=>()=>{if("video"===r.type||"embed"===r.type){let[e,t]=er();_.default.track(I.rMx.CHANGE_LOG_VIDEO_PLAYED,{change_log_id:R,seconds_played:Math.round(e/1e3)}),_.default.track(I.rMx.CHANGE_LOG_VIDEO_UNMUTE,{change_log_id:R,seconds_unmuted:Math.round(t/1e3)})}},[R,r.type]),l.useEffect(()=>{null!=Z&&(0,p.kk)(Z);let e=Date.now();return _.default.track(I.rMx.CHANGE_LOG_OPENED,{change_log_id:R}),()=>{_.default.track(I.rMx.CHANGE_LOG_CLOSED,{change_log_id:R,seconds_open:Math.round((Date.now()-e)/1e3)}),null!=Z&&(0,p.EW)(Z,{dismissAction:C.L.DISMISS})}},[Z,R]),(0,i.jsxs)(o.Y0X,{className:a()(v.root,t),transitionState:M,"aria-labelledby":k,children:[(0,i.jsx)(o.olH,{className:v.closeButton,onClick:w}),(0,i.jsx)(E.Z,{className:v.splash}),null==x?void 0:x(),(0,i.jsxs)(o.hzk,{className:v.content,children:[(0,i.jsx)(o.X6q,{variant:"display-md",className:a()(v.headerText,L),children:b}),"video"===r.type?(0,i.jsx)(m.Z,{className:a()(v.video,S),autoPlay:!G,loop:!0,muted:!0,controls:!0,controlsList:"nofullscreen nodownload noremoteplayback noplaybackrate",src:r.src,poster:r.poster,onPlay:e=>{_.default.track(I.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:R}),V(Date.now()),K(!0),X(e.currentTarget.muted)},onEnded:e=>{er(),X(e.currentTarget.muted),K(!1)},onVolumeChange:e=>{er(),X(e.currentTarget.muted)},onPause:e=>{er(),X(e.currentTarget.muted),K(!1)},disablePictureInPicture:!0,children:null==en?void 0:en.map(e=>{let t=(0,N.getLanguages)().find(t=>t.code===e.locale);return null==t?null:(0,i.jsx)("track",{label:t.englishName,kind:"captions",srcLang:t.code,src:e.src,default:e.isDefault},e.locale)})}):"embed"===r.type?(0,i.jsx)(c.BC,{className:a()(v.video,S),allowFullScreen:!1,href:r.href,thumbnail:r.thumbnail,video:r.embed,provider:u.pn.YOUTUBE,maxWidth:r.embed.width,maxHeight:r.embed.height,renderVideoComponent:g.lV,renderImageComponent:g.Yi,renderLinkComponent:g.iT,onPlay:()=>{_.default.track(I.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:R})}}):"image"===r.type?(0,i.jsx)("img",{alt:"",className:a()(v.video,S),src:r.src}):null,(0,i.jsxs)(o.X6q,{variant:"heading-lg/semibold",className:v.subHeader,children:[y,null==O?void 0:O()]}),null!=D&&(0,i.jsx)(o.X6q,{variant:"heading-md/medium",className:v.bodyText,children:D}),P.length>0&&(0,i.jsx)("div",{className:a()(v.featureCardGroup,{[v.wideStyle]:U}),children:P.map((e,t)=>(0,i.jsx)(A,{...e,wideStyle:U},"".concat(e.header,"_").concat(t)))}),j()]})]})}},378879:function(e,t,n){n.d(t,{default:()=>E,s:()=>f});var i=n(200651);n(192379);var l=n(481060),r=n(921813),a=n(687158),s=n(576635),o=n(594174),d=n(98278),c=n(792254),u=n(790527),h=n(474936),m=n(981631),p=n(486324),g=n(388032),_=n(170274);function f(e,t){let r=o.default.getCurrentUser();return null!=r&&((0,l.ZDy)(async()=>{let{default:a}=await Promise.resolve().then(n.bind(n,378879));return n=>(0,i.jsx)(a,{user:r,imageSrc:t,uploadType:e,analyticsSource:m.Sbl.PROFILE_PANEL,analyticsLocation:{section:m.jXE.USER_PROFILE,object:m.qAy.BUTTON_CTA},onSecondaryClick:l.pTH,...n})}),!0)}function E(e){let{user:t,uploadType:n,imageSrc:l,onClose:o,analyticsSource:m,analyticsLocation:f,onSecondaryClick:E,...I}=e,C=(0,a.ZP)(t.id),{primaryColor:N,secondaryColor:v}=(0,s.Z)({user:t,displayProfile:C,pendingAvatar:n===p.pC.AVATAR?l:void 0,isPreview:!0}),T=n===p.pC.AVATAR||n===p.pC.BANNER,S=null!=l,A=(0,c.Z)(n===p.pC.AVATAR?h.cd.ANIMATED_AVATAR_MODAL_UPSELL:h.cd.ANIMATED_BANNER_MODAL_UPSELL);return T?(0,i.jsx)(u.Z,{artURL:S?void 0:A,modalClassName:S?_.modal:void 0,modalContentClassName:S?_.modalContent:void 0,type:n===p.pC.AVATAR?h.cd.ANIMATED_AVATAR_MODAL_UPSELL:h.cd.ANIMATED_BANNER_MODAL_UPSELL,title:n===p.pC.AVATAR?g.intl.string(g.t["X7tO6+"]):g.intl.string(g.t.zXPa2N),body:n===p.pC.AVATAR?g.intl.string(g.t.ifCRdH):g.intl.string(g.t.yQAnf3),glowUp:n===p.pC.AVATAR?g.intl.string(g.t.ifCRdH):g.intl.string(g.t.yQAnf3),onSecondaryClick:()=>{null==E||E(),(0,d.$)(o)},secondaryCTA:g.intl.string(g.t.PcTCBw),onClose:o,enableArtBoxShadow:!1,analyticsSource:m,analyticsLocation:f,hideBackButton:!0,showEnhancedUpsell:!0,LeadingComponent:S?(0,i.jsx)("div",{className:_.previewContainerParent,children:(0,i.jsx)(r.Z,{containerClassName:_.previewContainer,user:t,canUsePremiumCustomization:!0,disabledInputs:!0,pendingAvatar:n===p.pC.AVATAR?l:void 0,pendingBanner:n===p.pC.BANNER?l:void 0,pendingThemeColors:[N,v],hideExampleButton:!0})}):void 0,...I}):null}},727310:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(481060);function r(e){let{upsellType:t}=e;(0,l.ZDy)(async()=>{let{default:e}=await n.e("51816").then(n.bind(n,415788));return n=>(0,i.jsx)(e,{...n,upsellType:t,"aria-labelledby":"reverse-trial-upsell-modal"})})}},118470:function(e,t,n){n.d(t,{Z:()=>p}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(442837),a=n(812206),s=n(324262),o=n(434404),d=n(106976),c=n(270144),u=n(981631),h=n(388032),m=n(466389);function p(e){let t,{guild:n}=e,p=(0,c.h6)(n),g=()=>(0,d.sB)(n.id),_=l.useMemo(()=>new Set(p.map(e=>e.applicationId)),[p]),f=(0,r.Wu)([a.Z],()=>{let e=[];for(let t of _){let n=a.Z.getApplication(t);null!=n&&e.push(n)}return e},[_]);return 0===f.length?null:(t=1===f.length?h.intl.formatToPlainString(h.t["Egq+Gx"],{a:f[0].name}):2===f.length?h.intl.formatToPlainString(h.t.LxU9R0,{a:f[0].name,b:f[1].name}):3===f.length?h.intl.formatToPlainString(h.t.crKXMD,{a:f[0].name,b:f[1].name,c:f[2].name}):h.intl.string(h.t.MvfowM),(0,i.jsx)(s.Z,{guild:n,onDismissed:g,message:t,type:u.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:m,onClick:()=>{g(),o.Z.open(n.id,u.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:h.intl.string(h.t.Rr3MAQ)}))}},489977:function(e,t,n){n.d(t,{Z:()=>g});var i=n(570140),l=n(809206),r=n(317770),a=n(18438),s=n(378879),o=n(350327),d=n(594174),c=n(74538),u=n(486324);let h=e=>{let{imageSrc:t,file:n,guildId:i,isTryItOutFlow:r}=e;if(r){(0,o.c_)(t);return}let h=d.default.getCurrentUser(),m=null!=i?a.I5:l.I5,p=c.ZP.canUseAnimatedAvatar(h);if(p||"image/gif"!==n.type){m(t);return}if(null!=h&&!p){(0,s.s)(u.pC.AVATAR,t);return}},m=e=>{let{imageSrc:t,guildId:n,isTryItOutFlow:i}=e;if(i){(0,o.f4)(t);return}let l=d.default.getCurrentUser(),r=null!=n?a.g_:o.g_,h=c.ZP.canUsePremiumProfileCustomization(l);if(c.ZP.canUsePremiumProfileCustomization(l)){r(t);return}if(null!=l&&!h){(0,s.s)(u.pC.BANNER,t);return}};class p extends r.Z{_initialize(){i.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}_terminate(){i.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}maybeOpenProfilePreviewModal(e){return e.uploadType===u.pC.AVATAR?h(e):e.uploadType===u.pC.BANNER?m(e):void 0}}let g=new p},39370:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(704215),r=n(765585),a=n(300284),s=n(526761),o=n(388032),d=n(884423);function c(){let e=(0,a.Z)({scrollPosition:s.Y_.TRY_IT_OUT});return(0,i.jsx)(r.Z,{isPremiumFeature:!0,shouldUseHorizontalButtons:!0,inlineArt:!0,artClassName:d.profileThemesArt,onTryFeature:e,header:o.intl.string(o.t.V95BHB),body:o.intl.string(o.t["Cxm79/"]),dismissibleContent:l.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2})}},400271:function(e,t,n){n.d(t,{Z:()=>f}),n(47120);var i,l,r,a=n(442837),s=n(433517),o=n(570140),d=n(650774),c=n(430824),u=n(496675),h=n(135899),m=n(981631);let p="publicUpsellChannelNoticeGuilds",g=new Set;class _ extends(i=a.ZP.Store){initialize(){var e;this.waitFor(u.Z,c.Z,d.Z),this.syncWith([u.Z,c.Z,d.Z],m.dG4),g=e=new Set(s.K.get(p))}isVisible(e){if(null==e)return;let t=d.Z.getMemberCount(e.id);return!g.has(e.id)&&null!=t&&t>=h.U3&&u.Z.can(m.Plq.ADMINISTRATOR,e)&&!e.hasFeature(m.oNc.COMMUNITY)}}r="EnablePublicGuildUpsellNoticeStore",(l="displayName")in _?Object.defineProperty(_,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):_[l]=r;let f=new _(o.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){let t=e.guildId;if(!g.has(t))return g.add(t),s.K.set(p,g),!0}})},413307:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),l=n(192379),r=n(949389),a=n(324262),s=n(434404),o=n(981631),d=n(388032),c=n(438825);let u=e=>{let{guild:t}=e,n=l.useCallback(()=>{(0,r.K7)(t.id)},[t.id]);return(0,i.jsx)(a.Z,{guild:t,onDismissed:n,onClick:()=>s.Z.open(t.id,o.pNK.COMMUNITY),message:d.intl.string(d.t["2klD0d"]),trackingSource:o.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:o.vID.PUBLIC_UPSELL,image:c,cta:d.intl.string(d.t.hvVgAQ)})}},833435:function(e,t,n){n.d(t,{_:()=>l});let i=(0,n(818083).B)({id:"2024-09_quests_trophy_case",kind:"user",label:"Trophy Case",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enabled",config:{enabled:!0}}]}),l=e=>{let{location:t,autoTrackExposure:n=!1}=e;return i.useExperiment({location:t},{autoTrackExposure:n}).enabled}},220068:function(e,t,n){n.d(t,{Z:()=>r});var i=n(972959);let l=Object.freeze({tab:n(113434).e5.ALL}),r=(0,i.H)(()=>l)},558652:function(e,t,n){n.d(t,{Z:()=>a});var i=n(200651);n(192379);var l=n(113434),r=n(710914);function a(){let{quests:e,isFetchingCurrentQuests:t}=(0,l.bA)(l.e5.ALL);return(0,i.jsx)(r.Z,{quests:e,isFetching:t})}},786089:function(e,t,n){n.d(t,{Z:()=>x}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(979554),o=n(887003),d=n(442837),c=n(780384),u=n(481060),h=n(393238),m=n(410030),p=n(204418),g=n(70097),_=n(594174),f=n(626135),E=n(617136),I=n(113434),C=n(497505),N=n(475595),v=n(352084),T=n(685613),S=n(981631),A=n(388032),Z=n(738530);let x=(0,l.memo)(function(e){var t,n,r,x,b,L;let{quest:y}=e,[O,P]=(0,l.useState)(!1),[R,j]=(0,l.useState)(24),[D,w]=(0,l.useState)(!1),M=(0,l.useRef)(null),k=(0,l.useRef)(null),U=(0,l.useRef)(null),G=(0,d.e7)([_.default],()=>_.default.getCurrentUser()),{ref:B,height:V=0}=(0,h.Z)(),H=(0,m.ZP)(),F=(0,I.B6)(null===(t=y.userStatus)||void 0===t?void 0:t.claimedAt,{month:"numeric",day:"numeric"}),z=null!==(b=null===(n=y.userStatus)||void 0===n?void 0:n.claimedTier)&&void 0!==b?b:0,W=y.config.rewards[z],Y=(null==W?void 0:W.type)===o.w.FRACTIONAL_PREMIUM,K=(null==W?void 0:W.type)===o.w.COLLECTIBLE,q=null==W?void 0:null===(x=W.collectibleProduct)||void 0===x?void 0:null===(r=x.items)||void 0===r?void 0:r[0],X=(null==q?void 0:q.type)===s.Z.AVATAR_DECORATION?q:null;(0,h.P)(M,e=>{let{height:t}=e;if(!K||null==t||null==k.current||null==M.current||null==U.current)return;let n=M.current.getBoundingClientRect(),i=k.current.getBoundingClientRect(),l=U.current.getBoundingClientRect();j((i.top-n.top-l.height)/2)});let Q=(0,c.wj)(H),J=(0,l.useMemo)(()=>null!=y.config.cosponsorMetadata,[y]),$=(0,l.useMemo)(()=>(0,N.fh)(y,N.eC.REWARD),[y]),ee=O?V+8:0,et=()=>{P(!0),f.default.track(S.rMx.QUEST_HOVER,{quest_id:y.id,...(0,E.mH)(C.jn.TROPHY_CASE_CARD)})},en=()=>P(!1),ei=e=>{w(!0),f.default.track(S.rMx.QUEST_ASSET_LOADING_FAILURE,{source:e,asset_id:e,quest_id:y.id})};return null==W||D?null:(0,i.jsx)(u.tEY,{children:(0,i.jsxs)("div",{ref:M,tabIndex:0,onFocus:et,onBlur:en,onMouseEnter:et,onMouseLeave:en,className:a()(Z.container,{[Z.hovered]:O}),children:[null!=G&&K&&null!=X&&(0,i.jsx)("div",{ref:U,className:Z.decoWrapper,style:{top:R},children:(0,i.jsx)(p.Z,{avatarDecorationOverride:X,user:G,guildId:null})}),Y?(0,i.jsx)(v.Z,{className:Z.image}):$.isAnimated?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(g.Z,{className:Z.assetBlurred,autoPlay:!1,children:(0,i.jsx)("source",{src:$.url,type:null!==(L=$.mimetype)&&void 0!==L?L:void 0,onError:()=>ei($.url)})})}):(0,i.jsx)("img",{className:Z.image,src:$.url,alt:y.config.messages.questName,onError:()=>ei($.url)}),(0,i.jsx)("div",{className:a()(Z.overlay,{[Z.darkThemeGradient]:Q,[Z.lightThemeGradient]:!Q})}),(0,i.jsx)("div",{ref:k,className:Z.logoContainer,style:{transform:"translateY(-".concat(ee,"px)")},children:(0,i.jsx)(T.ZP,{logotypeClassName:a()(Z.logo,{[Z.logoWithCosponsor]:J}),quest:y,withGameTile:!1})}),(0,i.jsxs)("div",{ref:B,className:Z.details,children:[(0,i.jsx)(u.X6q,{className:Z.title,variant:"heading-md/semibold",color:"always-white",children:A.intl.format(A.t.EAYZAg,{questName:y.config.messages.questName})}),(0,i.jsx)(u.Text,{variant:"text-sm/medium",color:Q?"text-muted":"always-white",style:{opacity:Q?1:.75},children:A.intl.format(A.t.kXVcV1,{reward:W.name,claimedDate:F})})]})]})})})},383747:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651),l=n(481060),r=n(410030),a=n(388032);function s(e){let{onClick:t}=e,s=(0,r.ZP)();return(0,i.jsxs)(l.ubH,{theme:s,children:[(0,i.jsx)(l.oxh,{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200}),(0,i.jsx)(l.OZU,{note:a.intl.format(a.t.Pv8u2t,{onClick:t})})]})}},736683:function(e,t,n){n.d(t,{Z:()=>c,j:()=>u});var i=n(200651);n(192379);var l=n(481060),r=n(113434),a=n(786089),s=n(383747),o=n(710914),d=n(329857);function c(e){let{onSelectTab:t}=e,{claimedQuests:n,isFetchingClaimedQuests:o}=(0,r.eN)();return o&&0===n.length?(0,i.jsx)(l.$jN,{className:d.spinner}):0===n.length?(0,i.jsx)(s.Z,{onClick:()=>t(r.e5.ALL)}):(0,i.jsx)("div",{className:d.gridContainer,children:n.map(e=>(0,i.jsx)(a.Z,{quest:e},e.id))})}function u(e){let{onSelectTab:t}=e,{quests:n,isFetchingCurrentQuests:a}=(0,r.bA)(r.e5.CLAIMED);return a&&0===n.length?(0,i.jsx)(l.$jN,{className:d.spinner}):0===n.length?(0,i.jsx)(s.Z,{onClick:()=>t(r.e5.ALL)}):(0,i.jsx)(o.Z,{quests:n,isFetching:a})}},121711:function(e,t,n){n.d(t,{Z:()=>w});var i=n(200651),l=n(192379),r=n(990547),a=n(442837),s=n(481060),o=n(100527),d=n(213609),c=n(335131),u=n(252618),h=n(979233),m=n(175307),p=n(17845),g=n(374939),_=n(233374),f=n(611928),E=n(283293),I=n(822857),C=n(775451),N=n(63063),v=n(113434),T=n(569984),S=n(833435),A=n(918701),Z=n(150560),x=n(558652),b=n(736683),L=n(452081),y=n(46140),O=n(642145),P=n(981631),R=n(215023),j=n(388032),D=n(360795);let w=function(){var e;let{selectedTab:t,onSelectTab:n,tabs:w}=(0,L.z)(),{onScroll:M,scrollPosition:k}=(0,h.M)(),U=Z.Z.getState().getUtmCurrentContext(),G=(0,S._)({location:y.dr.QUEST_HOME_DESKTOP})?b.Z:b.j,B=l.useRef(U);l.useEffect(()=>{B.current=U}),l.useEffect(()=>{let{current:e}=B;(0,d.h)({name:r.ImpressionNames.QUEST_HOME,type:r.ImpressionTypes.VIEW,properties:{utm_source_current:e.utmSourceCurrent,utm_medium_current:e.utmMediumCurrent,utm_campaign_current:e.utmCampaignCurrent,utm_content_current:e.utmContentCurrent,tab:t}})},[t]);let{enabled:V}=(0,I.W)({location:y.dr.QUEST_HOME_DESKTOP}),H=null!==(e=(0,a.e7)([T.Z],()=>T.Z.getQuest(O.V),[]))&&void 0!==e?e:null,F=null!==H&&!(0,A.zi)(H),z=l.useCallback(()=>{!F&&window.open(N.Z.getArticleURL(P.BhN.QUESTS_LEARN_MORE))},[F]);(0,u.Tt)({location:j.intl.string(j.t.JALI2N)});let W=F?j.intl.format(j.t.BCBIlp,{}):j.intl.format(j.t.lmMBf3,{}),Y=F?j.intl.format(j.t.U9FY0N,{}):j.intl.string(j.t.oWCrBg);return(0,i.jsxs)("div",{className:D.container,children:[(0,i.jsxs)(f.ZP,{variant:f._6.OVERLAY,children:[(0,i.jsx)("div",{className:D.dragRegion}),(0,i.jsx)(f.z6,{scrollPosition:k}),(0,i.jsx)(f.aV,{icon:s.qDn})]}),(0,i.jsxs)(E.Z,{onScroll:M,children:[(0,i.jsx)(p.Z,{title:W,description:Y,button:(0,i.jsx)(m.u,{text:j.intl.string(j.t.hvVgAQ),onClick:z}),className:D.bannerContainer,children:(0,i.jsx)("div",{className:D.bannerImage,children:(0,i.jsx)("div",{className:D.bannerGradient})})}),(0,i.jsxs)(g.Z,{children:[(0,i.jsxs)("div",{className:D.tabs,children:[(0,i.jsx)(_.Z,{tabs:w,selectedTab:t,onTabSelect:n}),V&&(0,i.jsx)(C.V9,{cardAlignment:C.ek.END,ctaText:j.intl.string(j.t.iEw2Nz),ctaOnClick:()=>{(0,c.mK)({openInLayer:!1,tab:R.AW.ORBS,analyticsLocations:[],analyticsSource:o.Z.QUEST_HOME_PAGE})}})]}),t===v.e5.CLAIMED?(0,i.jsx)(G,{onSelectTab:n}):(0,i.jsx)(x.Z,{})]})]})]})}},710914:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(497505),d=n(415104),c=n(176418);function u(e){let{quests:t,isFetching:n}=e,r=null;if(window.location.hash.length>0){let e=window.location.hash.slice(1);for(let n of t)if(n.id===e){r=e;break}}l.useEffect(()=>{for(let e of t)if(e.id===r){let e=document.getElementById("quest-tile-".concat(r));null==e||e.scrollIntoView({behavior:"smooth",block:"center"});break}},[t,r]);let u=null!=r,[h,m]=l.useState(window.innerWidth);l.useEffect(()=>{let e=()=>{m(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let p=h>=1610?3:h>=1340?2:1;return n&&0===t.length?(0,i.jsx)(s.$jN,{className:c.spinner}):(0,i.jsx)("div",{className:c.container,children:t.map((e,t)=>{let n=Math.floor(t/p);return(0,i.jsx)(d.Z,{quest:e,questContent:o.jn.QUEST_HOME_DESKTOP,contentPosition:t,rowIndex:n,className:a()(c.questTile,{[c.selected]:u&&e.id===r,[c.unselected]:u&&e.id!==r})},e.id)})},null!=r?r:"")}},452081:function(e,t,n){n.d(t,{z:()=>o});var i=n(192379),l=n(703656),r=n(113434),a=n(220068),s=n(388032);function o(){let e=a.Z.useField("tab"),t=i.useCallback(e=>{(0,l.dL)("#"),a.Z.setState({tab:e})},[]);return{tabs:i.useMemo(()=>[{id:r.e5.ALL,label:s.intl.string(s.t["0SzXmp"])},{id:r.e5.CLAIMED,label:s.intl.string(s.t.zyNYND)}],[]),selectedTab:e,onSelectTab:t}}},23404:function(e,t,n){n.d(t,{Z:()=>j}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(663002),d=n(481060),c=n(210887),u=n(617136),h=n(272008),m=n(113434),p=n(569984),g=n(497505),_=n(918701),f=n(467628),E=n(373370),I=n(475595),C=n(566078),N=n(602667),v=n(65443),T=n(611855),S=n(670638),A=n(667105),Z=n(860151),x=n(341907),b=n(46140),L=n(981631),y=n(388032),O=n(773190);function P(e){var t;let{quest:n}=e,l=(0,m.B6)(n.config.expiresAt),r=(0,m.B6)(C.r.build(n.config).rewardsExpireAt),a=(0,s.e7)([c.Z],()=>c.Z.getState().theme),u=(0,o.wj)(a)?L.BRd.DARK:L.BRd.LIGHT,h=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null;return(0,i.jsxs)("div",{className:O.heading,children:[(0,i.jsx)("img",{className:O.headingGameTile,alt:"",src:(0,I.fh)(n,I.eC.GAME_TILE,u).url}),(0,i.jsxs)("div",{className:O.headingCopy,children:[(0,i.jsx)(d.X6q,{variant:"heading-md/semibold",color:"header-primary",children:h?y.intl.string(y.t.XBboAA):y.intl.formatToPlainString(y.t.EQa7oq,{questName:n.config.messages.questName})}),(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"header-secondary",children:h?y.intl.formatToPlainString(y.t.APddvL,{expirationDate:r}):y.intl.formatToPlainString(y.t["pX+fmp"],{expirationDate:l})})]})]})}function R(e){var t,n,r,o;let{nodeRef:c,quest:I}=e,C=(0,u.O5)(),N=(0,s.e7)([p.Z],()=>p.Z.isEnrolling(I.id),[I]),[L,R]=l.useState(!1),j=l.useCallback(()=>R(!0),[]),D=l.useCallback(()=>R(!1),[]),w=l.useCallback(e=>{e.stopPropagation()},[]),M=l.useCallback(()=>{(0,h.AH)(I.id,{questContent:g.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.ACCEPT_QUEST})},[I]),k=l.useCallback(()=>{null!=I&&(C({questId:I.id,questContent:g.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.TRACK_PROGRESS}),(0,x.navigateToQuestHome)({fromContent:g.jn.ACTIVITY_PANEL,questId:I.id}))},[I,C]),U=l.useCallback(()=>{C({questId:I.id,questContent:g.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.LEARN_MORE}),(0,x.navigateToQuestHome)({fromContent:g.jn.ACTIVITY_PANEL,questId:I.id})},[I.id,C]),G=(0,A.hf)({quest:I,location:g.jn.ACTIVITY_PANEL}),B=(0,m.tP)(I),V=(null===(t=I.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,H=(null===(n=I.userStatus)||void 0===n?void 0:n.completedAt)!=null,F=(null===(r=I.userStatus)||void 0===r?void 0:r.claimedAt)!=null,z=(null==I?void 0:I.userStatus)!=null&&(0,_.zE)(I.userStatus,g.jn.ACTIVITY_PANEL),W=(0,m.Rf)(I),Y=(0,E.DD)({quest:I,taskDetails:W,location:b.dr.ACTIVITY_PANEL,questContent:g.jn.ACTIVITY_PANEL}),K=(0,f.j)({location:b.dr.QUESTS_BAR_MOBILE});return z||B||F?null:(0,i.jsxs)("div",{ref:e=>{c.current=e},className:a()(O.wrapper,{[O.wrapperQuestAccepted]:V}),onClick:w,onKeyPress:w,onFocus:j,onMouseEnter:j,onBlur:D,onMouseLeave:D,children:[(0,i.jsxs)("div",{className:O.utils,children:[V?(0,i.jsx)(P,{quest:I}):(0,i.jsx)(T.Z,{}),(0,i.jsx)(S.r,{quest:I,questContent:g.jn.ACTIVITY_PANEL,shouldShowDisclosure:(null===(o=I.userStatus)||void 0===o?void 0:o.enrolledAt)==null,showShareLink:!0,children:e=>(0,i.jsx)(d.P3F,{...e,"aria-label":y.intl.string(y.t.DEoVWV),children:(0,i.jsx)(d.xhG,{size:"md",color:"currentColor",className:O.submenuIcon})})})]}),!V&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{quest:I}),(0,i.jsxs)("div",{className:O.instructions,children:[(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-normal",children:Y}),K&&(0,i.jsx)(v.Z,{quest:I,textColor:"text-muted",withRewardName:!0})]})]}),V&&!H&&(0,i.jsx)(Z.Z,{autoplay:L,className:O.rewardTileWithInstructions,quest:I,questContent:g.jn.ACTIVITY_PANEL,location:b.dr.ACTIVITY_PANEL,taskDetails:W}),(0,i.jsxs)("div",{className:O.ctas,children:[!V&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.zxk,{className:O.cta,color:d.zxk.Colors.PRIMARY,fullWidth:!0,size:d.zxk.Sizes.SMALL,onClick:U,children:y.intl.string(y.t.LLLLPD)}),(0,i.jsx)(d.zxk,{className:O.cta,color:d.zxk.Colors.BRAND,fullWidth:!0,onClick:M,size:d.zxk.Sizes.SMALL,submitting:N,children:y.intl.string(y.t.l7E81t)})]}),V&&!H&&(0,i.jsx)(d.zxk,{className:O.cta,color:d.zxk.Colors.BRAND,fullWidth:!0,onClick:k,size:d.zxk.Sizes.SMALL,children:y.intl.string(y.t.VN1Ajo)}),H&&(0,i.jsx)(d.zxk,{className:O.cta,color:d.zxk.Colors.BRAND,fullWidth:!0,onClick:G,size:d.zxk.Sizes.SMALL,children:y.intl.string(y.t.cfY4PD)})]})]})}let j=function(e){return(0,i.jsx)(N.A,{questOrQuests:e.quest,questContent:g.jn.ACTIVITY_PANEL,children:t=>(0,i.jsx)(R,{nodeRef:t,...e})})}},432496:function(e,t,n){n.d(t,{Z:()=>u});var i=n(442837),l=n(570140),r=n(749210);let a={},s=0;function o(e){var t,n;return null!==(n=null===(t=a[e])||void 0===t?void 0:t.fetchState)&&void 0!==n?n:0}function d(){a={}}class c extends i.ZP.Store{isFetchingFriendsForGuild(e){return 1===o(e)}fetchFriendMembersIfNotFetched(e,t){0===o(e)&&(a[e]={fetchState:1,foundMembers:0,notFoundMembers:0},s=t.length,r.Z.requestMembersById(e,t,!1))}}let u=new c(l.Z,{CONNECTION_OPEN:d,LOGOUT:d,RELATIONSHIP_ADD:d,RELATIONSHIP_REMOVE:d,GUILD_MEMBERS_CHUNK_BATCH:function(e){var t,n;let i=e.chunks[0],{guildId:l}=i;1===o(l)&&(a[l].foundMembers+=i.members.length,a[l].notFoundMembers+=null!==(n=null===(t=i.notFound)||void 0===t?void 0:t.length)&&void 0!==n?n:0,a[l].foundMembers+a[l].notFoundMembers>=s&&(a[l].fetchState=2))}})},914946:function(e,t,n){n.d(t,{FJ:()=>ei,RE:()=>G,S5:()=>X,T5:()=>V,Xb:()=>H,YK:()=>et,YS:()=>$,_J:()=>z,_f:()=>er,aE:()=>F,bu:()=>el,kb:()=>W,s9:()=>Y,t9:()=>Q,tr:()=>en,vv:()=>ee,zM:()=>K,zy:()=>q}),n(47120),n(653041),n(411104),n(757143),n(789020),n(392711);var i,l,r=n(729594),a=n(243814),s=n(544891),o=n(63023),d=n(433517),c=n(904245),u=n(155268),h=n(812206),m=n(454585),p=n(739566),g=n(695346),_=n(973616),f=n(131704),E=n(598077),I=n(592125),C=n(430824),N=n(131951),v=n(375954),T=n(158776),S=n(594174),A=n(979651),Z=n(70956),x=n(5192),b=n(226951),L=n(591759),y=n(996106),O=n(863141),P=n(186901),R=n(981631);let j=null!==(l=null===(i=L.Z.toURLSafe(window.GLOBAL_ENV.API_ENDPOINT))||void 0===i?void 0:i.host)&&void 0!==l?l:"localhost",D=function(){let e=j.split(":")[0];if(!e.includes("."))return e;let t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),w=new RegExp("^".concat(b.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(b.Z.escape(D),"|discordapp.com|discord.com)$")),M=1*Z.Z.Millis.MINUTE,k={};function U(e){return"customEmoji"===e.type&&(e.type="emoji"),"emoji"===e.type&&e.src&&(e.src=G(e.src)),Array.isArray(e.content)&&(e.content=e.content.map(U)),e}function G(e){return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function V(e,t){let n=[],i=e.getGuildId();return[R.d4z.GUILD_CATEGORY,...f.tx].includes(e.type)||n.push(new Promise(t=>{v.Z.whenReady(e.id,()=>t()),c.Z.fetchMessages({channelId:e.id,limit:R.AQB})})),Promise.all(n).then(()=>{var n;let l=(!e.isNSFW()||(null===(n=S.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed)===!0)&&t?v.Z.getMessages(e.id).toArray().map(H):[],r=Object.values(A.Z.getVoiceStatesForChannel(e.id)).map(t=>F(i,e.id,t));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:i,position:e.position,messages:l,voice_states:r}})}function H(e){let t=m.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(U),n=I.Z.getChannel(e.channel_id),i=null!=e.author?new E.Z(e.author):void 0,l=null!=e.author?(0,p.ij)(i,n):void 0;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:null==l?void 0:l.nick,author_color:null==l?void 0:l.colorString,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:null!=i?(0,O.Z)(i):void 0,pinned:e.pinned,type:e.type}}function F(e,t,n){let{mute:i,deaf:l,selfMute:r,selfDeaf:a,suppress:s,userId:o}=n,d=S.default.getUser(o);if(null==d)throw Error("Invalid user id: ".concat(o));return{nick:x.ZP.getName(e,t,d),mute:N.Z.isLocalMute(d.id),volume:N.Z.getLocalVolume(d.id),pan:N.Z.getLocalPan(d.id),voice_state:{mute:i,deaf:l,self_mute:r,self_deaf:a,suppress:s},user:(0,O.Z)(d)}}function z(e,t){return{type:e,user:(0,O.Z)(t),presence:{status:T.Z.getStatus(t.id,null),activity:null}}}function W(e,t){var n;return null==t?e:{...e,presence:{...e.presence,activity:null!==(n=T.Z.getApplicationActivity(e.user.id,t))&&void 0!==n?n:null}}}function Y(e){let t;if(null==e)return!1;let n=window.location.origin;if(e===n)return!0;try{t=r.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&!!(w.test(e)&&w.test(n))}function K(e,t,n){let i=C.Z.getGuild(e.getGuildId());return(null!=i?i.getApplicationId():e.getApplicationId())===t||n.indexOf(a.x.MESSAGES_READ)>-1}function q(e){switch(e){case R.hes.RTC_CONNECTED:case R.hes.RTC_CONNECTING:case R.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function X(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{instance:n,secrets:i,party:l}=e,r=0;n&&(r|=R.xjy.INSTANCE),(null==i?void 0:i.join)!=null&&(r|=R.xjy.JOIN);let a=g.cP.getSetting(),s=g.Ou.getSetting();return t?(r|=R.xjy.EMBEDDED,a&&(r|=R.xjy.PARTY_PRIVACY_FRIENDS),s&&(r|=R.xjy.PARTY_PRIVACY_VOICE_CHANNEL)):((null==l?void 0:l.privacy)===R.RYY.PUBLIC||d.K.get("ACTIVITIES_FORCE_PUBLIC"))&&(a&&(r|=R.xjy.PARTY_PRIVACY_FRIENDS),s&&(r|=R.xjy.PARTY_PRIVACY_VOICE_CHANNEL)),r}function Q(e,t,n){return e===R.mFx.JOIN&&null!=t&&null!=t.id&&null!=n.join}function J(e){return s.tn.get({url:R.ANM.APPLICATION_RPC(e),oldFormErrors:!0,retries:3,rejectWithError:!0}).then(e=>{let{body:t}=e;return t},()=>{throw new y.Z({closeCode:R.$VG.INVALID_CLIENTID},"Invalid Client ID")})}async function $(e,t,n){let i=h.Z.getApplication(t);if("string"==typeof n){if(e.transport===P.He.POST_MESSAGE){let e=(0,u.Z)(t);if(null==e||!B(n,[e]))throw new y.Z({closeCode:R.$VG.INVALID_ORIGIN},"Invalid Origin")}else{let e=await J(t);if(i=_.ZP.createFromServer(e),!B(n,e.rpc_origins))throw new y.Z({closeCode:R.$VG.INVALID_ORIGIN},"Invalid Origin")}}null==i&&(i=_.ZP.createFromServer(await J(t)));let{id:l,name:r,icon:a,coverImage:s,flags:o}=i;e.application={id:l,name:r,icon:a,coverImage:s,flags:o}}async function ee(e,t){let n=k[e];null==n&&(n=new o.Z(t?2:60,M),k[e]=n),await n.process()}function et(e,t){null==t&&(e.authorization.scopes=[P.lH])}function en(e){let t=N.Z.getSettings(),n=e=>Object.values(e).sort((e,t)=>e.index-t.index).map(e=>({id:e.id,name:e.name})),i=e(t);return{input:{available_devices:n(N.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(N.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:i,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function ei(e,t){let n=N.Z.getSettings(e),i=t(n);return{input_mode:{type:n.mode,shortcut:i},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function el(e){if(e!==P.He.POST_MESSAGE)throw new y.Z({errorCode:R.lTL.INVALID_COMMAND},'command not available from "'.concat(e," transport"))}function er(e){if(null==e.id)throw new y.Z({errorCode:R.lTL.INVALID_COMMAND},"Invalid application");return e.id}},238679:function(e,t,n){n.d(t,{KW:()=>m,dO:()=>h,gQ:()=>p});var i=n(392711),l=n.n(i),r=n(317381),a=n(16609),s=n(594174),o=n(823379),d=n(5192),c=n(863141),u=n(186901);function h(){let e=r.ZP.getCurrentEmbeddedActivity();if(null==e)return{participants:[]};let t=(0,a.jS)(e.location),n=(0,a.pY)(e.location);return{participants:Array.from(e.userIds,e=>{let i=s.default.getUser(e);if(null==i)return;let l=(0,d.y)(t,n,i);return{...(0,c.Z)(i),nickname:null!=l?l:void 0}}).filter(o.lm)}}let m={[u.Gp.ANY]:[u.wE]},p={scope:m,handler:()=>e=>{let{prevState:t,dispatch:n}=e,i=h();return l().isEqual(i,t)||n(i),i}}},452426:function(e,t,n){n.d(t,{Z:()=>i});function i(e){return e.object().unknown(!0)}},561205:function(e,t,n){n.d(t,{Z:()=>r});var i=n(317381),l=n(592125);function r(){let e=i.ZP.getConnectedActivityChannelId();return l.Z.getChannel(e)}},901077:function(e,t,n){n.d(t,{Z:()=>r});var i=n(981631);let l="<removed>";function r(e){var t,n;let r={...e};return"object"==typeof(t=r).args&&"string"==typeof t.cmd&&(r=function(e){switch(e.cmd){case i.Etm.AUTHENTICATE:case i.Etm.GET_PROVIDER_ACCESS_TOKEN:return{...e,args:{...e.args,access_token:l}};default:return{...e}}}(r)),"object"==typeof(n=r).data&&"string"==typeof n.cmd&&(r=function(e){switch(e.cmd){case i.Etm.AUTHENTICATE:case i.Etm.GET_PROVIDER_ACCESS_TOKEN:return{...e,data:{...e.data,access_token:l}};default:return{...e}}}(r)),r}},295424:function(e,t,n){n.d(t,{Z:()=>i});function i(e){return{name:e.name,id:e.id,icon:e.icon,cover_image:e.coverImage,type:e.type}}},222263:function(e,t,n){n.d(t,{Z:()=>l});var i=n(864106);function l(e){let{userId:t,nick:n,guildId:l,avatar:r,avatarDecoration:a,banner:s,bio:o,pronouns:d,colorString:c}=e;return{user_id:t,nick:n,guild_id:l,avatar:r,avatar_decoration_data:(0,i.FG)(a),banner:s,bio:o,pronouns:d,color_string:c}}},408841:function(e,t,n){n.d(t,{n:()=>r});var i=n(996106),l=n(981631);let r={handler(e){throw new i.Z({errorCode:l.lTL.INVALID_COMMAND},"Deprecated command: ".concat(e.cmd))}}},600027:function(e,t,n){n.d(t,{T:()=>d});var i=n(159300),l=n(430824),r=n(496675),a=n(996106),s=n(561205),o=n(981631);function d(){let e=(0,s.Z)();if(null==e)throw new a.Z({errorCode:o.lTL.INVALID_CHANNEL},"Invalid channel");let t=l.Z.getGuild(e.getGuildId());if(null==t)throw new a.Z({errorCode:o.lTL.INVALID_CHANNEL},"Invalid guild ".concat(e.getGuildId()));if(!(0,i.b)(r.Z,t,e))throw new a.Z({errorCode:o.lTL.INVALID_PERMISSIONS},"No invite permissions for ".concat(e.id));return{channel:e,guild:t}}},334288:function(e,t,n){n.d(t,{f:()=>a});var i=n(996106),l=n(186901),r=n(981631);function a(e){if(l.He.IPC!==e&&l.He.POST_MESSAGE!==e)throw new i.Z({errorCode:r.lTL.INVALID_COMMAND},"Invalid transport.")}},75556:function(e,t,n){n.d(t,{S:()=>a,V:()=>r});var i=n(818083),l=n(987338);let r=(0,i.B)({kind:"user",id:"2025-02_optimized_rpc_authorize",label:"Optimized RPC Authorization Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable optimized RPC authorization",config:{enabled:!0}}],commonTriggerPoint:l.$P.CONNECTION_OPEN});function a(){return r.getCurrentConfig({location:"isOptimizedRPCAuthorizeEnabled"}).enabled}},606271:function(e,t,n){n.d(t,{Z:()=>L}),n(47120);var i=n(392711),l=n.n(i),r=n(442837),a=n(570140),s=n(173439),o=n(176787),d=n(592125),c=n(271383),u=n(430824),h=n(131951),m=n(158776),p=n(19780),g=n(699516),_=n(944486),f=n(594174),E=n(979651),I=n(626135),C=n(823379),N=n(358085),v=n(914946),T=n(238679),S=n(863141),A=n(981631),Z=n(701488),x=n(65154);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L{loadServer(){for(let e of(N.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform(),this.transports))this.rpcServer.registerTransport(e);for(let[e,t]of Object.entries(this.rpcCommandHandlers))this.rpcServer.setCommandHandler(e,t);for(let[e,t]of Object.entries(this.rpcEventHandlers))this.rpcServer.setEventHandler(e,t)}init(){this.rpcServer.getCurrentUser=()=>f.default.getCurrentUser(),this.rpcServer.onConnect=async e=>{a.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application}),I.default.track(A.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport});let t=e.application.id;null!=t&&await (0,s.Zw)({applicationId:t,socketId:e.id})},this.rpcServer.onDisconnect=(e,t)=>{a.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};let e=[d.Z,c.ZP,m.Z,E.Z,h.Z,p.Z];new r.Fh(e.concat(this.stores),()=>this.rpcServer.updateSubscriptions()).attach("RPCServerManager"),a.Z.subscribe("MESSAGE_CREATE",this.handleMessage),a.Z.subscribe("MESSAGE_UPDATE",this.handleMessage),a.Z.subscribe("MESSAGE_DELETE",this.handleMessage),a.Z.subscribe("SPEAKING",this.handleSpeaking),a.Z.subscribe("OAUTH2_TOKEN_REVOKE",this.handleOAuth2TokenRevoke),a.Z.subscribe("GUILD_CREATE",this.handleGuildCreate),a.Z.subscribe("CHANNEL_CREATE",this.handleChannelCreate),a.Z.subscribe("LOGOUT",this.handleLogout),a.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),a.Z.subscribe("RPC_NOTIFICATION_CREATE",this.handleNotificationCreate),a.Z.subscribe("ACTIVITY_JOIN",this.handleActivityJoin),a.Z.subscribe("ACTIVITY_LAYOUT_MODE_UPDATE",this.handleActivityLayoutModeUpdate),a.Z.subscribe("THERMAL_STATE_CHANGE",this.handleThermalStateChange),a.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",this.handleScreenOrientationUpdate),a.Z.subscribe("EMBEDDED_ACTIVITY_UPDATE",this.handleEmbeddedActivityUpdate),a.Z.subscribe("RELATIONSHIP_ADD",this.handleRelationshipAdd),a.Z.subscribe("RELATIONSHIP_UPDATE",this.handleRelationshipUpdate),a.Z.subscribe("RELATIONSHIP_REMOVE",this.handleRelationshipRemove),a.Z.subscribe("PRESENCE_UPDATES",this.handlePresenceUpdates),a.Z.subscribe("PRESENCES_REPLACE",this.handlePresencesReplace),a.Z.subscribe("USER_UPDATE",this.handleUserUpdate),a.Z.subscribe("ENTITLEMENT_CREATE",this.handleEntitlementCreate),a.Z.subscribe("ENTITLEMENT_DELETE",this.handleEntitlementDelete)}terminate(){a.Z.unsubscribe("MESSAGE_CREATE",this.handleMessage),a.Z.unsubscribe("MESSAGE_UPDATE",this.handleMessage),a.Z.unsubscribe("MESSAGE_DELETE",this.handleMessage),a.Z.unsubscribe("SPEAKING",this.handleSpeaking),a.Z.unsubscribe("OAUTH2_TOKEN_REVOKE",this.handleOAuth2TokenRevoke),a.Z.unsubscribe("GUILD_CREATE",this.handleGuildCreate),a.Z.unsubscribe("CHANNEL_CREATE",this.handleChannelCreate),a.Z.unsubscribe("LOGOUT",this.handleLogout),a.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),a.Z.unsubscribe("RPC_NOTIFICATION_CREATE",this.handleNotificationCreate),a.Z.unsubscribe("ACTIVITY_JOIN",this.handleActivityJoin),a.Z.unsubscribe("ACTIVITY_LAYOUT_MODE_UPDATE",this.handleActivityLayoutModeUpdate),a.Z.unsubscribe("THERMAL_STATE_CHANGE",this.handleThermalStateChange),a.Z.unsubscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",this.handleScreenOrientationUpdate),a.Z.unsubscribe("EMBEDDED_ACTIVITY_UPDATE",this.handleEmbeddedActivityUpdate),a.Z.unsubscribe("RELATIONSHIP_ADD",this.handleRelationshipAdd),a.Z.unsubscribe("RELATIONSHIP_UPDATE",this.handleRelationshipUpdate),a.Z.unsubscribe("RELATIONSHIP_REMOVE",this.handleRelationshipRemove),a.Z.unsubscribe("PRESENCE_UPDATES",this.handlePresenceUpdates),a.Z.unsubscribe("PRESENCES_REPLACE",this.handlePresencesReplace),a.Z.unsubscribe("USER_UPDATE",this.handleUserUpdate),a.Z.unsubscribe("ENTITLEMENT_CREATE",this.handleEntitlementCreate),a.Z.unsubscribe("ENTITLEMENT_DELETE",this.handleEntitlementDelete)}constructor(e){b(this,"rpcServer",void 0),b(this,"transports",void 0),b(this,"rpcCommandHandlers",void 0),b(this,"rpcEventHandlers",void 0),b(this,"stores",void 0),b(this,"registerTransportsForEmbeddedPlatform",void 0),b(this,"handleMessage",e=>{let t,n,i;if(0===this.rpcServer.subscriptions.length)return;"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);let l=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=A.zMe.MESSAGE_CREATE,n=e.channelId,i=e.message,l="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=A.zMe.MESSAGE_UPDATE,n=e.message.channel_id,i=e.message;break;case"MESSAGE_DELETE":t=A.zMe.MESSAGE_DELETE,n=e.channelId,i={id:e.id},l="".concat(t).concat(e.id);break;default:return(0,C.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,v.Xb)(i)},l)}),b(this,"handleSpeaking",e=>{if(0===this.rpcServer.subscriptions.length)return;let t=0!==e.speakingFlags?A.zMe.SPEAKING_START:A.zMe.SPEAKING_STOP;if(e.context===x.Yn.DEFAULT){let n=_.Z.getVoiceChannelId();if(null!=n){let i=d.Z.getChannel(n);if(null==i)return;let l=E.Z.getVoiceState(i.getGuildId(),e.userId);if(null==l)return;this.rpcServer.dispatchToSubscriptions(t,{channel_id:l.channelId},{channel_id:l.channelId,user_id:e.userId})}}}),b(this,"handleVoiceChannelSelect",e=>{let{guildId:t,channelId:n}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(A.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})}),b(this,"handleNotificationCreate",e=>{let{channelId:t,message:n,icon:i,title:l,body:r}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(A.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,v.Xb)(n),icon_url:null!=i?(0,v.RE)(i):null,title:l,body:r})}),b(this,"handleActivityJoin",e=>{let{applicationId:t,secret:n,intent:i,embedded:l}=e;if(0===this.rpcServer.subscriptions.length)return;let r={secret:n};l&&(r.intent=i),this.rpcServer.dispatchToSubscriptions(A.zMe.ACTIVITY_JOIN,e=>e.socket.application.id===t,r),this.rpcServer.dispatchToSubscriptions(A.zMe.GAME_JOIN,e=>e.socket.application.id===t,r)}),b(this,"handleActivityLayoutModeUpdate",e=>{let{applicationId:t,layoutMode:n}=e;if(0===this.rpcServer.subscriptions.length)return;let i=n!==Z.cE.FOCUSED;this.rpcServer.dispatchToSubscriptions(A.zMe.ACTIVITY_PIP_MODE_UPDATE,e=>e.socket.application.id===t,{is_pip_mode:i}),this.rpcServer.dispatchToSubscriptions(A.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,e=>e.socket.application.id===t,{layout_mode:n})}),b(this,"handleThermalStateChange",e=>{let{applicationId:t}=e;if(0===this.rpcServer.subscriptions.length||null==t)return;let n={thermal_state:(0,o.bY)()};this.rpcServer.dispatchToSubscriptions(A.zMe.THERMAL_STATE_UPDATE,e=>e.socket.application.id===t,n)}),b(this,"handleScreenOrientationUpdate",e=>{let{screenOrientation:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(A.zMe.ORIENTATION_UPDATE,{},{screen_orientation:t})}),b(this,"handleEmbeddedActivityUpdate",()=>{if(0===this.rpcServer.subscriptions.length)return;let e=(0,T.dO)();this.rpcServer.dispatchToSubscriptions(A.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE,{},e)}),b(this,"handleActivityMessage",e=>{var t;let{channelId:n,message:i}=e;if(0===this.rpcServer.subscriptions.length)return;let{application:l,activity:r}=i;if(null==l||null==r||null==r.party_id)return;let a=f.default.getUser(null===(t=i.author)||void 0===t?void 0:t.id);if(null==a)return;let s=f.default.getCurrentUser();if(null==s||a.id===s.id)return;let o=r.type===A.mFx.JOIN_REQUEST?m.Z.getApplicationActivity(s.id,l.id):m.Z.getApplicationActivity(a.id,l.id);if(null==o||null==o.party||o.party.id!==r.party_id)return;let d=o.application_id;switch(r.type){case A.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(A.zMe.ACTIVITY_INVITE,e=>e.socket.application.id===d,{user:(0,S.Z)(a),activity:o,type:r.type,channel_id:n,message_id:i.id});break;case A.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(A.zMe.ACTIVITY_JOIN_REQUEST,e=>e.socket.application.id===d,{user:(0,S.Z)(a)})}}),b(this,"handleOAuth2TokenRevoke",e=>{let{accessToken:t}=e;this.rpcServer.sockets.forEach(e=>{e.authorization.accessToken===t&&e.close(A.$VG.TOKEN_REVOKED,"Token revoked")})}),b(this,"handleGuildCreate",e=>{let{guild:{id:t}}=e,n=u.Z.getGuild(t);0!==this.rpcServer.subscriptions.length&&null!=n&&this.rpcServer.dispatchToSubscriptions(A.zMe.GUILD_CREATE,{},{id:t,name:n.name})}),b(this,"handleChannelCreate",e=>{let{channel:{id:t,name:n,type:i}}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(A.zMe.CHANNEL_CREATE,{},{id:t,name:n,type:i})}),b(this,"handleLogout",()=>{this.rpcServer.sockets.forEach(e=>e.close(A.$VG.CLOSE_NORMAL,"User logout"))}),b(this,"handleRelationshipAdd",e=>{let{relationship:{id:t,type:n}}=e;if(0===this.rpcServer.subscriptions.length)return;let i=f.default.getUser(t);if(null==i)return;let l=(0,v._J)(n,i);this.rpcServer.dispatchToSubscriptions(A.zMe.RELATIONSHIP_UPDATE,{},e=>(0,v.kb)(l,e.socket.application.id))}),b(this,"handleRelationshipUpdate",e=>{let{relationship:{id:t,type:n}}=e;if(0===this.rpcServer.subscriptions.length)return;let i=f.default.getUser(t);if(null==i)return;let l=(0,v._J)(n,i);this.rpcServer.dispatchToSubscriptions(A.zMe.RELATIONSHIP_UPDATE,{},e=>(0,v.kb)(l,e.socket.application.id))}),b(this,"handleRelationshipRemove",e=>{let{relationship:{id:t}}=e;if(0===this.rpcServer.subscriptions.length)return;let n=f.default.getUser(t);if(null==n)return;let i=(0,v._J)(A.OGo.NONE,n);this.rpcServer.dispatchToSubscriptions(A.zMe.RELATIONSHIP_UPDATE,{},e=>(0,v.kb)(i,e.socket.application.id))}),b(this,"handlePresenceUpdates",e=>{let{updates:t}=e;if(0!==this.rpcServer.subscriptions.length)for(let e of new Set(t.map(e=>{let{user:t}=e;return t.id})).values()){let t=g.Z.getRelationshipType(e);if(t===A.OGo.NONE)continue;let n=f.default.getUser(e);if(null==n)continue;let i=(0,v._J)(t,n);this.rpcServer.dispatchToSubscriptions(A.zMe.RELATIONSHIP_UPDATE,{},e=>(0,v.kb)(i,e.socket.application.id))}}),b(this,"handlePresencesReplace",()=>{0!==this.rpcServer.subscriptions.length&&l().forEach(g.Z.getRelationships(),(e,t)=>{if(e===A.OGo.NONE)return;let n=f.default.getUser(t);if(null==n)return;let i=(0,v._J)(e,n);this.rpcServer.dispatchToSubscriptions(A.zMe.RELATIONSHIP_UPDATE,{},e=>(0,v.kb)(i,e.socket.application.id))})}),b(this,"handleUserUpdate",e=>{let{user:{id:t}}=e;if(0===this.rpcServer.subscriptions.length)return;let n=g.Z.getRelationshipType(t);if(n===A.OGo.NONE)return;let i=f.default.getUser(t);if(null==i)return;let l=(0,v._J)(n,i);this.rpcServer.dispatchToSubscriptions(A.zMe.RELATIONSHIP_UPDATE,{},e=>(0,v.kb)(l,e.socket.application.id))}),b(this,"handleEntitlementCreate",e=>{let{entitlement:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(A.zMe.ENTITLEMENT_CREATE,e=>e.socket.application.id===t.application_id,{entitlement:t})}),b(this,"handleEntitlementDelete",e=>{let{entitlement:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(A.zMe.ENTITLEMENT_DELETE,e=>e.socket.application.id===t.application_id,{entitlement:t})}),this.rpcServer=e.server,this.transports=e.transports,this.rpcCommandHandlers=e.commands,this.rpcEventHandlers=e.events,this.stores=e.stores,this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}}},703912:function(e,t,n){n.d(t,{Z:()=>L}),n(47120),n(789020),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648);var i=n(664751),l=n(373793),r=n(243814),a=n(149765),s=n(544891),o=n(45792),d=n(433517),c=n(570140),u=n(812206),h=n(979200),m=n(489863),p=n(166148),g=n(307643),_=n(973616),f=n(594174),E=n(630388),I=n(700785),C=n(996106),N=n(75556),v=n(186901),T=n(981631);let S="CachedTokens";function A(e,t,n){return(0,N.S)()?Z(e,t,n):x(e,t,n)}async function Z(e,t,n){let i,r,s,o,d,{client_id:c,response_type:u="code",redirect_uri:g,code_challenge:_,code_challenge_method:N,state:v,nonce:S,scope:A,permissions:Z,guild_id:x,channel_id:b,prompt:L,disable_guild_select:y,integration_type:O,pid:P,signal:R}=e;if(null==R?void 0:R.aborted)throw new C.Z({errorCode:T.lTL.UNKNOWN_ERROR},"Request aborted");if(null==c)throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"No Client ID provided");if(null!=g)throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");let j=[];if("string"==typeof A?j=A.split(" ").filter(e=>e.length>0):Array.isArray(A)&&(j=A),null==f.default.getCurrentUser())throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"Client is not logged in");null!=O&&(r=Number(O));try{[s,{disclosures:o,allAcked:d}]=await Promise.all([(0,m.Ww)({clientId:c,scopes:j,responseType:u,redirectUri:g,codeChallenge:_,codeChallengeMethod:N,state:v,integrationType:r,signal:R}),(0,h.de)(c)])}catch(t){let{body:e}=t;throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}if(null==r){var D;r=null!=s.application.flags&&(0,E.yE)(s.application.flags,T.udG.EMBEDDED)&&(null===(D=s.application.integration_types_config)||void 0===D?void 0:D[l.Y.USER_INSTALL])!=null?l.Y.USER_INSTALL:l.Y.GUILD_INSTALL}if(L===p.s.NONE&&null!=s&&s.authorized&&d)try{return(await (0,m.Iq)({authorize:!0,clientId:c,scopes:j,responseType:u,redirectUri:g,codeChallenge:_,codeChallengeMethod:N,state:v,nonce:S,integrationType:r})).location}catch(t){let{body:e}=t;throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Authorize Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}null==n||n(s.application,b,P);let w=I.Hn;try{w=a.vB(null!=Z?Z:0)}catch(e){}return null!=s.integration_type&&Object.values(l.Y).includes(s.integration_type)&&(i=new Map).set(s.integration_type,s),t({clientId:c,authorizations:i,scopes:j,parsedPermissions:w,responseType:u,redirectUri:g,codeChallenge:_,codeChallengeMethod:N,state:v,guildId:x,channelId:b,prompt:L,disableGuildSelect:y,disclosures:o,integrationType:r,pid:P})}async function x(e,t,n){var i,r,s,o;let d;let c,N,v,S,{client_id:A,response_type:Z="code",redirect_uri:x,code_challenge:b,code_challenge_method:L,state:y,nonce:O,scope:P,permissions:R,guild_id:j,channel_id:D,prompt:w,disable_guild_select:M,integration_type:k,pid:U,signal:G}=e;if(null==G?void 0:G.aborted)throw new C.Z({errorCode:T.lTL.UNKNOWN_ERROR},"Request aborted");if(null==A)throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"No Client ID provided");if(null!=x)throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");let B=[];if("string"==typeof P?B=P.split(" ").filter(e=>e.length>0):Array.isArray(P)&&(B=P),null==f.default.getCurrentUser())throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"Client is not logged in");let V=null!==(r=u.Z.getApplication(A))&&void 0!==r?r:null;(null==V||(s=V.id,(null!==(o=u.Z.getApplicationLastUpdated(s))&&void 0!==o?o:0)<Date.now()-5e3))&&(V=_.ZP.createFromServer(await (0,g.UM)(A,G)));let H=null!=V&&(0,E.yE)(V.flags,T.udG.EMBEDDED)&&(null===(i=V.integrationTypesConfig)||void 0===i?void 0:i[l.Y.USER_INSTALL])!=null;c=null==k?H?l.Y.USER_INSTALL:l.Y.GUILD_INSTALL:Number(k);try{N=await (0,m.Ww)({clientId:A,scopes:B,responseType:Z,redirectUri:x,codeChallenge:b,codeChallengeMethod:L,state:y,integrationType:c,signal:G})}catch(t){let{body:e}=t;throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}try{({disclosures:v,allAcked:S}=await (0,h.de)(N.application.id))}catch(t){let{body:e}=t;throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}if(w===p.s.NONE&&null!=N&&N.authorized&&S)try{return(await (0,m.Iq)({authorize:!0,clientId:A,scopes:B,responseType:Z,redirectUri:x,codeChallenge:b,codeChallengeMethod:L,state:y,nonce:O,integrationType:c})).location}catch(t){let{body:e}=t;throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Authorize Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}null==n||n(N.application,D,U);let F=I.Hn;try{F=a.vB(null!=R?R:0)}catch(e){}return null!=N.integration_type&&Object.values(l.Y).includes(N.integration_type)&&(d=new Map).set(N.integration_type,N),t({clientId:A,authorizations:d,scopes:B,parsedPermissions:F,responseType:Z,redirectUri:x,codeChallenge:b,codeChallengeMethod:L,state:y,guildId:j,channelId:D,prompt:w,disableGuildSelect:M,disclosures:v,integrationType:c,pid:U})}function b(e,t){if(e.authorization.accessToken)throw new C.Z({errorCode:T.lTL.INVALID_COMMAND},"Already authenticated");if(e.authorization.authing)throw new C.Z({errorCode:T.lTL.INVALID_COMMAND},"Already authenticating");return e.authorization.authing=!0,s.tn.get({url:T.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0,rejectWithError:!1}).then(n=>{e.authorization.authing=!1;let{application:i,user:l,scopes:r,expires:a}=n.body;if(e.application.id!==i.id)throw new C.Z({errorCode:T.lTL.INVALID_CLIENTID},"Application does not match the connection's");let s=f.default.getCurrentUser();if(null==s||!l||s.id!==l.id)throw new C.Z({errorCode:T.lTL.INVALID_TOKEN},"Token does not match current user");return e.authorization.scopes=[...e.authorization.scopes,...r,v.wE],e.authorization.accessToken=t,e.authorization.expires=new Date(a),c.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application}),{...n.body,access_token:t}},()=>{throw new C.Z({errorCode:T.lTL.INVALID_TOKEN},"Invalid access token: ".concat(t))}).catch(t=>{throw e.authorization.authing=!1,t})}function L(e,t){return{[T.Etm.AUTHENTICATE]:(0,o.S)(T.Etm.AUTHENTICATE,{handler(n){let{socket:l,signal:a,args:{access_token:s}}=n;if(null==s&&l.transport===v.He.IPC){let n=l.application.id;if(null==n)throw new C.Z({errorCode:T.lTL.INVALID_COMMAND},"No application.");let o=r.x.IDENTIFY,c=()=>A({client_id:n,scope:o,response_type:"token",signal:a},e,t).then(e=>{if(null==e)throw new C.Z({errorCode:T.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=e.split(/#|\?/),r=i.parse(t[t.length-1]);if(null!=r.error){var a;throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(r.error,": ").concat(null!==(a=r.error_description)&&void 0!==a?a:"unknown error"))}return!function(e,t,n,i){var l;let r=null!==(l=d.K.get(S))&&void 0!==l?l:{};r[e]={accessToken:t,scope:n,expires:Date.now()+i},d.K.set(S,r)}(n,r.access_token,r.scope,r.expires_in),b(l,r.access_token)});return null!=(s=function(e,t){let n=d.K.get(S);if(null!=n&&null!=n[e]){let i=n[e];if(!(i.scope!==t||i.expires<=Date.now()))return i.accessToken;delete n[e],d.K.set(S,n)}}(n,o))?b(l,s).catch(()=>(!function(e){var t;let n=null!==(t=d.K.get(S))&&void 0!==t?t:{};delete n[e],d.K.set(S,n)}(n),c())):c()}if(null==s)throw new C.Z({errorCode:T.lTL.INVALID_TOKEN},"No access token provided");return b(l,s)}}),[T.Etm.AUTHORIZE]:{handler(n){let{socket:i,signal:l,args:r}=n,a=r.client_id;if(!a)throw new C.Z({errorCode:T.lTL.INVALID_CLIENTID},"No client id provided");if(null!=i.authorization.accessToken)throw new C.Z({errorCode:T.lTL.INVALID_COMMAND},"Already authenticated");if(i.authorization.authing)throw new C.Z({errorCode:T.lTL.INVALID_COMMAND},"Already authing");if(i.authorization.authing=!0,"token"===r.response_type)throw new C.Z({errorCode:T.lTL.INVALID_COMMAND},'Authorization response_type "token" is not supported');return((0,N.S)()?Promise.resolve({body:{id:a}}):s.tn.get({url:T.ANM.APPLICATION_RPC(a),oldFormErrors:!0,signal:l,rejectWithError:!1})).then(n=>{let a=n.body;if(i.application.id!==a.id)throw new C.Z({errorCode:T.lTL.INVALID_CLIENTID},"Application does not match the connection's");let s=r.scopes||r.scope;return delete r.scopes,A({...r,scope:s,signal:l},e,t)},()=>{throw new C.Z({errorCode:T.lTL.INVALID_CLIENTID},"Invalid client id: ".concat(a))}).then(e=>{if(i.authorization.authing=!1,null==e)throw new C.Z({errorCode:T.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=new URL(e),n=t.searchParams.get("error");if(null!=n&&""!==n){var l;let e=null!==(l=t.searchParams.get("error_description"))&&void 0!==l?l:"unknown error";throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(n,": ").concat(e))}let r=t.searchParams.get("code");if(null==r)throw new C.Z({errorCode:T.lTL.OAUTH2_ERROR},"OAuth2 Error: Unable to find auth code");return{code:r}}).catch(e=>{throw i.authorization.authing=!1,e})}}}}},894959:function(e,t,n){n.d(t,{Z:()=>s});var i=n(45792),l=n(914946),r=n(238679),a=n(981631);let s={[a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:(0,i.S)(a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS,{scope:r.KW,handler(e){let{socket:t}=e;return(0,l.bu)(t.transport),(0,r.dO)()}})}},624714:function(e,t,n){n.d(t,{Z:()=>_}),n(47120),n(789020);var i=n(544891),l=n(115130),r=n(287545),a=n(812206),s=n(695103),o=n(626135),d=n(630388),c=n(996106),u=n(914946),h=n(452426),m=n(561205),p=n(186901),g=n(981631);let _={[g.Etm.SEND_ANALYTICS_EVENT]:{validation:e=>(0,h.Z)(e).required().keys({event_name:e.string().required(),event_properties:(0,h.Z)(e).required()}),handler(e){var t;let{socket:n,args:{event_name:i,event_properties:l}}=e;(0,u.bu)(n.transport),(0,u._f)(n.application);let s=n.application.id,h=(0,m.Z)(),p=null==h?void 0:h.getGuildId();if(null==h)throw new c.Z({errorCode:g.lTL.INVALID_COMMAND},"Invalid channel");let _=a.Z.getApplication(s);if(!(0,d.yE)(null!==(t=null==_?void 0:_.flags)&&void 0!==t?t:0,g.udG.EMBEDDED_FIRST_PARTY))throw new c.Z({errorCode:g.lTL.INVALID_COMMAND},"This application cannot access this API");let f=(0,r.U)(s),E={activity_application_id:s,activity_channel_type:h.type,activity_guild_id:p,activity_user_session_id:null==f?void 0:f.activityUserSessionId};o.default.track(i,{...E,...l})}},[g.Etm.GET_APPLICATION_TICKET]:{scope:p.lH,handler(e){let{socket:t}=e,n=t.application.id;if(null==n)throw new c.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");return i.tn.post({url:g.ANM.APPLICATION_TICKET(n),body:{test_mode:s.Z.inTestModeForApplication(n)||l.Z.inDevModeForApplication(n)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t})}}}},906228:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(243814),l=n(120960),r=n(996106),a=n(452426),s=n(186901),o=n(981631),d=n(65154);let c={[o.Etm.SET_CERTIFIED_DEVICES]:{scope:{[s.Gp.ANY]:[i.x.RPC,s.lH]},validation:e=>(0,a.Z)(e).required().keys({devices:e.array().items((0,a.Z)(e).keys({type:e.string().required().valid([d.h7.AUDIO_INPUT,d.h7.AUDIO_OUTPUT,d.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),model:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))}),handler(e){let{socket:t,args:{devices:n}}=e;if(null==t.application.id)throw new r.Z({errorCode:o.lTL.INVALID_COMMAND},"No application.");(0,l.N)(t.application.id,n.map(e=>({type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter(e=>n.some(t=>t.id===e)),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute})))}}}},491327:function(e,t,n){n.d(t,{Z:()=>v}),n(47120);var i=n(392711),l=n.n(i),r=n(243814),a=n(447543),s=n(287734),o=n(703656),d=n(131704),c=n(592125),u=n(430824),h=n(496675),m=n(944486),p=n(979651),g=n(934415),_=n(996106),f=n(914946),E=n(452426),I=n(561205),C=n(186901),N=n(981631);let v={[N.Etm.GET_CHANNEL]:{scope:{[C.Gp.ANY]:[r.x.RPC,r.x.GUILDS,r.x.GUILDS_CHANNELS_READ]},handler(e){let{args:{channel_id:t},socket:n}=e,i=c.Z.getChannel(t);if(null==i)throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));if(i.isPrivate()){let e=n.authorization.scopes;if(!e.includes(r.x.RPC)&&!e.includes(r.x.DM_CHANNELS_READ))throw new _.Z({errorCode:N.lTL.INVALID_PERMISSIONS},"Invalid scope")}return(0,f.T5)(i,(0,f.zM)(i,n.application.id,n.authorization.scopes))}},[N.Etm.GET_CHANNELS]:{scope:r.x.RPC,handler(e){let{args:{guild_id:t}}=e,n=l().values(c.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){let e=u.Z.getGuild(t);if(null==e)throw new _.Z({errorCode:N.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));n=n.filter(t=>{let{guild_id:n}=t;return n===e.id})}return{channels:n.filter(e=>h.Z.can(N.Plq.VIEW_CHANNEL,e)).map(e=>{let{id:t,name:n,type:i}=e;return{id:t,name:n,type:i}})}}},[N.Etm.GET_CHANNEL_PERMISSIONS]:{scope:{[C.Gp.ANY]:[r.x.GUILDS_MEMBERS_READ,r.x.GUILDS_CHANNELS_READ]},handler(e){let t=(0,I.Z)();if(null==t)throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"Invalid channel");return{permissions:h.Z.computePermissions(t)}}},[N.Etm.SELECT_VOICE_CHANNEL]:{scope:r.x.RPC,validation:e=>(0,E.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean(),navigate:e.boolean()}),handler(e){let{server:t,socket:n,args:{channel_id:i,timeout:l=0,force:r=!1,navigate:a=!1}}=e;if(!i)return s.default.selectVoiceChannel(null),null;let E=m.Z.getVoiceChannelId();if(null!=E&&E!==i&&!1===r)throw new _.Z({errorCode:N.lTL.SELECT_VOICE_FORCE_REQUIRED},"User is already joined to a voice channel.");return t.storeWait(n,()=>c.Z.getChannel(i),l).catch(()=>{throw new _.Z({errorCode:N.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select voice channel timed out.")}).then(e=>{if(null==e)throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(i));if(!(0,d.vd)(e.type))throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,f.T5)(e,(0,f.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id){if((0,g.rY)(t,p.Z,u.Z))throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"Channel is full");if(!h.Z.can(N.Plq.CONNECT,t))throw new _.Z({errorCode:N.lTL.INVALID_PERMISSIONS},"Connect permission required to join channel")}return s.default.selectVoiceChannel(t.id),a&&(0,o.dL)(N.Z5c.CHANNEL(t.guild_id,t.id)),n})}},[N.Etm.GET_SELECTED_VOICE_CHANNEL]:{scope:{[C.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},handler(e){let{socket:t}=e,n=m.Z.getVoiceChannelId(),i=null!=n?c.Z.getChannel(n):null;return null!=i?(0,f.T5)(i,(0,f.zM)(i,t.application.id,t.authorization.scopes)):null}},[N.Etm.SELECT_TEXT_CHANNEL]:{scope:r.x.RPC,validation:e=>(0,E.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)}),handler(e){let{server:t,socket:n,args:{channel_id:i,timeout:l=0}}=e;return i?t.storeWait(n,()=>c.Z.getChannel(i),l).catch(()=>{throw new _.Z({errorCode:N.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select text channel timed out.")}).then(e=>{if(null==e)throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(i));if(!(0,d.Qm)(e.type))throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,f.T5)(e,(0,f.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id&&!h.Z.can(N.Plq.VIEW_CHANNEL,t))throw new _.Z({errorCode:N.lTL.INVALID_CHANNEL},"No permission to see channel");return n.guild_id?(0,o.dL)(N.Z5c.CHANNEL(n.guild_id,t.id)):s.default.selectPrivateChannel(t.id),n}):((0,o.uL)(N.Z5c.ME),null)}},[N.Etm.CREATE_CHANNEL_INVITE]:{scope:r.x.RPC,handler(e){let{args:{channel_id:t,...n}}=e;return a.Z.createInvite(t,n,"RPC").catch(()=>{throw new _.Z({errorCode:N.lTL.INVALID_PERMISSIONS},"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))})}}}},934993:function(e,t,n){n.d(t,{Z:()=>o}),n(47120);var i=n(570140),l=n(996106),r=n(452426),a=n(186901),s=n(981631);let o={[s.Etm.SET_CONFIG]:{scope:a.wE,validation:e=>(0,r.Z)(e).required().keys({use_interactive_pip:e.boolean()}),handler(e){let{socket:t,args:{use_interactive_pip:n}}=e;if(t.transport!==a.He.POST_MESSAGE)throw new l.Z({errorCode:s.lTL.INVALID_COMMAND},'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new l.Z({errorCode:s.lTL.INVALID_COMMAND},"invalid application");return i.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}}),Promise.resolve({use_interactive_pip:n})}}}},576027:function(e,t,n){n.d(t,{A:()=>T});var i=n(894959),l=n(624714),r=n(906228),a=n(491327),s=n(934993),o=n(793839),d=n(758177),c=n(853678),u=n(378410),h=n(468136),m=n(64974),p=n(83567),g=n(906911),_=n(647656),f=n(918940),E=n(265067),I=n(881393),C=n(905534),N=n(273487),v=n(543815);let T={...l.Z,...r.Z,...a.Z,...s.Z,...o.Z,...d.Z,...c.Z,...u.Z,...h.Z,...p.Z,...g.Z,..._.Z,...f.Z,...I.Z,...C.Z,...v.Z,...N.Z,...m.Z,...E.Z,...i.Z}},793839:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(392711),l=n.n(i),r=n(243814),a=n(430824),s=n(996106),o=n(452426),d=n(981631);let c={[d.Etm.GET_GUILD]:{scope:r.x.RPC,validation:e=>(0,o.Z)(e).required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)}),handler(e){let{socket:t,server:n,args:{guild_id:i,timeout:l=0}}=e;return n.storeWait(t,()=>a.Z.getGuild(i),l).catch(()=>{throw new s.Z({errorCode:d.lTL.GET_GUILD_TIMED_OUT},"Request to get guild timed out.")}).then(e=>{var t;if(null==e)throw new s.Z({errorCode:d.lTL.INVALID_GUILD},"Invalid guild id: ".concat(i));return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}})}},[d.Etm.GET_GUILDS]:{scope:r.x.RPC,handler(){let e=a.Z.getGuilds();return{guilds:l().map(e,e=>({id:e.id,name:e.name,icon_url:e.getIconURL(128)}))}}}}},758177:function(e,t,n){n.d(t,{Z:()=>c}),n(47120);var i=n(594174),l=n(768581),r=n(956664),a=n(996106),s=n(452426),o=n(186901),d=n(981631);let c={[d.Etm.GET_IMAGE]:{scope:o.lH,validation:e=>(0,s.Z)(e).required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])}),handler(e){let t,{args:{type:n,id:s,format:o="png",size:c=128}}=e;if("user"===n){let e=i.default.getUser(s);if(null!=e){t=l.ZP.getUserAvatarURL(e,!1,c,o);let n=window.GLOBAL_ENV.CDN_HOST;null!=n&&-1!==t.indexOf(n)&&(t+="&_=")}else throw new a.Z({errorCode:d.lTL.INVALID_USER},"Invalid user id: ".concat(s))}if(null==t)throw new a.Z({errorCode:d.lTL.INVALID_COMMAND},"No valid type.");return fetch(t).then(e=>e.blob()).then(e=>(0,r.fD)(e)).then(e=>({data_url:e}))}}}},853678:function(e,t,n){n.d(t,{Z:()=>S}),n(47120),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648),n(789020);var i=n(45792),l=n(230711),r=n(782568),a=n(636449),s=n(317381),o=n(611577),d=n(840074),c=n(16609),u=n(812206),h=n(12647),m=n(630388),p=n(49012),g=n(358085),_=n(996106),f=n(914946),E=n(452426),I=n(561205),C=n(186901),N=n(981631),v=n(701488);let T=new Set([v.Fu,v.JT]),S={[N.Etm.OPEN_EXTERNAL_LINK]:{scope:{[C.Gp.ANY]:[C.wE,C.b_]},validation:e=>(0,E.Z)(e).required().keys({url:e.string().required()}),handler(e){let{socket:t,args:{url:n}}=e;(0,f.bu)(t.transport);try{let e=new URL(n).toString();if(g.isPlatformEmbedded){let e=(0,a.R)()?N.KJ3.ACTIVITY_POPOUT:null;h.Z.focus(e,!0)}let t=s.ZP.getCurrentEmbeddedActivity(),i=u.Z.getApplication(null==t?void 0:t.applicationId),l=(0,c.pY)(null==t?void 0:t.location);return new Promise(t=>(0,p.q)({href:e,shouldConfirm:!0,onConfirm:()=>{(0,r.Z)(e),t({opened:!0})},onCancel:()=>{t({opened:!1})}},void 0,void 0,(0,o.z)({application:i,channelId:l})))}catch(e){throw new _.Z({errorCode:N.lTL.INVALID_COMMAND},"Invalid URL: ".concat(n))}}},[N.Etm.NAVIGATE_TO_CONNECTIONS]:{validation:e=>(0,E.Z)(e),scope:{[C.Gp.ANY]:[C.wE]},handler(e){let{socket:t}=e;(0,f.bu)(t.transport);let n=(0,f._f)(t.application);if(!T.has(n))throw new _.Z({errorCode:N.lTL.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");l.Z.open(N.oAB.CONNECTIONS)}},[N.Etm.SHARE_LINK]:(0,i.S)(N.Etm.SHARE_LINK,{scope:{[C.Gp.ANY]:[C.wE]},handler(e){var t;let{socket:n,args:{referrer_id:i,custom_id:l,message:r}}=e;(0,f.bu)(n.transport);let a=(0,f._f)(n.application);if(null==a)throw new _.Z({errorCode:N.lTL.INVALID_COMMAND},"No application.");let s=(0,I.Z)();if(null==s)throw new _.Z({errorCode:N.lTL.INVALID_COMMAND},"No channel found");if(!(0,m.yE)(null!==(t=n.application.flags)&&void 0!==t?t:0,N.udG.EMBEDDED))throw new _.Z({errorCode:N.lTL.INVALID_COMMAND},"This application cannot access this API");return new Promise(e=>{(0,d._)({applicationId:a,channelId:s.id,launchParams:{referrerId:i,customId:l},message:r,onShare:t=>{e({success:t})}})})}})}},378410:function(e,t,n){n.d(t,{Z:()=>o}),n(47120);var i=n(710845),l=n(914946),r=n(452426),a=n(981631);let s=new i.Z(a.BZL),o={[a.Etm.CAPTURE_LOG]:{validation:e=>(0,r.Z)(e).required().keys({level:e.string().max(10).required(),message:e.string().max(1e3).required()}),handler(e){let{socket:t,args:{level:n,message:i}}=e;(0,l.bu)(t.transport);let r=t.application.id,a="".concat(r," - ").concat(i);switch(n){case"log":s.log(a);break;case"warn":s.warn(a);break;case"debug":s.verbose(a);break;case"info":s.info(a);break;case"error":s.error(a)}}}}},468136:function(e,t,n){n.d(t,{Z:()=>s}),n(47120);var i=n(544891),l=n(626135),r=n(186901),a=n(981631);let s={[a.Etm.GET_NETWORKING_CONFIG]:{scope:r.lH,handler:()=>Promise.all([i.tn.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3,rejectWithError:!1}).then(e=>{let{body:{address:t}}=e;return t}),i.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:{token:t}}=e;return t})]).then(e=>{let[t,n]=e;return{address:t,token:n}})},[a.Etm.NETWORKING_SYSTEM_METRICS]:{scope:r.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,l.default.track(a.rMx.NETWORKING_SYSTEM_METRICS,n)}},[a.Etm.NETWORKING_PEER_METRICS]:{scope:r.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,l.default.track(a.rMx.NETWORKING_PEER_METRICS,n)}},[a.Etm.NETWORKING_CREATE_TOKEN]:{scope:r.lH,handler:()=>i.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0,rejectWithError:!1}).then(e=>e.body)}}},64974:function(e,t,n){n.d(t,{Z:()=>i});let i={[n(231338).Et.GET_PLATFORM_BEHAVIORS]:{handler:()=>({iosKeyboardResizesView:!0})}}},83567:function(e,t,n){n.d(t,{Z:()=>f}),n(47120);var i=n(570140),l=n(457330),r=n(726542),a=n(231757),s=n(553795),o=n(585483),d=n(996106),c=n(914946),u=n(452426),h=n(186901),m=n(981631),p=n(701488),g=n(231338);let _=new Set([p.Fu,p.JT]),f={[g.Et.GET_PROVIDER_ACCESS_TOKEN]:{scope:{[h.Gp.ANY]:[h.wE]},validation:e=>(0,u.Z)(e).required().keys({provider:e.string().required(),connection_redirect:e.string()}),handler:e=>{let{socket:t,args:{provider:n,connection_redirect:u}}=e;(0,c.bu)(t.transport);let h=(0,c._f)(t.application),p=r.Z.get(n);if(null==p)throw new d.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===m.ABu.AMAZON_MUSIC){if(!_.has(h))throw new d.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new d.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");return new Promise(async(e,t)=>{let r=s.Z.getAccount(null,n);if(null==r){function c(t){var n;if(null==p)return;let i=(null!==(n=t.accounts)&&void 0!==n?n:[]).find(e=>e.type===p.type);null!=i&&(e({access_token:i.access_token}),_())}function h(){t(new d.Z({errorCode:g.lT.OAUTH2_ERROR},'OAuth2 setup for "'.concat(n,'" failed'))),_()}function _(){i.Z.unsubscribe("USER_CONNECTIONS_UPDATE",c),o.S.unsubscribe(m.CkL.CONNECTIONS_CALLBACK_ERROR,h)}i.Z.subscribe("USER_CONNECTIONS_UPDATE",c),o.S.subscribe(m.CkL.CONNECTIONS_CALLBACK_ERROR,h),(0,a.Z)({platformType:p.type,location:m.Sbl.ACTIVITY_RPC,successRedirect:u})}else try{let t=await l.Z.refreshAccessToken(p.type,r.id);if(null==t)throw new d.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");e({access_token:t})}catch(e){t(e)}})}},[g.Et.MAYBE_GET_PROVIDER_ACCESS_TOKEN]:{scope:{[h.Gp.ANY]:[h.wE]},validation:e=>(0,u.Z)(e).required().keys({provider:e.string().required()}),handler:async e=>{let{socket:t,args:{provider:n}}=e;(0,c.bu)(t.transport);let i=(0,c._f)(t.application),a=r.Z.get(n);if(null==a)throw new d.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===m.ABu.AMAZON_MUSIC){if(!_.has(i))throw new d.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new d.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");let o=s.Z.getAccount(null,n);if(null==o)throw new d.Z({errorCode:g.lT.NO_CONNECTION_FOUND},"No connection found");let u=await l.Z.refreshAccessToken(a.type,o.id);if(null==u)throw new d.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");return{access_token:u}}}}},906911:function(e,t,n){n.d(t,{Z:()=>m});var i=n(392711),l=n.n(i),r=n(243814),a=n(45792),s=n(699516),o=n(594174),d=n(823379),c=n(914946),u=n(186901),h=n(981631);let m={[h.Etm.GET_RELATIONSHIPS]:(0,a.S)(h.Etm.GET_RELATIONSHIPS,{scope:{[u.Gp.ANY]:[r.x.RELATIONSHIPS_READ]},handler(e){let t=l().pickBy({...s.Z.getRelationships()},e=>e!==h.OGo.NONE);return{relationships:l().map(t,(t,n)=>{let i=o.default.getUser(n);if(null==i)return null;let l=(0,c._J)(t,i);return(0,c.kb)(l,e.socket.application.id)}).filter(d.lm)}}})}},647656:function(e,t,n){n.d(t,{Z:()=>C}),n(47120),n(789020),n(411104);var i=n(392711),l=n.n(i),r=n(243814),a=n(570140),s=n(774226),o=n(317381),d=n(173439),c=n(812206),u=n(626135),h=n(81063),m=n(70956),p=n(996106),g=n(914946),_=n(452426),f=n(186901),E=n(981631);let I=["349134787773988865"],C={[E.Etm.SET_ACTIVITY]:{scope:{[f.Gp.ANY]:[r.x.RPC,r.x.RPC_ACTIVITIES_WRITE,f.lH]},validation:e=>(0,_.Z)(e).required().keys({pid:e.number().min(0),activity:(0,_.Z)(e).keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:(0,_.Z)(e).keys({start:e.number().min(1),end:e.number().min(1)}),assets:(0,_.Z)(e).keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:(0,_.Z)(e).keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(E.RYY.PRIVATE).valid([E.RYY.PRIVATE,E.RYY.PUBLIC])}),secrets:(0,_.Z)(e).keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items((0,_.Z)(e).keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(E.IIU.PLAYING).valid(E.IIU.PLAYING,E.IIU.LISTENING,E.IIU.WATCHING,E.IIU.COMPETING)}).allow(null)}),handler(e){var t,n,i,r,_,C,N;let v,{socket:T,args:{pid:S,activity:A},isSocketConnected:Z}=e;if(![f.He.IPC,f.He.WEBSOCKET,f.He.POST_MESSAGE].includes(T.transport))throw new p.Z({errorCode:E.lTL.INVALID_COMMAND},'command not available from "'.concat(T.transport,'" transport'));if(null==S&&f.He.IPC===T.transport)throw new p.Z({errorCode:E.lTL.INVALID_COMMAND},"nonzero pid required");if(null==A)return a.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:T.id,pid:S,activity:A}),Promise.resolve(A);A.name=T.application.name;let x=T.application.id;A.application_id=x;let b=T.transport===f.He.POST_MESSAGE,L=(0,g.S5)(A,b);L>0&&(A.flags=L);let y=c.Z.getApplication(null!=x?x:void 0);if(null!=y&&(0,s.Kb)(y)&&b){let e=o.ZP.getCurrentEmbeddedActivity();if((null==e?void 0:e.applicationId)===y.id){let t=e.compositeInstanceId;null!=t&&(A.secrets={join:null!==(r=null===(i=A.secrets)||void 0===i?void 0:i.join)&&void 0!==r?r:t,...null!==(_=A.secrets)&&void 0!==_?_:{}}),A.party={size:null!==(C=null===(n=A.party)||void 0===n?void 0:n.size)&&void 0!==C?C:d.M$,...null!==(N=A.party)&&void 0!==N?N:{}},A.flags=A.flags|d.Cj}}delete A.instance,null===(t=A.party)||void 0===t||delete t.privacy;let{assets:O,party:P,secrets:R,timestamps:j,buttons:D,type:w}=A;if(null==w&&(A.type=E.IIU.PLAYING),null!=R){let e=l().values(R).filter(e=>!!e);if(null!=P&&l().intersection(e,[P.id]).length>0&&!I.includes(T.application.id))throw new p.Z({errorCode:E.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot match the party id");if(l().uniq(e).length<e.length)throw new p.Z({errorCode:E.lTL.INVALID_ACTIVITY_SECRET},"secrets must be unique");if(null!=D)throw new p.Z({errorCode:E.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot currently be sent with buttons")}if(null!=D&&(A.metadata={button_urls:D.map(e=>e.url)},A.buttons=D.map(e=>e.label)),null!=j)for(let e of Object.keys(j))Date.now().toString().length-j[e].toString().length>2&&(j[e]=Math.floor(j[e]*m.Z.Millis.SECOND));if(null==O)v=Promise.resolve([]);else{if(null==T.application||null==T.application.id)throw Error();v=(0,h.fetchAssetIds)(T.application.id,[O.large_image,O.small_image])}return v.then(e=>{var t,n;let[i,l]=e;if(null!=O&&(null!=i?O.large_image=i:delete O.large_image,null!=l?O.small_image=l:delete O.small_image),!Z())return;a.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:T.id,pid:S,activity:A});let{secrets:r,party:s}=A,o={application_id:T.application.id,type:A.type,name:A.name,details:null!==(t=A.details)&&void 0!==t?t:"",state:null!==(n=A.state)&&void 0!==n?n:""};return null!=r&&(o.has_match_secret=!!r.match,o.has_join_secret=!!r.join),null!=O&&(o.has_images=!!(O.large_image||O.small_image)),null!=s&&(o.party_max=null!=s.size&&s.size[1]>0?s.size[1]:void 0,o.party_id=s.id),u.default.track(E.rMx.ACTIVITY_UPDATED,o),A})}}}},918940:function(e,t,n){n.d(t,{Z:()=>o}),n(47120);var i=n(570140),l=n(996106),r=n(452426),a=n(701488),s=n(231338);let o={[s.Et.SET_ORIENTATION_LOCK_STATE]:{validation:e=>(0,r.Z)(e).required().keys({lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional(),grid_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional()}),handler(e){let{socket:t,args:{lock_state:n,picture_in_picture_lock_state:r,grid_lock_state:a}}=e,o=t.application.id;if(null!=o)i.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:o,lockState:n,pictureInPictureLockState:r,gridLockState:a});else throw new l.Z({errorCode:s.lT.INVALID_COMMAND},"No application.")}}}},265067:function(e,t,n){n.d(t,{Z:()=>_}),n(653041),n(47120);var i=n(243814),l=n(100527),r=n(208049),a=n(763296),s=n(697426),o=n(242291),d=n(641015),c=n(594174),u=n(996106),h=n(452426),m=n(736045),p=n(186901),g=n(231338);let _={[g.Et.GET_SOUNDBOARD_SOUNDS]:{scope:{[p.Gp.ANY]:[i.x.RPC,p.lH]},async handler(){await (0,r.w)();let e=a.Z.getSounds(),t=[];return e.forEach(e=>e.forEach(e=>t.push((0,s.QL)(e)))),t}},[g.Et.PLAY_SOUNDBOARD_SOUND]:{scope:{[p.Gp.ALL]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,h.Z)(e).required().keys({guild_id:e.string(),sound_id:e.string()}),async handler(e){let{args:{guild_id:t,sound_id:n}}=e;await (0,r.w)();let i=c.default.getCurrentUser(),s=a.Z.getSound(t,n),h=(0,m.Z)(),p=null!=s&&null!=i&&(0,o.Nq)(i,s,h);if(null==h)throw new u.Z({errorCode:g.lT.INVALID_CHANNEL},"Invalid Channel.");if(p){if((0,d.Z)(h))null!=s&&(0,o.GN)(s,h.id,[l.Z.RPC]);else throw new u.Z({errorCode:g.lT.INVALID_PERMISSIONS},"Invalid Permissions.")}else throw new u.Z({errorCode:g.lT.INVALID_SOUND},"Invalid Sound.")}}}},881393:function(e,t,n){n.d(t,{Z:()=>_}),n(47120),n(653041);var i=n(496929),l=n(16084),r=n(558381),a=n(115130),s=n(106976),o=n(695103),d=n(996106),c=n(334288),u=n(186901),h=n(981631);async function m(e,t){let n=t.filter(e=>e.type===h.epS.SUBSCRIPTION_GROUP),i=await Promise.all(n.map(async t=>await (0,s.rx)(e,t.id))),l=[];return i.forEach(e=>{if(null==e)return null;let n=e.subscription_listings;if(null==n)return null;let i=[];n.forEach(e=>{e.subscription_plans.forEach(n=>{var l;let r=null==n?void 0:n.price,a=t.find(e=>e.id===n.sku_id);if(null==a)return;let s={id:n.sku_id,name:a.name,type:a.type,price:{amount:r,currency:h.pKx.USD},application_id:e.application_id,flags:e.sku_flags,release_date:null!==(l=a.release_date)&&void 0!==l?l:null};i.push(s)})}),i.filter(e=>(null==e?void 0:e.price)!=null).forEach(e=>l.push(e))}),l}async function p(e){let{socket:t}=e;(0,c.f)(t.transport);let n=t.application.id;if(null==n)throw new d.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");if(o.Z.inTestModeForApplication(n)||a.Z.inDevModeForApplication(n)){let e=await l.uE(n,!1),t=await m(n,e);return[...e.filter(e=>null!=e.price),...t]}let i=await r.oJ(n);return[...i.filter(e=>e.sku.type!==h.epS.SUBSCRIPTION_GROUP).map(e=>e.sku).filter(e=>null!=e.price),...await m(n,i.map(e=>e.sku))]}function g(e){let{socket:t}=e;(0,c.f)(t.transport);let n=t.application.id;if(null==n)throw new d.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");return i.yD(n)}let _={[h.Etm.GET_SKUS]:{[u.Gp.ANY]:[u.wE,u.lH],handler:p},[h.Etm.GET_ENTITLEMENTS]:{[u.Gp.ANY]:[u.wE,u.lH],handler:g},[h.Etm.GET_SKUS_EMBEDDED]:{[u.Gp.ANY]:[u.wE,u.lH],handler:async e=>({skus:await p(e)})},[h.Etm.GET_ENTITLEMENTS_EMBEDDED]:{[u.Gp.ANY]:[u.wE,u.lH],handler:async e=>({entitlements:await g(e)})}}},905534:function(e,t,n){n.d(t,{Z:()=>o}),n(177593);var i=n(626135),l=n(996106),r=n(34954),a=n(986768),s=n(981631);let o={[s.Etm.SUBSCRIBE]:{async handler(e){let{server:t,socket:n,evt:o,args:d}=e,c=t.events[o];if(null==c)throw new l.Z({errorCode:s.lTL.INVALID_EVENT},"Invalid event: ".concat(o));if(!(0,r.Z)(n.authorization.scopes,c.scope))throw new l.Z({errorCode:s.lTL.INVALID_PERMISSIONS},"Not authenticated or invalid scope");if(i.default.track(s.rMx.RPC_SUBSCRIPTION_REQUESTED,{event:o,scope:"object"==typeof c.scope?JSON.stringify(c.scope):c.scope,application_id:n.application.id,socket_scope:n.authorization.scopes.toString()}),null!=c.validation){let e=await t.getJoi();if(null!=e.validate(d,c.validation(e),{convert:!1}).error)throw new l.Z({errorCode:s.lTL.INVALID_PAYLOAD},"Invalid subscription parameters provided")}let u=c.handler({args:d,socket:n}),h=(0,a.V)(n,o,d);return new Promise(e=>{setImmediate(()=>{t.addSubscription(n,o,d,u),null!=h&&t.dispatchToSubscriptions(o,e=>e.socket.id===n.id,h)}),e({evt:o})})}},[s.Etm.UNSUBSCRIBE]:{handler(e){let{server:t,socket:n,evt:i,args:r}=e;if(null==t.events[i])throw new l.Z({errorCode:s.lTL.INVALID_EVENT},"Invalid event: ".concat(i));return t.removeSubscription(n,i,r),{evt:i}}}}},273487:function(e,t,n){n.d(t,{Z:()=>r});var i=n(243814),l=n(706454);let r={[n(981631).Etm.USER_SETTINGS_GET_LOCALE]:{scope:i.x.IDENTIFY,handler:()=>({locale:l.default.locale})}}},543815:function(e,t,n){n.d(t,{Z:()=>d}),n(47120);var i=n(232567),l=n(996106),r=n(452426),a=n(863141),s=n(186901),o=n(981631);let d={[o.Etm.GET_USER]:{scope:s.lH,validation:e=>(0,r.Z)(e).required().keys({id:e.string().required()}),handler(e){let{args:{id:t}}=e;return(0,i.PR)(t).then(a.Z).catch(()=>{throw new l.Z({errorCode:o.lTL.INVALID_USER},"Invalid user id: ".concat(t))})}}}},845752:function(e,t,n){n.d(t,{Z:()=>o});var i=n(392711),l=n.n(i),r=n(243814),a=n(186901),s=n(981631);function o(e,t){return{[s.zMe.VOICE_SETTINGS_UPDATE]:{scope:{[a.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},handler:()=>t=>{let{prevState:n,dispatch:i}=t,r=e();return l().isEqual(r,n)||i(r),r}},[s.zMe.VOICE_SETTINGS_UPDATE_2]:{scope:a.lH,handler(e){let{socket:n}=e;return e=>{let{prevState:i,dispatch:r}=e;if(null==n.application.id)return i;let a=t(n.application.id);return l().isEqual(a,i)||r(a),a}}}}}},13838:function(e,t,n){n.d(t,{Z:()=>y}),n(47120);var i=n(392711),l=n.n(i),r=n(243814),a=n(902704),s=n(812206),o=n(594190),d=n(199902),c=n(592125),u=n(271383),h=n(430824),m=n(131951),p=n(19780),g=n(594174),_=n(979651),f=n(996106),E=n(914946),I=n(238679),C=n(452426),N=n(295424),v=n(222263),T=n(863141),S=n(186901),A=n(981631);let Z=e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()});function x(e){var t;let{args:{channel_id:n},socket:i}=e,l=c.Z.getChannel(n);if(null==l||!(0,E.zM)(l,i.application.id,i.authorization.scopes))throw new f.Z({errorCode:A.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(n));if(l.isNSFW()&&(null===(t=g.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed)!==!0)throw new f.Z({errorCode:A.lTL.INVALID_CHANNEL},"Invalid nsfw channel id: ".concat(l.id))}let b=e=>(0,C.Z)(e).keys({channel_id:e.string().allow(null)});function L(e){let{args:{channel_id:t}}=e;if(null!=t&&null==c.Z.getChannel(t))throw new f.Z({errorCode:A.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t))}let y={[A.zMe.GUILD_STATUS]:{scope:r.x.RPC,validation:e=>(0,C.Z)(e).required().keys({guild_id:e.string().required()}),handler(e){let{args:{guild_id:t}}=e;if(null==h.Z.getGuild(t))throw new f.Z({errorCode:A.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));return e=>{var n;let{prevState:i,dispatch:r}=e,a=h.Z.getGuild(t);if(null==a)return;let s={guild:{id:a.id,name:a.name,icon_url:null!==(n=a.getIconURL(128))&&void 0!==n?n:null},online:0};return l().isEqual(i,s)||r(s),s}}},[A.zMe.VOICE_STATE_CREATE]:{scope:{[S.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},validation:e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==c.Z.getChannel(t))throw new f.Z({errorCode:A.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,r=c.Z.getChannel(t);if(null==r)return;let a=r.getGuildId(),s=Object.values(_.Z.getVoiceStatesForChannel(r.id));return n&&l().differenceBy(s,n,e=>{let{userId:t}=e;return t}).forEach(e=>i((0,E.aE)(a,r.id,e))),s}}},[A.zMe.VOICE_STATE_DELETE]:{scope:{[S.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},validation:e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==c.Z.getChannel(t))throw new f.Z({errorCode:A.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,r=c.Z.getChannel(t);if(null==r)return;let a=r.getGuildId(),s=Object.values(_.Z.getVoiceStatesForChannel(r.id));return l().differenceBy(n,s,e=>{let{userId:t}=e;return t}).forEach(e=>i((0,E.aE)(a,r.id,e))),s}}},[A.zMe.VOICE_STATE_UPDATE]:{scope:{[S.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},validation:e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==c.Z.getChannel(t))throw new f.Z({errorCode:A.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,r=c.Z.getChannel(t);if(null==r)return;let a=r.getGuildId(),s=Object.values(_.Z.getVoiceStatesForChannel(r.id)).map(e=>(0,E.aE)(a,r.id,e));return l().differenceWith(s,n,l().isEqual).forEach(e=>i(e)),s}}},[A.zMe.VOICE_CONNECTION_STATUS]:{scope:{[S.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={state:(0,E.zy)(p.Z.getState()),hostname:p.Z.getHostname(),pings:p.Z.getPings(),average_ping:p.Z.getAveragePing(),last_ping:p.Z.getLastPing()};return l().isEqual(i,t)||n(i),i}},[A.zMe.MESSAGE_CREATE]:{scope:r.x.RPC,validation:Z,handler:x},[A.zMe.MESSAGE_UPDATE]:{scope:r.x.RPC,validation:Z,handler:x},[A.zMe.MESSAGE_DELETE]:{scope:r.x.RPC,validation:Z,handler:x},[A.zMe.SPEAKING_START]:{scope:{[S.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ,S.lH]},validation:b,handler:L},[A.zMe.SPEAKING_STOP]:{scope:{[S.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ,S.lH]},validation:b,handler:L},[A.zMe.GUILD_CREATE]:{scope:r.x.RPC,handler(){}},[A.zMe.CHANNEL_CREATE]:{scope:r.x.RPC,handler(){}},[A.zMe.GAME_JOIN]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.lH]},handler(){}},[A.zMe.GAME_SPECTATE]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.lH]},handler(){}},[A.zMe.ACTIVITY_JOIN]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.wE,S.lH]},handler(){}},[A.zMe.ACTIVITY_JOIN_REQUEST]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.lH]},handler(){}},[A.zMe.ACTIVITY_SPECTATE]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.wE,S.lH]},handler(){}},[A.zMe.ACTIVITY_INVITE]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.lH]},handler(){}},[A.zMe.ACTIVITY_PIP_MODE_UPDATE]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.wE,S.lH]},handler(){}},[A.zMe.ACTIVITY_LAYOUT_MODE_UPDATE]:{scope:{[S.Gp.ANY]:[r.x.RPC,S.wE,S.lH]},handler(){}},[A.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:I.gQ,[A.zMe.THERMAL_STATE_UPDATE]:{scope:{[S.Gp.ANY]:[S.wE]},handler(){}},[A.zMe.ORIENTATION_UPDATE]:{scope:{[S.Gp.ANY]:[S.wE]},handler(){}},[A.zMe.VOICE_CHANNEL_SELECT]:{scope:r.x.RPC,handler(){}},[A.zMe.NOTIFICATION_CREATE]:{scope:{[S.Gp.ALL]:[r.x.RPC,r.x.RPC_NOTIFICATIONS_READ]},handler(){}},[A.zMe.RELATIONSHIP_UPDATE]:{scope:r.x.RELATIONSHIPS_READ,handler(){}},[A.zMe.CURRENT_USER_UPDATE]:{scope:{[S.Gp.ANY]:[S.lH,r.x.IDENTIFY]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={currentUser:g.default.getCurrentUser()};return null==i.currentUser||null!=t&&(0,a.Z)(i,t)||n((0,T.Z)(i.currentUser)),i}},[A.zMe.CURRENT_GUILD_MEMBER_UPDATE]:{scope:{[S.Gp.ALL]:[r.x.IDENTIFY,r.x.GUILDS_MEMBERS_READ]},handler(e){let{args:{guild_id:t}}=e;return e=>{let{prevState:n,dispatch:i}=e,l={currentGuildMember:u.ZP.getSelfMember(t)};return null==l.currentGuildMember||null!=n&&(0,a.Z)(l,n)||i((0,v.Z)(l.currentGuildMember)),l}}},[A.zMe.ENTITLEMENT_CREATE]:{scope:{[S.Gp.ANY]:[S.lH,S.wE]},handler(){}},[A.zMe.ENTITLEMENT_DELETE]:{scope:{[S.Gp.ANY]:[S.lH,S.wE]},handler(){}},[A.zMe.SCREENSHARE_STATE_UPDATE]:{scope:{[S.Gp.ALL]:[S.lH,r.x.RPC_SCREENSHARE_READ]},handler:()=>e=>{var t,n;let{prevState:i,dispatch:r}=e,a=d.Z.getStreamerActiveStreamMetadata(),c=(null==a?void 0:a.pid)!=null?o.ZP.getGameForPID(a.pid):null,u=(null==c?void 0:c.id)!=null?s.Z.getApplication(c.id):null,h=null!=u?(0,N.Z)(u):null,m=null==a?void 0:a.sourceName,p={active:null!=a,pid:null!==(t=null==a?void 0:a.pid)&&void 0!==t?t:null,application:(n=null!=h)?{name:m}:null};return l().isEqual(p,i)||r(p),p}},[A.zMe.VIDEO_STATE_UPDATE]:{scope:{[S.Gp.ALL]:[S.lH,r.x.RPC_VIDEO_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={active:m.Z.isVideoEnabled()};return l().isEqual(i,t)||n(i),i}}}},986768:function(e,t,n){n.d(t,{V:()=>o});var i=n(317381),l=n(176787);n(817938);var r=n(238679),a=n(981631),s=n(701488);function o(e,t,n){var o,d;switch(t){case a.zMe.ACTIVITY_PIP_MODE_UPDATE:{let t=null===(o=e.application)||void 0===o?void 0:o.id,n=null!=t?i.ZP.getLayoutModeForApp(t):null;return null!=n?{is_pip_mode:n!==s.cE.FOCUSED}:null}case a.zMe.ACTIVITY_LAYOUT_MODE_UPDATE:{let t=null===(d=e.application)||void 0===d?void 0:d.id,n=null!=t?i.ZP.getLayoutModeForApp(t):null;return null!=n?{layout_mode:n}:null}case a.zMe.THERMAL_STATE_UPDATE:{let e=(0,l.bY)();if(e===l.bG.UNHANDLED)return null;return{thermal_state:e}}case a.zMe.ORIENTATION_UPDATE:return null;case a.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE:return(0,r.dO)();default:return null}}},76238:function(e,t,n){n.d(t,{Z:()=>o});var i=n(392711),l=n.n(i),r=n(996106),a=n(981631);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e,t,n){if(s(this,"transport",void 0),s(this,"version",void 0),s(this,"encoding",void 0),s(this,"id",void 0),s(this,"authorization",void 0),s(this,"application",void 0),this.transport=e,this.version=t,this.encoding=n,this.id=l().uniqueId(),this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)},this.application={id:null,name:null,icon:null},null==t||t>a.X6Q||t<1)throw new r.Z({closeCode:a.$VG.INVALID_VERSION},"Invalid Version: ".concat(t))}}},915357:function(e,t,n){n.d(t,{Z:()=>d});var i=n(996106),l=n(631467),r=n(76238),a=n(186901),s=n(981631);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Z{send(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id),this.postMessageToRPCClient([l.Z.FRAME,e],this.origin)}close(e,t){this.closed||this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient),this.closed=!0}constructor({origin:e,postMessageToRPCClient:t,frameId:n,version:l,encoding:r,logger:d,postClose:c,onSendingToRPCClient:u}){if(super(a.He.POST_MESSAGE,l,r),o(this,"origin",void 0),o(this,"frameId",void 0),o(this,"postMessageToRPCClient",void 0),o(this,"logger",void 0),o(this,"postClose",void 0),o(this,"onSendingToRPCClient",void 0),o(this,"closed",void 0),-1===["etf","json"].indexOf(r))throw new i.Z({closeCode:s.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(r));if("etf"===r)throw new i.Z({closeCode:s.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this.origin=e,this.postMessageToRPCClient=t,this.frameId=n,this.logger=d,this.postClose=c,this.onSendingToRPCClient=u,this.closed=!1}}},46832:function(e,t,n){n.d(t,{Z:()=>I}),n(47120),n(653041);var i=n(836560),l=n(317381),r=n(16609),a=n(626135),s=n(585483),o=n(70956),d=n(996106),c=n(631467),u=n(452426),h=n(186901),m=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=10*o.Z.Millis.SECOND,_=new Map,f=new Set,E=(e,t,n)=>{n([c.Z.CLOSE,t],e)};class I extends i.EventEmitter{routeEvent(e,t,n,i){if(!Array.isArray(n)){console.warn("[PostMessageTransport] Protocol error: event data should be an Array!");return}let[l,r]=n;switch(l){case c.Z.HANDSHAKE:if(null!=e)throw new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Already connected");return this.handleHandshake(t,r,i);case c.Z.FRAME:if(null==e)throw new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleFrame(t,e,r);case c.Z.CLOSE:if(null==e)throw new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleClose(e,r);default:throw new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Invalid opcode")}}constructor(e,t,i,o){var c;super(),c=this,p(this,"validateSocketClient",void 0),p(this,"logger",void 0),p(this,"createPostMessageProxySocket",void 0),p(this,"onFrameHandled",void 0),p(this,"handshakeFailureTimeoutId",void 0),p(this,"disconnectSocket",function(e,t){var n,i;let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c.emit("disconnect",e,l?void 0:t),e.close(t.code,null!==(n=t.message)&&void 0!==n?n:"Unknown");let[r]=null!==(i=Array.from(_.entries()).find(t=>{let[n,i]=t;return i===e}))&&void 0!==i?i:[null,null];null!=r&&_.delete(r)}),p(this,"handleIFrameMount",e=>{let{id:t}=e;f.add(t),this.handshakeFailureTimeoutId=setTimeout(()=>{Array.from(l.ZP.getSelfEmbeddedActivities().entries()).forEach(e=>{let[t,n]=e;a.default.track(m.rMx.ACTIVITY_HANDSHAKE_TIMED_OUT,{application_id:t,channel_id:(0,r.pY)(n.location),guild_id:(0,r.jS)(n.location),timeout_ms:g})})},g)}),p(this,"handleIFrameUnmount",e=>{var t;let{id:n}=e;f.delete(n);let[i,l]=null!==(t=Array.from(_.entries()).find(e=>{let[t,i]=e;return i.frameId===n}))&&void 0!==t?t:[null,null];null!=l&&null!=i&&(this.disconnectSocket(l,{code:m.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0),_.delete(i))}),p(this,"handleMessage",(e,t,n)=>{let i=_.get(t);try{this.routeEvent(i,t,e,n)}catch(e){if(e instanceof d.Z&&e.errorCode===m.lTL.INVALID_PAYLOAD)throw e;null!=i?this.disconnectSocket(i,{code:e.code,message:e.message},!0):E(t,{code:e.code,message:e.message},n)}}),p(this,"handleFrame",(e,t,n)=>{var i;let l;if(e!==t.origin)throw new d.Z({closeCode:m.$VG.INVALID_ORIGIN},"Origin has changed");try{l="string"==typeof n?JSON.parse(n):n}catch(e){throw new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Payload not recognized encoding")}null===(i=this.onFrameHandled)||void 0===i||i.call(this,l,this.logger,t),this.emit("request",t,l)}),p(this,"handleHandshake",async(e,t,i)=>{let l;null!=this.handshakeFailureTimeoutId&&clearTimeout(this.handshakeFailureTimeoutId);let r=(await n.e("85441").then(n.t.bind(n,826753,23))).default;try{r.assert(t,(0,u.Z)(r).required().keys({v:r.number().min(1).max(1).required(),encoding:r.string().equal("json").optional(),client_id:r.string().required(),frame_id:r.string().required(),sdk_version:r.string().optional()}))}catch(e){throw new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},e.message)}let s=t.frame_id;if(!f.has(s))throw this.logger.error("Unrecognized frame ID ".concat(s)),new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(s));null!=t.sdk_version&&a.default.track(m.rMx.ACTIVITY_HANDSHAKE,{application_id:t.client_id,sdk_version:t.sdk_version});try{var o;l=this.createPostMessageProxySocket({origin:e,postMessageToRPCClient:i,frameId:s,version:Number(t.v),logger:this.logger,postClose:E,encoding:null!==(o=t.encoding)&&void 0!==o?o:"json"})}catch(e){throw this.logger.error("Error opening window socket ".concat(e)),e}this.logger.info("Socket Opened: ".concat(l.id));try{if(await this.validateSocketClient(l,e,t.client_id),!f.has(s))throw this.logger.error("Frame ID ".concat(s," no longer exists")),new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(s));_.set(e,l),f.delete(s),l.authorization.scopes.push(h.b_),this.emit("connect",l),this.logger.info("Socket Validated: ".concat(l.id))}catch(e){throw this.logger.info("Socket Closed: ".concat(l.id,", ").concat(e.message)),e}}),p(this,"handleClose",async(e,t)=>{let i=(await n.e("85441").then(n.t.bind(n,826753,23))).default;try{i.assert(t,(0,u.Z)(i).required().keys({code:i.number().valid(Object.values(m.$VG)).required(),message:i.string().optional()}))}catch(e){throw new d.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},e.message)}this.disconnectSocket(e,t)}),s.S.subscribe(m.CkL.IFRAME_MOUNT,this.handleIFrameMount),s.S.subscribe(m.CkL.IFRAME_UNMOUNT,this.handleIFrameUnmount),this.validateSocketClient=e,this.logger=t,this.createPostMessageProxySocket=i,this.onFrameHandled=o}}},30643:function(e,t,n){n.d(t,{Z:()=>A}),n(47120);var i=n(237997),l=n(998502),r=n(576027),a=n(13838),s=n(812967),o=n(350085),d=n(910484),c=n(443952),u=n(266572),h=n(177698),m=n(121826),p=n(753335),g=n(567481),_=n(498164),f=n(111097),E=n(908711),I=n(248806),C=n(462414),N=n(662194),v=n(188861);let T={...r.A,...c.Z,...u.Z,...m.Z,...p.Z,...g.Z,..._.Z,...f.Z,...I.Z,...N.Z,...C.Z,...h.Z,...E.Z},S={...a.Z,...o.M,...d.n},A={server:s.Z,commands:T,events:S,stores:[i.Z],transports:[v.Z],registerTransportsForEmbeddedPlatform:function(){l.ZP.ensureModule("discord_rpc").then(()=>{for(let e of[n(178318).Z,n(967351).Z])s.Z.registerTransport(e)})}}},350085:function(e,t,n){n.d(t,{M:()=>u});var i=n(392711),l=n.n(i),r=n(283595),a=n(808506),s=n(237997),o=n(996106),d=n(186901),c=n(981631);let u={[c.zMe.OVERLAY_UPDATE]:{scope:d.lH,handler(e){let{args:{pid:t},socket:n}=e;if("number"!=typeof t||t<10)throw new o.Z({errorCode:c.lTL.INVALID_EVENT},"Invalid pid");return e=>{let{prevState:i,dispatch:o}=e,d=a.Z.enabled,c=!0,u=n.application.id;if(null!=u){let e=r.Z.getActiveLibraryApplication(u);null!=e&&(d=d&&e.isOverlayEnabled()),c=s.Z.isLocked(t)}let h={enabled:d,locked:c};return l().isEqual(h,i)||o(h),h}}}}},910484:function(e,t,n){n.d(t,{n:()=>r});var i=n(845752),l=n(852926);let r=(0,i.Z)(l._X,l.GC)},852926:function(e,t,n){n.d(t,{GC:()=>_,_X:()=>g,em:()=>p,jU:()=>m});var i=n(13245),l=n(371651),r=n(808506),a=n(998502),s=n(13140),o=n(996106),d=n(914946),c=n(186901),u=n(981631);let h=["207646673902501888"];function m(e){if(null==e)return{lock:u.VqG,context:u.IlC.APP};let t=l.default.isOverlayOOPEnabledForPid(e);return r.Z.isReady(e)?(i.Z.setInputLocked(!1,e),{lock(){i.Z.setInputLocked(!0,e)},context:t?u.IlC.POPOUT:u.IlC.OVERLAY}):(a.ZP.focus(null,!0),{lock(){a.ZP.setForegroundProcess(e)},context:u.IlC.APP})}let p=async(e,t,n)=>{if((0,d.YK)(e,t),(null==n||""===n)&&(0,d.s9)(t))return e.authorization.scopes=[c.cE,c.CN],Promise.resolve();if(null==n||""===n)return Promise.reject(new o.Z({closeCode:u.$VG.INVALID_CLIENTID},"No Client ID Specified"));let i=a.ZP.releaseChannel!==u.R5N.CANARY&&!h.includes(n)&&e.transport!==c.He.POST_MESSAGE;return await (0,d.vv)(n,i),(0,d.YS)(e,n,t)},g=()=>(0,d.tr)(e=>{let t=[];return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=e.modeOptions.shortcut.map(e=>{var t;return{type:e[0],code:e[1],name:null!==(t=(0,s.H9)(e))&&void 0!==t?t:"unknown"}})),t}),_=e=>(0,d.FJ)(e,e=>{let t="";return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,s.BB)(e.modeOptions.shortcut)),t})},298969:function(e,t,n){n.d(t,{Z:()=>r});var i=n(606271),l=n(30643);let r=new i.Z(l.Z)},443952:function(e,t,n){n.d(t,{Z:()=>U}),n(47120),n(411104),n(789020);var i=n(200651);n(192379);var l=n(243814),r=n(45792),a=n(481060),s=n(278323),o=n(24124),d=n(224706),c=n(45114),u=n(479531),h=n(40851),m=n(566620),p=n(531826),g=n(596223),_=n(838195),f=n(333861),E=n(928518),I=n(23750),C=n(592125),N=n(293273),v=n(885110),T=n(451478),S=n(630388),A=n(823379),Z=n(709054),x=n(591759),b=n(228488),L=n(996106),y=n(914946),O=n(452426),P=n(561205),R=n(600027),j=n(852926),D=n(186901),w=n(981631),M=n(701488);async function k(e,t,n,i){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=N.Z.getApplicationActivity(t);if(null==r||null==r.secrets||!(0,y.t9)(i,r.party,r.secrets))throw new L.Z({errorCode:w.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let a=(0,g.Z)(r,v.Z);if(a){let{lock:t}=(0,j.jU)(e);return(0,o.h7)(r,a).then(()=>{throw t(),new L.Z({errorCode:w.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}await s.Z.sendActivityInviteUser({userId:n,type:i,activity:r,content:l,location:"In-Game Invite"})}let U={[w.Etm.SEND_ACTIVITY_JOIN_INVITE]:{scope:{[D.Gp.ANY]:[l.x.RPC,D.lH]},handler(e){let{socket:t,args:{user_id:n,pid:i}}=e,l=t.application.id;if(null==l)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No application.");return k(i,l,n,w.mFx.JOIN)}},[w.Etm.CLOSE_ACTIVITY_JOIN_REQUEST]:{scope:{[D.Gp.ANY]:[l.x.RPC,D.lH]},handler(e){let{args:{user_id:t}}=e,n=C.Z.getDMFromUserId(t);null!=n&&(0,c.In)(n,!0,!0)}},[w.Etm.ACTIVITY_INVITE_USER]:{scope:{[D.Gp.ANY]:[l.x.RPC,D.lH]},validation:e=>(0,O.Z)(e).required().keys({user_id:e.string().required(),type:e.number().required().valid([w.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,user_id:i,content:l,pid:r}}=e,a=t.application.id;if(null==a)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No application.");return k(r,a,i,n,l)}},[w.Etm.ACCEPT_ACTIVITY_INVITE]:{scope:{[D.Gp.ANY]:[l.x.RPC,D.lH]},validation:e=>(0,O.Z)(e).required().keys({type:e.number().required().valid([w.mFx.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()}),handler(e){let{socket:t,args:{type:n,user_id:i,session_id:l,channel_id:r,message_id:a}}=e,s=t.application.id;if(null==s)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No application.");let o=Promise.resolve(!1);return n===w.mFx.JOIN&&(o=d.Z.join({userId:i,sessionId:l,applicationId:s,channelId:r,messageId:a})),o.then(e=>{if(!e)throw new L.Z({errorCode:w.lTL.INVALID_INVITE},"Invite is expired or invalid.")})}},[w.Etm.OPEN_INVITE_DIALOG]:{scope:{[D.Gp.ANY]:[l.x.RPC,D.lH,D.wE]},handler(e){let{socket:t}=e,{channel:l,guild:r}=(0,R.T)(),s=(0,p.ZP)({application:t.application,channelId:l.id}),o=null!=s?E.Z.getWindow(s):void 0;(null==o?void 0:o.closed)&&(o=void 0);let d=null!=o?w.IlC.POPOUT:w.IlC.APP;(0,b.Pr)({},null==o?void 0:o.document),(0,a.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("25586")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:r,channel:l,applicationId:t.application.id,analyticsLocation:w.Sbl.ACTIVITY_RPC,source:w.t4x.ACTIVITY_INVITE})},{contextKey:d===w.IlC.POPOUT?a.u1M:a.z1l})}},[w.Etm.INITIATE_IMAGE_UPLOAD]:(0,r.S)(w.Etm.INITIATE_IMAGE_UPLOAD,{scope:{[D.Gp.ANY]:[l.x.RPC,D.lH,D.wE]},handler(e){var t;let{socket:n}=e,i=n.application.id;if(null==i)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No application.");let l=null===(t=(0,P.Z)())||void 0===t?void 0:t.id;if(null==l)throw new L.Z({errorCode:w.lTL.UNKNOWN_ERROR},"Unable to find selected channel");return new Promise((e,t)=>{!function(e,t){var n;let i=T.Z.getLastFocusedWindowId(),l=null==i?null:null===(n=(0,h.g0)(i))||void 0===n?void 0:n.renderWindow;if(null==l)throw new L.Z({errorCode:w.lTL.UNKNOWN_ERROR},"No valid window found");let r=l.document.createElement("input");r.style.display="none",r.type="file",r.accept="image/jpeg, image/jpg, image/png, image/gif";let a=()=>{(null==r.files||0===r.files.length)&&t(),l.document.body.removeEventListener("focus",a,!0),setTimeout(()=>{l.document.body.removeChild(r)},1e3)};r.addEventListener("change",()=>{(0,A.lm)(r.files)&&e(r.files[0]),a()}),r.addEventListener("cancel",()=>{a()}),l.document.body.addEventListener("focus",a,!0),l.document.body.appendChild(r),r.click()}(async n=>{let r=await (0,m.kv)(i,l,n);(0,A.lm)(r)&&(0,A.lm)(r.url)&&!(r instanceof u.Z)?e({image_url:r.url}):t(r)},()=>t(Error("Upload canceled")))}).catch(e=>{var t;throw new L.Z({errorCode:w.lTL.UNKNOWN_ERROR},null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Failed to upload image")})}}),[w.Etm.OPEN_SHARE_MOMENT_DIALOG]:(0,r.S)(w.Etm.OPEN_SHARE_MOMENT_DIALOG,{scope:{[D.Gp.ANY]:[D.wE]},handler(e){var t;let{socket:n,args:{mediaUrl:i}}=e;(0,y.bu)(n.transport);let l=n.application.id;if(null==l)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No application.");if(!(0,S.yE)(null!==(t=n.application.flags)&&void 0!==t?t:0,w.udG.EMBEDDED))throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"This application cannot access this API");let r=(0,P.Z)();if(null==r)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No channel found");if(!x.Z.isDiscordCdnUrl(i))throw new L.Z({errorCode:w.lTL.INVALID_PAYLOAD},"mediaUrl must be a Discord CDN url");(0,_.Z)({applicationId:l,channelId:r.id,mediaUrl:i})}}),[w.Etm.SHARE_INTERACTION]:(0,r.S)(w.Etm.SHARE_INTERACTION,{scope:{[D.Gp.ANY]:[D.wE]},handler(e){var t;let n,{socket:i,args:{command:l,preview_image:r,components:a,require_launch_channel:s,content:o}}=e;(0,y.bu)(i.transport);let d=i.application.id;if(null==d)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No application.");if(!M.Cr.includes(d))throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"Unsupported application.");if(!(0,S.yE)(null!==(t=i.application.flags)&&void 0!==t?t:0,w.udG.EMBEDDED))throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"This application cannot access this API");let c=(0,P.Z)();if(null==c)throw new L.Z({errorCode:w.lTL.INVALID_COMMAND},"No channel found");if(null!==r||null!==a||null!==o){let e=[];void 0!==r&&(e=[{id:Z.default.cast(Z.default.fromTimestamp(Date.now())),size:0,proxy_url:r.url,filename:"preview",url:r.url,height:r.height,width:r.width}]),n=new I.ZP({id:Z.default.cast(Z.default.fromTimestamp(Date.now())),applicationId:d,content:o,components:a,attachments:e})}return new Promise(e=>{let t=!1;(0,f.M)({applicationId:d,channel:c,command:l,requireLaunchChannel:!0===s,onShareResult:n=>{t||(t=n),e({success:t})},previewMessage:n})})}})}},266572:function(e,t,n){n.d(t,{Z:()=>I}),n(47120);var i=n(200651);n(192379);var l=n(544891),r=n(846519),a=n(481060),s=n(496929),o=n(115130),d=n(812206),c=n(594174),u=n(580130),h=n(695103),m=n(70956),p=n(998502),g=n(996106),_=n(186901),f=n(981631);let E=10*m.Z.Millis.SECOND,I={[f.Etm.VALIDATE_APPLICATION]:{scope:_.lH,handler(e){let{socket:t}=e,l=t.application.id;try{if(null==l)throw new g.Z({errorCode:f.lTL.INVALID_COMMAND},"No application.");let e=d.Z.getApplication(l);if(null==e)throw new g.Z({errorCode:f.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");let t=e.primarySkuId;if(null==t)throw new g.Z({errorCode:f.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");return Promise.race([(function(e,t){let n=u.Z.isEntitledToSku(c.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,s.yD)(t).then(()=>!0===u.Z.isEntitledToSku(c.default.getCurrentUser(),e,t))})(t,e.id).then(e=>{if(!e)throw new g.Z({errorCode:f.lTL.INVALID_ENTITLEMENT},"User does not have entitlement.")}),(0,r.GR)(E).then(()=>{throw new g.Z({errorCode:f.lTL.INVALID_ENTITLEMENT},"Timed out fetching entitlement.")})])}catch(e){throw e.code===f.lTL.INVALID_ENTITLEMENT&&(p.ZP.focus(null,!0),(0,a.ZDy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,i.jsx)(e,{...t,applicationId:l})})),e}}},[f.Etm.GET_ENTITLEMENT_TICKET]:{scope:_.lH,handler(e){let{socket:t}=e,r=t.application.id;if(null==r)throw new g.Z({errorCode:f.lTL.INVALID_COMMAND},"No application.");return l.tn.post({url:f.ANM.ENTITLEMENT_TICKET(r),body:{test_mode:h.Z.inTestModeForApplication(r)||o.Z.inDevModeForApplication(r)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t}).catch(e=>{throw p.ZP.focus(null,!0),(0,a.ZDy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,i.jsx)(e,{...t,applicationId:r})}),e})}}}},177698:function(e,t,n){n.d(t,{Z:()=>E});var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(531826),s=n(812206),o=n(69580),d=n(371651),c=n(808506),u=n(358085),h=n(998502),m=n(145597),p=n(996106),g=n(703912),_=n(852926),f=n(981631);let E=(0,g.Z)(e=>{var t;let{clientId:n,authorizations:c,scopes:u,parsedPermissions:h,responseType:g,redirectUri:E,codeChallenge:I,codeChallengeMethod:C,state:N,guildId:v,channelId:T,prompt:S,disableGuildSelect:A,disclosures:Z,integrationType:x,pid:b}=e,L="OAuth2Authorize_".concat(n,"_").concat(v,"_").concat(T),y=null!=x?null==c?void 0:c.get(x):void 0,O=null!==(t=null==y?void 0:y.application)&&void 0!==t?t:s.Z.getApplication(n);return new Promise((e,t)=>{let s=(0,_.jU)(b),y=i=>{let{clientId:l,location:a}=i;(null==l||l===n)&&(s.lock(),r.Z.unsubscribe("OVERLAY_OAUTH2_AUTHORIZE_MODAL_CLOSE",y),null!=location?e(a):t(new p.Z({errorCode:f.lTL.OAUTH2_ERROR},"User cancelled authorization")))},P=d.default.isOverlayOOPEnabledForPid(null!=b?b:(0,m.QF)());if(s.context===f.IlC.OVERLAY&&!P){r.Z.subscribe("OVERLAY_OAUTH2_AUTHORIZE_MODAL_CLOSE",y),r.Z.dispatch({type:"OVERLAY_OAUTH2_AUTHORIZE_MODAL_OPEN",clientId:n,authorizeProps:{authorizations:c,clientId:n,scopes:null!=u?u:[],disclosures:null!=Z?Z:[],responseType:g,redirectUri:E,codeChallenge:I,codeChallengeMethod:C,state:N,permissions:h.toString(),guildId:v,channelId:T,prompt:S,disableGuildSelect:"boolean"==typeof A?A:"true"===A,integrationType:x}});return}let R=l.z1l;null!=O&&null!=(0,a.ZP)({application:O,channelId:T})?R=l.u1M:P&&(R=l.u1M),(0,l.h7j)(e=>(0,i.jsx)(o.OAuth2AuthorizeModal,{...e,authorizations:c,clientId:n,scopes:null!=u?u:[],disclosures:null!=Z?Z:[],callback:y,responseType:g,redirectUri:E,codeChallenge:I,codeChallengeMethod:C,state:N,permissions:h,guildId:v,channelId:T,prompt:S,disableGuildSelect:"boolean"==typeof A?A:"true"===A,integrationType:x}),{modalKey:L,onCloseRequest:()=>{(0,l.Mr3)(L),t(new p.Z({errorCode:f.lTL.OAUTH2_ERROR},"User cancelled authorization"))}},R)})},function(e,t,n){if(c.Z.isReady(null!=n?n:0)||!u.isPlatformEmbedded)return;let i=(0,a.ZP)({application:e,channelId:t});(0,u.isWindows)()?h.ZP.minimize(i):h.ZP.restore(i),h.ZP.focus(i)})},121826:function(e,t,n){n.d(t,{Z:()=>s});var i=n(230487),l=n(998502),r=n(914946),a=n(452426);let s={[n(981631).Etm.ENCOURAGE_HW_ACCELERATION]:{validation:e=>(0,a.Z)(e),handler(e){let{socket:t}=e;(0,r.bu)(t.transport);let n=t.application.id;if(null!=n)return(0,i.Z)(n),{enabled:l.ZP.getEnableHardwareAcceleration()}}}}},753335:function(e,t,n){n.d(t,{Z:()=>d});var i=n(570140),l=n(703656),r=n(998502),a=n(852926),s=n(186901),o=n(981631);let d={[o.Etm.OPEN_MESSAGE]:{scope:s.lH,handler(e){let{args:{guild_id:t,channel_id:n,message_id:s,pid:d}}=e;if((0,a.jU)(d).context===o.IlC.OVERLAY){i.Z.dispatch({type:"OVERLAY_OPEN_MESSAGE",guildId:t,channelId:n,messageId:s});return}(0,l.dL)({pathname:o.Z5c.CHANNEL(t,n,s)}),r.ZP.focus()}}}},567481:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(24124),s=n(447543),o=n(13245),d=n(596223),c=n(710845),u=n(293273),h=n(885110),m=n(996106),p=n(914946),g=n(452426),_=n(852926),f=n(186901),E=n(981631);let I=new c.Z("RPCCommandsOverlay"),C={[E.Etm.SET_OVERLAY_LOCKED]:{scope:f.lH,validation:e=>(0,g.Z)(e).required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()}),handler(e){let{args:{locked:t,pid:n},socket:{application:i}}=e;if(I.verbose("RPCCommands.SET_OVERLAY_LOCKED",{locked:t,pid:n}),null==i.id)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");o.Z.setInputLocked(t,n)}},[E.Etm.OPEN_OVERLAY_ACTIVITY_INVITE]:{scope:f.lH,validation:e=>(0,g.Z)(e).required().keys({type:e.number().required().valid([E.mFx.JOIN]),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,pid:i}}=e,l=t.application.id;if(null==l)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");let r=u.Z.getApplicationActivity(l);if(null==r||null==r.secrets||!(0,p.t9)(n,r.party,r.secrets))throw new m.Z({errorCode:E.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let{lock:s,context:o}=(0,_.jU)(i),c=(0,d.Z)(r,h.Z);return(0,a.h7)(r,c,o).then(()=>{if(s(),c)throw new m.Z({errorCode:E.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}},[E.Etm.OPEN_OVERLAY_GUILD_INVITE]:{scope:f.lH,validation:e=>(0,g.Z)(e).required().keys({code:e.string().required(),pid:e.number().min(0).required()}),handler(e){let{args:{code:t,pid:n},socket:i}=e;if(null==i.application.id)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");return s.Z.resolveInvite(t,"Game SDK").then(e=>{let{invite:t,code:i}=e;if(null==t)throw new m.Z({errorCode:E.lTL.INVALID_INVITE},"Invalid invite id: ".concat(i));let{context:l,lock:a}=(0,_.jU)(n);return new Promise(e=>{r.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:i,context:l,resolve:e})}).then(a)})}},[E.Etm.OPEN_OVERLAY_VOICE_SETTINGS]:{scope:f.lH,validation:e=>(0,g.Z)(e).required().keys({pid:e.number().min(0).required()}),handler(e){let{args:{pid:t},socket:r}=e,a=r.application.id;if(null==a)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");let{lock:s}=(0,_.jU)(t);return new Promise(e=>{(0,l.ZDy)(async()=>{let{default:t}=await n.e("45406").then(n.bind(n,344516));return n=>(0,i.jsx)(t,{...n,mediaEngineContext:a,title:r.application.name,onClose:()=>{n.onClose(),s(),e()}})})})}}}},498164:function(e,t,n){n.d(t,{Z:()=>x}),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(200651);n(192379);var l=n(756647),r=n(481060),a=n(570140),s=n(355467),o=n(899742),d=n(457330),c=n(533307),u=n(447543),h=n(185669),m=n(962220),p=n(69580),g=n(703656),_=n(314897),f=n(553795),E=n(594174),I=n(626135),C=n(585483),N=n(591759),v=n(998502),T=n(996106),S=n(186901),A=n(981631);function Z(e,t){null!=e&&I.default.track(A.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,l.s)(e),link_type:t})}let x={[A.Etm.INVITE_BROWSER]:{scope:S.cE,async handler(e){let{args:{code:t}}=e,{invite:n}=await u.Z.resolveInvite(t,"Desktop Modal");if(null==n)throw new T.Z({errorCode:A.lTL.INVALID_INVITE},"Invalid invite id: ".concat(t));return _.default.isAuthenticated()?a.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:n,code:t,context:A.IlC.APP}):(0,g.dL)(A.Z5c.INVITE(t)),{invite:n,code:t}}},[A.Etm.GUILD_TEMPLATE_BROWSER]:{scope:S.cE,async handler(e){let{args:{code:t}}=e;if(null==E.default.getCurrentUser())return;let{guildTemplate:l}=await m.Z.resolveGuildTemplate(t);if(null==l)throw new T.Z({errorCode:A.lTL.INVALID_GUILD_TEMPLATE},"Invalid guild template id: ".concat(t));return v.ZP.focus(),(0,r.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("10778"),n.e("43429")]).then(n.bind(n,766775));return t=>(0,i.jsx)(e,{...t,guildTemplate:l})}),{guildTemplate:l,code:t}}},[A.Etm.GIFT_CODE_BROWSER]:{scope:S.cE,handler(e){let{args:{code:t}}=e;return new Promise((e,l)=>{a.Z.wait(()=>{c.Z.resolveGiftCode(t,!0,!0).then(l=>{let{giftCode:a}=l;v.ZP.focus(),I.default.track(A.rMx.OPEN_MODAL,{type:"gift_accept",location:A.SaU}),(0,r.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("92446"),n.e("95899")]).then(n.bind(n,409858));return n=>(0,i.jsx)(e,{code:t,...n})}),e({giftCode:a})}).catch(()=>l(new T.Z({errorCode:A.lTL.INVALID_GIFT_CODE},"Invalid gift code: ".concat(t))))})})}},[A.Etm.DEEP_LINK]:{scope:S.cE,handler(e){let{args:{type:t,params:n}}=e;switch(v.ZP.focus(),t){case S.jE.USER_SETTINGS:null!=n&&((0,g.dL)(A.Z5c.SETTINGS(n.section,n.subsection)),Z(n.fingerprint,"settings"));break;case S.jE.CHANGELOG:null!=n&&((0,g.dL)(N.Z.formatPathWithQuery(A.Z5c.CHANGELOGS(n.date),n.query)),Z(n.fingerprint,"changelog"));break;case S.jE.LIBRARY:(0,g.dL)(A.Z5c.APPLICATION_LIBRARY),null!=n&&Z(n.fingerprint,"library");break;case S.jE.STORE_HOME:(0,g.dL)(A.Z5c.APPLICATION_STORE),null!=n&&Z(n.fingerprint,"store");break;case S.jE.STORE_LISTING:null!=n&&((0,g.dL)(A.Z5c.APPLICATION_STORE_LISTING_SKU(n.skuId,n.slug)),Z(n.fingerprint,"store"));break;case S.jE.PICK_GUILD_SETTINGS:null!=n&&((0,g.dL)({pathname:A.Z5c.PICK_GUILD_SETTINGS(n.section,n.subsection),search:n.search}),Z(n.fingerprint,"guild_settings"));break;case S.jE.CHANNEL:null!=n&&((0,g.dL)({pathname:A.Z5c.CHANNEL(n.guildId,n.channelId,n.messageId),search:n.search}),Z(n.fingerprint,"channel"));break;case S.jE.QUEST_HOME:null!=n?((0,g.dL)({pathname:A.Z5c.QUEST_HOME,hash:n.questId}),Z(n.fingerprint,"quest_home")):(0,g.dL)(A.Z5c.QUEST_HOME);break;case S.jE.DISCOVERY_GAME_RESULTS:null!=n&&((0,g.dL)({pathname:A.Z5c.GLOBAL_DISCOVERY_SERVERS,search:"?game=".concat(n.gameId)}),Z(n.fingerprint,"discovery_game"));break;case S.jE.OAUTH2:let i=new URL(A.Z5c.OAUTH2_AUTHORIZE,window.location.origin);i.search=n.search;let l=(0,p.getOAuth2AuthorizeProps)(i.toString());if(null!=l)return(0,p.openOAuth2ModalWithCreateGuildModal)(l),!0;return!1}}},[A.Etm.BROWSER_HANDOFF]:{scope:S.CN,handler(e){let{args:{handoffToken:t,fingerprint:n}}=e;v.ZP.focus(null,!0),(0,o.lx)(t,n)}},[A.Etm.CONNECTIONS_CALLBACK]:{scope:S.cE,handler:async e=>{let{args:{providerType:t,code:n,openid_params:i,iss:l,state:r}}=e;if(!h.g.getCurrentConfig({location:"private.CONNECTIONS_CALLBACK"}).enabled&&!f.Z.hasPendingAuthorizedState(r))throw new T.Z({errorCode:A.lTL.INVALID_CONNECTION_CALLBACK_STATE},"Provider authorization did not originate from this discord client");try{return f.Z.deletePendingAuthorizedState(r),await d.Z.callback(t,{code:n,openid_params:i,iss:l,state:r})}catch(e){if((null==e?void 0:e.status)===400)throw new T.Z({errorCode:A.lTL.BAD_REQUEST_FOR_PROVIDER},"Bad request for provider");throw C.S.dispatch(A.CkL.CONNECTIONS_CALLBACK_ERROR),e}}},[A.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK]:{scope:S.cE,handler(e){let{args:{state:t,path:n,query:i}}=e;return(0,s.rt)({paymentSourceType:A.HeQ.PAYPAL,state:t,path:n,query:i})}},[A.Etm.BILLING_POPUP_BRIDGE_CALLBACK]:{scope:S.cE,handler(e){let{args:{state:t,path:n,query:i,payment_source_type:l}}=e;return(0,s.rt)({paymentSourceType:l,state:t,path:n,query:i})}}}},111097:function(e,t,n){n.d(t,{Z:()=>_}),n(411104),n(47120);var i=n(72924),l=n(100527),r=n(367207),a=n(996106),s=n(452426),o=n(561205),d=n(334288),c=n(852926),u=n(186901),h=n(981631),m=n(474936);let p=[l.Z.RPC];function g(e,t){let n={subscriptionTier:m.Si.TIER_2,analyticsLocations:p,analyticsObject:t};switch(e){case h.IlC.APP:return r.Z.openPremiumPaymentModalInApp(n);case h.IlC.OVERLAY:return r.Z.openPremiumPaymentModalInOverlay(n);default:throw Error("Unexpected app context: ".concat(e))}}let _={[h.Etm.START_PURCHASE]:{[u.Gp.ANY]:[u.wE,u.lH],validation:e=>(0,s.Z)(e).required().keys({sku_id:e.string().required(),pid:e.number().min(0)}),handler(e){let{socket:t,args:{sku_id:n,pid:l}}=e;(0,d.f)(t.transport);let r=t.application.id;if(null==r)throw new a.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");let{lock:s,context:m}=(0,c.jU)(t.transport!==u.He.POST_MESSAGE?l:null);if(null==(0,o.Z)())throw new a.Z({errorCode:h.lTL.INVALID_CHANNEL},"Invalid channel");let _={page:h.ZY5.IN_APP};return(async()=>{try{let e=await (0,i.S)({applicationId:r,skuId:n,openPremiumPaymentModal:()=>g(m,_),analyticsLocations:p,analyticsLocationObject:_,context:m});return s(),e}catch(e){if(s(),null!=e){let t="";throw t="object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"string"==typeof e?e:JSON.stringify(e),new a.Z({errorCode:h.lTL.PURCHASE_ERROR},t)}throw new a.Z({errorCode:h.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")}})()}},[h.Etm.START_PREMIUM_PURCHASE]:{[u.Gp.ANY]:[u.wE,u.lH],validation:e=>(0,s.Z)(e).keys({pid:e.number().min(0)}),handler(e){let{socket:t,args:{pid:n}}=e;if((0,d.f)(t.transport),null==t.application.id)throw new a.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");let{lock:i,context:l}=(0,c.jU)(t.transport!==u.He.POST_MESSAGE?n:null);return g(l,{page:h.ZY5.IN_APP}).then(()=>{i()},e=>{if(i(),null!=e)throw new a.Z({errorCode:h.lTL.PURCHASE_ERROR},e);throw new a.Z({errorCode:h.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")})}}}},908711:function(e,t,n){n.d(t,{Z:()=>l});var i=n(408841);let l={[n(981631).Etm.SEND_GENERIC_EVENT]:i.n}},248806:function(e,t,n){n.d(t,{Z:()=>I}),n(47120);var i=n(200651);n(192379);var l=n(243814),r=n(481060),a=n(846027),s=n(872810),o=n(594190),d=n(989941),c=n(173507),u=n(199902),h=n(131951),m=n(449224),p=n(358085),g=n(452426),_=n(736045),f=n(186901),E=n(981631);let I={[E.Etm.TOGGLE_VIDEO]:{scope:{[f.Gp.ALL]:[l.x.RPC,l.x.RPC_VIDEO_WRITE]},handler(){let e=h.Z.isVideoEnabled();null!=(0,_.Z)()&&(e?a.Z.setVideoEnabled(!1):(0,c.Z)(()=>a.Z.setVideoEnabled(!0),E.IlC.APP))}},[E.Etm.TOGGLE_SCREENSHARE]:{scope:{[f.Gp.ALL]:[l.x.RPC,l.x.RPC_SCREENSHARE_WRITE]},validation:e=>(0,g.Z)(e).optional().keys({pid:e.number().optional().min(0)}),handler(e){let{args:{pid:t}}=e,l=u.Z.getCurrentUserActiveStream(),a=u.Z.getStreamerActiveStreamMetadata(),c=(0,d.Z)(o.ZP,m.Z),h=(0,_.Z)();null!=h&&(null!=t&&null!=a&&a.pid!==t&&(0,p.isWindows)()?(0,s.WH)(h.guild_id,h.id,{pid:t}):null!=l?(0,s.L6)(!1):null!=t&&(0,p.isWindows)()?(0,s.WH)(h.guild_id,h.id,{pid:t}):null!=c?(0,s.WH)(h.guild_id,h.id,{pid:c.pid}):(0,r.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("93382"),n.e("79477"),n.e("87007")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{...t,guildId:h.guild_id,analyticsLocation:E.Sbl.ACTIVITY_RPC})}))}}}},462414:function(e,t,n){n.d(t,{Z:()=>m}),n(47120);var i=n(243814),l=n(846027),r=n(131951),a=n(13140),s=n(996106),o=n(452426),d=n(186901),c=n(981631),u=n(65154);function h(e){let t=e.application.id;if(null==t)throw new s.Z({errorCode:c.lTL.INVALID_COMMAND},"No application.");return t}let m={[c.Etm.SET_VOICE_SETTINGS_2]:{scope:d.lH,validation:e=>(0,o.Z)(e).required().keys({input_mode:(0,o.Z)(e).keys({type:e.string().valid(Object.keys(c.pM4)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()}),handler(e){let{socket:t,args:{input_mode:n,self_mute:i,self_deaf:s}}=e,o=h(t);null!=n&&l.Z.setMode(n.type,{shortcut:(0,a.Kd)(n.shortcut)},o),null!=i&&i!==r.Z.isSelfMute(o)&&l.Z.toggleSelfMute({context:o}),null!=s&&s!==r.Z.isSelfDeaf(o)&&l.Z.toggleSelfDeaf({context:o})}},[c.Etm.SET_USER_VOICE_SETTINGS_2]:{scope:d.lH,validation:e=>(0,o.Z)(e).required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{socket:t,args:{user_id:n,mute:i,volume:a}}=e,s=h(t);null!=i&&i!==r.Z.isLocalMute(n,s)&&l.Z.toggleLocalMute(n,s),null!=a&&l.Z.setLocalVolume(n,a,s)}},[c.Etm.PUSH_TO_TALK]:{scope:{[d.Gp.ALL]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,o.Z)(e).required().keys({active:e.boolean()}),handler(e){let{args:{active:t}}=e;r.Z.getMode(u.Yn.DEFAULT)===c.pM4.PUSH_TO_TALK&&r.Z.getMediaEngine().eachConnection(e=>e.setForceAudioInput(t),u.Yn.DEFAULT)}}}},662194:function(e,t,n){n.d(t,{Z:()=>h}),n(47120);var i=n(243814),l=n(846027),r=n(131951),a=n(594174),s=n(996106),o=n(452426),d=n(852926),c=n(186901),u=n(981631);let h={[u.Etm.SET_USER_VOICE_SETTINGS]:{scope:{[c.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,o.Z)(e).required().keys({user_id:e.string().required(),pan:(0,o.Z)(e).keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{args:{user_id:t,pan:n,volume:i,mute:o}}=e,d=a.default.getCurrentUser();if(null==a.default.getUser(t)||(null==d?void 0:d.id)===t)throw new s.Z({errorCode:u.lTL.INVALID_USER},"Invalid user id: ".concat(t));if(null!=n&&l.Z.setLocalPan(t,n.left,n.right),null!=i&&l.Z.setLocalVolume(t,i),null!=o){let e=r.Z.isLocalMute(t);(e&&!o||!e&&o)&&l.Z.toggleLocalMute(t)}return{user_id:t,pan:r.Z.getLocalPan(t),volume:r.Z.getLocalVolume(t),mute:r.Z.isLocalMute(t)}}},[u.Etm.GET_VOICE_SETTINGS]:{scope:{[c.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_READ]},handler:()=>(0,d._X)()},[u.Etm.SET_VOICE_SETTINGS]:{scope:{[c.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,o.Z)(e).required().keys({input:(0,o.Z)(e).keys({device_id:e.string().valid(Object.keys(r.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:(0,o.Z)(e).keys({device_id:e.string().valid(Object.keys(r.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:(0,o.Z)(e).keys({type:e.string().valid(Object.keys(u.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items((0,o.Z)(e).keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()}),handler(e){let{args:{input:t,output:n,mode:i,automatic_gain_control:a,echo_cancellation:s,noise_suppression:o,qos:c,silence_warning:u,deaf:h,mute:m}}=e;if(t&&(null!=t.device_id&&l.Z.setInputDevice(t.device_id),null!=t.volume&&l.Z.setInputVolume(t.volume)),n&&(null!=n.device_id&&l.Z.setOutputDevice(n.device_id),null!=n.volume&&l.Z.setOutputVolume(n.volume)),i){let e=r.Z.getMode(),t=r.Z.getModeOptions();null!=i.type&&(e=i.type),null!=i.auto_threshold&&(t.autoThreshold=i.auto_threshold),null!=i.threshold&&(t.threshold=i.threshold),null!=i.shortcut&&(t.shortcut=i.shortcut.map(e=>[e.type,e.code])),null!=i.delay&&(t.delay=i.delay),l.Z.setMode(e,t)}if(null!=a&&l.Z.setAutomaticGainControl(a),null!=s&&l.Z.setEchoCancellation(s),null!=o&&l.Z.setNoiseSuppression(o),null!=c&&l.Z.setQoS(c),null!=u&&l.Z.setSilenceWarning(u),null!=h){let e=r.Z.isSelfDeaf();(e&&!h||!e&&h)&&l.Z.toggleSelfDeaf()}if(null!=m){let e=r.Z.isSelfMute();(e&&!m||!e&&m)&&l.Z.toggleSelfMute()}return(0,d._X)()}}}},967351:function(e,t,n){n.d(t,{Z:()=>T}),n(47120),n(411104);var i=n(413135),l=n(836560),r=n(392711),a=n.n(r),s=n(710845),o=n(998502),d=n(901077),c=n(76238),u=n(852926),h=n(981631);let m=o.ZP.requireModule("discord_rpc").RPCIPC,p=new s.Z("RPCServer:IPC"),g={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function _(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function f(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function E(e){return new Promise((t,n)=>{"string"==typeof e&&(e=m.net.createConnection(e)),e.pause(),e.on("readable",()=>{try{C(e)}catch(t){e.end(I(g.CLOSE,{code:1003,message:t.message})),e.destroy()}});let i=()=>{try{e.end(),e.destroy()}catch(e){}},l=Promise.race([new Promise(t=>e.on("error",()=>t())),new Promise((t,n)=>{e.on("pong",()=>n(Error("socket responded with pong")))}),new Promise((e,t)=>{setTimeout(()=>t(Error("socket alive timeout")),1e3)})]).then(()=>{i()},e=>{throw i(),e});return e.write(I(g.PING,a().uniqueId())),l.then(t,n)})}function I(e,t){t=JSON.stringify(t);let n=i.Buffer.byteLength(t),l=i.Buffer.alloc(8+n);return l.writeInt32LE(e,0),l.writeInt32LE(n,4),l.write(t,8,n),l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)}function C(e){let t=e.read(8);if(null==t)return;let n=i.Buffer.from(t),l=n.readInt32LE(0),r=n.readInt32LE(4);if(!Object.values(g).includes(l)||r<0)throw Error("protocol error");if(null==(t=e.read(r)))throw Error("data size does not match what was received");let a=JSON.parse((n=i.Buffer.from(t)).toString());switch(l){case g.PING:e.emit("ping",a),e.write(I(g.PONG,a));break;case g.PONG:e.emit("pong",a);break;case g.HANDSHAKE:if(f(e))throw Error("already did handshake");_(e,!0),e.emit("handshake",a);break;case g.FRAME:if(!f(e))throw Error("did not handshake");e.emit("request",a);break;case g.CLOSE:e.end(),e.destroy()}C(e)}class N extends c.Z{send(e){p.info("Socket Emit: ".concat(this.id),(0,d.Z)(e)),this.socket.write(I(g.FRAME,e))}close(e,t){this.socket.end(I(g.CLOSE,{code:e,message:t})),this.socket.destroy()}constructor(e,t,n){var i,l;super("ipc",t,n),l=void 0,(i="socket")in this?Object.defineProperty(this,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):this[i]=l,this.socket=e}}class v extends l.EventEmitter{handleConnection(e){_(e,!1),e.pause(),e.on("readable",()=>{try{C(e)}catch(t){e.end(I(g.CLOSE,{code:h.$VG.CLOSE_UNSUPPORTED,message:t.message})),e.destroy()}}),e.once("handshake",t=>{let n;let i=t.client_id,l=+t.v;try{n=new N(e,l,"json")}catch(t){e.end(I(g.CLOSE,{code:t.code,message:t.message})),e.destroy();return}p.info("Socket Opened: ".concat(n.id)),e.on("error",e=>p.error("Socket Error: ".concat(e.message))),e.on("close",()=>{p.info("Socket Close: ".concat(n.id)),this.emit("disconnect",n)}),(0,u.em)(n,null,i).then(()=>{e.on("request",e=>{p.info("Socket Message: ".concat(n.id),(0,d.Z)(e)),this.emit("request",n,e)}),this.emit("connect",n)}).catch(e=>{let{code:t,message:i}=e;return n.close(t,i)})})}constructor(){super();let e=m.net.createServer(e=>this.handleConnection(e));e.on("error",e=>p.error("Error: ".concat(e.message))),m.getAvailableSocket(E).then(t=>{e.listen(t,()=>{("function"==typeof e.listening?e.listening():e.listening)&&p.info("Starting on ".concat(e.address()))})})}}let T=new v},178318:function(e,t,n){let i,l;n.d(t,{Z:()=>P}),n(47120),n(610138),n(216116),n(78328),n(815648),n(653041),n(411104);var r=n(836560),a=n(392711),s=n.n(a),o=n(570140),d=n(710845),c=n(857192),u=n(591759),h=n(998502),m=n(996106),p=n(901077),g=n(76238),_=n(852926),f=n(186901),E=n(981631),I=n(413135).Buffer;function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}try{i=h.ZP.requireModule("discord_erlpack")}catch(e){try{i=h.ZP.requireModule("erlpack")}catch(e){}}let N=h.ZP.requireModule("discord_rpc").RPCWebSocket,v=window.GLOBAL_ENV.MARKETING_ENDPOINT,T=new d.Z("RPCServer:WSS"),S=[];function A(e){return"function"==typeof e?e():e}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:()=>{if(!A(l.listening))return;let e=l.address().port;T.info("Starting on ".concat(e)),o.Z.dispatch({type:"RPC_SERVER_READY",port:e})};l.listen(E.V6Z+e%E.frH,"127.0.0.1",t)}function x(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=null!=A(e.headers).origin?{"Access-Control-Allow-Origin":A(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"Content-Type, Authorization"}:{};n=n?JSON.stringify(n):"",i=200===i&&0===n.length?204:i,t.setHeader("Content-Length",I.byteLength(n).toString()),t.setHeader("Content-Type","application/json"),t.writeHead(i,{...l,...r}),t.end(n)}function b(e,t,n,i){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;x(e,t,{code:l,message:i},n)}class L extends g.Z{send(e){(c.default.isLoggingOverlayEvents||e.cmd!==E.Etm.OVERLAY&&e.evt!==E.zMe.OVERLAY)&&T.info("Socket Emit: ".concat(this.id),(0,p.Z)(e)),null!=i&&"etf"===this.encoding?this._socket.send(i.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))}close(e,t){this._socket.close(e,t)}constructor(e,t,n){if(super("ws",t,n),C(this,"_socket",void 0),-1===["etf","json"].indexOf(n))throw new m.Z({closeCode:E.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(n));if("etf"===n&&null==i)throw new m.Z({closeCode:E.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this._socket=e}}class y extends g.Z{send(e){(c.default.isLoggingOverlayEvents||e.cmd!==E.Etm.OVERLAY)&&T.info("Socket Emit: ".concat(this.id),e),this._sendCallback(e)}close(e,t){this._closeCallback(t,e)}constructor(e,t,n,i){if(super("http",n,i),C(this,"_sendCallback",void 0),C(this,"_closeCallback",void 0),"json"!==i)throw new m.Z({closeCode:E.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(i));this._sendCallback=e,this._closeCallback=t}}class O extends r.EventEmitter{handleRequest(e,t){let[n,i]=A(e.url).split("?"),l=A(e.method);if("/rpc"===n&&"OPTIONS"===l){x(e,t,{body:""});return}let r="POST"===l;if("/rpc"===n&&("GET"===l||r)){let n=new URLSearchParams(i),l=r?A(e.headers)["content-type"].split("/")[1]:"json",s=function(){var e,i;let{protocol:l,host:r}=null!==(i=u.Z.toURLSafe(null!==(e=n.get("callback"))&&void 0!==e?e:""))&&void 0!==i?i:{};l===location.protocol&&r===location.host?t.setHeader("Location",n.get("callback")):t.setHeader("Location",v),t.writeHead(301),t.end()},o=new y(r?x.bind(null,e,t):s,r?b.bind(null,e,t,400):s,Number(n.get("v")),l);if(r)(0,_.em)(o,A(e.headers).origin,n.get("client_id")).then(()=>{let n="";e.on("data",e=>n+=e),e.on("error",()=>b(e,t,500,"Internal Server Error")),e.on("end",()=>this.handleMessage(o,n))}).catch(e=>{let{code:t,message:n}=e;return o.close(t,n)});else{var a;o.authorization.scopes=[f.CN],this.handleMessage(o,decodeURIComponent(null!==(a=n.get("payload"))&&void 0!==a?a:""))}return}b(e,t,404,"Not Found")}handleConnection(e){var t,n;let i;let l=new URLSearchParams(A(e.upgradeReq).url.split("?")[1]),r=null!==(t=A(e.upgradeReq).headers.origin)&&void 0!==t?t:"";try{i=new L(e,Number(l.get("v")),null!==(n=l.get("encoding"))&&void 0!==n?n:"json")}catch(t){e.close(t.code,t.message);return}T.info("Socket Opened: ".concat(i.id)),e.on("error",e=>T.error("WS Error: ".concat(e.message))),e.on("close",(e,t)=>{T.info("Socket Closed: ".concat(i.id,", code ").concat(e,", message ").concat(t)),s().remove(S,e=>e===i),this.emit("disconnect",i)}),(0,_.em)(i,r,l.get("client_id")).then(()=>{S.push(i),e.on("message",e=>this.handleMessage(i,e)),this.emit("connect",i)}).catch(e=>{let{code:t,message:n}=e;return i.close(t,n)})}handleMessage(e,t){let n;try{if(null!=i&&"etf"===e.encoding)n=i.unpack(t);else if("string"==typeof t)n=JSON.parse(t);else throw Error()}catch(t){e.close(E.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(c.default.isLoggingOverlayEvents||n.cmd!==E.Etm.OVERLAY)&&T.info("Socket Message: ".concat(e.id),(0,p.Z)(n)),this.emit("request",e,n)}constructor(){var e;super();let t=0;(l=N.http.createServer()).on("error",e=>{T.error("Error: ".concat(e.message)),("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout(()=>Z(++t),1e3)}),l.on("request",this.handleRequest.bind(this)),Z(t);let n={instanceId:null!==(e=l.instanceId)&&void 0!==e?e:0,server:l};new N.ws.Server(n).on("connection",e=>this.handleConnection(e))}}let P=new O},188861:function(e,t,n){n.d(t,{Z:()=>h});var i=n(710845),l=n(857192),r=n(901077),a=n(46832),s=n(852926),o=n(748635),d=n(981631);let c=new i.Z("RPCServer:PostMessage"),u=(e,t,n)=>{(l.default.isLoggingOverlayEvents||e.cmd!==d.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,r.Z)(e))},h=function(){let e=new a.Z(s.em,c,o.Z,u);return window.addEventListener("message",t=>{if(window===t.source)return;if(null==t.source||null==t.source.postMessage){c.error("Unknown event source");return}let n=t.source,i=t.data,l=t.origin;e.handleMessage(i,l,(e,t)=>{!function(e){try{return e.closed}catch{return!1}}(n)&&n.postMessage(e,t)})}),e}()},748635:function(e,t,n){n.d(t,{Z:()=>s});var i=n(857192),l=n(901077),r=n(915357),a=n(981631);let s=e=>{let{origin:t,postMessageToRPCClient:n,frameId:s,version:o,encoding:d,logger:c,postClose:u}=e;return new r.Z({origin:t,postMessageToRPCClient:n,frameId:s,version:o,encoding:d,logger:c,postClose:u,onSendingToRPCClient:(e,t)=>{(i.default.isLoggingOverlayEvents||e.cmd!==a.Etm.OVERLAY&&e.evt!==a.zMe.OVERLAY)&&c.info("Socket Emit: ".concat(t),(0,l.Z)(e))}})}},19199:function(e,t,n){n.d(t,{D:()=>o});var i=n(399606),l=n(941129),r=n(594174),a=n(51144),s=n(335865);let o=()=>{let e=(0,l.S)(),t=(0,i.e7)([r.default],()=>r.default.getCurrentUser()),n=(0,s.y)();return e&&!(0,a.EO)(t)&&n}},335865:function(e,t,n){n.d(t,{y:()=>r});var i=n(399606),l=n(650774);function r(){return(0,i.e7)([l.Z],()=>Object.values(l.Z.getMemberCounts()).some(e=>e>=200))}},866483:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(399606),r=n(607070),a=n(70097),s=n(970731),o=n(19199),d=n(921944),c=n(388032),u=n(357616);let h=e=>{let{markAsDismissed:t}=e,n=(0,l.e7)([r.Z],()=>r.Z.useReducedMotion);return(0,o.D)()?(0,i.jsx)(s.ZP,{asset:(0,i.jsx)(a.Z,{className:u.video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195117439557712/Safety_BLOCK_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:c.intl.string(c.t["61GrDA"]),content:c.intl.string(c.t["1zzTSk"]),buttonCTA:c.intl.string(c.t["NX+WJC"]),className:u.__invalid_coachmark,onClick:e=>{e.stopPropagation(),t(d.L.UNKNOWN)},markAsDismissed:t,caretPosition:s.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},14357:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var l=n(399606),r=n(607070),a=n(70097),s=n(970731),o=n(19199),d=n(921944),c=n(388032),u=n(718458);let h=e=>{let{markAsDismissed:t}=e,n=(0,l.e7)([r.Z],()=>r.Z.useReducedMotion);return(0,o.D)()?(0,i.jsx)(s.ZP,{asset:(0,i.jsx)(a.Z,{className:u.video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195118026772480/Safety_MUTE_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:c.intl.string(c.t.ajEMl5),content:c.intl.string(c.t.xmrJWl),buttonCTA:c.intl.string(c.t["NX+WJC"]),className:u.__invalid_coachmark,onClick:e=>{e.stopPropagation(),t(d.L.UNKNOWN)},markAsDismissed:t,caretPosition:s.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},817938:function(){},719256:function(e,t,n){n.d(t,{Z:()=>h}),n(47120),n(653041);var i=n(846519),l=n(570140),r=n(317770),a=n(220082),s=n(594174),o=n(125268),d=n(813900);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Z{_initialize(){__OVERLAY__||(l.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),l.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived))}_terminate(){__OVERLAY__||(l.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),l.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived),this.lineBatchTimer.stop())}_handleVoiceChannelEffectReceived(e){var t;let{lineId:n,points:i,userId:l,streamerId:r,emojiHose:c}=e;if(null!=r&&l!==(null===(t=s.default.getCurrentUser())||void 0===t?void 0:t.id)){if(null!=i&&null!=n){let e=s.default.getUser(l);null!=e&&(0,a.vM)(e.getAvatarURL(null,d.Ks)),(0,o.cV)(n,l,r,i)}else null!=c&&(c.lastUpdatedAt=Date.now(),(0,o.gr)(c,l,r))}}constructor(...e){super(...e),c(this,"linesToUpdate",{}),c(this,"lineBatchTimer",new i.Xp),c(this,"_handleDrawLinePoint",e=>{let{channelId:t,lineId:n,streamerId:i,point:l}=e;null==this.linesToUpdate[n]?this.linesToUpdate[n]={channelId:t,streamerId:i,points:[l]}:this.linesToUpdate[n].points.push(l),null==this.lineBatchTimer._ref&&this.lineBatchTimer.start(d.Fq,this.sendLineBatch)}),c(this,"sendLineBatch",()=>{for(let e in this.linesToUpdate){let{channelId:t,points:n,streamerId:i}=this.linesToUpdate[e];(0,o.AX)(t,e,i,n)}this.linesToUpdate={},this.lineBatchTimer.stop()})}}let h=new u},547280:function(e,t,n){n.d(t,{b:()=>c,o:()=>d});var i=n(570140),l=n(605236),r=n(626135),a=n(445507),s=n(981631),o=n(921944);function d(e){let{targetKey:t,dismissibleContent:n,data:d,completed:c}=e;null!=d.selectedOptionKey&&((0,l.un)(n)||r.default.track(s.rMx.SIGNUP_COMPLETED,{target_key:t,selected_option_key:d.selectedOptionKey,email:d.email,guild_id:d.guildId,metadata:(0,a.mU)(d),completed:c}),(0,l.EW)(n,{dismissAction:o.L.PRIMARY,forceTrack:!0}),i.Z.dispatch({type:"COMPLETE_SIGN_UP",email:d.email,targetKey:t,selectedOptionKey:d.selectedOptionKey}))}function c(e,t){(0,l.EW)(t,{dismissAction:o.L.DISMISS,forceTrack:!0}),i.Z.dispatch({type:"DISMISS_SIGN_UP",targetKey:e})}},849688:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(442837),d=n(547280),c=n(678513),u=n(981631),h=n(388032),m=n(940841);let p=function(e){let{guild:t}=e,r=(0,o.e7)([c.Z],()=>c.Z.getActiveGuildSignUp(t.id)),p=l.useCallback(()=>{null!=r&&(0,s.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("22862"),n.e("79587")]).then(n.bind(n,646202));return n=>(0,i.jsx)(e,{...n,target:r,guildId:t.id})})},[r,t.id]),g=l.useCallback(()=>{null!=r&&(0,d.b)(r.key,r.dismissibleContent)},[r]);if(null==r)return null;let _="url(".concat(r.backgroundAssetUrl,") black top / cover no-repeat");return(0,i.jsx)(s.f6W,{theme:u.BRd.DARK,children:e=>(0,i.jsx)("div",{className:a()(m.container,e),children:(0,i.jsxs)("div",{className:m.card,style:{background:_},children:[(0,i.jsxs)("div",{className:m.eyebrow,children:[(0,i.jsx)(s._XJ,{size:"xxs",color:"currentColor"}),(0,i.jsx)(s.Text,{variant:"text-xs/semibold",color:"none",children:h.intl.string(h.t.hhKpxs)})]}),(0,i.jsx)(s.X6q,{variant:"heading-sm/medium",children:r.noticeHeader}),(0,i.jsx)(s.zxk,{className:m.button,color:"none",onClick:p,children:(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"none",children:h.intl.string(h.t.vv0Nsb)})}),(0,i.jsx)("div",{className:m.dismiss,children:(0,i.jsx)(s.P3F,{onClick:g,"aria-label":h.intl.string(h.t.cpT0Cg),children:(0,i.jsx)(s.Dio,{size:"xs",color:"currentColor"})})})]})})})}},131468:function(e,t,n){n.d(t,{Z:()=>o}),n(47120);var i=n(570140),l=n(317770),r=n(314897),a=n(131951);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends l.Z{_initialize(){__OVERLAY__||(i.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),i.Z.subscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),i.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),i.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}_terminate(){__OVERLAY__||(i.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),i.Z.unsubscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),i.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),i.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}constructor(...e){super(...e),s(this,"_playSound",function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2],arguments.length>3&&arguments[3]}),s(this,"_stopAndClearSounds",()=>{}),s(this,"_handleToggleSelfDeafened",()=>{a.Z.isDeaf()&&this._stopAndClearSounds()}),s(this,"_handleSoundboardSoundReceived",e=>{let{soundId:t,soundVolume:n,userId:i,channelId:l}=e;if(null!=t&&i!==r.default.getId())return this._playSound(t,n,i,l)}),s(this,"_handleSoundboardSoundPlayLocally",e=>{let{sound:t,channelId:n}=e,i=r.default.getId();return this._playSound(t.soundId,t.volume,i,n)}),s(this,"_handleVoiceChannelSelect",()=>{this._stopAndClearSounds()})}}},377368:function(e,t,n){n.d(t,{Z:()=>T}),n(47120);var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(536442),s=n(810788),o=n(592125),d=n(131951),c=n(944486),u=n(556296),h=n(131468),m=n(208049),p=n(763296),g=n(641015),_=n(22382),f=n(747071),E=n(49230),I=n(981631),C=n(65154);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends h.Z{_initialize(){super._initialize(),__OVERLAY__||r.Z.subscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}_terminate(){super._terminate(),__OVERLAY__||r.Z.unsubscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}constructor(...e){var t;super(...e),t=this,N(this,"playingSoundsWeb",new Map),N(this,"_stopAndClearSounds",()=>{d.Z.supports(C.AN.SAMPLE_PLAYBACK)&&d.Z.getMediaEngine().eachConnection(e=>{e.stopAllSamplesLocalPlayback()}),this.playingSoundsWeb.forEach(e=>{e.pause(),e.src=""}),this.playingSoundsWeb=new Map}),N(this,"_playSound",async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,r=null!=l&&c.Z.getVoiceChannelId()===l;if((null==l||r)&&!d.Z.isDeaf()&&!p.Z.isLocalSoundboardMuted(i))try{let l={soundKey:"".concat(i,"-").concat(e),soundURL:(0,_.Z)(e),soundVolume:(0,f.Z)(n),reportSoundStartedPlaying:()=>(0,m.xR)(e,i)};d.Z.supports(C.AN.SAMPLE_PLAYBACK)?await (0,E.$)(l):await (0,E.h)(l,t.playingSoundsWeb)}finally{(0,m.R)(e,i)}}),N(this,"_handleOverlaySoundboardSoundsFetchRequest",()=>{(0,m.w)()}),N(this,"_handleOpenEducationModal",(e,t)=>{if(null==e)return;let r=o.Z.getChannel(t),d=u.ZP.getKeybindForAction(I.kg4.SOUNDBOARD_HOLD);null!=r&&(0,g.Z)(r)&&null!=d&&s.Z.hasHotspot(a.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,l.ZDy)(async()=>{let{default:t}=await n.e("69208").then(n.bind(n,490166));return n=>(0,i.jsx)(t,{...n,guildId:e,keybind:d,channel:r})})})}}let T=new v},848543:function(e,t,n){n.d(t,{Z:()=>Z}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(399606),o=n(704215),d=n(582019),c=n(481060),u=n(239091),h=n(100527),m=n(906732),p=n(540059),g=n(706140),_=n(294629),f=n(131951),E=n(459273),I=n(242291),C=n(792165),N=n(603074),v=n(981631),T=n(921944),S=n(388032),A=n(74671);function Z(e){let{channel:t,iconClassName:r,className:Z,innerClassName:x,...b}=e,L=(0,p.Q3)("SoundBoardRTCPanelButton"),{mute:y,suppress:O}=(0,_.Z)(t),P=(0,s.e7)([f.Z],()=>f.Z.isDeaf()),R=y||O||P,[j,D]=l.useState(!1),w=t.getGuildId(),M=(0,I.sR)({isSoundboardButtonDisabled:R}),[k,U]=(0,g.cv)(M),{analyticsLocations:G}=(0,m.ZP)(h.Z.SOUNDBOARD_BUTTON);function B(e){null!=w&&(0,u.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,i.jsx)(e,{guildId:w,...t})})}let{Component:V,play:H,events:{onMouseEnter:F,onMouseLeave:z}}=(0,d.j)(),W=e=>(0,i.jsx)(c.yRy,{animation:c.yRy.Animation.FADE,shouldShow:j,position:"top",onRequestClose:()=>D(!1),renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(N.Z,{guildId:w,channel:t,onClose:n,gridNotice:k===o.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,i.jsx)(C.o,{onClose:n,markAsDismissed:U}),analyticsSource:"rtc panel"})},children:t=>(0,i.jsx)("div",{children:(0,i.jsx)(c.zxk,{...e,...t,className:a()(Z,{[A.buttonActive]:j,[A.disabled]:R}),wrapperClassName:Z,innerClassName:x,disabled:R,onClick:()=>{var t;null!=k&&k!==o.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&U(T.L.UNKNOWN),null==e||null===(t=e.onClick)||void 0===t||t.call(e),D(!j),H()},onMouseEnter:t=>{var n,i;null===(n=b.onMouseEnter)||void 0===n||n.call(b,t),null==e||null===(i=e.onMouseEnter)||void 0===i||i.call(e),F()},onMouseLeave:t=>{var n,i;null===(n=b.onMouseLeave)||void 0===n||n.call(b,t),null==e||null===(i=e.onMouseLeave)||void 0===i||i.call(e),z()},onContextMenu:B,fullWidth:!0,size:L?c.zxk.Sizes.MEDIUM:c.zxk.Sizes.SMALL,...b,children:(0,i.jsx)(V,{className:r,size:"sm",color:j?"white":c.TVs.colors.INTERACTIVE_ACTIVE})})})}),Y=l.useCallback(()=>{R||D(!j)},[R,j]);return(0,E.yp)({event:v.CkL.TOGGLE_SOUNDBOARD,handler:Y}),(0,i.jsx)(m.Gt,{value:G,children:(0,i.jsx)(c.ua7,{text:y?S.intl.string(S.t["Ox4/zc"]):O?S.intl.string(S.t["+YBKYG"]):P?S.intl.string(S.t.X1lQlp):S.intl.string(S.t["6EJvHh"]),children:e=>W(e)})})}},640806:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var l=n(704215),r=n(230711),a=n(765585),s=n(981631),o=n(921944),d=n(388032),c=n(439200);function u(e){let{markAsDismissed:t}=e;return(0,i.jsx)(a.Z,{header:d.intl.string(d.t["89R9tb"]),body:d.intl.string(d.t["/BB09P"]),tryItText:d.intl.string(d.t.jVcuVV),dismissibleContent:l.z.SOUNDBOARD_VOLUME_EDUCATION,artClassName:c.art,onTryFeature:()=>{r.Z.open(s.oAB.VOICE),t(o.L.UNKNOWN)},onClose:()=>t(o.L.UNKNOWN),shouldUseHorizontalButtons:!0,inlineArt:!0})}},49230:function(e,t,n){n.d(t,{$:()=>p,h:()=>g}),n(47120);var i=n(512722),l=n.n(i),r=n(46973),a=n(481060),s=n(304809),o=n(131951),d=n(747071),c=n(388032);let u=null;try{u=(0,s.N)()}catch{}let h=new Map;async function m(e){let t=h.get(e);if(null!=t)return t;let n=await (await fetch(e)).arrayBuffer(),i=await (null==u?void 0:u.decodeAudioData(n));return null!=i&&h.set(e,i),i}function p(e){let{soundKey:t,soundURL:n,soundVolume:i,reportSoundStartedPlaying:a}=e;return new Promise(async e=>{let s=await m(n);null==s&&e(),o.Z.getMediaEngine().eachConnection(n=>{n.context===r.Yn.DEFAULT&&(a(),l()(null!=s,"audioBuffer cannot be null here"),n.startSamplesLocalPlayback(t,s,i,()=>{e()}))})})}function g(e,t){let{soundKey:n,soundURL:i,soundVolume:l,reportSoundStartedPlaying:r}=e,s=t.get(n);if(null!=s){s.currentTime=0;return}return new Promise(e=>{let s=new Audio(i);s.volume=(0,d.Z)(l),s.addEventListener("canplaythrough",()=>{r(),t.set(n,s),s.play()}),"Safari"===platform.name&&s.addEventListener("error",t=>{var n;let i=t.target;(null==i?void 0:null===(n=i.error)||void 0===n?void 0:n.code)===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED&&(0,a.showToast)((0,a.createToast)(c.intl.string(c.t.qAsyjI),a.ToastType.FAILURE)),e()}),s.addEventListener("ended",()=>{t.delete(n),s.src="",e()})})}},380349:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(314897),s=n(768419),o=n(456190),d=n(239470),c=n(894344),u=n(203777),h=n(616922),m=n(388032);function p(e,t,n){let p=(0,l.e7)([s.Z,a.default],()=>null!=t?(0,d.Z)(s.Z,a.default,t,e):void 0,[e,t]);if(null==p||null==e||null==t)return null;let g=p.isCurrentUser||p.notPlayable||p.playingSameTrack,_=p.isCurrentUser||p.syncingWithUser||p.syncingWithParty;return[(0,i.jsx)(r.sNh,{id:"spotify-play-".concat(e.session_id),action:()=>(0,u.Z)(p,h.kG.USER_ACTIVITY_PLAY,n),label:m.intl.string(m.t.rRffNz),subtext:g?(0,o.Z)(p,h.kG.USER_ACTIVITY_PLAY):void 0,disabled:g},"spotify-play-".concat(e.session_id)),p.canPlaySpotify?(0,i.jsx)(r.sNh,{id:"spotify-sync-".concat(e.session_id),action:()=>(0,c.Z)(p,h.kG.USER_ACTIVITY_SYNC,n),label:m.intl.string(m.t.eU3inJ),subtext:_?(0,o.Z)(p,h.kG.USER_ACTIVITY_SYNC):void 0,disabled:_},"spotify-sync-".concat(e.session_id)):null]}},262702:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(570140),l=n(846027),r=n(872810),a=n(317770),s=n(569545),o=n(199902),d=n(314897),c=n(592125),u=n(131951),h=n(590415);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Z{_initialize(){i.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){i.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){super(...e),m(this,"handleVoiceStateUpdates",e=>{let{voiceStates:t}=e,n=d.default.getId();t.forEach(e=>{var t;e.userId===n&&(null===(t=c.Z.getChannel(e.channelId))||void 0===t?void 0:t.isGuildStageVoice())&&(0,h.gf)(e)!==h.xO.ON_STAGE&&(this.handleStopStream(e),this.handleStopUserVideo())})}),m(this,"handleStopStream",e=>{let t=o.Z.getActiveStreamForUser(e.userId,e.guildId);null!=t&&(0,r.g)((0,s.V9)(t),!1)}),m(this,"handleStopUserVideo",()=>{u.Z.isVideoEnabled()&&l.Z.setVideoEnabled(!1)})}}let g=new p},448206:function(e,t,n){n.d(t,{Z:()=>s});var i=n(442837),l=n(314897),r=n(944486),a=n(88751);function s(e){return(0,i.e7)([l.default,r.Z,a.ZP],()=>{let t=l.default.getId();return r.Z.getVoiceChannelId()===e?a.ZP.getPermissionsForUser(t,e):null},[e])}},639033:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(317770),s=n(314897),o=n(592125),d=n(797258),c=n(590415),u=n(981631);let h="STAGE_INVITED_TO_SPEAK_MODAL";class m extends a.Z{_initialize(){r.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){r.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){var t,r;super(...e),t="handleVoiceStateUpdates",r=e=>{var t;let{voiceStates:r}=e,a=s.default.getId(),m=null===(t=d.Z.getSession())||void 0===t?void 0:t.sessionId,p=r.find(e=>e.userId===a&&e.sessionId===m);if(null==p)return;let g=p.channelId;if(null==g){(0,l.nfh)(h)&&(0,l.Mr3)(h);return}let _=o.Z.getChannel(g);if(!(null==_?void 0:_.isGuildStageVoice()))return;let f=(0,c.gf)(p)===c.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=_&&f){if((0,l.nfh)(h))return;(0,l.ZDy)(async()=>{let{default:e}=await n.e("13878").then(n.bind(n,113140));return t=>(0,i.jsx)(e,{...t,channel:_})},{modalKey:h,onCloseRequest:u.VqG})}},t in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}}let p=new m},579022:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),r=n(388032),a=n(649969);let s=Math.ceil(2*Math.PI*20),o=e=>{let{total:t,used:n}=e,o=Math.max(0,Math.min(1,n/t)),d="".concat(Math.floor(100*o),"%");return(0,i.jsx)(l.ua7,{text:r.intl.formatToPlainString(r.t["2eoRMj"],{used:d}),children:e=>(0,i.jsxs)("div",{className:a.wrapper,role:"progressbar","aria-label":r.intl.formatToPlainString(r.t["2eoRMj"],{used:d}),...e,children:[(0,i.jsxs)("svg",{viewBox:"25 25 50 50",className:a.svg,"aria-hidden":!0,children:[(0,i.jsx)("circle",{className:a.background,cx:"50",cy:"50",r:20}),(0,i.jsx)("circle",{className:a.foreground,cx:"50",cy:"50",r:20,stroke:function(e){let t=Math.round(-85*e+199),n=Math.round(-71*e+208),i=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(i,")")}(o),strokeDasharray:function(e){let t=Math.floor(s*e);return"".concat(t,", ").concat(s)}(o)})]}),(0,i.jsx)("aside",{className:a.usageInfo,"aria-hidden":!0,children:d})]})})}},703016:function(e,t,n){n.d(t,{Z:()=>z}),n(757143),n(733860);var i=n(913527),l=n.n(i),r=n(570140),a=n(241601),s=n(419363),o=n(933557),d=n(660199),c=n(869765),u=n(706454),h=n(695346),m=n(314897),p=n(433355),g=n(592125),_=n(271383),f=n(430824),E=n(131951),I=n(292959),C=n(699516),N=n(944486),v=n(9156),T=n(594174),S=n(51144),A=n(196051),Z=n(441729),x=n(653477),b=n(981631),L=n(388032);let y=[],O=null,P=null,R=null,j=/\|\|([\s\S]+?)\|\|/g;function D(e,t,n,i){let r=f.Z.getGuild(n),a=e.replace(j,L.intl.string(L.t["F+x38P"])).replace(/<@!?(\d+)>/g,(e,t)=>{var i;let l=T.default.getUser(t);return null==l?e:null!==(i=_.ZP.getNick(n,l.id))&&void 0!==i?i:S.ZP.getName(l)}).replace(/<@&?(\d+)>/g,(e,t)=>{let n=null!=r?f.Z.getRole(r.id,t):null;return null!=n&&null!=n.name?n.name:L.intl.string(L.t.dRcLAw)}).replace(/<#(\d+)>/g,(e,t)=>{let n=g.Z.getChannel(t);return null==n?e:(0,o.F6)(n,T.default,C.Z)}).replace(/<a?:(\w+):(\d+)>/g,(e,t)=>"".concat(L.intl.string(L.t.sMOuub)," ").concat(t)).replace(/<\/([^\s]+?):(\d+)>/g,(e,t)=>"/".concat(t)).replace(/<t:(\d+):([A-Z]|[a-z])>/g,(e,t,n)=>{let i=d.Qh[n],r=1e3*parseInt(t,10),a=l()(r);return null!=i?i(a):a.format()});return null==i?L.intl.formatToPlainString(L.t["uIj77+"],{username:t,body:a}):L.intl.formatToPlainString(L.t["Ix4H+v"],{username:t,body:a,replyUsername:i})}function w(){if(!s.Zh)return!1;let e=u.default.locale;if(null==R){var t;R=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}let n=R.filter(t=>t.lang===e||t.lang.slice(0,e.length)===e);P=n.length>0?n[0]:null}async function M(e,t,n,i,l){let r=s.e6(e,n);null!==r&&(null==P&&w(),t?await (0,A.NB)():null==O||O.removeEventListener("end",A.NB),r.addEventListener("end",A.NB),null!=i&&r.addEventListener("start",i),null!=l&&r.addEventListener("end",l),O=r,s.iq(r,P))}function k(e,t,n,i,l){M(e,t,l,()=>{(0,A.Bo)(n,i)})}function U(e){let{text:t,interrupt:n,maxLength:i,onStart:l,onEnd:r}=e;M(t,n,i,l,r)}function G(){return null!==O&&O.removeEventListener("end",A.NB),s.M9(),O=null,!0}function B(e){var t,n,i;let{message:l,channel:r}=e,a=l.type===b.uaV.REPLY?c.Z.getMessageByReference(l.messageReference):null,s=(null==a?void 0:a.state)===c.Y.LOADED?null==a?void 0:null===(t=a.message)||void 0===t?void 0:t.author:null,o=null!=s?null!==(n=_.ZP.getNick(r.guild_id,null==s?void 0:s.id))&&void 0!==n?n:S.ZP.getName(s):null,d=r.getGuildId(),u=null!==(i=_.ZP.getNick(d,l.author.id))&&void 0!==i?i:S.ZP.getName(l.author);return k(D(l.content,u,d,o),!0,r.id,l.id),!0}function V(e){var t,n,i,l,r,a;let{channelId:s,message:o,optimistic:d}=e;if(d||E.Z.isSelfDeaf())return!1;let c=g.Z.getChannel(s);if(null==c)return!1;let u=N.Z.getChannelId(),f=p.ZP.getCurrentSidebarChannelId(u),T=s===u||s===f,A=h.OW.getSetting()&&o.tts&&T,Z=I.Z.getTTSType(),L=(null===(t=o.author)||void 0===t?void 0:t.id)!==m.default.getId()&&(Z===b.PrB.ALL_CHANNELS||Z===b.PrB.SELECTED_CHANNEL&&T);if((A||L)&&!C.Z.isBlockedOrIgnoredForMessage(o)){if(y.indexOf(o.id)>=0)return!1;y.unshift(o.id)>10&&y.pop();let e=c.getGuildId();if(null!=e&&v.ZP.getMutedChannels(e).has(s))return!1;let t=null!==(r=null!==(l=_.ZP.getNick(e,null===(n=o.author)||void 0===n?void 0:n.id))&&void 0!==l?l:S.ZP.getName(o.author))&&void 0!==r?r:"",d=o.type===b.uaV.REPLY?null===(i=o.referenced_message)||void 0===i?void 0:i.author:null,u=null!=d?null!==(a=_.ZP.getNick(e,null==d?void 0:d.id))&&void 0!==a?a:S.ZP.getName(d):null;k(D(o.content,t,e,u),!1,c.id,o.id,x.f)}return!1}function H(e){let{id:t,channelId:n}=e,i=Z.Z.currentMessage;return null!=i&&t===i.messageId&&n===i.channelId&&((0,A.NB)(),!0)}function F(){E.Z.isSelfDeaf()&&s.M9()}let z={init(){r.Z.subscribe("SPEAK_TEXT",U),r.Z.subscribe("SPEAK_MESSAGE",B),r.Z.subscribe("STOP_SPEAKING",G),r.Z.subscribe("MESSAGE_CREATE",V),r.Z.subscribe("MESSAGE_DELETE",H),r.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",F),r.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",w),(0,a.Ql)(w)}}},626562:function(e,t,n){n.d(t,{Vm:()=>l});let i=(0,n(818083).B)({kind:"user",id:"2025-01_custom_status_edit_preview_mobile",label:"Custom Status Edit Preview (Mobile)",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable edit modal with preview",config:{enabled:!0}}]});function l(e){let{location:t,autoTrackExposure:n=!0}=e,{enabled:l}=i.useExperiment({location:t},{autoTrackExposure:n});return l}},52538:function(e,t,n){n.d(t,{Z:()=>c});var i=n(200651);n(192379);var l=n(704215),r=n(765585),a=n(16703),s=n(300284),o=n(388032),d=n(455965);let c=()=>{let e=(0,a.Z)(),t=(0,s.Z)({guild:e});return(0,i.jsx)(r.Z,{isPremiumFeature:!0,shouldUseHorizontalButtons:!0,artClassName:d.coachmarkArt,headerClassName:d.coachmarkHeader,onTryFeature:t,tryItText:o.intl.string(o.t.RzWDqa),header:o.intl.string(o.t.IIpTub),body:o.intl.string(o.t["797pnJ"]),dismissibleContent:l.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK,maxWidth:320})}},309494:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(320161),o=n(572004),d=n(51144),c=n(785717),u=n(475413),h=n(388032),m=n(254924);function p(e){let{user:t,isHovering:n}=e,{trackUserProfileAction:l}=(0,c.KZ)();return o.wS?(0,i.jsx)(s.Z,{text:h.intl.string(h.t.y5MwJy),delay:0,"aria-label":!1,copyValue:d.ZP.getUserTag(t,{decoration:"never",identifiable:"always"}),onCopy:()=>l({action:"COPY_USERNAME"}),children:e=>(0,i.jsx)(u.kF,{...e,className:r()(m.hover,{[m.visible]:n}),innerClassName:m.hover,look:a.zxk.Looks.BLANK,size:a.zxk.Sizes.NONE,color:m.hoverColor,themeColor:"none",grow:!1,"aria-label":h.intl.string(h.t.y5MwJy),children:(0,i.jsx)(a.TIy,{size:"xs",color:"currentColor"})})}):null}},886162:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(200651),l=n(192379),r=n(990547),a=n(399606),s=n(481060),o=n(232567),d=n(213609),c=n(313201),u=n(23434),h=n(981631),m=n(388032),p=n(87055);function g(e){let{transitionState:t}=e,g=(0,a.e7)([u.Z],()=>u.Z.getAction()),[_,f]=l.useState(!1),E=(0,c.Dt)();async function I(){return f(!0),g===h.c2C.AGREEMENTS&&f(await (0,o.Lr)()),null}return(0,d.Z)({type:r.ImpressionTypes.VIEW,name:r.ImpressionNames.USER_AGREEMENTS,properties:{required_action:g}},{},[]),(0,i.jsxs)(s.Y0X,{"aria-labelledby":E,transitionState:t,children:[(0,i.jsx)("div",{id:E}),(0,i.jsx)(s.xBx,{separator:!1,children:(0,i.jsx)(s.X6q,{variant:"heading-lg/semibold",children:m.intl.string(m.t["7glvXl"])})}),(0,i.jsxs)(s.hzk,{children:[(0,i.jsx)(s.Text,{variant:"text-md/normal",children:g===h.c2C.AGREEMENTS?m.intl.format(m.t.zHolhY,{}):null}),(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsxs)("ul",{className:p.links,children:[(0,i.jsx)("li",{children:m.intl.format(m.t.iw0hFh,{url:h.EYA.TERMS})}),(0,i.jsx)("li",{children:m.intl.format(m.t["36klnJ"],{url:h.EYA.PAID_TERMS})}),(0,i.jsx)("li",{children:m.intl.format(m.t.TquFBA,{url:h.EYA.PRIVACY})}),(0,i.jsx)("li",{children:m.intl.format(m.t.ia96TU,{url:h.EYA.GUIDELINES})})]}),(0,i.jsx)("img",{className:p.image,alt:"",src:n(146714)})]}),(0,i.jsx)(s.Text,{variant:"text-md/normal",className:p.agreementDescription,children:m.intl.string(m.t["+USXQE"])})]}),(0,i.jsx)(s.mzw,{children:(0,i.jsx)(s.zxk,{submitting:_,onClick:I,color:s.zxk.Colors.GREEN,children:m.intl.string(m.t["+TBKLy"])})})]})}},332754:function(e,t,n){n.d(t,{Z:()=>E});var i=n(200651);n(192379);var l=n(481060),r=n(570140),a=n(84615),s=n(429142),o=n(1964),d=n(852758),c=n(314897),u=n(594174),h=n(374023),m=n(886162),p=n(981631),g=n(815660),_=n(308569),f=n(231338);let E={init(){r.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction),r.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction),r.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate),c.default.addChangeListener(this.handleAuthenticationStoreChanged)},handleRequiredAction(e){let t=e.requiredAction;!h.s.isDisallowPopupsSet()&&null!=u.default.getCurrentUser()&&(t===p.c2C.REQUIRE_CAPTCHA||t===p.c2C.REQUIRE_VERIFIED_EMAIL||t===p.c2C.REQUIRE_VERIFIED_PHONE||t===p.c2C.REQUIRE_REVERIFIED_PHONE||t===p.c2C.REQUIRE_VERIFIED_EMAIL_OR_VERIFIED_PHONE||t===p.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===p.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||o.Z.isEmailReverification(t)?(0,a.q4)(()=>(0,i.jsx)(d.Z,{}),{layerKey:_.CV,Layer:s.ZP}):t===p.c2C.AGREEMENTS?(0,l.h7j)(e=>(0,i.jsx)(m.Z,{...e}),{modalKey:_.f1,onCloseRequest:f.Vq}):null==t&&((0,a.ob)(_.CV),(0,l.nfh)(_.f1)&&(0,l.Mr3)(_.f1)))},handleAuthenticationStoreChanged(){null==c.default.getId()&&((0,a.ob)(_.CV),(0,l.Mr3)(_.f1),(0,l.Mr3)(_.HR),(0,l.Mr3)(_.F0),(0,l.Mr3)(g.M))},handleCurrentUserUpdate(e){let{user:t}=e;t.verified&&(0,l.Mr3)(_.F0)}}},755264:function(e,t,n){n.d(t,{Z:()=>p}),n(47120),n(653041);var i=n(392711),l=n.n(i),r=n(442837),a=n(377108),s=n(433517),o=n(709054),d=n(48481),c=n(526761),u=n(981631);let h="selectedChannelGuildFrecency";function m(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[e=>null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e,e=>Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}]);return null==t||0===t.favorites.length?[]:t.favorites.map((n,i)=>{let l=a.JM.create();return l.format="IMAGE"===n.format?a.EO.IMAGE:"VIDEO"===n.format?a.EO.VIDEO:a.EO.NONE,l.src=n.src,l.width=n.width,l.height=n.height,l.order=t.favorites.length-i+e,{url:n.url,favorite:l}})}let p=[{version:2,run(e){let t=m(1);if(0===t.length)return!1;for(let{url:n,favorite:i}of(null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),e.favoriteGifs.gifs={},t))e.favoriteGifs.gifs[n]=i;return e.favoriteGifs.hideTooltip=t.length>2,!0},cleanup(){}},{version:3,run(e){function t(){return{usageHistory:{},favorites:[]}}let{state:n}=r.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[e=>null==e||0===Object.keys(e).length?t():e,e=>null==e||0===Object.keys(e).length?t():(null==e.favorites&&(e.favorites=[]),e)]);if(null==n)return!1;let i=!1;return n.favorites.length>0&&(e.favoriteStickers=a.Lt.create(),e.favoriteStickers.stickerIds=l().uniq(n.favorites).slice(0,c.oX),i=!0),l().size(n.usageHistory)>0&&(e.stickerFrecency=a.ls.create(),e.stickerFrecency.stickers=(0,d.tU)(n.usageHistory,100),i=!0),i},cleanup(){s.K.remove("StickersPersistedStore")}},{version:4,run(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({usageHistory:s.K.get("EmojiUsageHistory")||{}})]);if(null==t)return!1;let n=!1;return null!=t.favorites&&t.favorites.length>0&&(e.favoriteEmojis=a.ND.create(),e.favoriteEmojis.emojis=l().uniq(t.favorites).slice(0,c.oX),n=!0),l().size(t.usageHistory)>0&&(e.emojiFrecency=a.PL.create(),e.emojiFrecency.emojis=(0,d.tU)(t.usageHistory,100),n=!0),n},cleanup(){s.K.remove("EmojiStore"),s.K.remove("EmojiUsageHistory"),s.K.remove("EmojiDiversitySurrogate")}},{version:6,run(e){null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});let t=m(1);if(0===t.length)return!1;l()(e.favoriteGifs.gifs).values().sortBy("order").forEach((e,n)=>e.order=t.length+1+n);let n=a.wK.toBinary(e.favoriteGifs).length,i=0;for(let{url:l,favorite:r}of t){if(r.order=t.length-i,i++,l in e.favoriteGifs.gifs){e.favoriteGifs.gifs[l].order=r.order;continue}let s=a.JM.toBinary(r).length+l.length+7;n+s>c.vY||(n+=s,e.favoriteGifs.gifs[l]=r)}for(n=a.wK.toBinary(e.favoriteGifs).length;n>c.vY;){let t=0;for(let n in e.favoriteGifs.gifs)if(delete e.favoriteGifs.gifs[n],++t>=10)break;n=a.wK.toBinary(e.favoriteGifs).length}return!0},cleanup(){}},{version:7,run(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]);if(null==t)return!1;let n=!1;return l().size(t.usageHistory)>0&&(e.applicationCommandFrecency=a.YI.create(),e.applicationCommandFrecency.applicationCommands=(0,d.tU)(t.usageHistory,500),n=!0),n},cleanup(){s.K.remove("ApplicationCommandFrecency")}},{version:8,run(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("SoundboardFavoriteStore",[]);if(null==t)return!1;let n=!1;return l().size(t.favoriteSounds)>0&&(e.favoriteSoundboardSounds=a.h_.create(),o.default.keys(t.favoriteSounds).forEach(n=>{new Set(t.favoriteSounds[n]).forEach(t=>{var n;null===(n=e.favoriteSoundboardSounds)||void 0===n||n.soundIds.push(t)})}),n=!0),n},cleanup(){s.K.remove("SoundboardFavoriteStore")}},{version:9,run(e){let t=s.K.get(h);if(null==t)return!1;for(let e in t)u.Xyh.test(e)||delete t[e];return e.guildAndChannelFrecency=a.lG.create(),e.guildAndChannelFrecency.guildAndChannels=(0,d.tU)(t,100),!0},cleanup(){s.K.remove(h)}},{version:10,run(e){var t;if(null==e.emojiFrecency)return!1;let n=null!==(t=e.emojiFrecency.emojis)&&void 0!==t?t:{},i=!1;if(l().size(n)>0){let t=a.PL.create();a.PL.mergePartial(t,e.emojiFrecency),null!=e.emojiReactionFrecency&&a.PL.mergePartial(t,e.emojiReactionFrecency),e.emojiReactionFrecency=t,i=!0}return i},cleanup(){}}]},315341:function(e,t,n){n.d(t,{Z:()=>f}),n(518263),n(970173),n(520712),n(268111),n(941497),n(32026),n(480839),n(744285),n(492257),n(873817);var i=n(442837),l=n(704215),r=n(524437),a=n(381499),s=n(433517),o=n(581364),d=n(536442),c=n(592125),u=n(915486),h=n(48481),m=n(981631),p=n(71509);function g(e,t){let n=!1;return null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array,lastReceivedChangelogId:"0",recurringDismissibleContentStates:{}}),null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array),(0,u.jl)(e.userContent.dismissedContents,t)||(e.userContent.dismissedContents=(0,u.GV)(e.userContent.dismissedContents,t),n=!0),n}function _(e,t,n){return!!d.qc.hasHiddenHotspot(t)&&g(e,n)}let f=[{version:2,run(e){var t,n;if(null!=e.inbox)return!1;let i=!1,l=r.f9.create();e.inbox=l,s.K.get("seenInboxTutorial",!1)&&(l.viewedTutorial=!0,i=!0);let a=s.K.get("recentsButtonTab2");null!=a&&(l.currentTab="Recent Mentions"===a?r.X.MENTIONS:r.X.UNREADS,i=!0);let o=null!==(t=s.K.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(let t in o){if(!o[t])continue;let l=c.Z.getChannel(t);null!=l&&(i=!0,(0,h.i7)(e,null!==(n=l.guild_id)&&void 0!==n?n:"0",l.id,e=>{e.collapsedInInbox=!0}))}return i},cleanup(){s.K.remove("seenInboxTutorial"),s.K.remove("recentsButtonTab2"),s.K.remove("unread-messages-collapsed-channels")}},{version:3,run(e){let{state:t}=i.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({diversitySurrogate:s.K.get("EmojiDiversitySurrogate")||""})]);if(null==t)return!1;let n=!1;return null!=t.diversitySurrogate&&""!==t.diversitySurrogate&&(null==e.textAndImages&&(e.textAndImages=r.Me.create()),null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=a.Gm.create()),e.textAndImages.diversitySurrogate.value=t.diversitySurrogate,n=!0),n},cleanup(){}},{version:4,run(e){let t=!1;return(!0===s.K.get("HAS_SEEN_HUB_UPSELL")||d.qc.hasHiddenHotspot(d.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=g(e,l.z.HUB_WAITLIST_UPSELL)),t},cleanup(){s.K.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run(e){var t,n,i,l,o,d,c;let u=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:r.Me.create(),e.notifications=null!==(n=e.notifications)&&void 0!==n?n:r.sf.create(),e.privacy=null!==(i=e.privacy)&&void 0!==i?i:r.bE.create(),e.voiceAndVideo=null!==(l=e.voiceAndVideo)&&void 0!==l?l:r.v_.create(),e.gameLibrary=null!==(o=e.gameLibrary)&&void 0!==o?o:r.Fm.create(),e.debug=null!==(d=e.debug)&&void 0!==d?d:r.tA.create();let h=null!==(c=s.K.get("UserSettingsStore"))&&void 0!==c?c:{};return"boolean"==typeof h.useRichChatTextBox&&(e.textAndImages.useRichChatInput=a.D5.create({value:h.useRichChatTextBox}),u=!0),"string"==typeof h.renderSpoilers&&(e.textAndImages.renderSpoilers=a.Gm.create({value:h.renderSpoilers}),u=!0),"boolean"==typeof h.useThreadSidebar&&(e.textAndImages.useThreadSidebar=a.D5.create({value:h.useThreadSidebar}),u=!0),"boolean"==typeof h.showInAppNotifications&&(e.notifications.showInAppNotifications=a.D5.create({value:h.showInAppNotifications}),u=!0),h.emojiPickerCollapsedSections instanceof Array&&(e.textAndImages.emojiPickerCollapsedSections=h.emojiPickerCollapsedSections,u=!0),h.stickerPickerCollapsedSections instanceof Array&&(e.textAndImages.stickerPickerCollapsedSections=h.stickerPickerCollapsedSections,u=!0),"boolean"==typeof h.viewImageDescriptions&&(e.textAndImages.viewImageDescriptions=a.D5.create({value:h.viewImageDescriptions}),u=!0),"boolean"==typeof h.showCommandSuggestions&&(e.textAndImages.showCommandSuggestions=a.D5.create({value:h.showCommandSuggestions}),u=!0),"boolean"==typeof h.alwaysPreviewVideo&&(e.voiceAndVideo.alwaysPreviewVideo=a.D5.create({value:h.alwaysPreviewVideo}),u=!0),"boolean"==typeof h.notifyFriendsOnGoLive&&(e.notifications.notifyFriendsOnGoLive=a.D5.create({value:h.notifyFriendsOnGoLive}),u=!0),"boolean"==typeof h.installShortcutDesktop&&(e.gameLibrary.installShortcutDesktop=a.D5.create({value:h.installShortcutDesktop}),u=!0),"boolean"==typeof h.installShortcutStartMenu&&(e.gameLibrary.installShortcutStartMenu=a.D5.create({value:h.installShortcutStartMenu}),u=!0),"boolean"==typeof h.allowActivityPartyPrivacyFriends&&(e.privacy.allowActivityPartyPrivacyFriends=a.D5.create({value:h.allowActivityPartyPrivacyFriends}),u=!0),"boolean"==typeof h.allowActivityPartyPrivacyVoiceChannel&&(e.privacy.allowActivityPartyPrivacyVoiceChannel=a.D5.create({value:h.allowActivityPartyPrivacyVoiceChannel}),u=!0),"boolean"==typeof h.rtcPanelShowVoiceStates&&(e.debug.rtcPanelShowVoiceStates=a.D5.create({value:h.rtcPanelShowVoiceStates}),u=!0),u},cleanup(){}},{version:7,run:e=>_(e,d.v6.APPLICATION_COMMAND_TOOLTIP,l.z.APPLICATION_COMMAND_TOOLTIP),cleanup(){}},{version:8,run:e=>_(e,d.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,l.z.CHANNELINFO_CHANNELBANNER_NOTICE),cleanup(){}},{version:9,run:e=>(d.qc.hasHiddenHotspot(d.v6.MULTI_ACCOUNT_TOOLTIP)&&s.K.set(p.Ip,"true"),_(e,d.v6.MULTI_ACCOUNT_TOOLTIP,l.z.ACCOUNT_MULTIACCOUNT_TOOLTIP)),cleanup(){}},{version:10,run(e){var t;let n=_(e,d.v6.HUB_LINK_CHANNEL_NOTICE,l.z.CHANNEL_NOTICE_HUBLINK),i=null!==(t=s.K.get("channelNotices"))&&void 0!==t?t:{};return!1===i[m.vID.INVITE]&&g(e,l.z.CHANNEL_NOTICE_INVITE)&&(n=!0),!1===i[m.vID.QUICKSWITCHER]&&g(e,l.z.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0),!1===i[m.vID.GUILD_BOOSTING]&&g(e,l.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0),n},cleanup(){s.K.remove("channelNotices")}},{version:11,run(e){let t=!1;return _(e,d.v6.GUILD_EVENT_UPSELL,l.z.GUILD_HEADER_EVENT_UPSELL)&&(t=!0),_(e,d.v6.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,l.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0),_(e,d.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,l.z.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0),t},cleanup(){}},{version:12,run(e){let t=!1;return s.K.get("hideNag")&&g(e,l.z.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0),s.K.get("hideConnectSpotify")&&g(e,l.z.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0),s.K.get("hideConnectPlayStation")&&g(e,l.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)&&(t=!0),s.K.get("hideMFASMSNotice")&&g(e,l.z.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0),t},cleanup(){s.K.remove("hideNag"),s.K.remove("hideConnectSpotify"),s.K.remove("hideConnectPlayStation"),s.K.remove("hideMFASMSNotice")}},{version:13,run(e){let t=!1;return s.K.get("hidePremiumPromo")&&g(e,l.z.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0),s.K.get("hidePremiumTier2TrialEnding")&&g(e,l.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0),s.K.get("hidePremiumReactivateNotice")&&g(e,l.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0),_(e,d.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,l.z.GUILD_HEADER_INVITE_SPLASH)&&(t=!0),t},cleanup(){s.K.remove("hidePremiumPromo"),s.K.remove("hidePremiumTier2TrialEnding"),s.K.remove("hidePremiumReactivateNotice")}},{version:14,run:e=>_(e,d.v6.ACTIVITY_BEB_TUTORIAL,l.z.ACTIVITIES_TUTORIAL_COACH_MARK),cleanup(){}},{version:15,run:e=>_(e,d.v6.NOW_PLAYING_CONSENT_CARD,l.z.NOW_PLAYING_CONSENT_CARD),cleanup(){}},{version:16,run(e){let t=s.K.get("PromotionsPersistedStore");if(null==t)return!1;let n=t._state.lastDismissedOutboundPromotionStartDate;return null!=n&&(null==e.userContent&&(e.userContent=r.az.create()),null==e.userContent.lastDismissedOutboundPromotionStartDate)&&(e.userContent.lastDismissedOutboundPromotionStartDate=a.Gm.create({value:n}),!0)},cleanup(){}},{version:17,run(e){let{state:t}=i.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null);if(null==t)return!1;let n=t.expressionSuggestionsEnabled;return null!=n&&(null==e.textAndImages&&(e.textAndImages=r.Me.create()),null==e.textAndImages.expressionSuggestionsEnabled)&&(e.textAndImages.expressionSuggestionsEnabled=a.D5.create({value:n}),!0)},cleanup(){s.K.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run(e){let t=!1;return _(e,d.v6.GUILD_DELETE_FEEDBACK,l.z.GUILD_DELETE_FEEDBACK)&&(t=!0),_(e,d.v6.GUILD_LEAVE_FEEDBACK,l.z.GUILD_LEAVE_FEEDBACK)&&(t=!0),t},cleanup(){}},{version:19,run(e){var t;let n=!1;return null!==(t=s.K.get("forumHelperCardStorageKey"))&&void 0!==t&&t&&(n=g(e,l.z.FORUM_CHANNEL_HELPER_CARD)),n},cleanup(){s.K.remove("forumHelperCardStorageKey")}},{version:20,run(e){let t=s.K.get("lastChangeLogId");if(null==t)return!1;if(!(0,o.BH)(t))return s.K.remove("lastChangeLogId"),!1;if(null==e.userContent)e.userContent=r.az.create();else if(null!=e.userContent&&null!=e.userContent.lastReceivedChangelogId&&"0"!==e.userContent.lastReceivedChangelogId)return s.K.remove("lastChangeLogId"),!1;return e.userContent.lastReceivedChangelogId=t,!0},cleanup(){s.K.remove("lastChangeLogId")}}]},507468:function(e,t,n){n.d(t,{Z:()=>h});var i=n(392711),l=n.n(i),r=n(570140),a=n(755264),s=n(315341),o=n(262847),d=n(675478),c=n(581883),u=n(526761);let h={init(){o.Z[u.yP.PRELOADED_USER_SETTINGS]=s.Z,o.Z[u.yP.FRECENCY_AND_FAVORITES_SETTINGS]=a.Z,r.Z.subscribe("CONNECTION_OPEN",m),r.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",p),r.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",g),r.Z.subscribe("APP_STATE_UPDATE",_)}};function m(){let e=c.Z.getFullState(),t=e[u.yP.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&d.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs),l().forEach(d.aj,(t,n)=>{let i=e[Number(n)];null!=i.editInfo.offlineEditDataVersion&&null!=i.editInfo.protoToSave&&t.scheduleSaveFromOfflineEdit()})}function p(e){let{settings:{proto:t,type:n},delaySeconds:i,jitter:l}=e;d.aj[n].markDirty(t,{delaySeconds:i,jitter:l})}function g(e){let{settingsType:t}=e;d.aj[t].loadIfNecessary()}function _(e){let{state:t}=e;("inactive"===t||"background"===t)&&l().forEach(d.aj,(e,t)=>{null!=c.Z.getFullState()[Number(t)].editInfo.timeout&&(e.logger.log("Triggering persistChanges due to AppStateUpdate"),e.persistChanges())})}},762756:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(873546),d=n(481060),c=n(599857),u=n(600164),h=n(63063),m=n(1964),p=n(981631),g=n(388032),_=n(172171),f=n(483938);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I=h.Z.getArticleURL(p.BhN.VERIFICATION_FAQ);class C extends(i=r.PureComponent){renderFields(){let{types:e,captchaKey:t,theme:n,onCaptchaVerify:i}=this.props;return(0,l.jsx)(l.Fragment,{children:e.map(e=>e===p.PUi.CAPTCHA?(0,l.jsx)(c.Z,{onVerify:i,theme:n},t):(0,l.jsx)(d.zxk,{className:s()(f.marginBottom20),onClick:()=>this.handleClick(e),children:m.Z.getButtonTitle(e)},e))})}render(){return(0,l.jsxs)(u.Z,{className:_.verification,align:u.Z.Align.CENTER,direction:u.Z.Direction.VERTICAL,children:[(0,l.jsxs)(u.Z,{className:s()(_.container,{[_.isMobile]:o.tq}),direction:u.Z.Direction.VERTICAL,align:u.Z.Align.CENTER,justify:u.Z.Justify.CENTER,children:[(0,l.jsx)("div",{className:_.image}),(0,l.jsx)("div",{className:s()(_.title,f.marginTop20),children:g.intl.string(g.t.Iz0kDg)}),(0,l.jsx)("div",{className:s()(_.body,f.marginTop4,f.marginBottom20),children:g.intl.format(g.t["0rqMV1"],{helpCenterURL:I})}),(0,l.jsx)(u.Z,{grow:0,direction:u.Z.Direction.VERTICAL,justify:u.Z.Justify.CENTER,children:this.renderFields()})]}),(0,l.jsx)("div",{className:s()(_.footer,f.marginTop20),children:g.intl.string(g.t.qqYun5)}),(0,l.jsxs)(u.Z,{className:s()(f.marginTop4,f.marginBottom20),grow:0,children:[(0,l.jsx)("div",{className:s()(_.footer,_.footerAction),children:g.intl.format(g.t.WL51ZW,{supportURL:h.Z.getSubmitRequestURL()})}),(0,l.jsx)("div",{className:s()(_.footer,_.footerBullet),children:"•"}),(0,l.jsx)("div",{className:s()(_.footer,_.footerAction),children:g.intl.format(g.t.Hv7ztb,{logoutOnClick:this.props.onLogout})})]})]})}constructor(...e){super(...e),E(this,"handleClick",e=>{let{onClick:t}=this.props;null==t||t(e)})}}E(C,"defaultProps",{types:[p.PUi.CAPTCHA],onCaptchaVerify:p.dG4,onLogout:p.dG4});let N=C},852758:function(e,t,n){n.d(t,{Z:()=>A}),n(47120);var i=n(200651),l=n(192379),r=n(990547),a=n(442837),s=n(544891),o=n(481060),d=n(893776),c=n(37234),u=n(809206),h=n(110924),m=n(714338),p=n(213609),g=n(429142),_=n(144114),f=n(210887),E=n(23434),I=n(1964),C=n(762756),N=n(308569),v=n(981631),T=n(815660),S=n(388032);function A(){let{action:e,theme:t}=(0,a.cj)([E.Z,f.Z],()=>({action:E.Z.getAction(),theme:f.Z.theme})),A=I.Z.getVerificationTypes(e),[Z,x]=l.useState(0),b=(0,h.Z)(A);(0,p.Z)({type:r.ImpressionTypes.MODAL,name:r.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:A[0],verification_types:A}},{},[A.toString()]);let L=()=>{(0,u.FD)(),(0,o.ZDy)(async()=>{let{default:e}=await n.e("35401").then(n.bind(n,284549));return t=>(0,i.jsx)(e,{...t})},{modalKey:N.F0,Layer:g.ZP})},y=()=>{(0,o.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:_.L.USER_ACTION_REQUIRED,...t})},{modalKey:T.M,Layer:g.ZP})};return l.useEffect(()=>(m.Z.disable(),()=>{m.Z.enable()}),[]),l.useEffect(()=>{(null==b?void 0:b[0])===v.PUi.PHONE&&(null==A?void 0:A[0])===v.PUi.EMAIL&&(0,o.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,468026));return t=>(0,i.jsx)(e,{...t,title:S.intl.string(S.t.KLnLIC),body:S.intl.string(S.t.XGbCq6),confirmText:S.intl.string(S.t["3oK4q6"])})},{modalKey:N.HR,Layer:g.ZP,onCloseCallback:L})},[A,b]),(0,i.jsx)(C.Z,{types:A,captchaKey:Z,onCaptchaVerify:e=>{s.tn.post({url:v.ANM.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0,rejectWithError:!0}).then(c.xf,()=>{x(e=>e+1)})},theme:t,onClick:e=>{e===v.PUi.EMAIL_OR_PHONE||e===v.PUi.EMAIL||e===v.PUi.REVERIFY_EMAIL?L():y()},onLogout:()=>{(0,o.ZDy)(async()=>{let{ConfirmModal:e,Text:t}=await Promise.resolve().then(n.bind(n,481060));return n=>(0,i.jsx)(e,{header:S.intl.string(S.t["2jxGen"]),confirmText:S.intl.string(S.t["2jxGen"]),cancelText:S.intl.string(S.t["ETE/oK"]),onConfirm:()=>d.Z.logout(),...n,children:(0,i.jsx)(t,{variant:"text-md/normal",children:S.intl.string(S.t.SUnWBA)})})},{Layer:g.ZP})}})}},879815:function(e,t,n){n.d(t,{Z:()=>s});var i=n(442837),l=n(314897),r=n(131951),a=n(979651);function s(e){return(0,i.cj)([a.Z,r.Z,l.default],()=>(function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Z,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.default,o=null!=e?n.getVoiceState(e.getGuildId(),s.getId()):null;return{selfDeaf:i.isSelfDeaf(),deaf:null!==(t=null==o?void 0:o.deaf)&&void 0!==t&&t}})(e,a.Z,r.Z,l.default),[e])}},282506:function(e,t,n){let i;n.d(t,{Z:()=>T});var l=n(570140),r=n(519938),a=n(317770),s=n(317381),o=n(928518),d=n(199902),c=n(592125),u=n(819640),h=n(131951),m=n(366050),p=n(19780),g=n(944486),_=n(914010),f=n(979651),E=n(981631),I=n(65154);function C(){var e;let t=i;if(null==t||!m.Z.isOpen(t))return!1;l.Z.wait(()=>r.xv(t)),null===(e=p.Z.getRTCConnection())||void 0===e||e.setPipOpen(!1),i=null}function N(){let e=p.Z.getChannelId(),t=i===e;return!function(){let e=p.Z.getChannelId(),t=g.Z.getChannelId();if(!h.Z.supports(I.AN.VIDEO)||o.Z.getWindowOpen(E.KJ3.CHANNEL_CALL_POPOUT))return!0;let n=d.Z.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(f.Z.getVideoVoiceStatesForChannel(e)).some(e=>{let{userId:t}=e;return!h.Z.isLocalVideoDisabled(t)})||n))return!0;let i=u.Z.hasLayers();return!(i&&u.Z.getLayers().includes(E.S9g.RTC_DEBUG))&&(!!i||e===t)}()?(t||C(),null!=e&&function(e){var t;let n=c.Z.getChannel(e);if(null==n||m.Z.isOpen(e))return!1;l.Z.wait(()=>r.bA(n.id,E.NYg.VIDEO,{channel:n})),null===(t=p.Z.getRTCConnection())||void 0===t||t.setPipOpen(!0),i=e}(e)):C()}class v extends a.Z{_initialize(){g.Z.addChangeListener(N),_.Z.addChangeListener(N),p.Z.addChangeListener(N),f.Z.addChangeListener(N),u.Z.addChangeListener(N),d.Z.addChangeListener(N),o.Z.addChangeListener(N),h.Z.addChangeListener(N),s.ZP.addChangeListener(N)}_terminate(){g.Z.removeChangeListener(N),_.Z.removeChangeListener(N),p.Z.removeChangeListener(N),f.Z.removeChangeListener(N),u.Z.removeChangeListener(N),d.Z.removeChangeListener(N),o.Z.removeChangeListener(N),h.Z.removeChangeListener(N),s.ZP.removeChangeListener(N)}}let T=new v},444961:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i=n(846519),l=n(570140),r=n(287734),a=n(317770),s=n(199902),o=n(592125),d=n(430824),c=n(517100),u=n(19780),h=n(70956),m=n(358085),p=n(981631);let g=new i.V7,_=new i.V7;class f extends a.Z{_initialize(){l.Z.subscribe("IDLE",this.handleIdleUpdate)}_terminate(){g.stop(),_.stop(),l.Z.unsubscribe("IDLE",this.handleIdleUpdate)}handleIdleUpdate(){let e=c.Z.getIdleSince();if(!m.isPlatformEmbedded)return;for(let e of(g.stop(),_.stop(),s.Z.getAllActiveStreams()))if(e.state!==p.jm8.ENDED)return;if(null==e)return;let t=u.Z.getChannelId();if(null==t)return;_.start(18e6,()=>{r.default.selectVoiceChannel(null)});let n=d.Z.getGuild(u.Z.getGuildId());if(null==n||null==n.afkChannelId||n.afkChannelId===t||null==n.afkTimeout)return;let i=o.Z.getChannel(t);null!=i&&(i.isGuildStageVoice()||g.start(e+n.afkTimeout*h.Z.Millis.SECOND-Date.now(),()=>{null!=(n=d.Z.getGuild(u.Z.getGuildId()))&&null!=n.afkChannelId&&r.default.selectVoiceChannel(n.afkChannelId)}))}}let E=new f},469887:function(e,t,n){n.d(t,{B:()=>m});var i=n(200651);n(192379);var l=n(442837),r=n(704215),a=n(481060),s=n(243778),o=n(970731),d=n(19780),c=n(921944),u=n(388032),h=n(63318);function m(e){let{children:t,canBeShown:m,onCTA:p}=e,g=(0,l.e7)([d.Z],()=>d.Z.isConnected());return(0,i.jsx)(s.ZP,{bypassAutoDismiss:!0,contentTypes:m?[g?r.z.VOICE_FILTER_IN_CALL_COACHMARK:r.z.VOICE_FILTER_LAUNCH_COACHMARK]:[],children:e=>{let{visibleContent:l,markAsDismissed:s}=e;return l===r.z.VOICE_FILTER_LAUNCH_COACHMARK?(0,i.jsx)(a.yRy,{renderPopout:()=>(0,i.jsxs)("div",{className:h.popup,children:[(0,i.jsx)(a.P3F,{className:h.closeIcon,onClick:()=>s(c.L.USER_DISMISS),children:(0,i.jsx)(a.Dio,{})}),(0,i.jsx)("img",{src:n(414190),className:h.art,alt:""}),(0,i.jsxs)("div",{children:[(0,i.jsx)(a.X6q,{variant:"heading-md/semibold",color:"header-primary",className:h.heading,children:u.intl.string(u.t.MLt8Hx)}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:u.intl.string(u.t["l+lSLi"])})]}),(0,i.jsx)(a.zxk,{color:a.zxk.Colors.BRAND,look:a.zxk.Looks.FILLED,fullWidth:!0,onClick:()=>{s(c.L.TAKE_ACTION),p()},children:u.intl.string(u.t["9WdoBw"])})]}),animation:a.yRy.Animation.TRANSLATE,animationPosition:"bottom",position:"top",align:"center",shouldShow:!0,children:(e,n)=>{let{isShown:i}=n;return t(i,()=>s(c.L.INDIRECT_ACTION))}}):l===r.z.VOICE_FILTER_IN_CALL_COACHMARK?(0,i.jsx)(a.yRy,{renderPopout:()=>(0,i.jsx)(o.ZP,{header:u.intl.string(u.t.bNpaiI),content:u.intl.string(u.t["1n6QXF"]),buttonCTA:u.intl.string(u.t["NX+WJC"]),buttonProps:{color:a.Ttl.WHITE},onClick:()=>{p()},markAsDismissed:s,caretPosition:o.DF.BOTTOM_CENTER}),animation:a.yRy.Animation.TRANSLATE,animationPosition:"bottom",position:"top",align:"center",shouldShow:!0,children:(e,n)=>{let{isShown:i}=n;return t(i,()=>s(c.L.INDIRECT_ACTION))}}):t(!1)}})}},243852:function(e,t,n){n(47120);var i,l,r,a,s=n(442837),o=n(433517),d=n(846519),c=n(570140),u=n(278323),h=n(581567),m=n(594190),p=n(581883),g=n(70956),_=n(780570),f=n(314897),E=n(77498),I=n(283595),C=n(19780),N=n(944486),v=n(981631);let T="ActivityTrackingStore",S=30*g.Z.Millis.MINUTE,A=5*g.Z.Millis.MINUTE,Z=null!==(i=o.K.get(T))&&void 0!==i?i:{},x={},b=!1;function L(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t&&y(e,!0);let n=x[e.applicationId];null!=n&&(n.stop(),delete x[e.applicationId]),delete Z[e.applicationId],o.K.set(T,Z)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),i=null!=e.updatedAt?n-e.updatedAt:0;i>S+A&&(i=0);let l=(0,_.OT)(e.applicationId,I.Z),r=N.Z.getVoiceChannelId(),a=f.default.getSessionId(),s=C.Z.getMediaSessionId();u.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?v.GQo.DISCORD:e.distributor,shareActivity:l,token:e.token,duration:Math.floor(i/1e3),closed:t,exePath:e.exePath,voiceChannelId:r,sessionId:a,mediaSessionId:s}),e.updatedAt=n;let c=x[e.applicationId];null==c&&(c=x[e.applicationId]=new d.Xp).start(S,()=>y(e)),t||(Z[e.applicationId]=e,o.K.set(T,Z))}function O(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=m.ZP.getVisibleRunningGames(),n=new Set;for(let{name:e,distributor:i,exePath:l}of t){let t=E.Z.getGameByName(e);null!=t&&(n.add(t.id),t.id in Z||y({applicationId:t.id,updatedAt:Date.now(),distributor:i,exePath:(0,h.N6)(null!=l?l:"")}))}for(let t of Object.keys(Z))n.has(t)||L(Z[t],e)}function P(){for(let e of Object.keys(Z))L(Z[e]);b=!1}class R extends(l=s.ZP.Store){initialize(){this.waitFor(m.ZP,p.Z,I.Z),this.syncWith([p.Z],O)}getActivities(){return Z}}a="ActivityTrackingStore",(r="displayName")in R?Object.defineProperty(R,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):R[r]=a,new R(c.Z,{RUNNING_GAMES_CHANGE:()=>O(),CONNECTION_OPEN:function(){if(b)return!1;for(let e of Object.keys(Z))y(Z[e]);O(!1),b=!0},CONNECTION_CLOSED:function(e){let{code:t}=e;4004===t&&P()},LOGOUT:P,ACTIVITY_UPDATE_SUCCESS:function(e){let{applicationId:t,token:n}=e,i=Z[t];if(null==i)return!1;i.token=n,o.K.set(T,Z)},ACTIVITY_UPDATE_FAIL:function(e){let{applicationId:t}=e,n=Z[t];if(null==n)return!1;n.token=null,n.updatedAt=null,o.K.set(T,Z)}})},184107:function(e,t,n){n.d(t,{Z:()=>c});var i,l,r,a=n(442837),s=n(570140);let o={};class d extends(r=a.ZP.Store){getSkuIdForChannel(e){return o[e]}}l="ChannelSKUStore",(i="displayName")in d?Object.defineProperty(d,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[i]=l;let c=new d(s.Z,{CONNECTION_OPEN:function(){o={}},STORE_LISTING_FETCH_SUCCESS:function(e){let{channelId:t,storeListing:n}=e;null!=t&&(o[t]=n.sku.id)}})},533947:function(e,t,n){let i,l,r;n.d(t,{Z:()=>O}),n(653041),n(47120);var a,s,o,d=n(392711),c=n.n(d),u=n(442837),h=n(570140),m=n(308063),p=n(388610),g=n(430824),_=n(496675),f=n(855674),E=n(981631);let I=[],C=null,N=!1,v=E.QZA.CLOSED,T={},S=!1,A=null;function Z(){if(i=null!=(l=p.Z.getChannel())?g.Z.getGuild(l.guild_id):null,I=null!=l&&null!=i&&_.Z.can(E.Plq.MANAGE_WEBHOOKS,l)?f.Z.getWebhooksForChannel(i.id,l.id):[],null!=C){let e=b(C.id);null!=e&&(C=e)}v=E.QZA.OPEN,T={},S=!1}let x=c().debounce(()=>{S&&((null==C||c().isEqual(C,b(C.id)))&&(S=!1),S||y.emitChange())},500);function b(e){return I.find(t=>{let{id:n}=t;return n===e})}class L extends(a=u.ZP.Store){initialize(){this.waitFor(p.Z,g.Z,f.Z,_.Z)}hasChanges(){return S}get webhooks(){return I}get editedWebhook(){return C}get formState(){return v}getWebhook(e){return b(e)}showNotice(){return this.hasChanges()}getProps(){return{submitting:v===E.QZA.SUBMITTING,webhooks:I,editedWebhook:C,section:r,sectionId:A,hasChanges:this.hasChanges(),isFetching:N,errors:T}}}o="ChannelSettingsIntegrationsStore",(s="displayName")in L?Object.defineProperty(L,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):L[s]=o;let y=new L(h.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:Z,INTEGRATION_SETTINGS_SAVE_SUCCESS:Z,CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(t!==E.CoT.INTEGRATIONS)return!1;if(r=E.b4C.OVERVIEW,null==i){let e=p.Z.getChannel(),t=null==e?void 0:e.getGuildId();null!=e&&null!=t&&(m.Z.fetchForChannel(t,e.id),N=!0),Z()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){let{section:t,sectionId:n}=e;r=t,A=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){let{webhookId:t}=e,n=b(t);if(null==n)return!1;C=n,T={},S=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){C=null,T={},S=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){let{settings:t}=e;if(null==C)return!1;C={...C},null!=t.name&&C.name!==t.name&&(C.name=t.name,S=!0),void 0!==t.avatar&&C.avatar!==t.avatar&&(C.avatar=t.avatar,S=!0),null!=t.channelId&&C.channel_id!==t.channelId&&(C.channel_id=t.channelId,S=!0),S&&x()},CHANNEL_SETTINGS_CLOSE:function(){l=null,i=null,I=[],C=null,v=E.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){let{guildId:t,channelId:n,webhooks:r}=e;if(N=!1,null!=i&&t===i.id&&null!=l&&n===l.id&&null!=r&&v!==E.QZA.SUBMITTING){for(let e=I.length-1;e>=0;e--){let t=I[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)continue;let i=r.find(e=>{let{id:n}=e;if(n===t.id)return!0});if(null!=i){let n={...t,...i};I[e]=n,S||(null==C?void 0:C.id)!==n.id||(C=n)}else(null==C?void 0:C.id)===t.id&&(C=null),I.splice(e,1)}for(let e of r)null==I.find(t=>{let{id:n}=t;if(n===e.id)return!0})&&I.push(e);I=[...I],x()}},INTEGRATION_SETTINGS_SUBMITTING:function(){v=E.QZA.SUBMITTING,T={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){var t;if(v!==E.QZA.SUBMITTING)return!1;v=E.QZA.OPEN,T=null!==(t=e.errors)&&void 0!==t?t:{}}}),O=y},277053:function(e,t,n){let i,l;n.d(t,{Z:()=>O}),n(47120);var r,a,s,o=n(392711),d=n.n(o),c=n(442837),u=n(433517),h=n(570140),m=n(700785),p=n(388610),g=n(592125),_=n(981631),f=n(71080);let E=new Set,I=_.QZA.CLOSED,C=!1,N=null,v=null,T=null,S=null,A=null,Z=null,x=u.K.get(f.kf)||!1;function b(e){let t=e.getGuildId(),n={...e.permissionOverwrites};return null!=t&&null==n[t]&&(n[t]=m.we(t)),n}function L(){if(T=p.Z.getChannel(),S=p.Z.getCategory(),null==T)return!1;let e=T.getGuildId();v=N=b(T),null==N[A]&&(A=e),l=null!=S,i=m.o4(T,S),Z=null,C=!1,I=_.QZA.CLOSED,E.clear()}class y extends(r=c.ZP.Store){initialize(){this.waitFor(p.Z,g.Z)}hasChanges(){return C}showNotice(){return this.hasChanges()}getPermissionOverwrite(e){return null==N?void 0:N[e]}get editedPermissionIds(){return Array.from(E)}get permissionOverwrites(){return N}get selectedOverwriteId(){return A}get formState(){return I}get isLockable(){return l}get locked(){return i}get channel(){return T}get category(){return S}get advancedMode(){return x}}s="ChannelSettingsPermissionsStore",(a="displayName")in y?Object.defineProperty(y,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[a]=s;let O=new y(h.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(null!=T||t!==_.CoT.PERMISSIONS)return!1;L()},CHANNEL_SETTINGS_PERMISSIONS_INIT:L,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){let{id:t,allow:n,deny:l}=e,r=null==N?void 0:N[t];if(null==r||null==T)return!1;r={...r,allow:n,deny:l},N={...N,[t]:r},E.add(t),I=_.QZA.OPEN,C=!d().isEqual(N,v),i=m.o4(T,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){let{id:t}=e;if(null!=N&&null!=N[t])A=t;else{if(null==T)return!1;Z=t}},CHANNEL_SETTINGS_CLOSE:function(){I=_.QZA.CLOSED,N=null,v=null,T=null,S=null,C=!1,E.clear(),A=null,Z=null},CHANNEL_UPDATES:function(e){let{channels:t}=e;if(null==T)return!1;let n=!1;for(let e of t)!1!==function(e){if(null==T||T.id!==e||null==(T=g.Z.getChannel(e)))return!1;S=p.Z.getCategory();let t=T.getGuildId();if(null==t)return!1;v=b(T);let n={};return E.forEach(e=>{null!=N&&(n[e]=N[e])}),null==n[t]&&null==T.permissionOverwrites[t]&&(n[t]=m.we(t)),null==(N={...T.permissionOverwrites,...n})[A]?A=t:null!=Z&&null!=N[Z]&&(A=Z,Z=null),i=m.o4(T,S),!0}(e.id)&&(n=!0);return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){I=_.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){let{silent:t}=e;t?I=_.QZA.OPEN:(I=_.QZA.CLOSED,L())},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){let{advancedMode:t}=e;x=t,u.K.set(f.kf,t)}})},820486:function(e,t,n){n.d(t,{X:()=>S,Z:()=>x});var i,l=n(392711),r=n.n(l),a=n(442837),s=n(570140),o=n(846027),d=n(581883),c=n(358085),u=n(131951),h=n(981631),m=n(65154);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g={},_=g,f=!1,E={},I={},C={},N={id:null,justChanged:!1},v={id:null,justChanged:!1},T=/\(([^)]+)\)/;function S(e){if((0,c.getPlatform)()===c.PlatformTypes.WINDOWS){let t=e.name.match(T);if(null!=t)return t[1]}return e.name}function A(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===h.QyF.INPUT&&n===h.QyF.OUTPUT||e.type===h.QyF.OUTPUT&&n===h.QyF.INPUT?{displayName:t,type:h.QyF.INPUT_AND_OUTPUT}:e}class Z extends(i=a.ZP.DeviceSettingsStore){initialize(e){this.waitFor(u.Z,d.Z),_=null!=e?e:g}getUserAgnosticState(){return _}get initialized(){return f}get lastDeviceConnected(){return C}get inputDevices(){return E}get lastInputSystemDevice(){return N}get outputDevices(){return I}get lastOutputSystemDevice(){return v}}p(Z,"displayName","ConnectedDeviceStore"),p(Z,"persistKey","ConnectedDeviceStore");let x=new Z(s.Z,{MEDIA_ENGINE_DEVICES:function(e){let{inputDevices:t,outputDevices:n}=e,i={};N.justChanged=!1,t.forEach(e=>{if(i[S(e)]=e.id,e.id===m.w5){var t;let n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==N.id&&(N.justChanged=!0),N.id=n}});let l={};if(v.justChanged=!1,n.forEach(e=>{if(l[S(e)]=e.id,e.id===m.w5){var t;let n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==v.id&&(v.justChanged=!0),v.id=n}}),!f){E=i,I=l,f=!0;return}let a=Object.keys(E),s=Object.keys(i),o=Object.keys(I),d=Object.keys(l),c=r().difference(a,s),u=r().difference(o,d);return c.length>0||u.length>0?C={}:(r().difference(s,a).forEach(e=>{C[e]=A(C[e],e,h.QyF.INPUT)}),r().difference(d,o).forEach(e=>{C[e]=A(C[e],e,h.QyF.OUTPUT)})),!(r().isEqual(a,s)&&r().isEqual(o,d))&&(E=i,I=l,!0)},CONNECTED_DEVICE_SET:function(e){let{displayName:t,connectedDevicePreference:n,location:i}=e;!function(e,t,n){if(t===h.aVf.INPUT||t===h.aVf.INPUT_AND_OUTPUT){let t=E[e];null!=t&&s.Z.wait(()=>o.Z.setInputDevice(t,{location:n}))}if(t===h.aVf.OUTPUT||t===h.aVf.INPUT_AND_OUTPUT){let t=I[e];s.Z.wait(()=>o.Z.setOutputDevice(t,{location:n}))}}(t,n,i),delete C[t]},CONNECTED_DEVICE_IGNORE:function(e){let{displayName:t}=e;delete C[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){C={},_={neverShowModal:!0}}})},649974:function(e,t,n){n.d(t,{Z:()=>N});var i,l,r,a=n(442837),s=n(570140),o=n(656063),d=n(814443),c=n(158776),u=n(594174),h=n(981631);let m=!1,p={},g={};function _(e){let t=!1;return e.forEach(e=>{t=!1!==E(e)||t}),t}function f(e){let t=g[e];if(null==t)return!1;let n=t.gameId;return null!=p[n]&&(p={...p},delete p[n][e],0===Object.values(p[n]).length&&delete p[n]),g={...g},delete g[e],!0}function E(e){let{user:t,activities:n}=e;if(null==t)return!1;let i=n.filter(e=>e.type!==h.IIU.CUSTOM_STATUS);if(0===i.length)return f(t.id);let l=!1;return i.forEach(e=>{(function(e,t){var n,i;let l=(0,o.Z)(e);if(null==l)return f(t.id);let r=g[t.id];null!=r&&r.gameId!==l&&f(t.id);let a=null!==(i=null===(n=e.timestamps)||void 0===n?void 0:n.start)&&void 0!==i?i:Date.now(),s={userId:t.id,activity:e,startedPlaying:a};return p={...p,[l]:{...p[l],[s.userId]:s}},g={...g,[s.userId]:{gameId:l,startedPlaying:s.startedPlaying}},!0})(e,t)&&(l=!0)}),l}function I(){let e=!1;if(!d.Z.needsRefresh()&&!m){let t;p={},g={},t=!1,c.Z.getUserIds().forEach(e=>{let n=u.default.getUser(e);null!=n&&(t=E({user:n,activities:c.Z.getActivities(e)})||t)}),e=t}return m=!d.Z.needsRefresh(),e}class C extends(r=a.ZP.Store){initialize(){this.waitFor(d.Z),this.syncWith([d.Z],I)}get games(){return p}get usersPlaying(){return g}get gameIds(){return Object.keys(p)}getNowPlaying(e){return p[e]}getUserGame(e){return g[e]}}l="NowPlayingStore",(i="displayName")in C?Object.defineProperty(C,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):C[i]=l;let N=new C(s.Z,{CONNECTION_OPEN:function(){p={},g={}},CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{guilds:t,presences:n}=e,i=!1;return t.forEach(e=>{_(e.presences)&&(i=!0)}),_(n)&&(i=!0),i},LOGOUT:function(){p={},g={}},PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>E(e)).some(e=>e)},PRESENCES_REPLACE:function(e){let{presences:t}=e;return _(t)}})},327689:function(e,t,n){n.d(t,{Z:()=>u});var i,l,r,a=n(442837),s=n(570140),o=n(430824),d=n(981631);class c extends(r=a.ZP.Store){initialize(){this.waitFor(o.Z),this.syncWith([o.Z],d.dG4)}channelNoticePredicate(e,t){return!e.hasFeature(d.oNc.BANNER)&&Date.now()-t>=d.Hqc}}l="GuildBoostingNoticeStore",(i="displayName")in c?Object.defineProperty(c,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[i]=l;let u=new c(s.Z)},541566:function(e,t,n){n.d(t,{Z:()=>u});var i,l=n(442837),r=n(570140),a=n(267642),s=n(981631);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d={};d={lastDismissedGracePeriods:{},isVisible:{}};class c extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&(d=e)}getLastDismissedGracePeriodForGuild(e){return null!=d.lastDismissedGracePeriods[e]?d.lastDismissedGracePeriods[e]:null}isVisible(e){return null!=e&&null!=d.isVisible[e]&&d.isVisible[e]}getState(){return d}}o(c,"displayName","GuildBoostingGracePeriodNoticeStore"),o(c,"persistKey","PremiumGuildGracePeriodNoticeStore"),o(c,"migrations",[e=>({...e,lastDismissedGracePeriods:null!=e?{...e.lastDismissedGracePeriods}:{},isVisible:{}})]);let u=new c(r.Z,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){let{guildId:t,appliedBoosts:n}=e,i=null!=d.lastDismissedGracePeriods[t]?d.lastDismissedGracePeriods[t]:null,l=null!=i&&Date.now()-i<=s.Dge,r=null!=n&&!l&&(0,a.Vx)(n,t);d={...d,isVisible:{...d.isVisible,[t]:r}}},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){let t=e.guildId;d={...d,lastDismissedGracePeriods:{...d.lastDismissedGracePeriods,[t]:Date.now()},isVisible:{...d.isVisible,[t]:!1}}}})},421176:function(e,t,n){n.d(t,{Z:()=>u});var i,l,r,a=n(442837),s=n(570140),o=n(496675),d=n(981631);class c extends(r=a.ZP.Store){initialize(){this.waitFor(o.Z),this.syncWith([o.Z],d.dG4)}channelNoticePredicate(e,t){return Date.now()-t>=d.Hqc&&o.Z.can(d.Plq.MANAGE_GUILD,e)}}l="GuildBoostingNoticeStore",(i="displayName")in c?Object.defineProperty(c,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[i]=l;let u=new c(s.Z)},192513:function(e,t,n){n.d(t,{Z:()=>p});var i,l,r,a=n(442837),s=n(570140),o=n(984933),d=n(594174),c=n(981631);let u=null;function h(){let e=d.default.getCurrentUser();if(null==e||e.mfaEnabled===u)return!1;u=e.mfaEnabled}class m extends(r=a.ZP.Store){initialize(){this.waitFor(d.default,o.ZP),this.syncWith([d.default,o.ZP],h)}isVisible(e){return null!=e&&e.mfaLevel===c.BpS.ELEVATED&&!1===u&&o.ZP.hasElevatedPermissions(e.id)}}l="GuildMFAWarningStore",(i="displayName")in m?Object.defineProperty(m,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):m[i]=l;let p=new m(s.Z,{CONNECTION_OPEN:h,GUILD_UPDATE:function(){return!0}})},456065:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i,l,r,a=n(442837),s=n(570140),o=n(810788),d=n(430824),c=n(981631);let u=!1;function h(e){let t=d.Z.getGuild(e);return!!(null!=t&&t.hasFeature(c.oNc.HUB))&&(u=!0,!0)}function m(){return!0}class p extends(i=a.ZP.Store){initialize(){this.waitFor(d.Z,o.Z),this.syncWith([o.Z],m)}channelNoticePredicate(e){return!!e.hasFeature(c.oNc.LINKED_TO_HUB)&&!u}}r="HubLinkNoticeStore",(l="displayName")in p?Object.defineProperty(p,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):p[l]=r;let g=new p(s.Z,{CONNECTION_OPEN:function(e){for(let t of e.guilds)if(h(t.id))return!0;return!1},GUILD_CREATE:function(e){let{guild:t}=e;return h(t.id)}})},683743:function(e,t,n){n.d(t,{Z:()=>h});var i,l,r,a=n(442837),s=n(570140),o=n(496675),d=n(981631);function c(){return!0}class u extends(r=a.ZP.Store){initialize(){this.waitFor(o.Z),this.syncWith([o.Z],c)}channelNoticePredicate(e,t){return Date.now()-t>=d.Hqc&&o.Z.can(d.Plq.ADMINISTRATOR,e)}}l="InviteNoticeStore",(i="displayName")in u?Object.defineProperty(u,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[i]=l;let h=new u(s.Z)},255791:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i,l,r,a=n(442837),s=n(433517),o=n(570140),d=n(650774),c=n(430824),u=n(496675),h=n(981631);let m={MAX_MEMBER_COUNT:new Set};class p extends(i=a.ZP.Store){initialize(){var e;this.waitFor(u.Z,c.Z,d.Z),this.syncWith([u.Z,c.Z,d.Z],h.dG4),s.K.remove(h.vID.MAX_MEMBER_COUNT_100),s.K.remove(h.vID.MAX_MEMBER_COUNT_250),e=new Set(s.K.get(h.vID.MAX_MEMBER_COUNT)),m[h.vID.MAX_MEMBER_COUNT]=void 0!==e?e:new Set}isVisible(e){var t;if(null==e)return!1;let n=null!==(t=d.Z.getMemberCount(e.id))&&void 0!==t?t:0,i=u.Z.can(h.Plq.ADMINISTRATOR,e);return!e.hasFeature(h.oNc.CLAN)&&!m[h.vID.MAX_MEMBER_COUNT].has(e.id)&&i&&e.maxMembers>0&&e.maxMembers-n<=1e4}}r="MaxMemberCountChannelNoticeStore",(l="displayName")in p?Object.defineProperty(p,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):p[l]=r;let g=new p(o.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){let t=e.guildId;if(!m[h.vID.MAX_MEMBER_COUNT].has(t))return m[h.vID.MAX_MEMBER_COUNT].add(t),s.K.set(h.vID.MAX_MEMBER_COUNT,m[h.vID.MAX_MEMBER_COUNT]),!0}})},525395:function(e,t,n){let i,l,r;n.d(t,{Z:()=>m}),n(47120);var a,s,o,d=n(442837),c=n(570140);function u(){l={},i={},r=new Set}u();class h extends(a=d.ZP.Store){getStatisticsForApplication(e){return i[e]}shouldFetchStatisticsForApplication(e){let t=l[e];return!r.has(e)&&(null==t||Date.now()-t>36e5)}}o="ApplicationStatisticsStore",(s="displayName")in h?Object.defineProperty(h,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):h[s]=o;let m=new h(c.Z,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){let{applicationId:t}=e;r.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){let{applicationId:t}=e;r.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){let{statistics:t,applicationId:n}=e;l[n]=Date.now(),r.delete(n),i[n]=t},LOGOUT:u})},974042:function(e,t,n){n.d(t,{ZP:()=>G}),n(653041),n(47120);var i,l=n(392711),r=n.n(l),a=n(442837),s=n(570140),o=n(194359),d=n(81825),c=n(353926),u=n(5254),h=n(372460),m=n(91896),p=n(441623),g=n(199902),_=n(271383),f=n(430824),E=n(158776),I=n(699516),C=n(594174),N=n(981631),v=n(474936);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){let t=C.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function A(e){return{status:E.Z.getStatus(e),isMobile:E.Z.isMobileOnline(e),activities:E.Z.getActivities(e),applicationStream:g.Z.getAnyStreamForUser(e)}}function Z(e){let t=[];return r()(_.ZP.memberOf(e)).map(f.Z.getGuild).sortBy(e=>null!=e?e.name.toLowerCase():null).forEach(e=>{null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,5)}}class x extends d.Z{get comparator(){var e,t,n,i,l;return[this.type,null!=this.giftIntentType?0:1,null!==(l=null!==(i=null===(e=this.nickname)||void 0===e?void 0:e.toLowerCase())&&void 0!==i?i:null===(n=this.user)||void 0===n?void 0:null===(t=n.globalName)||void 0===t?void 0:t.toLowerCase())&&void 0!==l?l:this.usernameLower]}constructor(e){var t;super(),T(this,"key",void 0),T(this,"userId",void 0),T(this,"type",void 0),T(this,"status",void 0),T(this,"isMobile",void 0),T(this,"activities",void 0),T(this,"applicationStream",void 0),T(this,"user",void 0),T(this,"usernameLower",void 0),T(this,"mutualGuildsLength",void 0),T(this,"mutualGuilds",void 0),T(this,"nickname",void 0),T(this,"spam",void 0),T(this,"giftIntentType",void 0),T(this,"ignoredUser",void 0),T(this,"applicationId",void 0),T(this,"isGameRelationship",void 0),this.key=e.key,this.userId=e.userId,this.type=e.type,this.status=e.status,this.activities=e.activities,this.applicationStream=e.applicationStream,this.user=e.user,this.isMobile=e.isMobile,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds,this.nickname=e.nickname,this.spam=e.spam,this.giftIntentType=e.giftIntentType,this.ignoredUser=e.ignoredUser,this.applicationId=e.applicationId,this.isGameRelationship=null!==(t=e.isGameRelationship)&&void 0!==t&&t}}class b{reset(){let e=new Set,t=(0,h.r8)({location:"FriendsStore"}),n=r().map(I.Z.getRelationships(),(n,i)=>(n===N.OGo.FRIEND&&e.add(i),new x({key:i,type:n,userId:i,nickname:I.Z.getNickname(i),...S(i),...A(i),...Z(i),spam:I.Z.isSpam(i),ignoredUser:I.Z.isIgnored(i),giftIntentType:n===N.OGo.FRIEND&&p.Z.isTopAffinityFriendAnniversary({userId:i})?v.hX.FRIEND_ANNIVERSARY:void 0,applicationId:t?I.Z.getOriginApplicationId(i):void 0}))),i=[];if(t){let t=m.Z.getGameRelationships().values(),n=new Set;t.forEach(t=>{let{id:l,applicationId:r,type:a}=t;!e.has(l)&&(a===N.OGo.FRIEND&&n.has(l)||(a===N.OGo.FRIEND&&n.add(l),i.push(new x({key:"".concat(l,"-").concat(r),type:a,userId:l,applicationId:r,nickname:I.Z.getNickname(l),...S(l),...A(l),...Z(l),spam:I.Z.isSpam(l),ignoredUser:I.Z.isIgnored(l),isGameRelationship:!0}))))})}let l=r().map(u.Z.getSuggestions(),e=>new x({key:e.key,userId:e.key,type:99,nickname:e.name,...S(e.key),...A(e.key),...Z(e.key)}));return new b(r().concat(n,i,l))}clone(){return new b(this._rows)}update(e){let t=!1;for(let n=0;n<this._rows.length;n++){let i=this._rows[n],l=i.merge(e(i.userId));t=t||l!==i,this._rows[n]=l}return t}filter(e,t){return r()(this._rows).filter(e=>{if(null==e.user)return!1;if(null!=t&&""!==t){let n=t.toLowerCase();return[e.usernameLower,e.nickname,e.user.globalName].map(e=>null==e?void 0:e.toLowerCase()).some(e=>null==e?void 0:e.includes(n))}return!0}).filter(t=>{switch(e){case N.pJs.ONLINE:return t.type===N.OGo.FRIEND&&t.status!==N.Skl.OFFLINE;case N.pJs.PENDING:return t.type===N.OGo.PENDING_INCOMING&&!t.spam&&!t.ignoredUser||t.type===N.OGo.PENDING_OUTGOING;case N.pJs.SPAM:return t.type===N.OGo.PENDING_INCOMING&&t.spam;case N.pJs.PENDING_IGNORED:return t.type===N.OGo.PENDING_INCOMING&&t.ignoredUser;case N.pJs.SUGGESTIONS:return 99===t.type;case N.pJs.BLOCKED:return t.type===N.OGo.BLOCKED;case N.pJs.ALL:default:return t.type===N.OGo.FRIEND}}).sortBy(e=>e.comparator).value()}getRelationshipCounts(){let e={[N.OGo.FRIEND]:0,[N.OGo.PENDING_INCOMING]:0,[N.OGo.PENDING_OUTGOING]:0,99:0,[N.OGo.BLOCKED]:0};return this._rows.forEach(t=>{null!=t.user&&null!=e[t.type]&&e[t.type]++}),e}constructor(e=[]){T(this,"_rows",void 0),this._rows=e}}let L=!0,y=!1,O=N.pJs.ONLINE,P=new b,R=!0,j=!1;function D(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];L&&(e||O!==N.pJs.ONLINE&&O!==N.pJs.ADD_FRIEND)&&!y&&(L=!1,y=!0,o.Z.fetchRelationships())}function w(){if(L=!0,R?y=!1:D(),P=P.reset(),j)return;let e=P.getRelationshipCounts();O=0===e[N.OGo.FRIEND]?0!==e[N.OGo.PENDING_INCOMING]?N.pJs.PENDING:N.pJs.ADD_FRIEND:N.pJs.ONLINE}function M(){P=R?new b:P.reset()}function k(e){return function(){return!R&&!!P.update(e)&&(P=P.clone(),!0)}}class U extends(i=a.ZP.Store){initialize(){this.waitFor(I.Z,E.Z,C.default,f.Z,_.ZP,g.Z,u.Z,c.Z),this.syncWith([I.Z],M),this.syncWith([m.Z],M),this.syncWith([u.Z],M),this.syncWith([p.Z],M),this.syncWith([C.default],k(S)),this.syncWith([E.Z,g.Z],k(A)),w()}getState(){return{fetching:y,section:O,rows:P}}}T(U,"displayName","FriendsStore");let G=new U(s.Z,{CONNECTION_OPEN:function(){w()},FRIENDS_SET_SECTION:function(e){O=e.section,D()},CHANNEL_SELECT:function(e){let{channelId:t}=e;return R=null!=t,M(),!R},LOAD_RELATIONSHIPS_SUCCESS:function(){y=!1},LOAD_RELATIONSHIPS_FAILURE:function(){L=!0,y=!0},FRIENDS_SET_INITIAL_SECTION:function(e){O=e.section,j=!0}})},897607:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(200651);n(192379);var l=n(392711),r=n.n(l),a=n(481060),s=n(463395),o=n(820486),d=n(131951),c=n(65154);let u=new Set(["DisplayPort"]),h=!1;function m(){let e;if(h)return;let t=d.Z.getInputDeviceId(),l=d.Z.getOutputDeviceId();if(o.Z.getState().neverShowModal||r().isEmpty(o.Z.lastDeviceConnected))return;let m=(0,o.X)(d.Z.getInputDevices()[t]),p=(0,o.X)(d.Z.getOutputDevices()[l]);if(r().some(o.Z.lastDeviceConnected,e=>u.has(e.displayName)||e.displayName===m||e.displayName===p))return;let g=r().some(o.Z.lastDeviceConnected,e=>s.Z.isCertified(o.Z.inputDevices[e.displayName])||s.Z.isCertified(o.Z.outputDevices[e.displayName]));if((t===c.w5&&o.Z.lastInputSystemDevice.justChanged||l===c.w5&&o.Z.lastOutputSystemDevice.justChanged)&&!g)return;let _=r().first(Object.keys(o.Z.lastDeviceConnected)),f=null!=_&&""!==_?o.Z.lastDeviceConnected[_]:null;null!=f&&(o.Z.initialized&&null!=_&&(s.Z.isCertified(o.Z.inputDevices[_])?e=s.Z.getCertifiedDevice(o.Z.inputDevices[_]):s.Z.isCertified(o.Z.outputDevices[_])&&(e=s.Z.getCertifiedDevice(o.Z.outputDevices[_]))),h=!0,(0,a.ZDy)(async()=>{let{default:t}=await n.e("83536").then(n.bind(n,43991));return n=>{let{transitionState:l,onClose:r}=n;return(0,i.jsx)(t,{device:f,certifiedDeviceMetadata:e,transitionState:l,onClose:()=>(h=!1,r())})}}))}let p={init(){o.Z.addChangeListener(m)}}},900974:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var l=n(481060),r=n(570140);let a=!1,s=null,o={init(){r.Z.subscribe("CONNECTION_OPEN",e=>{let{pendingPayments:t}=e;if(null!=t&&t.length>0){var r;if(s===t[0]||null==(s=t[0]))return;r=s,a||(a=!0,(0,l.ZDy)(async()=>{let{default:e}=await n.e("7232").then(n.bind(n,645586));return t=>{let{transitionState:n,onClose:l}=t;return(0,i.jsx)(e,{pendingPayment:r,transitionState:n,onClose:()=>(a=!1,l())})}}))}})}}},863969:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(325767);function r(e){let{width:t=24,height:n=24,color:r="currentColor",foreground:a,...s}=e;return(0,i.jsx)("svg",{...(0,l.Z)(s),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:a,fill:r,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},563593:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var l=n(886364),r=n(325767);function a(e){return"CloudDone-".concat(e)}function s(e){let{width:t=24,height:n=24,color:s="currentColor",foreground:o,gradientConfig:d,...c}=e,u=null;return null!=d&&(u=(0,i.jsx)(l.Z,{...d,color:s,id:a(d.id)})),(0,i.jsxs)("svg",{...(0,r.Z)(c),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("defs",{children:u}),(0,i.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{fill:null!=d?"url(#".concat(a(d.id),")"):s,className:o,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]})}},886364:function(e,t,n){n.d(t,{Z:()=>l});var i=n(200651);n(192379);let l=e=>{let{id:t,startColor:n,stopColor:l,color:r,stop:a}=e;return(0,i.jsxs)("linearGradient",{id:t,children:[(0,i.jsx)("stop",{offset:"0",stopColor:n}),(0,i.jsx)("stop",{offset:a,stopColor:l}),(0,i.jsx)("stop",{offset:a,stopColor:r}),(0,i.jsx)("stop",{offset:"1",stopColor:r})]})}},662868:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(325767);function r(e){let{width:t=32,height:n=32,color:r="currentColor",...a}=e;return(0,i.jsx)("svg",{...(0,l.Z)(a),width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),fill:"none",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:r})})}},39377:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(325767);function r(e){let{width:t=24,height:n=24,color:r="currentColor",foreground:a,...s}=e;return(0,i.jsx)("svg",{...(0,l.Z)(s),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:a,fill:r,d:"M22 4v-.5C22 2.12 20.88 1 19.5 1S17 2.12 17 3.5V4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zm-.8 0h-3.4v-.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V4zm-2.28 8c.04.33.08.66.08 1 0 2.08-.8 3.97-2.1 5.39-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H7v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2V3.46c-.95-.3-1.95-.46-3-.46C5.48 3 1 7.48 1 13s4.48 10 10 10 10-4.48 10-10c0-.34-.02-.67-.05-1h-2.03zM10 20.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 16v1c0 1.1.9 2 2 2v1.93z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},820254:function(e,t,n){n.d(t,{Z:()=>r});var i=n(200651);n(192379);var l=n(325767);function r(e){let{width:t=14,height:n=14,color:r="currentColor",foreground:a,...s}=e;return(0,i.jsx)("svg",{...(0,l.Z)(s),width:t,height:n,viewBox:"0 0 14 14",children:(0,i.jsx)("path",{fill:r,className:a,d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})})}},205129:function(e,t,n){n.d(t,{y:()=>r});var i=n(603113),l=n(122810);function r(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(e=>{let{activity:t}=e;return(0,l.Z)(t)}),game_platform:e.currentActivities.length>0?(0,i.Z)(e.currentActivities[0].activity):null}}},3570:function(e,t,n){n.d(t,{T:()=>o,s:()=>d});var i=n(536285),l=n(703656),r=n(314897),a=n(358085),s=n(981631);let o=a.isPlatformEmbedded?s.dG4:(e,t)=>{if(!(0,l.DB)())return i.default.request(s.Etm.DEEP_LINK,{type:e,params:t})},d=a.isPlatformEmbedded?s.dG4:(e,t)=>{if(!r.default.isAuthenticated())return o(e,{...t||{},fingerprint:r.default.getFingerprint()})}},63023:function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>l}),n(653041);class l{_processQueue(){setTimeout(()=>{if(this._queue.length>0&&this._tokenCount>0){this._tokenCount--,null==this._intervalID&&(this._intervalID=setInterval(()=>this._iterate(),this._intervalPeriod));let e=this._queue.shift();null==e||e(),this._processQueue()}},0)}_iterate(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1),this._tokenCount>=this._capacity&&null!=this._intervalID&&(clearInterval(this._intervalID),this._intervalID=null),this._processQueue()}process(){return new Promise(e=>{this._queue.push(e),this._processQueue()})}constructor(e,t){i(this,"_capacity",void 0),i(this,"_tokenCount",void 0),i(this,"_queue",void 0),i(this,"_intervalPeriod",void 0),i(this,"_intervalID",void 0),this._capacity=e,this._tokenCount=e,this._queue=[],this._intervalPeriod=t/e,this._intervalID=null}}},740111:function(e,t,n){n.d(t,{Wc:()=>o,xY:()=>E}),n(47120),n(411104),n(653041);var i,l=n(230367),r=n(320215),a=n(240773),s=n(495852),o=((i={})[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.OPEN_MARKETING_PAGE=1]="OPEN_MARKETING_PAGE",i[i.OPEN_TIER_2_PAYMENT_MODAL=2]="OPEN_TIER_2_PAYMENT_MODAL",i);class d extends s.C{create(e){let t={header:"",pill:"",body:"",imageLink:"",imageLinkLightTheme:""};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.header=e.string();break;case 2:r.pill=e.string();break;case 3:r.body=e.string();break;case 4:r.imageLink=e.string();break;case 5:r.imageLinkLightTheme=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let s=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,s)}}return r}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,l.TD.LengthDelimited).string(e.header),""!==e.pill&&t.tag(2,l.TD.LengthDelimited).string(e.pill),""!==e.body&&t.tag(3,l.TD.LengthDelimited).string(e.body),""!==e.imageLink&&t.tag(4,l.TD.LengthDelimited).string(e.imageLink),""!==e.imageLinkLightTheme&&t.tag(5,l.TD.LengthDelimited).string(e.imageLinkLightTheme);let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.FeatureCard",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"pill",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"image_link",kind:"scalar",T:9},{no:5,name:"image_link_light_theme",kind:"scalar",T:9}])}}let c=new d;class u extends s.C{create(e){let t={copy:"",buttonAction:0};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.copy=e.string();break;case 2:r.buttonAction=e.int32();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let s=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,s)}}return r}internalBinaryWrite(e,t,n){""!==e.copy&&t.tag(1,l.TD.LengthDelimited).string(e.copy),0!==e.buttonAction&&t.tag(2,l.TD.Varint).int32(e.buttonAction);let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.SubscriptionButton",[{no:1,name:"copy",kind:"scalar",T:9},{no:2,name:"button_action",kind:"enum",T:()=>["discord_protos.premium_marketing.v1.ButtonAction",o,"BUTTON_ACTION_"]}])}}let h=new u;class m extends s.C{create(e){let t={heroArtLocalizedVideoLinksDarkTheme:{},heroArtLocalizedVideoLinksLightTheme:{},heroArtVideoSubtitleLinks:{}};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:this.binaryReadMap1(r.heroArtLocalizedVideoLinksDarkTheme,e,n);break;case 2:this.binaryReadMap2(r.heroArtLocalizedVideoLinksLightTheme,e,n);break;case 3:this.binaryReadMap3(r.heroArtVideoSubtitleLinks,e,n);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let s=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,s)}}return r}binaryReadMap1(e,t,n){let i=t.uint32(),l=t.pos+i,r,a;for(;t.pos<l;){let[e,n]=t.tag();switch(e){case 1:r=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_dark_theme")}}e[null!=r?r:""]=null!=a?a:""}binaryReadMap2(e,t,n){let i=t.uint32(),l=t.pos+i,r,a;for(;t.pos<l;){let[e,n]=t.tag();switch(e){case 1:r=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_light_theme")}}e[null!=r?r:""]=null!=a?a:""}binaryReadMap3(e,t,n){let i=t.uint32(),l=t.pos+i,r,a;for(;t.pos<l;){let[e,n]=t.tag();switch(e){case 1:r=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_video_subtitle_links")}}e[null!=r?r:""]=null!=a?a:""}internalBinaryWrite(e,t,n){for(let n of Object.keys(e.heroArtLocalizedVideoLinksDarkTheme))t.tag(1,l.TD.LengthDelimited).fork().tag(1,l.TD.LengthDelimited).string(n).tag(2,l.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksDarkTheme[n]).join();for(let n of Object.keys(e.heroArtLocalizedVideoLinksLightTheme))t.tag(2,l.TD.LengthDelimited).fork().tag(1,l.TD.LengthDelimited).string(n).tag(2,l.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksLightTheme[n]).join();for(let n of Object.keys(e.heroArtVideoSubtitleLinks))t.tag(3,l.TD.LengthDelimited).fork().tag(1,l.TD.LengthDelimited).string(n).tag(2,l.TD.LengthDelimited).string(e.heroArtVideoSubtitleLinks[n]).join();let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Variant1Storage",[{no:1,name:"hero_art_localized_video_links_dark_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:2,name:"hero_art_localized_video_links_light_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:3,name:"hero_art_video_subtitle_links",kind:"map",K:9,V:{kind:"scalar",T:9}}])}}let p=new m;class g extends s.C{create(e){let t={link:"",locale:"",isDefault:!1};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.link=e.string();break;case 2:r.locale=e.string();break;case 3:r.isDefault=e.bool();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let s=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,s)}}return r}internalBinaryWrite(e,t,n){""!==e.link&&t.tag(1,l.TD.LengthDelimited).string(e.link),""!==e.locale&&t.tag(2,l.TD.LengthDelimited).string(e.locale),!1!==e.isDefault&&t.tag(3,l.TD.Varint).bool(e.isDefault);let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Subtitle",[{no:1,name:"link",kind:"scalar",T:9},{no:2,name:"locale",kind:"scalar",T:9},{no:3,name:"is_default",kind:"scalar",T:8}])}}let _=new g;class f extends s.C{create(e){let t={header:"",subheader:"",videoLink:"",helpArticleId:"",featureCards:[],dismissKey:"",heroArtVideoLinkLightTheme:"",heroArtImageLinkDarkTheme:"",heroArtImageLinkLightTheme:"",modalTopPill:"",body:"",heroArtVideoSubtitles:[]};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.header=e.string();break;case 2:r.subheader=e.string();break;case 3:r.videoLink=e.string();break;case 4:r.helpArticleId=e.string();break;case 5:r.featureCards.push(c.internalBinaryRead(e,e.uint32(),n));break;case 6:r.button=h.internalBinaryRead(e,e.uint32(),n,r.button);break;case 7:r.dismissKey=e.string();break;case 8:r.heroArtVideoLinkLightTheme=e.string();break;case 9:r.heroArtImageLinkDarkTheme=e.string();break;case 10:r.heroArtImageLinkLightTheme=e.string();break;case 11:r.modalTopPill=e.string();break;case 12:r.body=e.string();break;case 13:r.heroArtVideoSubtitles.push(_.internalBinaryRead(e,e.uint32(),n));break;case 14:r.storage=p.internalBinaryRead(e,e.uint32(),n,r.storage);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let s=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,s)}}return r}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,l.TD.LengthDelimited).string(e.header),""!==e.subheader&&t.tag(2,l.TD.LengthDelimited).string(e.subheader),""!==e.videoLink&&t.tag(3,l.TD.LengthDelimited).string(e.videoLink),""!==e.helpArticleId&&t.tag(4,l.TD.LengthDelimited).string(e.helpArticleId);for(let i=0;i<e.featureCards.length;i++)c.internalBinaryWrite(e.featureCards[i],t.tag(5,l.TD.LengthDelimited).fork(),n).join();e.button&&h.internalBinaryWrite(e.button,t.tag(6,l.TD.LengthDelimited).fork(),n).join(),""!==e.dismissKey&&t.tag(7,l.TD.LengthDelimited).string(e.dismissKey),""!==e.heroArtVideoLinkLightTheme&&t.tag(8,l.TD.LengthDelimited).string(e.heroArtVideoLinkLightTheme),""!==e.heroArtImageLinkDarkTheme&&t.tag(9,l.TD.LengthDelimited).string(e.heroArtImageLinkDarkTheme),""!==e.heroArtImageLinkLightTheme&&t.tag(10,l.TD.LengthDelimited).string(e.heroArtImageLinkLightTheme),""!==e.modalTopPill&&t.tag(11,l.TD.LengthDelimited).string(e.modalTopPill),""!==e.body&&t.tag(12,l.TD.LengthDelimited).string(e.body);for(let i=0;i<e.heroArtVideoSubtitles.length;i++)_.internalBinaryWrite(e.heroArtVideoSubtitles[i],t.tag(13,l.TD.LengthDelimited).fork(),n).join();e.storage&&p.internalBinaryWrite(e.storage,t.tag(14,l.TD.LengthDelimited).fork(),n).join();let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.AnnouncementModalVariant1Properties",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"subheader",kind:"scalar",T:9},{no:3,name:"video_link",kind:"scalar",T:9},{no:4,name:"help_article_id",kind:"scalar",T:9},{no:5,name:"feature_cards",kind:"message",repeat:1,T:()=>c},{no:6,name:"button",kind:"message",T:()=>h},{no:7,name:"dismiss_key",kind:"scalar",T:9},{no:8,name:"hero_art_video_link_light_theme",kind:"scalar",T:9},{no:9,name:"hero_art_image_link_dark_theme",kind:"scalar",T:9},{no:10,name:"hero_art_image_link_light_theme",kind:"scalar",T:9},{no:11,name:"modal_top_pill",kind:"scalar",T:9},{no:12,name:"body",kind:"scalar",T:9},{no:13,name:"hero_art_video_subtitles",kind:"message",repeat:1,T:()=>_},{no:14,name:"storage",kind:"message",T:()=>p}])}}let E=new f},8853:function(e,t,n){n.d(t,{t:()=>d}),n(47120),n(411104);var i=n(230367),l=n(320215),r=n(240773),a=n(495852),s=n(740111);class o extends a.C{create(e){let t={properties:{oneofKind:void 0},contentIdentifier:""};return globalThis.Object.defineProperty(t,r.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,l){let r=null!=l?l:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,l]=e.tag();switch(t){case 1:r.properties={oneofKind:"placeholder",placeholder:e.string()};break;case 2:r.properties={oneofKind:"announcementModalVariant1",announcementModalVariant1:s.xY.internalBinaryRead(e,e.uint32(),n,r.properties.announcementModalVariant1)};break;case 3:r.contentIdentifier=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(l,") for ").concat(this.typeName));let o=e.skip(l);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,r,t,l,o)}}return r}internalBinaryWrite(e,t,n){"placeholder"===e.properties.oneofKind&&t.tag(1,i.TD.LengthDelimited).string(e.properties.placeholder),"announcementModalVariant1"===e.properties.oneofKind&&s.xY.internalBinaryWrite(e.properties.announcementModalVariant1,t.tag(2,i.TD.LengthDelimited).fork(),n).join(),""!==e.contentIdentifier&&t.tag(3,i.TD.LengthDelimited).string(e.contentIdentifier);let l=n.writeUnknownFields;return!1!==l&&(!0==l?i.z.onWrite:l)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.PremiumMarketingComponentProperties",[{no:1,name:"placeholder",kind:"scalar",oneof:"properties",T:9},{no:2,name:"announcement_modal_variant_1",kind:"message",oneof:"properties",T:()=>s.xY},{no:3,name:"content_identifier",kind:"scalar",T:9}])}}let d=new o},137006:function(e,t,n){n.d(t,{m:()=>r}),n(47120);var i=n(243814),l=n(103964);let r={[l.Q5.INITIATE_IMAGE_UPLOAD]:{request:void 0,response:e=>e.object({image_url:e.string().required()})},[l.Q5.OPEN_SHARE_MOMENT_DIALOG]:{response:void 0,request:e=>(0,l.C5)(e.object({mediaUrl:e.string().required().max(1024)}))},[l.Q5.AUTHENTICATE]:{request:e=>(0,l.C5)(e.object({access_token:e.string().allow(null).optional()})),response:e=>e.object({access_token:e.string().required(),user:e.object({username:e.string().required(),discriminator:e.string().required(),id:e.string().required(),avatar:e.string().allow(null),public_flags:e.number().required(),global_name:e.string().allow(null)}).required(),scopes:e.array().items(e.string().valid(...(0,l.no)(i.x))).required(),expires:e.string().required(),application:e.object({description:e.string().required(),icon:e.string().allow(null),id:e.string().required(),rpc_origins:e.array().items(e.string()).optional(),name:e.string().required()}).required()})},[l.Q5.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:void 0,response:e=>e.object({participants:e.array().items(s(e).keys({nickname:e.string().description("Server nickname. Not unique.")}).required()).required()}).required()},[l.Q5.SHARE_INTERACTION]:{request:e=>(0,l.C5)(e.object({command:e.string().required(),content:e.string().max(2e3),require_launch_channel:e.boolean(),preview_image:e.object({height:e.number().required(),url:e.string().required(),width:e.number().required()}),components:e.array().items(o(e))})),response:e=>e.object({success:e.boolean().required()})},[l.Q5.SHARE_LINK]:{request:e=>(0,l.C5)(e.object({referrer_id:e.string().max(64),custom_id:e.string().max(64),message:e.string().max(1e3).required()})),response:e=>e.object({success:e.boolean().required()})},[l.Q5.GET_RELATIONSHIPS]:{request:void 0,response:e=>e.object({relationships:e.array().required().items(e.object({type:e.number().required(),user:s(e).allow(null),presence:e.object({status:e.string().required(),activity:a(e).allow(null)})}))})}},a=e=>e.object({session_id:e.string().optional(),type:e.number().optional(),name:e.string().required(),url:e.string().allow(null).optional(),application_id:e.string().optional(),state:e.string().optional(),details:e.string().optional(),emoji:e.object({name:e.string().required(),id:e.string().allow(null).optional(),animated:e.bool().optional().allow(null)}).allow(null).optional(),assets:e.object({large_image:e.string().optional(),large_text:e.string().optional(),small_image:e.string().optional(),small_text:e.string().optional()}).optional(),timestamps:e.object({start:e.number().optional(),end:e.number().optional()}).optional(),party:e.object({id:e.string().optional(),size:e.array().items(e.number()).length(2).optional(),privacy:e.number().optional()}).optional(),secrets:e.object({match:e.string().optional(),join:e.string().optional()}).optional(),sync_id:e.string().optional(),created_at:e.number().optional(),instance:e.bool().optional(),flags:e.number().optional(),metadata:e.object().optional(),platform:e.string().optional(),supported_platforms:e.array().items(e.string()).optional(),buttons:e.array().items(e.string()).optional(),hangStatus:e.string().optional()}),s=e=>e.object({id:e.string().required().description("User ID"),username:e.string().required(),global_name:e.string().allow(null).description("Global Discord name. Not unique."),discriminator:e.string().required().description("Global name discriminator. Will be 0 if a unique username"),avatar:e.string().allow(null).description("User Avatar ID"),flags:e.number().required().description("Public user flags"),bot:e.bool().required().description("If a bot user."),avatar_decoration_data:e.object({asset:e.string().required(),skuId:e.string(),expiresAt:e.number()}).allow(null).description("Details about avatar decoration"),premium_type:e.number().allow(null).description("Nitro premium type")}).description("Discord User"),o=e=>e.object({type:e.number().valid(1).required(),components:e.array().max(5).items(d(e))}),d=e=>e.object({type:e.number().valid(2).required(),style:e.number().min(1).max(5).required(),label:e.string().max(80).description("Text that appears on the button"),custom_id:e.string().max(100).description("Developer-defined identifier for the button; max 100 characters")})},103964:function(e,t,n){n.d(t,{C5:()=>l,Q5:()=>i.Et,no:()=>r});var i=n(231338);function l(e){return e.required().unknown(!0)}function r(e){return Object.values(e)}},45792:function(e,t,n){n.d(t,{S:()=>l});var i=n(137006);function l(e,t){var n;let{scope:l,handler:r}=t,a={scope:l,handler:r},s=null===(n=i.m[e])||void 0===n?void 0:n.request,o=null;return null!=s&&(a.validation=function(e){return null==o&&(o=s(e)),o}),a}},768867:function(e,t,n){e.exports={addFriendInputWrapper:"addFriendInputWrapper__72ba7",error:"error__72ba7",success:"success__72ba7",addFriendWumpusWrapper:"addFriendWumpusWrapper__72ba7",inputText:"inputText__72ba7",addFriendInput:"addFriendInput__72ba7 inputText__72ba7",input:"input__72ba7 inputText__72ba7",addFriendHint:"addFriendHint__72ba7 inputText__72ba7",ring:"ring__72ba7"}},306855:function(e,t,n){e.exports={container:"container_c48ade",guilds:"guilds_c48ade",base:"base_c48ade",sidebar:"sidebar_c48ade",hidden:"hidden_c48ade",hasNotice:"hasNotice_c48ade",fullWidth:"fullWidth_c48ade",panels:"panels_c48ade",content:"content_c48ade",activityPanel:"activityPanel_c48ade",loader:"loader_c48ade",sidebarResizeHandle:"sidebarResizeHandle_c48ade",page:"page_c48ade",sidebarList:"sidebarList_c48ade",channelListHidden:"channelListHidden_c48ade",sidebarListRounded:"sidebarListRounded_c48ade",dragging:"dragging_c48ade",draggingMin:"draggingMin_c48ade",collapsing:"collapsing_c48ade",draggingMax:"draggingMax_c48ade"}},499259:function(e,t,n){e.exports={devBanner:"devBanner__56d75",local:"local__56d75",staging:"staging__56d75",buildOverride:"buildOverride__56d75",icon:"icon__56d75",closeButton:"closeButton__56d75",closeIcon:"closeIcon__56d75"}},351163:function(e,t,n){e.exports={downloadProgressCircle:"downloadProgressCircle__35e86",hideGameUpdateProgressIndicator:"hideGameUpdateProgressIndicator__35e86",privateChannels:"privateChannels__35e86",sectionDivider:"sectionDivider__35e86",searchBar:"searchBar__35e86",searchBarComponent:"searchBarComponent__35e86",familyCenterLinkButton:"familyCenterLinkButton__35e86",familyCenterPendingBadge:"familyCenterPendingBadge__35e86",friendsButtonContainer:"friendsButtonContainer__35e86",friendsBadge:"friendsBadge__35e86",confetti:"confetti__35e86",themedHeaderMobile:"themedHeaderMobile__35e86",themedSearchBarMobile:"themedSearchBarMobile__35e86"}},870903:function(e,t,n){e.exports={divider:"divider_c87e85"}},950086:function(e,t,n){e.exports={libraryFilter:"libraryFilter__3fb48",focused:"focused__3fb48",searchBar:"searchBar__3fb48"}},855154:function(e,t,n){e.exports={libraryHeader:"libraryHeader__5a895"}},349508:function(e,t,n){e.exports={container:"container_ad5cdf"}},490899:function(e,t,n){e.exports={wrapper:"wrapper_a6f654",installationPath:"installationPath_a6f654",installationPathEditing:"installationPathEditing_a6f654",separator:"separator_a6f654",defaultIndicator:"defaultIndicator_a6f654",rowBody:"rowBody_a6f654",buttonRowWrapper:"buttonRowWrapper_a6f654",defaultLocationCheckbox:"defaultLocationCheckbox_a6f654",rowTitle:"rowTitle_a6f654"}},59831:function(e,t,n){e.exports={container:"container__4a84a",scroller:"scroller__4a84a"}},994074:function(e,t,n){var i={scroller:"scroller_fb04e1",body:"body_fb04e1",hiddenLibraryApplications:"hiddenLibraryApplications_fb04e1",hiddenLibraryApplicationContent:"hiddenLibraryApplicationContent_fb04e1",hiddenLibraryApplicationsTitle:"hiddenLibraryApplicationsTitle_fb04e1",hiddenLibraryApplication:"hiddenLibraryApplication_fb04e1 "+n(730533).card,restoreButton:"restoreButton_fb04e1",restoreIcon:"restoreIcon_fb04e1",applicationName:"applicationName_fb04e1",applicationSubText:"applicationSubText_fb04e1"};e.exports=i},774203:function(e,t,n){e.exports={table:"table_adb41f",header:"header_adb41f",nameCell:"nameCell_adb41f",nameCellText:"nameCellText_adb41f",icon:"icon_adb41f",nitroIcon:"nitroIcon_adb41f icon_adb41f",lastPlayedCell:"lastPlayedCell_adb41f",platformCell:"platformCell_adb41f",actionsCell:"actionsCell_adb41f",stickyHeader:"stickyHeader_adb41f header_adb41f",headerCell:"headerCell_adb41f",headerCellSorted:"headerCellSorted_adb41f",rowWrapper:"rowWrapper_adb41f",row:"row_adb41f",rowWrapperActive:"rowWrapperActive_adb41f rowWrapper_adb41f",rowWrapperGlow:"rowWrapperGlow_adb41f rowWrapper_adb41f",bodyCell:"bodyCell_adb41f",textCell:"textCell_adb41f",nameBodyCell:"nameBodyCell_adb41f",nameCellInfo:"nameCellInfo_adb41f",lastPlayedCellNew:"lastPlayedCellNew_adb41f",gameIcon:"gameIcon_adb41f",actionButtonSize:"actionButtonSize_adb41f",hidden:"hidden_adb41f",settingIcons:"settingIcons_adb41f",settingIcon:"settingIcon_adb41f icon_adb41f",emptyState:"emptyState_adb41f",emptyStateText:"emptyStateText_adb41f",emptyStateHeader:"emptyStateHeader_adb41f",emptyStateDescription:"emptyStateDescription_adb41f",emptyWumpus:"emptyWumpus_adb41f",emptyStateLarge:"emptyStateLarge_adb41f emptyState_adb41f",emptyStateSmall:"emptyStateSmall_adb41f emptyState_adb41f",rowWrapperDim:"rowWrapperDim_adb41f"}},517454:function(e,t,n){e.exports={monitor:"monitor__7eeec",overflowContainer:"overflowContainer__7eeec",text:"text__7eeec",title:"title__7eeec",rate:"rate__7eeec",sparkChart:"sparkChart__7eeec"}},2827:function(e,t,n){e.exports={table:"table__49035",gameUpdates:"gameUpdates__49035",headerRow:"headerRow__49035",headerCell:"headerCell__49035",diskProgress:"diskProgress__49035",networkProgress:"networkProgress__49035",row:"row__49035",cell:"cell__49035",nameCell:"nameCell__49035",progressCell:"progressCell__49035",actionsCell:"actionsCell__49035",nameCellText:"nameCellText__49035",progressCellHeader:"progressCellHeader__49035",progressCellBody:"progressCellBody__49035",progressCellText:"progressCellText__49035",actionButton:"actionButton__49035",actionButtonContents:"actionButtonContents__49035",gameActionButton:"gameActionButton__49035",actionIcon:"actionIcon__49035"}},631489:function(e,t,n){e.exports={content:"content__6d178",rating:"rating__6d178"}},386006:function(e,t,n){e.exports={features:"features_c85137",row:"row_c85137",checkmarkIcon:"checkmarkIcon_c85137",featureIcon:"featureIcon_c85137",featureText:"featureText_c85137"}},983117:function(e,t,n){e.exports={content:"content__1688d"}},18142:function(e,t,n){e.exports={recommendationActivity:"recommendationActivity__450d3",players:"players__450d3",playerAvatar:"playerAvatar__450d3",avatarMasked:"avatarMasked__450d3",playerOverflow:"playerOverflow__450d3",description:"description__450d3",username:"username__450d3",tooltip:"tooltip__450d3",tooltipTimestamp:"tooltipTimestamp__450d3"}},662927:function(e,t,n){e.exports={header:"header__74994",staffReviewHeader:"staffReviewHeader__74994",headerText:"headerText__74994",label:"label__74994",username:"username__74994",notes:"notes__74994"}},285085:function(e,t,n){e.exports={applicationStore:"applicationStore_f07d62",marketingHeader:"marketingHeader_f07d62",marketingFooter:"marketingFooter_f07d62"}},829311:function(e,t,n){e.exports={headerBar:"headerBar__0920e",spinner:"spinner__0920e",homeWrapper:"homeWrapper__0920e",homeWrapperNormal:"homeWrapperNormal__0920e homeWrapper__0920e",headerBarV2LightBackground:"headerBarV2LightBackground__0920e",headerBarV2DarkBackground:"headerBarV2DarkBackground__0920e"}},431269:function(e,t,n){e.exports={listingWrapper:"listingWrapper__0f50c",noHeaderSpacer:"noHeaderSpacer__0f50c",headerAssets:"headerAssets__0f50c",headerBackground:"headerBackground__0f50c",headerLogo:"headerLogo__0f50c",link:"link__0f50c",linkIcon:"linkIcon__0f50c",spinner:"spinner__0f50c",listing:"listing__0f50c",gatedListing:"gatedListing__0f50c",contentRating:"contentRating__0f50c",description:"description__0f50c",guildInvite:"guildInvite__0f50c",legalInfo:"legalInfo__0f50c",whyYouMightLikeIt:"whyYouMightLikeIt__0f50c",systemRequirements:"systemRequirements__0f50c",headerBarListing:"headerBarListing__0f50c",headerPurchase:"headerPurchase__0f50c",headerSection:"headerSection__0f50c",active:"active__0f50c",testModeSelectButton:"testModeSelectButton__0f50c",listingLarge:"listingLarge__0f50c",body:"body__0f50c",leftColumn:"leftColumn__0f50c",rightColumn:"rightColumn__0f50c",listingSmall:"listingSmall__0f50c",purchaseError:"purchaseError__0f50c"}},336086:function(e,t,n){e.exports={matureListing:"matureListing__49e1d"}},906652:function(e,t,n){e.exports={root:"root__26095",header:"header__26095",section:"section__26095",sectionContent:"sectionContent__26095",unit:"unit__26095",review:"review__26095"}},633557:function(e,t,n){e.exports={breadcrumb:"breadcrumb__67607"}},2350:function(e,t,n){e.exports={tabs:"tabs_f1dca0",separator:"separator_f1dca0",tab:"tab_f1dca0",tabPageLarge:"tabPageLarge_f1dca0 tab_f1dca0",tabPageSmall:"tabPageSmall_f1dca0 tab_f1dca0",tabNotSelected:"tabNotSelected_f1dca0",requirementsContainer:"requirementsContainer_f1dca0",requirements:"requirements_f1dca0",requirement:"requirement_f1dca0",requirementKey:"requirementKey_f1dca0",tabSelected:"tabSelected_f1dca0",tabNotSelectedColor:"tabNotSelectedColor_f1dca0",tabSelectedColor:"tabSelectedColor_f1dca0"}},672666:function(e,t,n){e.exports={inviteSmall:"inviteSmall_f1d99d",content:"content_f1d99d",info:"info_f1d99d",inviteLarge:"inviteLarge_f1d99d",guildIcon:"guildIcon_f1d99d",infoText:"infoText_f1d99d",name:"name_f1d99d",memberInfo:"memberInfo_f1d99d",dot:"dot_f1d99d",dotOnline:"dotOnline_f1d99d dot_f1d99d",dotOffline:"dotOffline_f1d99d dot_f1d99d",memberText:"memberText_f1d99d",actionButton:"actionButton_f1d99d",joinedCheckmark:"joinedCheckmark_f1d99d",buttonColorInGuild:"buttonColorInGuild_f1d99d"}},368667:function(e,t,n){e.exports={userList:"userList_bad975",header:"header_bad975",content:"content_bad975",user:"user_bad975",discriminator:"discriminator_bad975",tag:"tag_bad975",avatar:"avatar_bad975",username:"username_bad975"}},251627:function(e,t,n){e.exports={root:"root_ddfbd9",footer:"footer_ddfbd9",content:"content_ddfbd9",closeButton:"closeButton_ddfbd9"}},682042:function(e,t,n){e.exports={container:"container__46ab5",title:"title__46ab5",img:"img__46ab5",subtitle:"subtitle__46ab5"}},283026:function(e,t,n){e.exports={container:"container__3639b",title:"title__3639b",img:"img__3639b",subtitle:"subtitle__3639b"}},660623:function(e,t,n){e.exports={image:"image__5901e",loaded:"loaded__5901e"}},697607:function(e,t,n){e.exports={headerContainer:"headerContainer__675e5",container:"container__675e5",iconCard:"iconCard__675e5",tooltipContent:"tooltipContent__675e5",iconContainer:"iconContainer__675e5",itemContainer:"itemContainer__675e5",clickable:"clickable__675e5",disabledClickable:"disabledClickable__675e5",plusIcon:"plusIcon__675e5",spinner:"spinner__675e5",spinnerInnerRunning:"spinnerInnerRunning__675e5"}},293419:function(e,t,n){e.exports={logo:"logo__11f7b"}},573875:function(e,t,n){e.exports={canvas:"canvas_e99198",fallbackImage:"fallbackImage_e99198",visible:"visible_e99198",embedded:"embedded_e99198"}},856704:function(e,t,n){var i={wrapper:"wrapper__8bf38 "+n(175581).scrollbarGhost,rightSplit:"rightSplit__8bf38",embedded:"embedded__8bf38",leftSplit:"leftSplit__8bf38",nonEmbeddedLeftSplit:"nonEmbeddedLeftSplit__8bf38",mobileWave:"mobileWave__8bf38",logo:"logo__8bf38"};e.exports=i},437413:function(e,t,n){e.exports={chat:"chat_a44415"}},458686:function(e,t,n){e.exports={hamBanner:"hamBanner__6a41e",hamBannerButton:"hamBannerButton__6a41e"}},310799:function(e,t,n){e.exports={container:"container__251d4",fadeOut:"fadeOut__251d4",upsell:"upsell__251d4",hidden:"hidden__251d4"}},809715:function(e,t,n){e.exports={container:"container_e88f3f",close:"close_e88f3f",closeIcon:"closeIcon_e88f3f",imageContainer:"imageContainer_e88f3f",image:"image_e88f3f",message:"message_e88f3f",title:"title_e88f3f",live:"live_e88f3f",center:"center_e88f3f",noImageTitle:"noImageTitle_e88f3f",button:"button_e88f3f",header:"header_e88f3f",participants:"participants_e88f3f",pill:"pill_e88f3f",pillIcon:"pillIcon_e88f3f",pillLabel:"pillLabel_e88f3f",locationContainer:"locationContainer_e88f3f",location:"location_e88f3f",locationIcon:"locationIcon_e88f3f",avatar:"avatar_e88f3f"}},576590:function(e,t,n){e.exports={channelNotice:"channelNotice__4c43d",close:"close__4c43d",closeIcon:"closeIcon__4c43d",title:"title__4c43d",message:"message__4c43d",btn:"btn__4c43d",imageContainer:"imageContainer__4c43d",image:"image__4c43d"}},823355:function(e,t,n){e.exports={app:"app__160d8",layers:"layers__160d8"}},330523:function(e,t,n){e.exports={layers:"layers__960e4",layer:"layer__960e4",animating:"animating__960e4",bg:"bg__960e4",important:"important__960e4",baseLayer:"baseLayer__960e4"}},548392:function(e,t,n){e.exports={container:"container__81977",containerEnabled:"containerEnabled__81977",buttonClose:"buttonClose__81977",buttonCTA:"buttonCTA__81977",dismissIcon:"dismissIcon__81977",errorWarningIcon:"errorWarningIcon__81977",keyCombo:"keyCombo__81977"}},369889:function(e,t,n){e.exports={container:"container__58c96",pointer:"pointer__58c96"}},472401:function(e,t,n){n.r(e.exports={"heading-sm/normal":"heading-sm/normal__4ed1a",fontScaling:"fontScaling__4ed1a","heading-sm/medium":"heading-sm/medium__4ed1a","heading-sm/semibold":"heading-sm/semibold__4ed1a","heading-sm/bold":"heading-sm/bold__4ed1a","heading-sm/extrabold":"heading-sm/extrabold__4ed1a","heading-md/normal":"heading-md/normal__4ed1a","heading-md/medium":"heading-md/medium__4ed1a","heading-md/semibold":"heading-md/semibold__4ed1a","heading-md/bold":"heading-md/bold__4ed1a","heading-md/extrabold":"heading-md/extrabold__4ed1a","heading-lg/normal":"heading-lg/normal__4ed1a","heading-lg/medium":"heading-lg/medium__4ed1a","heading-lg/semibold":"heading-lg/semibold__4ed1a","heading-lg/bold":"heading-lg/bold__4ed1a","heading-lg/extrabold":"heading-lg/extrabold__4ed1a","heading-xl/normal":"heading-xl/normal__4ed1a","heading-xl/medium":"heading-xl/medium__4ed1a","heading-xl/semibold":"heading-xl/semibold__4ed1a","heading-xl/bold":"heading-xl/bold__4ed1a","heading-xl/extrabold":"heading-xl/extrabold__4ed1a","heading-xxl/normal":"heading-xxl/normal__4ed1a","heading-xxl/medium":"heading-xxl/medium__4ed1a","heading-xxl/semibold":"heading-xxl/semibold__4ed1a","heading-xxl/bold":"heading-xxl/bold__4ed1a","heading-xxl/extrabold":"heading-xxl/extrabold__4ed1a",eyebrow:"eyebrow__4ed1a","heading-deprecated-12/normal":"heading-deprecated-12/normal__4ed1a","heading-deprecated-12/medium":"heading-deprecated-12/medium__4ed1a","heading-deprecated-12/semibold":"heading-deprecated-12/semibold__4ed1a","heading-deprecated-12/bold":"heading-deprecated-12/bold__4ed1a","heading-deprecated-12/extrabold":"heading-deprecated-12/extrabold__4ed1a","redesign/heading-18/bold":"redesign/heading-18/bold__4ed1a","text-xxs/normal":"text-xxs/normal__4ed1a","text-xxs/medium":"text-xxs/medium__4ed1a","text-xxs/semibold":"text-xxs/semibold__4ed1a","text-xxs/bold":"text-xxs/bold__4ed1a","text-xs/normal":"text-xs/normal__4ed1a","text-xs/medium":"text-xs/medium__4ed1a","text-xs/semibold":"text-xs/semibold__4ed1a","text-xs/bold":"text-xs/bold__4ed1a","text-sm/normal":"text-sm/normal__4ed1a","text-sm/medium":"text-sm/medium__4ed1a","text-sm/semibold":"text-sm/semibold__4ed1a","text-sm/bold":"text-sm/bold__4ed1a","text-md/normal":"text-md/normal__4ed1a","text-md/medium":"text-md/medium__4ed1a","text-md/semibold":"text-md/semibold__4ed1a","text-md/bold":"text-md/bold__4ed1a","text-lg/normal":"text-lg/normal__4ed1a","text-lg/medium":"text-lg/medium__4ed1a","text-lg/semibold":"text-lg/semibold__4ed1a","text-lg/bold":"text-lg/bold__4ed1a","redesign/message-preview/normal":"redesign/message-preview/normal__4ed1a","redesign/message-preview/medium":"redesign/message-preview/medium__4ed1a","redesign/message-preview/semibold":"redesign/message-preview/semibold__4ed1a","redesign/message-preview/bold":"redesign/message-preview/bold__4ed1a","redesign/channel-title/normal":"redesign/channel-title/normal__4ed1a","redesign/channel-title/medium":"redesign/channel-title/medium__4ed1a","redesign/channel-title/semibold":"redesign/channel-title/semibold__4ed1a","redesign/channel-title/bold":"redesign/channel-title/bold__4ed1a","display-sm":"display-sm__4ed1a","display-md":"display-md__4ed1a","display-lg":"display-lg__4ed1a",code:"code__4ed1a",marketingBadgeTooltip:"marketingBadgeTooltip__4ed1a",marketingBadgeTooltipContent:"marketingBadgeTooltipContent__4ed1a",shopMarketingTooltipContent:"shopMarketingTooltipContent__4ed1a",shopMarketingTooltipText:"shopMarketingTooltipText__4ed1a",avatarContainer:"avatarContainer__4ed1a",avatar:"avatar__4ed1a",newBadge:"newBadge__4ed1a eyebrow__4ed1a",marketingButtonBackground:"marketingButtonBackground__4ed1a",marketingButtonBackgroundImage:"marketingButtonBackgroundImage__4ed1a",marketingButtonImage:"marketingButtonImage__4ed1a",marketingButtonImageHovered:"marketingButtonImageHovered__4ed1a",tideButton:"tideButton__4ed1a"})},171793:function(e,t,n){e.exports={modal:"modal_e59759",container:"container_e59759",headerIcon:"headerIcon_e59759",modalCloseButton:"modalCloseButton_e59759",verifiedRoles:"verifiedRoles_e59759",verifiedRole:"verifiedRole_e59759",verifiedRoleNameDescriptionContainer:"verifiedRoleNameDescriptionContainer_e59759",verifiedRoleDescription:"verifiedRoleDescription_e59759",verifiedRoleName:"verifiedRoleName_e59759",verifiedRoleHasRole:"verifiedRoleHasRole_e59759",roleCheckmark:"roleCheckmark_e59759",botAvatar:"botAvatar_e59759"}},193330:function(e,t,n){e.exports={contentRating:"contentRating_f4dfaa",esrb:"esrb_f4dfaa",pegi:"pegi_f4dfaa",esrbEveryone:"esrbEveryone_f4dfaa esrb_f4dfaa",esrbEveryoneTenPlus:"esrbEveryoneTenPlus_f4dfaa esrb_f4dfaa",esrbTeen:"esrbTeen_f4dfaa esrb_f4dfaa",esrbMature:"esrbMature_f4dfaa esrb_f4dfaa",esrbAdult:"esrbAdult_f4dfaa esrb_f4dfaa",esrbRatingPending:"esrbRatingPending_f4dfaa",pegiThree:"pegiThree_f4dfaa pegi_f4dfaa",pegiSeven:"pegiSeven_f4dfaa pegi_f4dfaa",pegiTwelve:"pegiTwelve_f4dfaa pegi_f4dfaa",pegiSixteen:"pegiSixteen_f4dfaa pegi_f4dfaa",pegiEighteen:"pegiEighteen_f4dfaa pegi_f4dfaa"}},136813:function(e,t,n){e.exports={title:"title__85643",icon:"icon__85643",guildIcon:"guildIcon__85643",button:"button__85643"}},60790:function(e,t,n){e.exports={outer:"outer_ac6414",inner:"inner_ac6414"}},249630:function(e,t,n){var i={spinner:"spinner_a2f514",container:"container_a2f514 "+n(696669).fixClipping,text:"text_a2f514",ready:"ready_a2f514",content:"content_a2f514",problems:"problems_a2f514",slideIn:"slideIn_a2f514",problemsText:"problemsText_a2f514",links:"links_a2f514",statusLink:"statusLink_a2f514 links_a2f514",twitterLink:"twitterLink_a2f514 links_a2f514",icon:"icon_a2f514",contentBase:"contentBase_a2f514",tipTitle:"tipTitle_a2f514",tip:"tip_a2f514",keybind:"keybind_a2f514",body:"body_a2f514 contentBase_a2f514",title:"title_a2f514 contentBase_a2f514"};e.exports=i},747219:function(e,t,n){e.exports={inset:"inset_bf1984",outer:"outer_bf1984",padded:"padded_bf1984",interactive:"interactive_bf1984",active:"active_bf1984"}},281642:function(e,t,n){e.exports={canvas:"canvas__5dc9c"}},869675:function(e,t,n){e.exports={row:"row__5fe04",clickable:"clickable__5fe04",headerCell:"headerCell__5fe04",headerCellContent:"headerCellContent__5fe04",stickyHeader:"stickyHeader__5fe04",sortIcon:"sortIcon__5fe04"}},52833:function(e,t,n){e.exports={emoji:"emoji_ce5b39"}},718418:function(e,t,n){e.exports={root:"root_e373d2",connected:"connected_e373d2",icon:"icon_e373d2",connecting:"connecting_e373d2"}},25671:function(e,t,n){e.exports={recommendationReason:"recommendationReason__6efad",circle:"circle__6efad",icon:"icon__6efad",iconCircle:"iconCircle__6efad circle__6efad",earlyAccess:"earlyAccess__6efad",premiumCircle:"premiumCircle__6efad",smallHeader:"smallHeader__6efad",text:"text__6efad",description:"description__6efad"}},624527:function(e,t,n){e.exports={container:"container_a592e1",dragRegion:"dragRegion_a592e1"}},660541:function(e,t,n){e.exports={button:"button__075ec",innerButton:"innerButton__075ec"}},270249:function(e,t,n){e.exports={container:"container__551b0",header:"header__551b0",nav:"nav__551b0",navItemIcon:"navItemIcon__551b0",navItem:"navItem__551b0",selected:"selected__551b0"}},743038:function(e,t,n){e.exports={container:"container__4cb8a",card:"card__4cb8a",iconMask:"iconMask__4cb8a",contextMenu:"contextMenu__4cb8a",header:"header__4cb8a",loaded:"loaded__4cb8a",banner:"banner__4cb8a",bannerImage:"bannerImage__4cb8a",icon:"icon__4cb8a",avatar:"avatar__4cb8a",guildDetails:"guildDetails__4cb8a",title:"title__4cb8a",guildBadge:"guildBadge__4cb8a",guildName:"guildName__4cb8a",description:"description__4cb8a",memberDetails:"memberDetails__4cb8a",memberDetailsCount:"memberDetailsCount__4cb8a",memberDetailsText:"memberDetailsText__4cb8a",infoDot:"infoDot__4cb8a",presenceCountDot:"presenceCountDot__4cb8a infoDot__4cb8a",memberCountDot:"memberCountDot__4cb8a infoDot__4cb8a",spinnerContainer:"spinnerContainer__4cb8a",spinner:"spinner__4cb8a",placeholder:"placeholder__4cb8a",transitionGroup:"transitionGroup__4cb8a"}},123621:function(e,t,n){e.exports={actionButtonsContainer:"actionButtonsContainer__58de5",forceButtonsShow:"forceButtonsShow__58de5",overflowIcon:"overflowIcon__58de5"}},607495:function(e,t,n){e.exports={container:"container_d08938",searchResultsHeader:"searchResultsHeader_d08938"}},733977:function(e,t,n){e.exports={heading:"heading_cbd375",headingTopbar:"headingTopbar_cbd375",headingFilters:"headingFilters_cbd375",masonryList:"masonryList_cbd375",container:"container_cbd375",spinner:"spinner_cbd375",spinnerWithSidebar:"spinnerWithSidebar_cbd375",sidebar:"sidebar_cbd375",sidebarContent:"sidebarContent_cbd375",sidebarLanguageSelect:"sidebarLanguageSelect_cbd375"}},877696:function(e,t,n){e.exports={categories:"categories_fe77d6",category:"category_fe77d6",name:"name_fe77d6",count:"count_fe77d6",selected:"selected_fe77d6"}},368199:function(e,t,n){e.exports={container:"container__757e8"}},464865:function(e,t,n){e.exports={container:"container__74f3e",image:"image__74f3e",header:"header__74f3e"}},545091:function(e,t,n){e.exports={sectionTitle:"sectionTitle_f0d60d",content:"content_f0d60d"}},19707:function(e,t,n){e.exports={disclaimer:"disclaimer__04d5b",text:"text__04d5b",divider:"divider__04d5b"}},906160:function(e,t,n){e.exports={page:"page__99a7e",contentWrapper:"contentWrapper__99a7e",dragRegion:"dragRegion__99a7e",splash:"splash__99a7e",defaultGradient:"defaultGradient__99a7e",splashGradient:"splashGradient__99a7e",cover:"cover__99a7e"}},739387:function(e,t,n){e.exports={container:"container_b962dc",guildSidebar:"guildSidebar_b962dc",guildDescription:"guildDescription_b962dc",guildIcon:"guildIcon_b962dc",guildIconNoIcon:"guildIconNoIcon_b962dc",guildName:"guildName_b962dc",emojisContainer:"emojisContainer_b962dc",emoji:"emoji_b962dc",onlineCount:"onlineCount_b962dc",dot:"dot_b962dc",dotOnline:"dotOnline_b962dc dot_b962dc",dotMembers:"dotMembers_b962dc dot_b962dc",divider:"divider_b962dc",modal:"modal_b962dc",sequencer:"sequencer_b962dc",modalContent:"modalContent_b962dc",content:"content_b962dc",centerContent:"centerContent_b962dc",closeButton:"closeButton_b962dc",applicationIconContainer:"applicationIconContainer_b962dc",applicationIcon:"applicationIcon_b962dc",animationAndSparklesContainer:"animationAndSparklesContainer_b962dc",sparkleIcon:"sparkleIcon_b962dc",sparkleTop:"sparkleTop_b962dc",sparkleBottom:"sparkleBottom_b962dc",animation:"animation_b962dc",header:"header_b962dc",subheader:"subheader_b962dc",footer:"footer_b962dc",submitButton:"submitButton_b962dc",formItem:"formItem_b962dc",resendButton:"resendButton_b962dc",confirmation:"confirmation_b962dc",iconWrapper:"iconWrapper_b962dc",confirmationButtonRow:"confirmationButtonRow_b962dc",confirmationButton:"confirmationButton_b962dc",confirmationTooltipContents:"confirmationTooltipContents_b962dc",notice:"notice_b962dc",rejectionReasonLabel:"rejectionReasonLabel_b962dc",disclaimerFooter:"disclaimerFooter_b962dc",statusTextContainer:"statusTextContainer_b962dc",incompleteButtonsContainer:"incompleteButtonsContainer_b962dc"}},957050:function(e,t,n){e.exports={container:"container_cd1bf7",explainerContainer:"explainerContainer_cd1bf7"}},710825:function(e,t,n){e.exports={container:"container__2f3c8",image:"image__2f3c8"}},592167:function(e,t,n){e.exports={container:"container_d843c9",video:"video_d843c9"}},263192:function(e,t,n){e.exports={pendingPlanChangeNotice:"pendingPlanChangeNotice_f75db8"}},869504:function(e,t,n){e.exports={errorPageContainer:"errorPageContainer__5a176",errorPageContent:"errorPageContent__5a176",errorPageIllo:"errorPageIllo__5a176",errorPageTitle:"errorPageTitle__5a176",errorPagSubtitle:"errorPagSubtitle__5a176"}},255653:function(e,t,n){e.exports={container:"container__808a1",content:"content__808a1",scroller:"scroller__808a1",scrollerContent:"scrollerContent__808a1",headerBar:"headerBar__808a1"}},700930:function(e,t,n){e.exports={container:"container_e66c4d",content:"content_e66c4d",header:"header_e66c4d"}},770570:function(e,t,n){e.exports={container:"container__7e486",coverImageContainer:"coverImageContainer__7e486",coverImage:"coverImage__7e486",guildIconContainer:"guildIconContainer__7e486",ctaTitle:"ctaTitle__7e486",ctaSubtitle:"ctaSubtitle__7e486"}},293028:function(e,t,n){e.exports={channelNotice:"channelNotice_e2d7b8",textBlock:"textBlock_e2d7b8",singleLine:"singleLine_e2d7b8",liveNowText:"liveNowText_e2d7b8",eventNameClickable:"eventNameClickable_e2d7b8",eventName:"eventName_e2d7b8",channelName:"channelName_e2d7b8",dotDivider:"dotDivider_e2d7b8",liveIndicator:"liveIndicator_e2d7b8",startTime:"startTime_e2d7b8",stageIcon:"stageIcon_e2d7b8",userNames:"userNames_e2d7b8",joinButton:"joinButton_e2d7b8",rsvpButton:"rsvpButton_e2d7b8",buttonIcon:"buttonIcon_e2d7b8",closeIcon:"closeIcon_e2d7b8",details:"details_e2d7b8"}},471475:function(e,t,n){e.exports={image:"image_d6d9aa"}},723247:function(e,t,n){e.exports={container:"container__2637a",hubContainer:"hubContainer__2637a",tooltipOverrideColor:"tooltipOverrideColor__2637a",dropdownButton:"dropdownButton__2637a"}},896441:function(e,t,n){e.exports={container:"container__6e9be"}},809551:function(e,t,n){e.exports={wrapper:"wrapper_a230e0",backgroundWrapper:"backgroundWrapper_a230e0",backgroundImage:"backgroundImage_a230e0",backgroundOverlay:"backgroundOverlay_a230e0",heroImage:"heroImage_a230e0",content:"content_a230e0",specialText:"specialText_a230e0",specialTextLink:"specialTextLink_a230e0 specialText_a230e0",closeClickable:"closeClickable_a230e0"}},939486:function(e,t,n){e.exports={background:"background_df5e2e"}},647487:function(e,t,n){e.exports={container:"container_a76561",iconContainer:"iconContainer_a76561",header:"header_a76561",gap:"gap_a76561",addButton:"addButton_a76561"}},267096:function(e,t,n){e.exports={container:"container__30f2d",topImage:"topImage__30f2d",centerText:"centerText__30f2d",header:"header__30f2d",descriptionWidth:"descriptionWidth__30f2d",formContent:"formContent__30f2d",formDescription:"formDescription__30f2d",termsPhrase:"termsPhrase__30f2d",submitButton:"submitButton__30f2d",cancelButton:"cancelButton__30f2d"}},994655:function(e,t,n){e.exports={container:"container_a3fac7",centerText:"centerText_a3fac7",header:"header_a3fac7",description:"description_a3fac7",guildList:"guildList_a3fac7",forcedHeight:"forcedHeight_a3fac7",searchContainer:"searchContainer_a3fac7",searchBox:"searchBox_a3fac7",searchBoxInput:"searchBoxInput_a3fac7",searchBoxIcon:"searchBoxIcon_a3fac7",guildRow:"guildRow_a3fac7",clickableGuildInfoRow:"clickableGuildInfoRow_a3fac7 guildRow_a3fac7",guildIcon:"guildIcon_a3fac7",guildName:"guildName_a3fac7",noResultsContainer:"noResultsContainer_a3fac7",noResultsContent:"noResultsContent_a3fac7",noResultsImage:"noResultsImage_a3fac7",scroller:"scroller_a3fac7"}},588292:function(e,t,n){e.exports={modalRoot:"modalRoot__1d6c7",sidebarContainer:"sidebarContainer__1d6c7",contentContainer:"contentContainer__1d6c7",modalContent:"modalContent__1d6c7",container:"container__1d6c7",closeButton:"closeButton__1d6c7"}},639673:function(e,t,n){e.exports={page:"page_ae34ee",contentWrapper:"contentWrapper_ae34ee",dragRegion:"dragRegion_ae34ee"}},521487:function(e,t,n){e.exports={container:"container_c1298c",iconContainer:"iconContainer_c1298c",icon:"icon_c1298c",header:"header_c1298c",description:"description_c1298c"}},149982:function(e,t,n){e.exports={container:"container__07ec5",centerText:"centerText__07ec5",header:"header__07ec5",descriptionWidth:"descriptionWidth__07ec5",formItem:"formItem__07ec5",footer:"footer__07ec5",backButton:"backButton__07ec5"}},879943:function(e,t,n){e.exports={container:"container_bfddf1",topImage:"topImage_bfddf1",centerText:"centerText_bfddf1",formItem:"formItem_bfddf1 centerText_bfddf1",header:"header_bfddf1",descriptionWidth:"descriptionWidth_bfddf1",submitText:"submitText_bfddf1"}},18918:function(e,t,n){e.exports={container:"container_ea45f4",content:"content_ea45f4",pointer:"pointer_ea45f4"}},644833:function(e,t,n){e.exports={icon:"icon__58921"}},636277:function(e,t,n){e.exports={video:"video__111f3",upsellBody:"upsellBody__111f3"}},599739:function(e,t,n){e.exports={messageRequestItem:"messageRequestItem_abb9ad",firstItem:"firstItem_abb9ad",active:"active_abb9ad"}},80599:function(e,t,n){e.exports={container:"container_f391e3",item:"item_f391e3",list:"list_f391e3",sectionTitle:"sectionTitle_f391e3",selected:"selected_f391e3",siblingSelected:"siblingSelected_f391e3",messageRequestCoachmark:"messageRequestCoachmark_f391e3",titleDivider:"titleDivider_f391e3",clearAllButton:"clearAllButton_f391e3"}},795479:function(e,t,n){e.exports={messageContent:"messageContent_dbf24f",messageReplacement:"messageReplacement_dbf24f messageContent_dbf24f",messageContentIcon:"messageContentIcon_dbf24f",messageFocusBlock:"messageFocusBlock_dbf24f"}},779160:function(e,t,n){e.exports={avatar:"avatar_b8dbac",userPreview:"userPreview_b8dbac",userContainerWithPreview:"userContainerWithPreview_b8dbac",tagContainer:"tagContainer_b8dbac",username:"username_b8dbac",discriminator:"discriminator_b8dbac",globalName:"globalName_b8dbac",timestampWithPreview:"timestampWithPreview_b8dbac",mutualGuildsContainer:"mutualGuildsContainer_b8dbac",mutualGuilds:"mutualGuilds_b8dbac"}},32090:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer__65428"}},64284:function(e,t,n){e.exports={container:"container__24368",actions:"actions__24368",button:"button__24368"}},754960:function(e,t,n){e.exports={selected:"selected_dcc822",siblingSelected:"siblingSelected_dcc822",list:"list_dcc822",sectionTitle:"sectionTitle_dcc822",titleDivider:"titleDivider_dcc822",clearAllButton:"clearAllButton_dcc822"}},724776:function(e,t,n){e.exports={container:"container__0b7fc",actions:"actions__0b7fc",button:"button__0b7fc"}},907553:function(e,t,n){e.exports={body:"body_af7fb7",menus:"menus_af7fb7",menuOverlay:"menuOverlay_af7fb7",menuDivider:"menuDivider_af7fb7",menuItemInner:"menuItemInner_af7fb7",menuItemLabel:"menuItemLabel_af7fb7",menuItemColor:"menuItemColor_af7fb7",submenuPaddingContainer:"submenuPaddingContainer_af7fb7",statusPickerModal:"statusPickerModal_af7fb7",statusPickerModalMenu:"statusPickerModalMenu_af7fb7",statusItem:"statusItem_af7fb7",expiringStatusMenuItem:"expiringStatusMenuItem_af7fb7",status:"status_af7fb7",icon:"icon_af7fb7",description:"description_af7fb7",themeContainer:"themeContainer_af7fb7",username:"username_af7fb7",focusModeTitle:"focusModeTitle_af7fb7"}},843855:function(e,t,n){e.exports={container:"container__82be8"}},989387:function(e,t,n){e.exports={userMenuItem:"userMenuItem_d40c56",userMenuUsername:"userMenuUsername_d40c56",userMenuText:"userMenuText_d40c56",userMenuDiscriminator:"userMenuDiscriminator_d40c56",focused:"focused_d40c56",activeIcon:"activeIcon_d40c56"}},658385:function(e,t,n){e.exports={itemCard:"itemCard__7e549",emptyCard:"emptyCard__7e549",emptyHeader:"emptyHeader__7e549",emptyText:"emptyText__7e549"}},150737:function(e,t,n){e.exports={scroller:"scroller__7d20c",container:"container__7d20c",header:"header__7d20c"}},492395:function(e,t,n){e.exports={memberItem:"memberItem__5017b",avatar:"avatar__5017b",unknown:"unknown__5017b"}},153737:function(e,t,n){e.exports={listeningAlong:"listeningAlong_e0cf27",party:"party_e0cf27",overflow:"overflow_e0cf27",icons:"icons_e0cf27",avatar:"avatar_e0cf27"}},226007:function(e,t,n){e.exports={container:"container__37e49",avatar:"avatar__37e49",redIcon:"redIcon__37e49",avatarWrapper:"avatarWrapper__37e49",nameTag:"nameTag__37e49",canCopy:"canCopy__37e49",panelTitleContainer:"panelTitleContainer__37e49",panelSubtextContainer:"panelSubtextContainer__37e49",activityStatusText:"activityStatusText__37e49",customStatus:"customStatus__37e49",strikethrough:"strikethrough__37e49",emoji:"emoji__37e49",accountProfilePopoutWrapper:"accountProfilePopoutWrapper__37e49",micButtonParent:"micButtonParent__37e49",buttonChevron:"buttonChevron__37e49",micButtonWithMenu:"micButtonWithMenu__37e49",buttons:"buttons__37e49",buttonChevronIcon:"buttonChevronIcon__37e49"}},83140:function(e,t,n){e.exports={scroller:"scroller__68617",voiceUsers:"voiceUsers__68617",expandButton:"expandButton__68617",avatarContainer:"avatarContainer__68617",avatar:"avatar__68617",speaking:"speaking__68617",avatarIconOverlay:"avatarIconOverlay__68617",avatarIconRed:"avatarIconRed__68617"}},74344:function(e,t,n){e.exports={actionButton:"actionButton_f8fa06",highlight:"highlight_f8fa06",actionAccept:"actionAccept_f8fa06",actionDeny:"actionDeny_f8fa06",icon:"icon_f8fa06",actionButtonMobile:"actionButtonMobile_f8fa06"}},86511:function(e,t,n){e.exports={header:"header__94b08",title:"title__94b08",emptyState:"emptyState__94b08"}},953783:function(e,t,n){e.exports={header:"header_a14595",title:"title_a14595",grid:"grid_a14595",container:"container_a14595",arrow:"arrow_a14595",icon:"icon_a14595",text:"text_a14595"}},821583:function(e,t,n){e.exports={listItemContents:"listItemContents__61863"}},947349:function(e,t,n){e.exports={card:"card__2eab1",header:"header__2eab1",buttonContainer:"buttonContainer__2eab1"}},337336:function(e,t,n){e.exports={listItemContents:"listItemContents_fc004c",actions:"actions_fc004c"}},66116:function(e,t,n){e.exports={friendsEmpty:"friendsEmpty_c7ea19",button:"button_c7ea19",emptyStateContainer:"emptyStateContainer_c7ea19",spamButton:"spamButton_c7ea19"}},715137:function(e,t,n){e.exports={listItemContents:"listItemContents_e1ecd3",actions:"actions_e1ecd3",staffIndicator:"staffIndicator_e1ecd3",applicationSublabel:"applicationSublabel_e1ecd3"}},574514:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer__5ec2f",peopleList:"peopleList__5ec2f",searchBar:"searchBar__5ec2f",sectionTitle:"sectionTitle__5ec2f",clearButton:"clearButton__5ec2f",searchEmptyState:"searchEmptyState__5ec2f",viewSpamButton:"viewSpamButton__5ec2f",viewSpamButtonColor:"viewSpamButtonColor__5ec2f"}},179935:function(e,t,n){e.exports={peopleListItem:"peopleListItem_cc6179",active:"active_cc6179"}},778639:function(e,t,n){e.exports={container:"container__133bf",inviteToolbar:"inviteToolbar__133bf",peopleColumn:"peopleColumn__133bf",nowPlayingColumn:"nowPlayingColumn__133bf",tabBar:"tabBar__133bf",badge:"badge__133bf",item:"item__133bf",addFriend:"addFriend__133bf",tabBody:"tabBody__133bf"}},502781:function(e,t,n){e.exports={blockedIgnoredSettingsNotice:"blockedIgnoredSettingsNotice__6811a",closeButton:"closeButton__6811a"}},762202:function(e,t,n){e.exports={title:"title__1472a"}},116324:function(e,t,n){e.exports={text:"text__19b6d",customStatusEmoji:"customStatusEmoji__19b6d"}},290457:function(e,t,n){e.exports={listItemContents:"listItemContents_c72b78",actions:"actions_c72b78"}},922358:function(e,t,n){e.exports={userInfo:"userInfo__0a06e",avatar:"avatar__0a06e",text:"text__0a06e",subtext:"subtext__0a06e",discordTag:"discordTag__0a06e",botTag:"botTag__0a06e",username:"username__0a06e",discriminator:"discriminator__0a06e",hovered:"hovered__0a06e",alignPomelo:"alignPomelo__0a06e"}},461739:function(e,t,n){e.exports={countDown:"countDown__61bcd",sparkleStar1:"sparkleStar1__61bcd",sparkleStar2:"sparkleStar2__61bcd"}},781057:function(e,t,n){e.exports={spriteContainer:"spriteContainer__51d15",sprite:"sprite__51d15",popoutButton:"popoutButton__51d15",pillContentContainer:"pillContentContainer__51d15",pillButtonText:"pillButtonText__51d15"}},155852:function(e,t,n){e.exports={buttonWide:"buttonWide__95fb7",innerButton:"innerButton__95fb7",nitroIconSubHeader:"nitroIconSubHeader__95fb7",termsApplyAnchor:"termsApplyAnchor__95fb7",modalTopPill:"modalTopPill__95fb7",tier2Gradient:"tier2Gradient__95fb7"}},123167:function(e,t,n){e.exports={container:"container_c2b8c9",image:"image_c2b8c9",header:"header_c2b8c9",primaryButton:"primaryButton_c2b8c9"}},479723:function(e,t,n){e.exports={customCircleAnimation:"customCircleAnimation__83ef9",glow:"glow__83ef9",pulse:"pulse__83ef9","extra-glow":"extra-glow__83ef9",coachTipContainer:"coachTipContainer__83ef9",coachmarkArt:"coachmarkArt__83ef9",exitIcon:"exitIcon__83ef9",iconContainer:"iconContainer__83ef9",coachtipContent:"coachtipContent__83ef9",incentiveCoachtipContent:"incentiveCoachtipContent__83ef9",marketingBadgeTooltip:"marketingBadgeTooltip__83ef9",tooltipContent:"tooltipContent__83ef9",incentiveTooltipPointer:"incentiveTooltipPointer__83ef9",incentiveCoachtipContainer:"incentiveCoachtipContainer__83ef9",icon:"icon__83ef9",incentiveIcon:"incentiveIcon__83ef9"}},949831:function(e,t,n){e.exports={localizeBadge:"localizeBadge__51968",referralIncentive:"referralIncentive__51968"}},270160:function(e,t,n){e.exports={root:"root_d06335",splash:"splash_d06335",headerText:"headerText_d06335",closeButton:"closeButton_d06335",video:"video_d06335",content:"content_d06335",bodyText:"bodyText_d06335",subHeader:"subHeader_d06335",featureCardGroup:"featureCardGroup_d06335",wideStyle:"wideStyle_d06335",featureCard:"featureCard_d06335",featureCardImg:"featureCardImg_d06335",featureCardTextGroup:"featureCardTextGroup_d06335",featureCardTextHeader:"featureCardTextHeader_d06335",featureCardTag:"featureCardTag_d06335",tag:"tag_d06335"}},884423:function(e,t,n){e.exports={profileThemesArt:"profileThemesArt__0a176"}},738530:function(e,t,n){e.exports={container:"container__9192b",image:"image__9192b",assetBlurred:"assetBlurred__9192b",decoWrapper:"decoWrapper__9192b",overlay:"overlay__9192b",darkThemeGradient:"darkThemeGradient__9192b",lightThemeGradient:"lightThemeGradient__9192b",details:"details__9192b",logoContainer:"logoContainer__9192b",logo:"logo__9192b",logoWithCosponsor:"logoWithCosponsor__9192b",title:"title__9192b",hovered:"hovered__9192b"}},329857:function(e,t,n){e.exports={gridContainer:"gridContainer_f3e8a7",spinner:"spinner_f3e8a7"}},360795:function(e,t,n){e.exports={container:"container__955a3",dragRegion:"dragRegion__955a3",bannerImage:"bannerImage__955a3",bannerGradient:"bannerGradient__955a3",tabs:"tabs__955a3",bannerContainer:"bannerContainer__955a3"}},176418:function(e,t,n){e.exports={container:"container__60f82",fadeIn:"fadeIn__60f82",glow:"glow__60f82",reflect:"reflect__60f82",questTile:"questTile__60f82",selected:"selected__60f82",unselected:"unselected__60f82",spinner:"spinner__60f82"}},773190:function(e,t,n){e.exports={wrapper:"wrapper__960df",submenuIcon:"submenuIcon__960df",utils:"utils__960df",wrapperQuestAccepted:"wrapperQuestAccepted__960df",heading:"heading__960df",headingGameTile:"headingGameTile__960df",headingCopy:"headingCopy__960df",instructions:"instructions__960df",ctas:"ctas__960df",cta:"cta__960df",rewardTileWithInstructions:"rewardTileWithInstructions__960df"}},316095:function(e,t,n){e.exports={channelName:"channelName__7c7a6",username:"username__7c7a6",kvContainer:"kvContainer__7c7a6",item:"item__7c7a6",itemValue:"itemValue__7c7a6",valueIcon:"valueIcon__7c7a6",title:"title__7c7a6",divider:"divider__7c7a6",graph:"graph__7c7a6",videoWrapper:"videoWrapper__7c7a6",sectionHeader:"sectionHeader__7c7a6",allowSelection:"allowSelection__7c7a6",avatar:"avatar__7c7a6"}},357616:function(e,t,n){e.exports={header:"header__078ac",video:"video__078ac"}},718458:function(e,t,n){e.exports={header:"header_bd9db3",video:"video_bd9db3"}},940841:function(e,t,n){e.exports={container:"container_c694b6",card:"card_c694b6",eyebrow:"eyebrow_c694b6",button:"button_c694b6",dismiss:"dismiss_c694b6"}},439200:function(e,t,n){e.exports={art:"art__21ee5"}},649969:function(e,t,n){e.exports={wrapper:"wrapper__27106",svg:"svg__27106",path:"path__27106",background:"background__27106 path__27106",foreground:"foreground__27106 path__27106",usageInfo:"usageInfo__27106"}},455965:function(e,t,n){e.exports={coachmarkArt:"coachmarkArt_a4ad2d",coachmarkHeader:"coachmarkHeader_a4ad2d"}},87055:function(e,t,n){e.exports={container:"container__577c3",image:"image__577c3",links:"links__577c3",agreementDescription:"agreementDescription__577c3"}},172171:function(e,t,n){e.exports={verification:"verification_dede4b",title:"title_dede4b",body:"body_dede4b",footer:"footer_dede4b",container:"container_dede4b",isMobile:"isMobile_dede4b",image:"image_dede4b",footerBullet:"footerBullet_dede4b",footerAction:"footerAction_dede4b"}},63318:function(e,t,n){e.exports={popup:"popup__06295",closeIcon:"closeIcon__06295",art:"art__06295",heading:"heading__06295"}},696669:function(e,t,n){e.exports={fixClipping:"fixClipping_efbae7"}},955092:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/5b4dc771eb1d2e239bcba774f3589b977845bf70d179315dc2f9a531b253c6d8.png"},250225:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/577d28b05d22c43a8b3dfe5ebfc6fa278c58f03907e888db884c331d13c3ad23.png"},778441:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/7fa341ec7211b62a71a0bd433d2bafe570ada865b0fd72d695b90de4a581022a.png"},238988:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/f3e3de08090be16d5041988655da92f175ba9967e7854f170caa18550159ae10.png"},298233:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/f56fdb607f14f6ebe5a37eac65f5b8c975ea446224c06dd8aef4dd0187c81874.png"},304354:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/d1dcb0c115a836edc8cbf021a15888bdf416fd352187518f227b8e905a20227f.png"},265704:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/b344b1fe2b3d2cc66466f09c46b4e2dcce56a16f1ff047aed69155fa4cff39a8.png"},85010:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/f3e3de08090be16d5041988655da92f175ba9967e7854f170caa18550159ae10.png"},954620:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/87534097f7ff0b0a3c6164bbcaad8968b2e7f8dbbdc59776c782cf14dba4c53c.png"},28747:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/5e27b7f8865a87dd6eec34188b96bb51924a55252b16f9ebfb8aa72973304bbd.png"},962658:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/15940a9acc0fab74b37e730350d6cef34289948e14b6d73e90432c19b4a51beb.png"},29971:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/6c6eeb5576f47ad8c19a40e67a6404ffaae3b939f07183afc984d669f17137de.png"},730837:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/fab9a25304af3a77b100b6beabd1d46013120289193faa37e9fa82977f133322.png"},95897:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/ef7a0b437305ab3a5ccda00a5ecd4eddd69544a90eac121e5c984ca63dd93b9e.png"},171362:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/71744284320fdf451ac09af729ea60d3fde7ef492f7c7e8c5657387c20c2b9c6.png"},945720:function(e,t,n){n.d(t,{Z:()=>i});let i="https://cdn.discordapp.com/assets/content/6c6eeb5576f47ad8c19a40e67a6404ffaae3b939f07183afc984d669f17137de.png"}}]);
//# sourceMappingURL=74ca57472049dae9.js.map