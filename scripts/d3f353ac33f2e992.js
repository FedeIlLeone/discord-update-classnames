"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["1337"],{771308:function(e,t,r){r.d(t,{Av:()=>c,hp:()=>d,wE:()=>u});var n=r(544891),a=r(570140),l=r(959776),o=r(626135),i=r(723359),s=r(981631);function c(e,t){return(0,l.Z)(e,t),o.default.track(s.rMx.AGE_GATE_ACTION,{source:t,action:i.Al.AGE_GATE_SUBMITTED}),n.tn.patch({url:s.ANM.ME,oldFormErrors:!0,body:{date_of_birth:e.format("YYYY-MM-DD")},rejectWithError:!1}).then(e=>{let r=e.body;a.Z.dispatch({type:"CURRENT_USER_UPDATE",user:r}),o.default.track(s.rMx.AGE_GATE_ACTION,{source:t,action:i.Al.AGE_GATE_SUCCESS})})}function u(e){a.Z.dispatch({type:"AGE_GATE_PREVENT_UNDERAGE_REGISTRATION"}),o.default.track(s.rMx.AGE_GATE_ACTION,{source:e,action:i.Al.AGE_GATE_PREVENT_UNDERAGE_REGISTRATION})}function d(e){a.Z.dispatch({type:"AGE_GATE_LOGOUT_UNDERAGE_NEW_USER"}),o.default.track(s.rMx.AGE_GATE_ACTION,{source:e,action:i.Al.AGE_GATE_LOGOUT_UNDERAGE_NEW_USER})}},13430:function(e,t,r){r.d(t,{Z:()=>E}),r(47120),r(653041);var n=r(200651),a=r(192379),l=r(120356),o=r.n(l),i=r(913527),s=r.n(i),c=r(481060),u=r(493773),d=r(285888),p=r(388032),h=r(438343);let v=s()().localeData().months(),f=Array.from(Array(31).keys()).map(e=>({value:e+1,label:"".concat(e+1)})),m=Array.from(Array(12).keys()).map(e=>({value:e+1,label:v[e]})),b=/[a-zA-Z0-9]/;function g(e){let{options:t,selectOption:r,children:l}=e,[o,i]=a.useState("");a.useEffect(()=>{if(""!==o){let e=setTimeout(()=>i(""),1e3);return()=>clearTimeout(e)}},[o,i]);let s=a.useCallback(e=>{if(b.test(e.key)){let n="".concat(o).concat(e.key.toLowerCase()),a=t.find(e=>e.label.toLowerCase().startsWith(n));null!=a&&r(a.value),i(n)}},[r,i,o,t]);return(0,n.jsx)("div",{onKeyDown:s,children:l})}function x(){let e=s()().localeData().longDateFormat("L"),t=e.indexOf("D"),r=e.indexOf("M"),n=e.indexOf("Y");return(-1===t||-1===r||-1===n)&&(t=0,r=1,n=2),[{index:t,type:"day"},{index:r,type:"month"},{index:n,type:"year"}].sort((e,t)=>e.index<t.index?-1:1)}let E=a.forwardRef(function(e,t){let{value:r,wrapperClassName:l,onChange:i,onPopulated:v,error:b,autoFocus:E,required:y}=e,{day:_,setDay:A,month:k,setMonth:T,year:C,setYear:O}=function(e){let t=null,r=null,n=null;null!=e&&(t=e.date(),r=e.month()+1,n=e.year());let[l,o]=a.useState(t),[i,s]=a.useState(r),[c,u]=a.useState(n);return{day:l,setDay:o,month:i,setMonth:s,year:c,setYear:u}}(r),M=a.useMemo(()=>null!=_&&null!=k&&null!=C?s()("".concat(_,"/").concat(k,"/").concat(C),"DD/MM/YYYY"):null,[_,k,C]);a.useEffect(()=>{i((null==M?void 0:M.isValid())?M:null)},[M,i]);let R=b;null==M||M.isValid()||(R=p.intl.string(p.t.udnqh4));let N=function(){let e=new Date().getFullYear(),t=a.useRef(Array.from(Array(150).keys()).map(t=>({value:e-t-3,label:"".concat(e-t-3)})));return a.useEffect(()=>{t.current=Array.from(Array(150).keys()).map(t=>({value:e-t-3,label:"".concat(e-t-3)}))},[e]),t.current}(),[G,S]=a.useState(E?0:-1),w=a.useRef(null),D=a.useRef(null),j=a.useRef(null),P=a.useMemo(x,[]),Z=a.useCallback(()=>{var e,t,r,n;switch(null===(e=P[G])||void 0===e?void 0:e.type){case"day":null===(t=w.current)||void 0===t||t.focus();break;case"month":null===(r=D.current)||void 0===r||r.focus();break;case"year":null===(n=j.current)||void 0===n||n.focus()}},[G,w,D,j,P]);(0,u.ZP)(()=>{let e=setTimeout(Z,500);return()=>{clearTimeout(e)}});let F={onPopulated:v,sortedInputs:P},I=a.useRef(F);a.useEffect(()=>{I.current=F}),a.useEffect(()=>{let{onPopulated:e,sortedInputs:t}=I.current;if(G>=t.length){null==e||e();return}Z()},[G,Z]);let U=[];for(let e=0;e<3;e++){let{type:t}=P[e];switch(t){case"day":U.push({key:"day",input:(0,n.jsx)(g,{options:f,selectOption:A,children:(0,n.jsx)(d.Z,{ref:w,className:h.__invalid_inputDay,"aria-label":p.intl.string(p.t.Voklra),menuPlacement:d.Z.MenuPlacements.TOP,placeholder:(0,n.jsx)("span",{"aria-hidden":!0,children:p.intl.string(p.t.Voklra)}),options:f,value:_,onChange:t=>{let{value:r}=t;A(r),S(e+1)},maxMenuHeight:215})})});break;case"month":U.push({key:"month",input:(0,n.jsx)(g,{options:m,selectOption:T,children:(0,n.jsx)(d.Z,{ref:D,className:h.__invalid_inputMonth,"aria-label":p.intl.string(p.t.UDlN8f),menuPlacement:d.Z.MenuPlacements.TOP,placeholder:(0,n.jsx)("span",{"aria-hidden":!0,children:p.intl.string(p.t.UDlN8f)}),options:m,value:k,onChange:t=>{let{value:r}=t;T(r),S(e+1)},maxMenuHeight:215})})});break;case"year":U.push({key:"year",input:(0,n.jsx)(g,{options:N,selectOption:O,children:(0,n.jsx)(d.Z,{ref:j,className:h.__invalid_inputYear,"aria-label":p.intl.string(p.t.ZWr5WF),menuPlacement:d.Z.MenuPlacements.TOP,placeholder:(0,n.jsx)("span",{"aria-hidden":!0,children:p.intl.string(p.t.ZWr5WF)}),options:N,value:C,onChange:t=>{let{value:r}=t;O(r),S(e+1)},maxMenuHeight:215})})})}}return(0,n.jsxs)("fieldset",{className:o()(h.container,l),children:[(0,n.jsx)(c.vwX,{tag:"legend",required:y,error:R,children:p.intl.string(p.t.xNpFJy)}),(0,n.jsx)("div",{className:h.inputs,children:U.map((e,t)=>{let{key:r,input:a}=e;return(0,n.jsx)("div",{tabIndex:t+1,className:h[r],children:a},r)})})]})})},285888:function(e,t,r){r.d(t,{Z:()=>b}),r(47120);var n,a,l=r(200651),o=r(192379),i=r(120356),s=r.n(i),c=r(569619),u=r(481060),d=r(981631),p=r(388032),h=r(474973);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=((a=f||{}).TOP="top",a.BOTTOM="bottom",a);let m={container:(e,t)=>{let{isDisabled:r}=t;return{...e,cursor:r?"not-allowed":void 0,pointerEvents:void 0,fontSize:16,fontWeight:500,width:"100%"}},control:(e,t)=>{let{isDisabled:r,menuIsOpen:n}=t;return{...e,backgroundColor:"var(--input-background)",borderColor:"var(--input-background)",opacity:r?.6:1,boxShadow:void 0,borderRadius:n?"4px 4px 0 0":"4px",minHeight:40,transition:"border 0.15s ease",cursor:r?"not-allowed":void 0,pointerEvents:r?"none":void 0,"&:hover":{borderColor:"var(--input-background)"}}},singleValue:(e,t)=>{let{isDisabled:r}=t;return{...e,color:"var(--interactive-normal)",opacity:r?.5:1}},input:e=>({...e,color:"var(--interactive-normal)"}),menu:e=>({...e,backgroundColor:"var(--background-secondary)",border:"1px solid var(--background-tertiary)",borderRadius:"0 0 4px 4px",color:"var(--interactive-normal)",marginTop:-1,marginBottom:-1}),clearIndicator:(e,t)=>{let{isDisabled:r}=t;return{...e,color:"var(--interactive-normal)",cursor:r?void 0:"pointer",opacity:.3,padding:"8px 0",transform:"scale(0.8)",":hover":{color:"var(--text-danger)",opacity:1}}},indicatorsContainer:e=>({...e,alignItems:"flex-start"}),dropdownIndicator:(e,t)=>{let{isDisabled:r}=t;return{...e,color:"var(--interactive-normal)",cursor:r?void 0:"pointer",opacity:r?.3:1,padding:"8px 8px 8px 0",":hover":{color:"var(--interactive-hover)",opacity:r?.3:1}}},menuList:e=>({...e,padding:0,"&::-webkit-scrollbar":{width:8,padding:"0px 2px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-thin-thumb)",border:"2px solid transparent",backgroundClip:"padding-box",borderRadius:4},"&::-webkit-scrollbar-track-piece":{backgroundColor:"transparent",borderColor:"transparent"}}),option:(e,t)=>{let{isSelected:r,isFocused:n}=t;return{...e,...r?{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}:n?{backgroundColor:"var(--background-modifier-hover)",color:"var(--interactive-hover)"}:{backgroundColor:"transparent",color:"var(--interactive-normal)"},cursor:"pointer",display:"flex",padding:12,alignItems:"center",minHeight:40,"&:active":{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}}},placeholder:e=>({...e,color:"var(--text-muted)"})};class b extends(n=o.Component){focus(){var e;null===(e=this._selectRef.current)||void 0===e||e.focus()}render(){let e;let{className:t,selectClassName:r,error:n,valueRenderer:a,optionRenderer:o,multiValueRenderer:i,options:d,value:v,autofocus:f,disabled:b,clearable:g,searchable:x,styleOverrides:E,isMulti:y,placeholder:_,filterOption:A,closeMenuOnSelect:k=!0,...T}=this.props,C={...T};null!=f&&(C.autoFocus=f),null!=b&&(C.isDisabled=b),null!=g&&(C.isClearable=g),null!=x&&(C.isSearchable=x);let O={IndicatorSeparator:()=>null};if(null!=o&&(O.Option=e=>(0,l.jsx)(c.wx.Option,{...e,children:o(e.data)})),null!=a&&(O.SingleValue=e=>(0,l.jsx)(c.wx.SingleValue,{...e,children:a(e.data)})),null!=i&&(O.MultiValue=e=>i(e.data)),y&&Array.isArray(v)){let t={};d.forEach(e=>{t[String(e.value)]=e}),e=v.map(e=>t[String(e)])}else e=null!=v?d.find(e=>e.value===v):null;return(0,l.jsx)(u.tEY,{focused:this.state.isFocused&&!this.state.isOpen,ringTarget:this._containerRef,children:(0,l.jsxs)("div",{className:s()(h.select,t,{[h.error]:null!=n}),ref:this._containerRef,children:[(0,l.jsx)(c.ZP,{...C,className:r,ref:this._selectRef,isMulti:y,components:O,options:d,styles:null!=E?E:m,onFocus:this.handleFocus,onBlur:this.handleBlur,onMenuOpen:this.handleMenuOpen,onMenuClose:this.handleMenuClose,closeMenuOnSelect:k,value:e,onKeyDown:this.handleKeyDown,placeholder:null!=_?_:p.intl.string(p.t.XqMe3N),noOptionsMessage:()=>p.intl.string(p.t["Xe+fJC"]),filterOption:A}),null!=n?(0,l.jsx)("div",{className:h.errorMessage,children:n}):null]})})}constructor(...e){super(...e),v(this,"_selectRef",o.createRef()),v(this,"_containerRef",o.createRef()),v(this,"state",{isFocused:!1,isOpen:!1}),v(this,"handleFocus",e=>{var t,r;this.setState({isFocused:!0}),null===(t=(r=this.props).onFocus)||void 0===t||t.call(r,e)}),v(this,"handleBlur",e=>{var t,r;this.setState({isFocused:!1}),null===(t=(r=this.props).onBlur)||void 0===t||t.call(r,e)}),v(this,"handleKeyDown",e=>{e.which===d.yXg.ESCAPE&&this.state.isOpen&&e.stopPropagation()}),v(this,"handleMenuOpen",()=>{this.setState({isOpen:!0})}),v(this,"handleMenuClose",()=>{this.setState({isOpen:!1})})}}v(b,"MenuPlacements",f)}}]);
//# sourceMappingURL=d3f353ac33f2e992.js.map