"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["98350"],{211739:function(t,e,n){n.d(e,{N5:()=>r,c4:()=>a,lc:()=>u,mJ:()=>l});var i=n(570140);function a(t){i.Z.dispatch({type:"CATEGORY_COLLAPSE",id:t})}function l(t){i.Z.dispatch({type:"CATEGORY_EXPAND",id:t})}function r(t){i.Z.dispatch({type:"CATEGORY_COLLAPSE_ALL",guildId:t})}function u(t){i.Z.dispatch({type:"CATEGORY_EXPAND_ALL",guildId:t})}},323597:function(t,e,n){n.d(e,{Z:()=>v});var i=n(200651);n(192379);var a=n(442837),l=n(481060),r=n(787014),u=n(904245),o=n(787263),s=n(660189),d=n(144140),c=n(314897),f=n(496675),E=n(709054),g=n(981631),_=n(388032);function v(t){let e=t.isForumPost(),n=(0,a.e7)([c.default],()=>t.isOwner(c.default.getId()),[t]),{canManageChannel:v,canAccessChannel:C}=(0,a.cj)([f.Z],()=>({canAccessChannel:f.Z.can(t.accessPermissions,t),canManageChannel:f.Z.can(t.isThread()?g.Plq.MANAGE_THREADS:g.Plq.MANAGE_CHANNELS,t)}),[t]),h=(0,a.e7)([d.Z],()=>{var e;return null!==(e=d.Z.getCount(t.id))&&void 0!==e?e:0},[t.id]),{firstMessage:p}=(0,a.e7)([s.Z],()=>s.Z.getMessage(t.id),[t.id]),A=e&&(v||n&&h<1),O=e&&n&&!v&&h>0&&null!=p;return C&&(v||A||O)?(0,i.jsx)(l.sNh,{id:"delete-channel",label:t.type===g.d4z.GUILD_CATEGORY?_.intl.string(_.t.ifbXnJ):t.isForumPost()?A?_.intl.string(_.t.nEOg1N):_.intl.string(_.t.xwMqDw):t.isThread()?_.intl.string(_.t.H7vTe3):_.intl.string(_.t["8D8Rsb"]),color:"danger",action:()=>{(0,o.w)(t,function(){O?u.Z.deleteMessage(t.id,E.default.castChannelIdAsMessageId(t.id)):r.ZP.deleteChannel(t.id)})}}):null}},776568:function(t,e,n){n.d(e,{ZP:()=>A,k:()=>h}),n(47120);var i=n(200651);n(192379);var a=n(913527),l=n.n(a),r=n(442837),u=n(481060),o=n(211739),s=n(87051),d=n(496729),c=n(777861),f=n(9156),E=n(621600),g=n(933557),_=n(981631),v=n(969943),C=n(388032);let h=()=>[{value:v.Oe.MINUTES_15,label:C.intl.string(C.t["8ot6go"])},{value:v.Oe.HOURS_1,label:C.intl.string(C.t.UMWBZm)},{value:v.Oe.HOURS_3,label:C.intl.string(C.t.QmYWtr)},{value:v.Oe.HOURS_8,label:C.intl.string(C.t.EpAXPD)},{value:v.Oe.HOURS_24,label:C.intl.string(C.t["755t4u"])},{value:v.Oe.ALWAYS,label:C.intl.string(C.t.r3LawM)}],p=t=>{let e=t>0?l()().add(t,"second").toISOString():null;return{muted:!0,mute_config:{selected_time_window:t,end_time:e}}};function A(t,e){let[n,a]=(0,r.Wu)([f.ZP],()=>[f.ZP.isChannelMuted(t.guild_id,t.id),f.ZP.getChannelMuteConfig(t.guild_id,t.id)]),l=(0,c.U)(a),v=(0,g.ZP)(t,!0);function A(e){e&&t.type===_.d4z.GUILD_CATEGORY&&(0,o.c4)(t.id),s.Z.updateChannelOverrideSettings(t.guild_id,t.id,{muted:e},E.UE.muted(e))}let O=C.intl.string(C.t.tbeRRE),R=C.intl.string(C.t.OYefmZ);switch(t.type){case _.d4z.GUILD_CATEGORY:O=C.intl.string(C.t.pNMCg4),R=C.intl.string(C.t.olaBeH);break;case _.d4z.GROUP_DM:O=C.intl.string(C.t.LO3kaG),R=C.intl.string(C.t["s5/5fn"]);break;case _.d4z.DM:O=C.intl.format(C.t.byjuJi,{name:v}),R=C.intl.format(C.t["eC+9rq"],{name:v});break;default:O=C.intl.string(C.t.tbeRRE),R=C.intl.string(C.t.OYefmZ)}return n?(0,i.jsx)(u.sNh,{id:"unmute-channel",label:R,subtext:l,action:()=>A(!1)}):(0,i.jsx)(u.sNh,{id:"mute-channel",label:O,action:()=>{A(!0),(0,d.s)({channelId:t.id,location:"channel_context_menu"})},children:h().map(n=>{let{value:a,label:l}=n;return(0,i.jsx)(u.sNh,{id:"".concat(a),label:l,action:()=>(function(n){t.type===_.d4z.GUILD_CATEGORY&&(0,o.c4)(t.id);let i=p(n);s.Z.updateChannelOverrideSettings(t.guild_id,t.id,i,E.ZB.Muted,e)})(a)},a)})})}},787263:function(t,e,n){n.d(e,{w:()=>l});var i=n(200651);n(192379);var a=n(481060);function l(t,e){return(0,a.ZDy)(async()=>{let{default:a}=await n.e("79521").then(n.bind(n,207540));return n=>(0,i.jsx)(a,{...n,onConfirm:()=>{n.onClose(),e()},channel:t})})}},117984:function(t,e,n){n.d(e,{CM:()=>_,UT:()=>g,_Z:()=>p,kj:()=>f,oC:()=>E,s3:()=>C,uA:()=>h,xh:()=>v}),n(47120);var i=n(524437),a=n(675478),l=n(592125),r=n(496675),u=n(709054),o=n(853856),s=n(231338);function d(){let t=o.Z.getFavoriteChannels(),e=1;for(let n in t)e=Math.max(e,t[n].order);return e+1}function c(t){for(let e in t){let n=t[e];if(null==n){delete t[e];continue}if(n.type===i.Dd.CATEGORY)continue;let a=l.Z.getChannel(e);if(null==a||!a.isPrivate()&&!r.Z.can(s.Pl.VIEW_CHANNEL,a)){delete t[e];continue}}}function f(t,e){!o.Z.isFavorite(t)&&a.hW.updateAsync("favorites",n=>{n.favoriteChannels[t]=i.aV.create({nickname:"",type:i.Dd.REFERENCE_ORIGINAL,position:d(),parentId:null!=e?e:"0"}),c(n.favoriteChannels)},a.fy.FREQUENT_USER_ACTION)}function E(t){let e=o.Z.getFavorite(t);null!=e&&a.hW.updateAsync("favorites",n=>{if(delete n.favoriteChannels[t],e.type===i.Dd.CATEGORY)for(let e in n.favoriteChannels)n.favoriteChannels[e].parentId===t&&(n.favoriteChannels[e].parentId="0");c(n.favoriteChannels)},a.fy.INFREQUENT_USER_ACTION)}function g(t,e){o.Z.isFavorite(t)&&a.hW.updateAsync("favorites",n=>{n.favoriteChannels[t].nickname=null!=e?e:""},a.fy.INFREQUENT_USER_ACTION)}function _(t){let e=u.default.fromTimestamp(Date.now());a.hW.updateAsync("favorites",n=>{n.favoriteChannels[e]=i.aV.create({nickname:t,type:i.Dd.CATEGORY,position:d(),parentId:"0"})},a.fy.FREQUENT_USER_ACTION)}function v(t){E(t)}function C(t){a.hW.updateAsync("favorites",e=>{for(let i of t)if(null!=i.position&&(e.favoriteChannels[i.id].position=i.position),void 0!==i.parent_id){var n;e.favoriteChannels[i.id].parentId=null!==(n=i.parent_id)&&void 0!==n?n:"0"}},a.fy.FREQUENT_USER_ACTION)}function h(t,e){a.hW.updateAsync("favorites",n=>{n.favoriteChannels[t].parentId=null!=e?e:"0"},a.fy.FREQUENT_USER_ACTION)}function p(){a.hW.updateAsync("favorites",t=>{t.muted=!t.muted},a.fy.INFREQUENT_USER_ACTION)}},916069:function(t,e,n){n.d(e,{Z:()=>r});var i=n(442837),a=n(914010),l=n(981631);function r(){return(0,i.e7)([a.Z],()=>a.Z.getGuildId())===l.I_8}},423589:function(t,e,n){n.d(e,{Mn:()=>v,OD:()=>_,W9:()=>E}),n(47120),n(789020);var i=n(442837),a=n(798140),l=n(9156),r=n(630388),u=n(709054),o=n(312400),s=n(981631),d=n(969943),c=n(526761),f=n(388032);function E(){return[{label:f.intl.string(f.t["8ot6go"]),value:d.Oe.MINUTES_15},{label:f.intl.string(f.t.UMWBZm),value:d.Oe.HOURS_1},{label:f.intl.string(f.t.QmYWtr),value:d.Oe.HOURS_3},{label:f.intl.string(f.t.EpAXPD),value:d.Oe.HOURS_8},{label:f.intl.string(f.t["755t4u"]),value:d.Oe.HOURS_24},{label:f.intl.string(f.t.r3LawM),value:d.Oe.ALWAYS}]}let g={ignoreMute:!1,ignoreUnreadSetting:!0,ignoreNotificationSetting:!1};function _(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return u.default.keys(t).filter(n=>{var i,l;let u=t[n].message_notifications!==s.bL.NULL,o=r.yE(null!==(i=t[n].flags)&&void 0!==i?i:0,c.ic.UNREADS_ALL_MESSAGES)||r.yE(null!==(l=t[n].flags)&&void 0!==l?l:0,c.ic.UNREADS_ONLY_MENTIONS);return!e.ignoreUnreadSetting&&o||!e.ignoreNotificationSetting&&u||!e.ignoreMute&&(0,a.m$)(t[n])})}function v(t){let e=(0,i.e7)([l.ZP],()=>l.ZP.useNewNotifications);return o.xT.useExperiment({location:t},{autoTrackExposure:!1}).enabled&&e}},305587:function(t,e,n){n.d(e,{Xs:()=>a});let i=(0,n(818083).B)({kind:"user",id:"2024-09_dm_mute_feedback",label:"DM Mute Feedback Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable DM Mute Feedback Survey",config:{enabled:!0}}]});function a(t){let{enabled:e}=i.getCurrentConfig({location:t},{autoTrackExposure:!0});return e}},496729:function(t,e,n){n.d(e,{Z:()=>c,s:()=>d});var i=n(200651),a=n(704215),l=n(481060),r=n(570140),u=n(605236),o=n(592125),s=n(305587);function d(t){let{channelId:e,location:n}=t,i=o.Z.getChannel(e),l=(0,u.un)(a.z.USER_DM_MUTE_FEEDBACK);null!=i&&i.isDM()&&!l&&(0,s.Xs)(n)&&r.Z.dispatch({type:"USER_DM_MUTE_SHOW_FEEDBACK",channel:i})}function c(){(0,l.ZDy)(async()=>{let{default:t}=await n.e("87995").then(n.bind(n,180970));return e=>(0,i.jsx)(t,{...e})})}}}]);
//# sourceMappingURL=9ce2d9cc591355fa.js.map