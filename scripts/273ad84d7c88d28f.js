"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["40157"],{108843:function(n,t,e){e.d(t,{Z:()=>l});var i=e(200651);e(192379);var a=e(906732);function l(n,t){return function(e){let{analyticsLocations:l}=(0,a.ZP)(t);return(0,i.jsx)(a.Gt,{value:l,children:(0,i.jsx)(n,{...e})})}}},422200:function(n,t,e){e.d(t,{default:()=>A});var i=e(200651);e(192379);var a=e(481060),l=e(239091),r=e(108843),d=e(100527),o=e(299206),s=e(895563),u=e(32750),c=e(109764),h=e(323597),f=e(461535),v=e(438536),Z=e(251746),g=e(193987),C=e(933793),p=e(13736),E=e(732393),m=e(214906),N=e(612856),_=e(137591),j=e(388032);let A=(0,r.Z)(function(n){let{channel:t,onSelect:e}=n,r=(0,c.Z)(t),d=(0,f.Z)(t),A=(0,m.Z)(t),b=(0,u.Z)(t),T=(0,g.Z)(t),x=(0,h.Z)(t),I=(0,o.Z)({id:t.id,label:j.intl.string(j.t.DQ797u)}),y=(0,v.Z)(t,"Context Menu"),F=(0,C.Z)(t),R=(0,N.Z)(t),k=(0,p.Z)(t),P=(0,E.Z)(t.id),U=(0,Z.Z)(t),O=(0,_.Z)(t),S=(0,s.l)(t),M=(0,s.P)(t);return(0,i.jsxs)(a.v2r,{navId:"thread-context",onClose:l.Zy,"aria-label":j.intl.string(j.t["1NBjqa"]),onSelect:e,children:[(0,i.jsxs)(a.kSQ,{children:[d,S]},"mark-as-read-or-favorite"),(0,i.jsxs)(a.kSQ,{children:[y,U,b,T,k,P,r]},"thread-actions"),(0,i.jsxs)(a.kSQ,{children:[A,R]},"notifications"),(0,i.jsx)(a.kSQ,{children:M}),(0,i.jsxs)(a.kSQ,{children:[O,F,x]},"admin-actions"),(0,i.jsx)(a.kSQ,{children:I},"developer-actions")]})},[d.Z.CONTEXT_MENU,d.Z.CHANNEL_LIST_THREAD_MENU])},32750:function(n,t,e){e.d(t,{Z:()=>o});var i=e(200651);e(192379);var a=e(481060),l=e(346479),r=e(665906),d=e(388032);function o(n){var t;let e=(0,r.C7)(n),o=(0,r.tc)(n);if(n.isArchivedThread()?o:e)return(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)?(0,i.jsx)(a.sNh,{id:"unarchive-thread",label:n.isForumPost()?d.intl.string(d.t.cnRubW):d.intl.string(d.t.S9E4Gx),action:()=>l.Z.unarchiveThread(n,!1)}):(0,i.jsx)(a.sNh,{id:"archive-thread",label:n.isForumPost()?d.intl.string(d.t.BTs4KS):d.intl.string(d.t.wiIevb),action:()=>l.Z.archiveThread(n,!1)})}},109764:function(n,t,e){e.d(t,{Z:()=>h});var i=e(200651);e(192379);var a=e(852229),l=e(399606),r=e(481060),d=e(228392),o=e(592125),s=e(934415),u=e(981631),c=e(388032);function h(n,t,e){let h=(0,l.e7)([o.Z],()=>o.Z.getChannel(n.parent_id));return(0,i.jsx)(r.sNh,{id:"channel-copy-link",label:c.intl.string(c.t.WqhZsr),action:()=>{n.isForumPost()&&(0,d.B)({postId:n.id,location:{section:u.jXE.CONTEXT_MENU}}),(0,a.J)((0,s.EO)(n,h,t,e))}})}},323597:function(n,t,e){e.d(t,{Z:()=>g});var i=e(200651);e(192379);var a=e(442837),l=e(481060),r=e(787014),d=e(904245),o=e(787263),s=e(660189),u=e(144140),c=e(314897),h=e(496675),f=e(709054),v=e(981631),Z=e(388032);function g(n){let t=n.isForumPost(),e=(0,a.e7)([c.default],()=>n.isOwner(c.default.getId()),[n]),{canManageChannel:g,canAccessChannel:C}=(0,a.cj)([h.Z],()=>({canAccessChannel:h.Z.can(n.accessPermissions,n),canManageChannel:h.Z.can(n.isThread()?v.Plq.MANAGE_THREADS:v.Plq.MANAGE_CHANNELS,n)}),[n]),p=(0,a.e7)([u.Z],()=>{var t;return null!==(t=u.Z.getCount(n.id))&&void 0!==t?t:0},[n.id]),{firstMessage:E}=(0,a.e7)([s.Z],()=>s.Z.getMessage(n.id),[n.id]),m=t&&(g||e&&p<1),N=t&&e&&!g&&p>0&&null!=E;return C&&(g||m||N)?(0,i.jsx)(l.sNh,{id:"delete-channel",label:n.type===v.d4z.GUILD_CATEGORY?Z.intl.string(Z.t.ifbXnJ):n.isForumPost()?m?Z.intl.string(Z.t.nEOg1N):Z.intl.string(Z.t.xwMqDw):n.isThread()?Z.intl.string(Z.t.H7vTe3):Z.intl.string(Z.t["8D8Rsb"]),color:"danger",action:()=>{(0,o.w)(n,function(){N?d.Z.deleteMessage(n.id,f.default.castChannelIdAsMessageId(n.id)):r.ZP.deleteChannel(n.id)})}}):null}},461535:function(n,t,e){e.d(t,{Z:()=>Z}),e(47120);var i=e(200651);e(192379);var a=e(442837),l=e(481060),r=e(45114),d=e(456269),o=e(344185),s=e(569471),u=e(131704),c=e(324067),h=e(306680),f=e(981631),v=e(388032);function Z(n){let t=function(n){let t=(0,d.n2)(n.guild_id,n.id),e=(0,a.e7)([h.ZP,c.Z,o.Z,s.Z],()=>{if(n.isForumPost())return h.ZP.isForumPostUnread(n.id);if(n.type!==f.d4z.GUILD_CATEGORY)return h.ZP.hasUnreadOrMentions(n.id);{let t=c.Z.getCategories(n.getGuildId());if(null==t[n.id])return!1;if(t[n.id].some(n=>{let{channel:t}=n;return(0,u.Em)(t.type)&&h.ZP.hasUnreadOrMentions(t.id)}))return!0;let e=new Set(t[n.id].map(n=>n.channel.id)),i=o.Z.getThreadsForGuild(n.guild_id);for(let n in i)if(e.has(n)){for(let t in i[n])if(s.Z.hasJoined(t)&&!s.Z.isMuted(t)&&h.ZP.hasUnreadOrMentions(t))return!0}return!1}},[n]);return n.isForumLikeChannel()?t>0:e}(n);return(0,i.jsx)(l.sNh,{id:"mark-channel-read",label:v.intl.string(v.t.e6RscX),action:function(){(0,r.U6)(n)},disabled:!t})}},251746:function(n,t,e){e.d(t,{Z:()=>v});var i=e(200651),a=e(192379),l=e(392711),r=e.n(l),d=e(442837),o=e(481060),s=e(66999),u=e(665906),c=e(979651),h=e(557135),f=e(388032);function v(n){let t=(0,u.Y)(n),e=(0,d.e7)([c.Z],()=>c.Z.isInChannel(n.id)),l=(0,d.e7)([c.Z],()=>!r().isEmpty(c.Z.getVoiceStatesForChannel(n.id))),{needSubscriptionToAccess:v}=(0,s.Z)(n.id),Z=a.useCallback(()=>{h.Z.handleVoiceConnect({channel:n,connected:e,needSubscriptionToAccess:v,locked:!1})},[n,e,v]);return e||!t?null:(0,i.jsx)(o.sNh,{id:"join-thread-voice",label:l?f.intl.string(f.t["0D/6R0"]):f.intl.string(f.t.My50nZ),action:Z})}},193987:function(n,t,e){e.d(t,{Z:()=>o});var i=e(200651);e(192379);var a=e(481060),l=e(346479),r=e(665906),d=e(388032);function o(n){let t=(0,r.Xb)(n),e=n.isLockedThread();if(t)return e?(0,i.jsx)(a.sNh,{id:"unlock-thread",label:n.isForumPost()?d.intl.string(d.t["/OKSxs"]):d.intl.string(d.t["jeyb/f"]),action:()=>l.Z.unlockThread(n)}):(0,i.jsx)(a.sNh,{id:"lock-thread",label:n.isForumPost()?d.intl.string(d.t["Ur/0NT"]):d.intl.string(d.t.HoCqm5),action:()=>l.Z.lockThread(n)})}},933793:function(n,t,e){e.d(t,{Z:()=>f});var i=e(200651);e(192379);var a=e(442837),l=e(481060),r=e(240872),d=e(456269),o=e(346479),s=e(665906),u=e(592125),c=e(176505),h=e(388032);function f(n){let t=(0,a.e7)([u.Z],()=>u.Z.getChannel(n.parent_id)),e=(0,s.Xb)(n),f=(0,d.kF)(n);return(null==t?void 0:t.isForumLikeChannel())&&e?n.hasFlag(c.zZ.PINNED)?(0,i.jsx)(l.sNh,{id:"unpin-thread",label:h.intl.string(h.t.trD8am),action:()=>o.Z.unpin(n)}):(0,i.jsx)(l.sNh,{id:"pin-thread",label:h.intl.string(h.t.EnaWho),action:function(){null!=f?r.Z.show({title:h.intl.string(h.t.IMbjxs),body:h.intl.string(h.t["mi5+Vl"]),onConfirm:async()=>{await o.Z.unpin(f),o.Z.pin(n)}}):o.Z.pin(n)}}):null}},13736:function(n,t,e){e.d(t,{Z:()=>o});var i=e(200651);e(192379);var a=e(481060),l=e(787014),r=e(665906),d=e(388032);function o(n){let t=(0,r.C7)(n),e=(0,r.$R)(n),o=(0,r.Gu)(n);return!t||!e||o||__OVERLAY__?null:(0,i.jsx)(a.sNh,{id:"edit-thread",label:n.isForumPost()?d.intl.string(d.t.NP1yHB):d.intl.string(d.t["2Mk1TE"]),action:()=>{(0,a.pTH)(),l.ZP.open(n.id)}})}},732393:function(n,t,e){e.d(t,{Z:()=>C}),e(47120);var i=e(200651);e(192379);var a=e(442837),l=e(481060),r=e(239091),d=e(596454),o=e(339085),s=e(883429),u=e(456269),c=e(665906),h=e(592125),f=e(710352),v=e(388032),Z=e(769340);function g(n){let{tag:t}=n,{name:e,emojiId:l,emojiName:r}=t,s=(0,a.e7)([o.ZP],()=>null!=l?o.ZP.getUsableCustomEmojiById(l):null);return(0,i.jsxs)(i.Fragment,{children:[null!=r||null!=l?(0,i.jsx)(d.Z,{className:Z.emoji,emojiId:l,emojiName:r,animated:!!(null==s?void 0:s.animated)}):null,e]})}function C(n){let t=(0,a.e7)([h.Z],()=>h.Z.getChannel(n),[n]),e=(0,c.C7)(t),d=(0,a.e7)([h.Z],()=>h.Z.getChannel(null==t?void 0:t.parent_id),[t]),o=(0,u.Vm)(d),Z=(0,u.eV)(t),C=Z.length>=f.Cn,p=(0,c.$R)(t);if(null==t)return(0,r.Zy)(),null;if(!e||__OVERLAY__||!t.isForumPost()||(null==o?void 0:o.length)===0||!p)return null;let E=n=>{let e=new Set(Z);if(e.has(n))e.delete(n);else{if(C)return;e.add(n)}let i=Array.from(e).map(n=>n.id);s.Z.updateForumPostTags(t.id,i)},m=null==o?void 0:o.map(n=>{let t=Z.includes(n);return(0,i.jsx)(l.S89,{id:n.id,label:(0,i.jsx)(g,{tag:n}),disabled:C&&!t,action:()=>E(n),checked:t},n.id)});return(0,i.jsx)(l.sNh,{id:"edit-tags",label:v.intl.string(v.t["436ZFx"]),children:m})}},612856:function(n,t,e){e.d(t,{Z:()=>c});var i=e(200651);e(192379);var a=e(442837),l=e(481060),r=e(569471),d=e(346479),o=e(723170),s=e(124368),u=e(388032);function c(n){let t=(0,o.B)(n);return(0,a.e7)([r.Z],()=>r.Z.hasJoined(n.id))?(0,i.jsx)(l.sNh,{id:"thread-notifications",label:u.intl.string(u.t.h850Sk),children:(0,s.zb)().map(e=>{let{setting:a,label:r}=e;return(0,i.jsx)(l.k5B,{group:"thread-notifications",id:"".concat(a),label:r,action:()=>d.Z.setNotificationSettings(n,{flags:a}),checked:a===t},a)})}):(0,i.jsx)(l.sNh,{id:"notifications-disabled",label:u.intl.string(u.t.h850Sk),disabled:!0})}},137591:function(n,t,e){e.d(t,{Z:()=>s});var i=e(200651);e(192379);var a=e(481060),l=e(346479),r=e(665906),d=e(981631),o=e(388032);function s(n){var t,e;if(!(0,r.Xb)(n)||n.type!==d.d4z.PRIVATE_THREAD)return null;let s=null===(e=null===(t=n.threadMetadata)||void 0===t?void 0:t.invitable)||void 0===e||e;return(0,i.jsx)(a.S89,{id:"toggle-thread-invitable",label:o.intl.string(o.t.s2rpNT),checked:s,action:()=>l.Z.setInvitable(n,!s)})}},787263:function(n,t,e){e.d(t,{w:()=>l});var i=e(200651);e(192379);var a=e(481060);function l(n,t){return(0,a.ZDy)(async()=>{let{default:a}=await e.e("79521").then(e.bind(e,207540));return e=>(0,i.jsx)(a,{...e,onConfirm:()=>{e.onClose(),t()},channel:n})})}},117984:function(n,t,e){e.d(t,{CM:()=>Z,UT:()=>v,_Z:()=>E,kj:()=>h,oC:()=>f,s3:()=>C,uA:()=>p,xh:()=>g}),e(47120);var i=e(524437),a=e(675478),l=e(592125),r=e(496675),d=e(709054),o=e(853856),s=e(231338);function u(){let n=o.Z.getFavoriteChannels(),t=1;for(let e in n)t=Math.max(t,n[e].order);return t+1}function c(n){for(let t in n){let e=n[t];if(null==e){delete n[t];continue}if(e.type===i.Dd.CATEGORY)continue;let a=l.Z.getChannel(t);if(null==a||!a.isPrivate()&&!r.Z.can(s.Pl.VIEW_CHANNEL,a)){delete n[t];continue}}}function h(n,t){!o.Z.isFavorite(n)&&a.hW.updateAsync("favorites",e=>{e.favoriteChannels[n]=i.aV.create({nickname:"",type:i.Dd.REFERENCE_ORIGINAL,position:u(),parentId:null!=t?t:"0"}),c(e.favoriteChannels)},a.fy.FREQUENT_USER_ACTION)}function f(n){let t=o.Z.getFavorite(n);null!=t&&a.hW.updateAsync("favorites",e=>{if(delete e.favoriteChannels[n],t.type===i.Dd.CATEGORY)for(let t in e.favoriteChannels)e.favoriteChannels[t].parentId===n&&(e.favoriteChannels[t].parentId="0");c(e.favoriteChannels)},a.fy.INFREQUENT_USER_ACTION)}function v(n,t){o.Z.isFavorite(n)&&a.hW.updateAsync("favorites",e=>{e.favoriteChannels[n].nickname=null!=t?t:""},a.fy.INFREQUENT_USER_ACTION)}function Z(n){let t=d.default.fromTimestamp(Date.now());a.hW.updateAsync("favorites",e=>{e.favoriteChannels[t]=i.aV.create({nickname:n,type:i.Dd.CATEGORY,position:u(),parentId:"0"})},a.fy.FREQUENT_USER_ACTION)}function g(n){f(n)}function C(n){a.hW.updateAsync("favorites",t=>{for(let i of n)if(null!=i.position&&(t.favoriteChannels[i.id].position=i.position),void 0!==i.parent_id){var e;t.favoriteChannels[i.id].parentId=null!==(e=i.parent_id)&&void 0!==e?e:"0"}},a.fy.FREQUENT_USER_ACTION)}function p(n,t){a.hW.updateAsync("favorites",e=>{e.favoriteChannels[n].parentId=null!=t?t:"0"},a.fy.FREQUENT_USER_ACTION)}function E(){a.hW.updateAsync("favorites",n=>{n.muted=!n.muted},a.fy.INFREQUENT_USER_ACTION)}},593214:function(n,t,e){e.d(t,{Mt:()=>Z,li:()=>h,s4:()=>f,up:()=>g,zv:()=>v}),e(47120),e(653041);var i=e(192379),a=e(106351),l=e(442837);e(592125);var r=e(984933),d=e(914010);e(709054);var o=e(853856),s=e(362658),u=e(434065),c=e(981631);function h(n){let{favoritesEnabled:t,hasStaffPrivileges:e}=(0,s.z)("useCanFavoriteChannel"),i=(0,l.e7)([o.Z],()=>o.Z.isFavorite(n.id)),a=n.isDM()||n.isThread();return t&&!__OVERLAY__&&!i&&(!a||e)}function f(n){return(0,l.e7)([o.Z],()=>o.Z.getFavorite(n))}function v(){return(0,l.e7)([r.ZP],()=>r.ZP.getChannels(c.I_8))[a.d.GUILD_CATEGORY].map(n=>({id:"null"===n.channel.id?null:n.channel.id,name:n.channel.name}))}function Z(){return(0,l.e7)([d.Z],()=>d.Z.getGuildId())===c.I_8}function g(){let{isFavoritesPerk:n}=(0,s.z)("useFavoriteAdded"),t=(0,u.r)(),e=i.useCallback(()=>{n&&t.notifyFavoriteAdded()},[t,n]),a=i.useCallback(()=>{n&&t.clearFavoriteAdded()},[t,n]);return{favoriteAdded:t.favoriteAdded,notifyFavoriteAdded:e,clearFavoriteAdded:a}}},434065:function(n,t,e){e.d(t,{r:()=>l});var i=e(15729),a=e(731965);let l=(0,i.U)(n=>({favoriteAdded:!1,notifyFavoriteAdded:()=>(0,a.j)(()=>n({favoriteAdded:!0})),clearFavoriteAdded:()=>(0,a.j)(()=>n({favoriteAdded:!1}))}))},895563:function(n,t,e){e.d(t,{P:()=>C,l:()=>g}),e(47120);var i=e(200651);e(192379);var a=e(392711),l=e.n(a),r=e(442837),d=e(481060),o=e(984933),s=e(853856),u=e(117984),c=e(593214),h=e(362658),f=e(981631),v=e(388032);function Z(n,t){return n.type===f.d4z.GROUP_DM?t?v.intl.string(v.t["0BWmSE"]):v.intl.string(v.t.uuVTOD):n.type===f.d4z.DM?t?v.intl.string(v.t["2wfKGh"]):v.intl.string(v.t.wPbAsb):t?v.intl.string(v.t.Bou7lZ):v.intl.string(v.t["4wcdEx"])}function g(n){let t=(0,r.e7)([o.ZP],()=>o.ZP.getChannels(f.I_8))[f.d4z.GUILD_CATEGORY],{isFavoritesPerk:e}=(0,h.z)("58e21a_1"),{notifyFavoriteAdded:a}=(0,c.up)();if(!(0,c.li)(n))return null;let[[s],v]=l().partition(t,n=>"null"===n.channel.id);function g(t){a(),(0,u.kj)(n.id,t)}return 0===v.length?(0,i.jsx)(d.sNh,{id:"favorite-channel",label:Z(n,!1),action:()=>g(null)}):(0,i.jsxs)(d.sNh,{id:"favorite-channel",label:Z(n,!1),action:()=>g(null),children:[e&&(0,i.jsx)(d.kSQ,{children:(0,i.jsx)(d.sNh,{id:"favorite-".concat(s.channel.id),label:s.channel.name,action:()=>g("null"===s.channel.id?null:s.channel.id)},s.channel.id)}),(0,i.jsx)(d.kSQ,{children:v.map(n=>(0,i.jsx)(d.sNh,{id:"favorite-".concat(n.channel.id),label:n.channel.name,action:()=>g(n.channel.id)},n.channel.id))})]})}function C(n){let t=(0,r.e7)([s.Z],()=>s.Z.isFavorite(n.id));return __OVERLAY__||!t?null:(0,i.jsx)(d.sNh,{id:"favorite-channel",label:Z(n,!0),color:"danger",action:()=>n.type===f.d4z.GUILD_CATEGORY?(0,d.ZDy)(async()=>{let{default:t}=await e.e("37720").then(e.bind(e,357632));return e=>(0,i.jsx)(t,{...e,onConfirm:()=>{e.onClose(),(0,u.oC)(n.id)},channel:n})}):(0,u.oC)(n.id)})}},769340:function(n,t,e){n.exports={emoji:"emoji_e85ed6"}}}]);
//# sourceMappingURL=273ad84d7c88d28f.js.map