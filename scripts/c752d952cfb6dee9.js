"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["79477"],{430401:function(e){e.exports="/assets/3d0b430b1bae9f90.svg"},345976:function(e){e.exports="/assets/b5a8e5462a0a20ab.svg"},668519:function(e,n,l){l.d(n,{a:()=>a});var t=l(818083),i=l(984134);let s=(0,t.B)({kind:"user",id:"2025-01_go_live_modal_refresh",label:"Go Live Modal Refresh",defaultConfig:{showRefreshedGoLiveModal:!1},treatments:[{id:1,label:"Show refreshed go live modal",config:{showRefreshedGoLiveModal:!0}}]});function a(e){let{location:n,autoTrackExposure:l=!0}=e,{isInHoldout:t}=i.h.useExperiment({location:n},{autoTrackExposure:l});return s.useExperiment({location:n},{disable:t,autoTrackExposure:l})}},618407:function(e,n,l){l.d(n,{Z:()=>d});var t=l(209739),i=l.n(t),s=l(579806),a=l(131951),r=l(358085),o=l(70722),u=l(65154),c=l(388032);function d(){return a.Z.supports(u.AN.SOUNDSHARE)?(0,r.isWindows)()&&!i().satisfies(null===s.Z||void 0===s.Z?void 0:s.Z.os.release,o.I9)?c.intl.string(c.t.voRPTE):(0,r.isMac)()&&!i().satisfies(null===s.Z||void 0===s.Z?void 0:s.Z.os.release,o.Ec)?c.intl.string(c.t.v2y9PT):null:c.intl.string(c.t["1b0Gm5"])}},586290:function(e,n,l){l.d(n,{Z:()=>S}),l(724458),l(47120);var t=l(200651),i=l(192379),s=l(512722),a=l.n(s),r=l(392711),o=l.n(r),u=l(856901),c=l(481060),d=l(687058),m=l(537135),x=l(176940),g=l(388032),h=l(604196),Z=l(323499),v=l(483938);function S(e){let{selectedSource:n,onChangeVideoDeviceSource:l,onChangeAudioDevice:s}=e;a()(null!=n,"Camera capture device cannot be null");let r=(0,x.Z)(),S=(0,d.Z)(),[j,C]=i.useState(function(e,n,l){if(null!=n&&null!=l){let t=n.find(n=>n.id===e);if(null==t)return;let i=o().reduce(l,(e,n)=>(0,u.stringSimilarity)(t.name,n.name)>(0,u.stringSimilarity)(t.name,e.name)?n:e);if(null!=i)return i.id}}(n.id,r,S));return null!=j&&s(j),(0,t.jsx)(i.Fragment,{children:(0,t.jsxs)(c.xJW,{title:"Capture Device",className:Z.modalContent,children:[(0,t.jsx)(c.xJW,{className:v.marginTop8,children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)("span",{className:h.ellipsisText,children:n.name}),(0,t.jsx)(c.zxk,{className:h.changeButton,color:c.zxk.Colors.PRIMARY,size:c.zxk.Sizes.SMALL,onClick:l,children:g.intl.string(g.t.GEgsAw)})]})}),(0,t.jsx)(c.xJW,{className:v.marginTop8,title:g.intl.string(g.t.y4ooen),children:(0,t.jsx)(c.q4e,{value:j,className:v.__invalid_marginaTop8,onChange:e=>{C(e),s(e)},options:o().map(S,e=>{let{id:n,name:l}=e;return{value:n,label:l}})})})]})})}},233037:function(e,n,l){l.d(n,{Z:()=>Z});var t=l(200651);l(192379);var i=l(442837),s=l(481060),a=l(984933),r=l(430824),o=l(496675),u=l(594174),c=l(938475),d=l(102172),m=l(499596),x=l(148381),g=l(388032),h=l(26918);function Z(e){let{selectedChannelId:n,guildId:l,onChangeSelectedChannelId:Z}=e,v=(0,i.e7)([u.default],()=>u.default.getCurrentUser()),S=(0,i.e7)([r.Z,a.ZP,o.Z],()=>(0,d.h_)(a.ZP.getChannels(l),r.Z,o.Z)),j=(0,i.e7)([c.ZP],()=>c.ZP.getVoiceStates(l)),C=S.map(e=>{var l;return{name:(0,t.jsx)(m.Z,{channel:e,users:null===(l=j[e.id])||void 0===l?void 0:l.filter(e=>{let{user:n}=e;return n.id!==(null==v?void 0:v.id)}).map(e=>{let{user:n}=e;return n}),selected:e.id===n}),value:e.id}});return(0,t.jsx)(x.Z,{title:g.intl.string(g.t["eg7R/v"]),scrollerInnerClassName:h.channelSelectScrollerInner,children:(0,t.jsx)(s.FXm,{options:C,value:n,itemInfoClassName:h.channelInfoWrapper,itemTitleClassName:h.channelTitleWrapper,onChange:e=>{let{value:n}=e;return Z(n)}})})}},399299:function(e,n,l){l.d(n,{Z:()=>q});var t=l(200651),i=l(192379),s=l(120356),a=l.n(s),r=l(442837),o=l(481060),u=l(230711),c=l(812206),d=l(605436),m=l(600164),x=l(594190),g=l(925329),h=l(565138),Z=l(977059),v=l(695346),S=l(494620),j=l(592125),C=l(650774),f=l(430824),N=l(131951),p=l(944486),T=l(594174),E=l(449224),I=l(626135),P=l(823379),R=l(63063),k=l(358085),A=l(653255),b=l(989941),M=l(618407),_=l(586290),L=l(233037),D=l(810013),z=l(537135),w=l(641115),y=l(143135),U=l(70722),G=l(981631),O=l(526761),W=l(388032),F=l(409972),V=l(323499);function J(e){let{selectedSource:n,selectSource:l,sourceChanged:i,onChangeSource:s}=e,a=(0,r.e7)([x.ZP,E.Z],()=>(0,k.isWindows)()?(0,b.Z)(x.ZP,E.Z):null),u=(0,r.e7)([c.Z],()=>(null==a?void 0:a.id)!=null?c.Z.getApplication(a.id):null),d=(0,r.e7)([x.ZP],()=>x.ZP.getRunningGames()),m=(0,r.Wu)([c.Z],()=>d.map(e=>null!=e.id?c.Z.getApplication(e.id):null).filter(P.lm),[d]),h=null;if(null!=n?h=n.name:null!=a&&(h=a.name),null==h)return null;let Z=(0,y.Z)(a,n,d),v=i?m.find(e=>{let{id:n}=e;return n===(null==Z?void 0:Z.id)}):u,S=null!=n&&n.id.startsWith("screen")?o.pzj:o.GON;return(0,t.jsx)(o.xJW,{title:W.intl.string(W.t.TC7Ev7),className:V.modalContent,titleClassName:V.formItemTitleVerySlim,children:(0,t.jsxs)(z.Z,{children:[null!=v?(0,t.jsx)(g.Z,{game:v,size:g.Z.Sizes.XSMALL,className:F.selectedIcon}):(0,t.jsx)(S,{className:F.selectedIcon}),(0,t.jsx)("span",{className:F.ellipsisText,children:h}),l?(0,t.jsx)(o.zxk,{className:F.changeButton,color:o.zxk.Colors.PRIMARY,size:o.zxk.Sizes.SMALL,onClick:s,children:W.intl.string(W.t.GEgsAw)}):null]})})}function B(e){let{onChange:n,guildId:l}=e,i=(0,r.e7)([f.Z],()=>f.Z.getGuild(l));return null==i?(n(),null):(0,t.jsx)(o.xJW,{title:W.intl.string(W.t.WC3u3t),className:V.modalContent,titleClassName:V.formItemTitle,children:(0,t.jsxs)(z.Z,{children:[(0,t.jsx)(h.Z,{guild:i,size:h.Z.Sizes.SMALLER,className:F.selectedIcon}),(0,t.jsx)("span",{className:F.ellipsisText,children:i.toString()}),(0,t.jsx)(o.zxk,{className:F.changeButton,color:o.zxk.Colors.PRIMARY,size:o.zxk.Sizes.SMALL,onClick:n,children:W.intl.string(W.t.GEgsAw)})]})})}function X(e){let{text:n}=e;return(0,t.jsxs)(m.Z,{align:m.Z.Align.CENTER,className:F.warning,children:[(0,t.jsx)(o.P4T,{size:"custom",width:20,height:20,color:"currentColor",className:F.warningIcon}),(0,t.jsx)(o.Text,{color:"none",variant:"text-xs/normal",children:n})]})}function Y(e){let{guildId:n}=e,l=(0,r.e7)([C.Z],()=>{var e;return null!==(e=C.Z.getMemberCount(n))&&void 0!==e?e:0}),s=v.eo.useSetting(),u=i.useCallback((e,n)=>{v.eo.updateSetting(n),I.default.track(G.rMx.NOTIFY_STREAM_SETTING_UPDATE,{value:n})},[]);return l>=2&&l<=U.tB?(0,t.jsx)(o.xJW,{className:a()(V.modalContent,F.checkboxRow),children:(0,t.jsx)(o.XZJ,{value:!!s,type:o.XZJ.Types.INVERTED,onChange:u,children:(0,t.jsx)(o.Text,{variant:"text-sm/normal",children:W.intl.string(W.t.Cef4t7)})})}):null}function H(e){let{enabled:n,onChange:l,screen:s}=e,r=i.useCallback((e,n)=>{l(n)},[l]);return(0,t.jsx)(o.xJW,{className:a()(V.modalContent,F.checkboxRow),children:(0,t.jsx)(o.XZJ,{value:n,type:o.XZJ.Types.INVERTED,onChange:r,children:(0,t.jsx)(o.Text,{variant:"text-sm/normal",children:s?W.intl.string(W.t["5Adrtb"]):W.intl.string(W.t.gRpbRE)})})})}function K(e){let{enabled:n,onChange:l}=e,s=i.useCallback((e,n)=>{l(n)},[l]);return(0,t.jsx)(o.xJW,{className:a()(V.modalContent,F.checkboxRow),children:(0,t.jsx)(o.XZJ,{value:n,type:o.XZJ.Types.INVERTED,onChange:s,children:(0,t.jsx)(o.Text,{variant:"text-sm/normal",children:W.intl.string(W.t.JE73jI)})})})}function q(e){let{selectedSource:n,selectedFPS:l,selectedChannelId:s,selectedPreset:a,selectedResolution:o,sourceChanged:c,selectedGuildId:m,targetGuildPremiumTier:x,selectSource:g,selectGuild:h,sound:v,previewDisabled:C,onClose:f,onChangeSelectedFPS:E,onChangeSelectedResolution:I,onChangeSelectedPreset:P,onChangeSelectedChannelId:k,onChangeSource:b,onChangeAudioDevice:z,onChangeGuild:y,onChangeSound:U,onChangePreviewDisabled:V}=e,q=(0,r.e7)([p.Z,j.Z],()=>j.Z.getChannel(p.Z.getVoiceChannelId())),Q=(0,r.e7)([A.Z],()=>A.Z.GPUDriversOutdated),$=(0,r.e7)([A.Z],()=>A.Z.problematicGPUDriver),ee=(0,r.e7)([T.default],()=>T.default.getCurrentUser()),en=(0,M.Z)();null!=n&&n.id.startsWith("screen")&&!N.Z.supportsScreenSoundshare()&&(en=W.intl.string(W.t["1b0Gm5"]));let el=!!(null==n?void 0:n.id.startsWith("camera")),et=null!=ee&&ee.verified&&!ee.bot,ei=null!=q&&!(0,d.Yk)(q),es=!(0,r.e7)([N.Z],()=>N.Z.getHardwareEncoding()),{enabled:ea}=(0,Z.S)({location:"GoLiveModal_Confirm"});return(0,t.jsxs)(i.Fragment,{children:[el?(0,t.jsx)(_.Z,{selectedSource:n,onChangeVideoDeviceSource:b,onChangeAudioDevice:z}):(0,t.jsxs)("div",{children:[(0,t.jsx)(J,{selectSource:g,sourceChanged:c,onChangeSource:b,selectedSource:n}),null!=en?(0,t.jsx)(X,{text:en}):null,null!=n&&null==en?(0,t.jsx)(H,{enabled:v,onChange:U,screen:n.id.startsWith("screen")}):null]}),h&&null!=m?(0,t.jsx)(B,{guildId:m,onChange:y}):null,null!=q?(0,t.jsx)(D.Z,{channel:q}):(0,t.jsx)(L.Z,{guildId:m,selectedChannelId:s,onChangeSelectedChannelId:k}),null!=m&&et&&ei?(0,t.jsx)(Y,{guildId:m}):null,Q?(0,t.jsx)(X,{text:W.intl.string(W.t.q65tS0)}):null,$?(0,t.jsx)(X,{text:W.intl.format(W.t.RrLvub,{helpCenterLink:R.Z.getArticleURL(G.BhN.NVIDIA_DRIVER_ISSUES)})}):null,es&&(0,t.jsx)(S.Z,{look:S.z.WARNING,className:F.hardwareWarning,children:W.intl.format(W.t.zCLXws,{onClick:()=>{f(),u.Z.open(G.oAB.VOICE,null,{scrollPosition:O.KQ.VoiceAndVideoScrollPositions.HARDWARE_ACCELERATION})}})}),(0,t.jsx)(w.Z,{selectedPreset:a,selectedFPS:l,selectedResolution:o,targetGuildPremiumTier:x,onClose:f,onFPSChange:E,onResolutionChange:I,onPresetChange:P,captureDeviceSelected:el}),ea&&(0,t.jsx)(K,{enabled:C,onChange:V})]})}},810013:function(e,n,l){l.d(n,{Z:()=>m});var t=l(200651);l(192379);var i=l(442837),s=l(481060),a=l(314897),r=l(938475),o=l(499596),u=l(537135),c=l(388032),d=l(323499);function m(e){let{channel:n}=e,l=(0,i.e7)([a.default],()=>a.default.getId()),m=(0,i.e7)([r.ZP],()=>r.ZP.getVoiceStatesForChannel(n),[n]);return(0,t.jsx)(s.xJW,{title:c.intl.string(c.t.KPuWsr),className:d.modalContent,titleClassName:d.formItemTitle,children:(0,t.jsx)(u.Z,{children:(0,t.jsx)(o.Z,{channel:n,users:m.filter(e=>{let{user:n}=e;return n.id!==l}).map(e=>{let{user:n}=e;return n})})})})}},60594:function(e,n,l){l.d(n,{default:()=>er}),l(47120),l(653041);var t=l(200651),i=l(192379),s=l(512722),a=l.n(s),r=l(642128),o=l(209739),u=l.n(o),c=l(442837),d=l(704215),m=l(481060),x=l(668781),g=l(872810),h=l(410575),Z=l(579806),v=l(636449),S=l(317381),j=l(89425),C=l(812206),f=l(835473),N=l(600164),p=l(313201),T=l(243778),E=l(594190),I=l(998594),P=l(751571),R=l(970731),k=l(695346),A=l(361291),b=l(592125),M=l(430824),_=l(131951),L=l(944486),D=l(594174),z=l(449224),w=l(626135),y=l(63063),U=l(358085),G=l(998502),O=l(668519),W=l(451467),F=l(537413),V=l(299570),J=l(960861),B=l(989941),X=l(399299),Y=l(351152),H=l(567126),K=l(143135),q=l(717298),Q=l(70722),$=l(37113),ee=l(981631),en=l(921944),el=l(761274),et=l(388032),ei=l(323499);let es=e=>{let{visibleContent:n,markAsDismissed:l}=e;return n===d.z.GO_LIVE_SYSTEM_PICKER_COACHMARK?(0,t.jsx)(R.ZP,{content:et.intl.string(et.t.sFyFJy),buttonCTA:et.intl.string(et.t["NX+WJC"]),onClick:()=>{},onSecondaryClick:()=>{open(y.Z.getArticleURL(ee.BhN.SCREEN_SHARING_MACOS))},secondaryButtonCTA:et.intl.string(et.t.hvVgAQ),caretPosition:R.DF.LEFT_CENTER,markAsDismissed:l}):null};function ea(e){var n,s,o,R,y,O;let{selectGuild:q=!1,selectSource:ea=!0,guildId:er,analyticsLocation:eo,onClose:eu,transitionState:ec}=e,{preset:ed,resolution:em,fps:ex,soundshareEnabled:eg}=(0,c.cj)([A.Z],()=>A.Z.getState()),eh=i.useRef(Date.now()),eZ=(0,c.e7)([L.Z,b.Z],()=>b.Z.getChannel(L.Z.getVoiceChannelId())),ev=(0,c.e7)([E.ZP,z.Z],()=>(0,U.isWindows)()?(0,B.Z)(E.ZP,z.Z):null),eS=(0,c.e7)([S.ZP],()=>S.ZP.getCurrentEmbeddedActivity()),ej=(0,f.q)(null==eS?void 0:eS.applicationId),[eC,ef]=i.useState(null);i.useEffect(()=>{(0,v.R)()&&(async()=>{var e;ef(await (null===Z.Z||void 0===Z.Z?void 0:null===(e=Z.Z.window)||void 0===e?void 0:e.getMediaSourceId("DISCORD_ACTIVITY_POPOUT")))})()},[]);let eN=(0,c.e7)([D.default],()=>{let e=D.default.getCurrentUser();return a()(null!=e,"GoLiveModal: user cannot be undefined"),e}),ep=null!==(n=null==eZ?void 0:eZ.getGuildId())&&void 0!==n?n:er,eT=(0,c.e7)([M.Z],()=>{var e;return null!=ep?null===(e=M.Z.getGuild(ep))||void 0===e?void 0:e.premiumTier:null}),[eE,eI]=null!==(s=(0,F.Z)(ed,eN,eT))&&void 0!==s?s:[$.LY.RESOLUTION_720,$.ws.FPS_30],{lastPickerAction:eP}=(0,c.e7)([J.ZP],()=>J.ZP.getPickerState()),eR=_.Z.getUseSystemScreensharePicker();(0,J.UB)();let ek=eR&&(0,U.isMac)()&&u().satisfies(null===Z.Z||void 0===Z.Z?void 0:Z.Z.os.release,Q.jR),eA=[];ec===m.Dvm.ENTERED&&eR&&(0,U.isMac)()&&eA.push(d.z.GO_LIVE_SYSTEM_PICKER_COACHMARK);let[eb,eM]=(0,T.US)(eA,void 0,!0);ed!==$.tI.PRESET_CUSTOM&&(em=eE,ex=eI),(0,W.Z)(ed,em,ex,eN,eT)||(em=eE,ex=eI);let e_=(0,p.Dt)(),[eL,eD]=i.useState((O=ea&&!ek,q?0:O?2:3)),[ez,ew]=i.useState(ek),[ey,eU]=i.useState(null),[eG,eO]=i.useState(ek?{id:"prepicked:",name:et.intl.string(et.t["KKcy9/"]),url:""}:null),[eW,eF]=i.useState(null),[eV,eJ]=i.useState(ed),[eB,eX]=i.useState(em),[eY,eH]=i.useState(ex),[eK,eq]=i.useState(eg),[eQ,e$]=i.useState(null!==(o=k.I0.getSetting())&&void 0!==o&&o),[e0,e1]=i.useState(null!=er?er:null),e3=null!==(R=null==eZ?void 0:eZ.id)&&void 0!==R?R:ey,[e2,e4]=i.useState(ek?"":void 0);async function e9(){var e,n;a()(null!=ev||null!=eG||null!=eS&&null!=eC,"got nothing to stream");let l=null!==(e=null==eZ?void 0:eZ.id)&&void 0!==e?e:ey;a()(null!=l,"Received null target channel ID");let t=b.Z.getChannel(l),i=null!==(n=null==t?void 0:t.getGuildId())&&void 0!==n?n:er;if(null==eZ&&!await (0,j.Z)({channelId:l}))return;let s=eV,r=eB,o=eY;(0,W.Z)(s,r,o,eN,eT,t)||(s=$.tI.PRESET_VIDEO,r=$.LY.RESOLUTION_720,o=$.ws.FPS_30),(0,g.Rc)({preset:s,resolution:r,frameRate:o,soundshareEnabled:eK});let u=(0,K.Z)(ev,eG,E.ZP.getRunningGames()),c=!(0,U.isWindows)()||null==u||(null==eG?void 0:eG.id.startsWith("camera:"))||null==u?null:u.pid,d=null,m=null;null==c&&(null!=eG?(d=eG.id,m=eG.name):null!=eC&&(d=eC,m=null==ej?void 0:ej.name)),(0,g.WH)(i,l,{pid:c,sourceId:d,sourceName:m,audioSourceId:eW,sound:eK,previewDisabled:eQ,nativePickerStyleUsed:e2,goLiveModalDurationMs:Date.now()-eh.current}),null!=eb&&eM(en.L.AUTO_DISMISS),eR||(async()=>{await P.Z.hasPermission(el.Eu.SCREEN_RECORDING,{showAuthorizationError:!1})||x.Z.show({title:et.intl.string(et.t["X+mXen"]),body:et.intl.string(et.t.MIJCzs)})})()}function e7(){e9(),eu()}i.useEffect(()=>{let e=(0,U.isWindows)()?(0,B.Z)(E.ZP,z.Z):null,n=(null==e?void 0:e.id)!=null?C.Z.getApplication(e.id):null;w.default.track(ee.rMx.OPEN_MODAL,{type:"Go Live Modal",application_id:null==n?void 0:n.id,application_name:null==e?void 0:e.name,game_id:null==n?void 0:n.id,location_section:eo}),I.Z.trackExposure({location:"GoLiveModal"})},[eo]);let e5=i.useCallback((e,n,l)=>{var t;let i=(0,F.Z)(e,eN,eT),[s,r]=null!=i?i:[n,l];e!==eV&&(n=s,l=r);let o=null!==(t=null==eZ?void 0:eZ.id)&&void 0!==t?t:ey;a()(null!=o,"Received null target channel ID");let u=b.Z.getChannel(o);if(!(0,W.Z)(e,n,l,eN,eT,u)){let[e,t]=(0,F.Z)($.tI.PRESET_VIDEO,eN,eT);n=e,l=t}l!==eY&&eH(l),n!==eB&&eX(n),s!==n||r!==l?eJ($.tI.PRESET_CUSTOM):e!==eV&&eJ(e)},[eZ,ey,eN,eT,eY,eB,eV]),e8=i.useCallback(e=>{(0,V.t)(),(0,V.T)(null!=e?e:e2)},[e2]);function e6(e){if(e.preventDefault(),1===eL)return e8();if(2===eL)return eD(3);if(null!=e2)return eD(1);let n=(0,K.Z)(ev,eG,E.ZP.getRunningGames());G.ZP.supportsFeature(ee.eRX.ELEVATED_HOOK)&&(null==n?void 0:n.elevated)?function(){var e;let n=null!==(e=null==ev?void 0:ev.pid)&&void 0!==e?e:null;(0,m.ZDy)(async()=>{let{default:e}=await l.e("74300").then(l.bind(l,566852));return l=>(0,t.jsx)(e,{...l,handleStream:e7,pid:n})})}():e7()}let ne=i.useCallback(e=>{eO(e),null!=e&&(eR&&(null==e?void 0:e.id.startsWith("camera:"))!==!0?e4(e.id.split(":")[1]):e4(void 0),eD(3),ew(!0))},[eR]),nn=i.useCallback(e=>{e1(e);var n=3;eD(ea?2:3)},[ea]),nl=!(1===eL&&eR&&eP===J.Uc.Error),nt=function(e){switch(e){case 2:return et.intl.string(et.t["aC4/Zm"]);case 1:return et.intl.formatToPlainString(et.t.sbbPhY,{buttonName:et.intl.string(et.t.FiBjwc)});case 3:return null;default:return et.intl.string(et.t["1hKIam"])}}(eL),ni=(0,t.jsx)(m.xBx,{className:ei.modalHeader,separator:!1,children:(0,t.jsxs)(N.Z,{direction:N.Z.Direction.VERTICAL,align:N.Z.Align.CENTER,className:ei.header,children:[(0,t.jsx)(m.X6q,{variant:"heading-xl/semibold",id:e_,className:ei.headerText,children:et.intl.string(et.t.RDkJQ0)}),nl&&null!=nt?(0,t.jsx)(m.Text,{className:ei.headerDescription,variant:"text-md/normal",color:"text-normal",children:nt}):null]})}),ns=i.useCallback(()=>{eR&&(0,V.t)(),eD(2)},[eR]),na=function(e,n,l,t){switch(e){case 2:return n?0:null;case 1:return 3;case 3:if(t)return 2;if(!l&&n)return 0;return null;default:return null}}(eL,q,ea,ez),nr=1!==eL&&(3!==eL||null==eG&&null==ev&&null==eC||null==e3),no=i.useCallback(()=>{null!=na&&eD(na)},[na]),nu=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(m.MyZ,{springConfig:{...r.config.stiff,clamp:!0},activeSlide:eL,width:480,children:[(0,t.jsx)(m.Mi4,{id:0,children:(0,t.jsx)("div",{className:ei.modalSize,children:(0,t.jsx)(Y.Z,{onSelectGuild:nn})})}),(0,t.jsx)(m.Mi4,{id:2,children:(0,t.jsx)("div",{className:ei.modalSize,children:eR?(0,t.jsx)(H.se,{onSourceSelect:ne}):(0,t.jsx)(H.oA,{selectedSource:eG,onChangeSelectedSource:ne})})}),(0,t.jsx)(m.Mi4,{id:3,children:(0,t.jsx)("div",{className:ei.modalSize,children:(0,t.jsx)(X.Z,{selectedChannelId:null!==(y=null==eZ?void 0:eZ.id)&&void 0!==y?y:ey,selectedPreset:eV,selectedResolution:eB,selectedSource:eG,selectedFPS:eY,sound:eK,previewDisabled:eQ,sourceChanged:ez,selectSource:ea,onChangeSelectedFPS:e=>e5(eV,eB,e),onChangeSelectedResolution:e=>e5(eV,e,eY),onChangeSelectedPreset:e=>e5(e,eB,eY),onChangeSelectedChannelId:eU,onChangeSelectedSource:ne,onChangeSource:()=>ns(),onChangeAudioDevice:e=>eF(e),onChangeGuild:()=>eD(0),onChangeSound:e=>eq(e),onChangePreviewDisabled:e=>e$(e),onClose:eu,selectedGuildId:e0,targetGuildPremiumTier:eT,selectGuild:q})})}),(0,t.jsx)(m.Mi4,{id:1,children:(0,t.jsx)("div",{className:ei.modalSize,children:(0,t.jsx)(H.Hu,{onSourceSelect:e7,onCancel:no,pickerType:e2})})})]})}),nc=1===eL||ek&&3===eL?et.intl.string(et.t.FiBjwc):eR&&(3!==eL||null!=e2)?et.intl.string(et.t.PDTjLC):et.intl.string(et.t["UE/rPz"]),nd=(0,t.jsxs)(m.mzw,{justify:null==na?N.Z.Justify.START:N.Z.Justify.BETWEEN,children:[(0,t.jsx)(m.zxk,{type:"submit",size:m.zxk.Sizes.SMALL,disabled:nr,autoFocus:!0,children:nc}),null==na?(0,t.jsx)(m.zxk,{className:ei.cancelButton,look:m.zxk.Looks.LINK,size:m.zxk.Sizes.SMALL,color:m.Ttl.PRIMARY,onClick:eu,children:et.intl.string(et.t["ETE/oK"])}):(0,t.jsx)(m.zxk,{size:m.zxk.Sizes.SMALL,color:m.Ttl.PRIMARY,onClick:no,children:et.intl.string(et.t["13/7kZ"])})]});return(0,t.jsx)(h.Z,{page:ee.ZY5.GO_LIVE_MODAL,children:(0,t.jsxs)(m.Y0X,{"aria-labelledby":e_,transitionState:ec,size:m.CgR.DYNAMIC,className:ei.modalSize,children:[(0,t.jsx)(m.olH,{onClick:eu,className:ei.modalCloseButton}),(0,t.jsx)("div",{className:ei.art}),(0,t.jsx)(m.yRy,{position:"right",align:"center",shouldShow:null!=eb,spacing:18,renderPopout:()=>(0,t.jsx)(es,{visibleContent:eb,markAsDismissed:eM}),children:()=>(0,t.jsxs)("form",{onSubmit:e6,children:[ni,nu,nd]})})]})})}function er(e){let{showRefreshedGoLiveModal:n}=(0,O.a)({location:e.analyticsLocation});return n?(0,t.jsx)(q.Z,{...e}):(0,t.jsx)(ea,{...e})}},351152:function(e,n,l){l.d(n,{Z:()=>N}),l(390547);var t=l(200651);l(192379);var i=l(120356),s=l.n(i),a=l(392711),r=l.n(a),o=l(442837),u=l(481060),c=l(565138),d=l(984933),m=l(430824),x=l(496675),g=l(771845),h=l(259580),Z=l(102172),v=l(148381),S=l(388032),j=l(323499),C=l(619469);function f(e){let{guildId:n,onClick:l}=e,i=(0,o.e7)([m.Z],()=>m.Z.getGuild(n)),s=(0,o.e7)([d.ZP,m.Z,x.Z],()=>d.ZP.getChannels(n)[d.Zb].some(e=>{let{channel:n}=e;return(0,Z.JL)(n,m.Z,x.Z)}));return null!=i&&s?(0,t.jsxs)(u.P3F,{onClick:()=>l(n),className:C.guildRow,children:[(0,t.jsx)(c.Z,{guild:i,size:c.Z.Sizes.SMALL,className:C.guildIcon}),(0,t.jsx)(u.Text,{variant:"text-md/normal",className:C.guildName,children:i.toString()}),(0,t.jsx)(h.Z,{direction:h.Z.Directions.RIGHT,className:C.guildArrow})]}):null}function N(e){let{onSelectGuild:n}=e,l=(0,o.e7)([g.ZP],()=>g.ZP.getGuildFolders());return(0,t.jsx)(v.Z,{title:S.intl.string(S.t.JsqeEh),scrollerClassName:s()(C.guildScroller,j.marginBottom),children:r().flatMap(l,e=>{let{guildIds:l}=e;return l.map(e=>(0,t.jsx)(f,{guildId:e,onClick:n},e))})})}},499596:function(e,n,l){l.d(n,{Z:()=>x});var t=l(200651);l(192379);var i=l(120356),s=l.n(i),a=l(481060),r=l(884338),o=l(933557),u=l(471445),c=l(5192),d=l(388032),m=l(484810);function x(e){let{channel:n,users:l,selected:i=!1}=e,x=(0,o.ZP)(n),g=null;null!=l&&l.length>0&&(g=(0,t.jsx)(r.Z,{guildId:n.guild_id,className:m.voiceUserList,users:l,renderUser:e=>{if(null==e)return null;let l=c.ZP.getName(n.guild_id,n.id,e),i=e.getAvatarURL(n.guild_id,24);return(0,t.jsx)(a.DY3,{text:l,children:(0,t.jsx)("img",{src:null!=i?i:void 0,"aria-label":e.username,alt:"",className:m.avatar})})},renderMoreUsers:e=>{let i=function(e,n){let l=n.id,t=n.guild_id;return e.length<=1?null:2===e.length?d.intl.formatToPlainString(d.t.MlgLFx,{nickname0:c.ZP.getName(t,l,e[0]),nickname1:c.ZP.getName(t,l,e[1])}):3===e.length?d.intl.formatToPlainString(d.t.sihix8,{nickname0:c.ZP.getName(t,l,e[0]),nickname1:c.ZP.getName(t,l,e[1]),nickname2:c.ZP.getName(t,l,e[2])}):d.intl.formatToPlainString(d.t["824IXV"],{nickname0:c.ZP.getName(t,l,e[0]),nickname1:c.ZP.getName(t,l,e[1]),remainingCount:e.length-2})}(l.slice(4),n);return(0,t.jsx)("div",{children:(0,t.jsx)(a.DY3,{text:i,children:(0,t.jsx)("div",{className:m.userListOverflow,children:e})})})},max:5,showUserPopout:!1}));let h=(0,u.KS)(n);return(0,t.jsxs)("div",{className:s()(m.channelInfo,{[m.selected]:i}),children:[(0,t.jsx)(h,{className:m.channelIcon}),(0,t.jsx)("div",{className:m.channelName,children:x}),g]})}},537135:function(e,n,l){l.d(n,{Z:()=>s});var t=l(200651);l(192379);var i=l(839216);function s(e){let{children:n}=e;return(0,t.jsx)("div",{className:i.card,children:n})}},148381:function(e,n,l){l.d(n,{Z:()=>m}),l(47120);var t=l(200651),i=l(192379),s=l(120356),a=l.n(s),r=l(481060),o=l(493773),u=l(958707),c=l(323499),d=l(552305);function m(e){let{title:n,scrollerClassName:l,scrollerInnerClassName:s,children:m}=e,x=i.useRef(null),[g,h]=i.useState(!1),[Z,v]=i.useState(!1),S=i.useCallback(()=>{let{current:e}=x;null!=e&&(h(!e.isScrolledToTop()),v(!e.isScrolledToBottom()))},[]);return(0,o.Ng)(()=>S()),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:a()(d.title,d.scrollWrapper),children:[(0,t.jsx)(r.vwX,{className:c.formItemTitle,children:n}),(0,t.jsx)(u.Z,{separator:g})]}),(0,t.jsx)("div",{className:l,children:(0,t.jsx)(r.Den,{ref:x,className:a()(d.scrollerInner,s,{[d.bottomSeparator]:Z}),onScroll:S,children:m})})]})}},641115:function(e,n,l){l.d(n,{Z:()=>_}),l(47120);var t=l(200651),i=l(192379),s=l(120356),a=l.n(s),r=l(512722),o=l.n(r),u=l(442837),c=l(481060),d=l(410575),m=l(2052),x=l(924557),g=l(600164),h=l(436774),Z=l(140465),v=l(774026),S=l(592125),j=l(944486),C=l(594174),f=l(74538),N=l(451467),p=l(122186),T=l(37113),E=l(981631),I=l(388032),P=l(323499),R=l(421618),k=l(483938);function A(e){let{analyticsLocation:n,onClose:i}=e;(0,c.ZDy)(async()=>{let{default:e}=await l.e("28479").then(l.bind(l,78865));return l=>(0,t.jsx)(e,{...l,onCloseParent:i,analyticsSource:n})})}function b(){return(0,t.jsxs)("div",{className:R.toolTipTextContainer,children:[(0,t.jsx)(c.SrA,{size:"md",color:h.JX.PREMIUM_TIER_2,className:a()(R.premiumIcon)}),(0,t.jsx)(c.Text,{className:R.upsellText,variant:"text-sm/medium",children:I.intl.string(I.t.sEAnVF)})]})}function M(e){let n,l,{type:i,selected:s,needsPremium:r,needsDemo:o,analyticsLocation:u,onClick:d,onClose:m,setIsHovering:x}=e,{value:g,label:h}=i;return r?(n=(0,t.jsx)(c.DY3,{tooltipClassName:R.tooltip,spacing:6,"aria-label":I.intl.string(I.t.sEAnVF),text:(0,t.jsx)(b,{}),children:(0,t.jsx)("div",{className:R.textContainer,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:(0,t.jsx)(c.Text,{variant:"text-xs/bold",className:a()(R.selectorNitroText,R.enhancedSelectorNitroText),children:h})})}),l=()=>A({analyticsLocation:u,onClose:m})):(n=(0,t.jsx)("div",{className:R.textContainer,children:(0,t.jsx)(c.Text,{variant:"text-xs/normal",className:a()(R.selectorText,{[R.enhancedSelectorNitroText]:o}),children:h})}),l=()=>d(g)),{content:n,className:a()(R.selectorButton,{[R.selectorButtonSelected]:s,[R.perksDemo]:o,[R.premiumUpsell]:r}),onClick:l}}function _(e){let{onClose:n,selectedPreset:l,selectedResolution:s,selectedFPS:a,onResolutionChange:r,onFPSChange:h,onPresetChange:b,targetGuildPremiumTier:_,captureDeviceSelected:L}=e,D=(0,u.e7)([C.default],()=>{let e=C.default.getCurrentUser();return o()(null!=e,"StreamSettings: user cannot be undefined"),e}),z=(0,u.e7)([j.Z,S.Z],()=>S.Z.getChannel(j.Z.getVoiceChannelId())),w=f.ZP.canStreamQuality(f.U2.MID,D),{location:y}=(0,m.O)(),U=(0,x.Zq)({autoTrackExposure:!1}),G=(0,Z.B4)({location:"StreamSettings"}),O=C.default.getUser(null==z?void 0:z.hdStreamingBuyerId),W=null!=z&&null!=z.hdStreamingUntil&&new Date(z.hdStreamingUntil)>new Date&&null!=O,F=!w&&!U,[V,J]=i.useState(!1),B=L?T.z8:T.WC,X={...y,section:E.jXE.STREAM_SETTINGS},Y=(0,t.jsx)(c.hE2,{buttons:B.map(e=>M({type:e,selected:e.value===s,needsPremium:!(0,N.Z)(l,e.value,a,D,_,z),needsDemo:G&&e.value!==T.LY.RESOLUTION_720,analyticsLocation:X,onClick:()=>r(e.value),onClose:n,setIsHovering:J}))}),H=(0,t.jsx)(c.hE2,{buttons:T.k0.map(e=>M({type:e,selected:e.value===a,needsPremium:!(0,N.Z)(l,s,e.value,D,_,z),needsDemo:G&&e.value===T.ws.FPS_60,analyticsLocation:X,onClick:()=>h(e.value),onClose:n,setIsHovering:J}))}),K=[{value:T.tI.PRESET_VIDEO,label:I.intl.string(I.t.HcwHc3)},...L?[]:[{value:T.tI.PRESET_DOCUMENTS,label:I.intl.string(I.t["/RfohI"])}],{value:T.tI.PRESET_CUSTOM,label:I.intl.string(I.t["+eOtrK"])}],q=l===T.tI.PRESET_DOCUMENTS?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{children:(0,t.jsx)(c.xJW,{title:I.intl.string(I.t.rHyPXl),titleClassName:P.formItemTitleSlim,className:R.documentModeGroup,children:(0,t.jsx)(c.Text,{variant:"text-xs/normal",children:I.intl.format(I.t["U+hmam"],{fps:a})})})}),F?(0,t.jsx)(p.Z,{message:I.intl.string(I.t.deDogI),onClose:n,openStreamUpsellModal:A}):null,G&&(0,t.jsx)(p.c,{}),W&&null!=z.hdStreamingUntil&&(0,t.jsx)(v.Z,{streamingUntil:z.hdStreamingUntil,user:O,channel:z})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(c.xJW,{title:I.intl.string(I.t.rHyPXl),className:R.settingsGroup,titleClassName:P.formItemTitleSlim,children:Y}),(0,t.jsx)(c.xJW,{title:I.intl.string(I.t.SkkeIi),className:R.settingsGroup,titleClassName:P.formItemTitleSlim,children:H})]}),F?(0,t.jsx)(p.Z,{onClose:n,openStreamUpsellModal:A,glow:V}):null,G&&(0,t.jsx)(p.c,{}),W&&null!=z.hdStreamingUntil&&(0,t.jsx)(v.Z,{streamingUntil:null==z?void 0:z.hdStreamingUntil,user:O,channel:z})]});return(0,t.jsx)(d.Z,{...X,children:(0,t.jsx)(c.xJW,{title:I.intl.string(I.t.ax4FnZ),titleClassName:P.formItemTitle,className:P.modalContent,children:(0,t.jsxs)("div",{className:R.qualitySettingsContainer,children:[(0,t.jsx)(c.q4e,{value:l,className:k.marginTop8,options:K,onChange:e=>b(e)}),q]})})})}},122186:function(e,n,l){l.d(n,{Z:()=>C,c:()=>j});var t=l(200651),i=l(192379),s=l(120356),a=l.n(s),r=l(442837),o=l(481060),u=l(607070),c=l(436774),d=l(639119),m=l(197115),x=l(74538),g=l(981631),h=l(474936),Z=l(388032),v=l(715001);function S(e){let{location:n,...l}=e,s=(0,d.N)(),r=i.useCallback(()=>{if(null!=s){var e;return null!==(e=(0,x.fr)(s))&&void 0!==e?e:Z.intl.string(Z.t.Y2WKTk)}return Z.intl.string(Z.t.Y2WKTk)},[s]);return(0,t.jsx)(m.Z,{className:a()(v.enhancedCTA,v.ctaGradientBackground),iconClassName:v.premiumIcon,subscriptionTier:h.Si.TIER_2,buttonText:r(),size:o.zxk.Sizes.TINY,premiumModalAnalyticsLocation:n,...l})}function j(){let e=(0,r.e7)([u.Z],()=>u.Z.useReducedMotion);return(0,t.jsxs)("div",{className:a()(v.reverseTrialEducationBannerContainer,{[v.reducedMotion]:e}),children:[(0,t.jsx)(o.Fmz,{className:a()(v.unlockAnimation,{[v.reducedMotion]:e}),loop:!1,shouldAnimate:!e,pauseAtFrame:e?149:void 0,importData:()=>l.e("21812").then(l.t.bind(l,741855,19))}),(0,t.jsx)(o.Text,{variant:"text-xs/medium",className:v.reverseTrialEducationText,children:Z.intl.format(Z.t.GimLpa,{})})]})}function C(e){let{message:n,onClose:l,openStreamUpsellModal:i,glow:s=!1}=e,r={section:g.jXE.STREAM_SETTINGS,object:g.qAy.PREMIUM_UPSELL_BANNER,objectType:g.Qqv.BUY};return(0,t.jsxs)("div",{className:a()(v.upsellBanner,v.enhancedBanner,{[v.gradientGlow]:s}),children:[(0,t.jsxs)("div",{className:v.iconTextContainer,children:[(0,t.jsx)(o.SrA,{size:"md",color:c.JX.PREMIUM_TIER_2}),(0,t.jsx)(o.Text,{variant:"text-sm/medium",className:a()(v.upsellText,v.enhancedUpsellText),children:null!=n?n:Z.intl.format(Z.t["L/zCtr"],{onClick:()=>i({analyticsLocation:r,onClose:l})})})]}),(0,t.jsx)("div",{className:v.enhancedCTAs,children:(0,t.jsx)(S,{location:r})})]})}},176940:function(e,n,l){l.d(n,{Z:()=>i}),l(47120);var t=l(131951);function i(){return Object.entries(t.Z.getVideoDevices()).map(e=>{let[n,l]=e;return{id:"camera:"+l.id,name:l.name,url:""}})}},717298:function(e,n,l){l.d(n,{Z:()=>o});var t=l(200651);l(192379);var i=l(481060),s=l(100527),a=l(906732),r=l(313201);function o(e){let{analyticsLocations:n}=(0,a.ZP)(s.Z.GO_LIVE_MODAL_V2),l=(0,r.Dt)();return(0,t.jsx)(i.Y0X,{"aria-labelledby":l,transitionState:e.transitionState,children:(0,t.jsx)(i.X6q,{variant:"heading-lg/normal",id:l,children:"Go Live Modal V2"})})}},774026:function(e,n,l){l.d(n,{Z:()=>g});var t=l(200651);l(192379);var i=l(913527),s=l.n(i),a=l(793030),r=l(739566),o=l(942951),u=l(67390),c=l(63063),d=l(981631),m=l(388032),x=l(434687);function g(e){var n;let{streamingUntil:l,user:i,channel:g}=e,h=(0,r.JZ)(i,g),Z=(0,o.l)({user:i,channelId:g.id,guildId:g.guild_id,messageId:void 0})(h),v=s()(l).diff(s()(),"hours");return v<=0?null:(0,t.jsxs)("div",{className:x.attribution,children:[(0,t.jsx)(u.Z,{className:x.img}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.X6,{variant:"heading-sm/bold",children:m.intl.string(m.t.K04rOD)}),(0,t.jsx)(a.xv,{color:"text-muted",variant:"text-sm/medium",children:m.intl.format(m.t.NZDuBg,{actorName:null!==(n=i.globalName)&&void 0!==n?n:i.username,actorHook:Z,num:v,helpCenterLink:c.Z.getArticleURL(d.BhN.HD_STREAMING_POTION)})})]})]})}}}]);
//# sourceMappingURL=c752d952cfb6dee9.js.map