"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["60827"],{833310:function(e){e.exports="/assets/535c99dc2f0346cb.svg"},612317:function(e){e.exports="/assets/4a3edc976e06f278.svg"},324239:function(e,t,n){n.d(t,{default:()=>x}),n(47120);var l=n(200651),s=n(192379),o=n(481060),r=n(893776),i=n(809206),c=n(600164),a=n(390885),u=n(626135),d=n(361207),m=n(981631),_=n(630724),f=n(388032),p=n(641391);function g(e){let{email:t,setEmail:n,claimRequired:u,onSuccess:d,onClose:m}=e,[g,N]=s.useState(),[x,S]=s.useState(""),[C,T]=s.useState(""),[A,v]=s.useState(!1);s.useEffect(()=>a.Z.flowStep(_.MK.ANY,_.mx.CLAIM_ACCOUNT),[]);let h=async e=>{e.preventDefault(),v(!0),N(""),T("");try{await (0,i.S2)({email:t,password:x}),v(!1),d()}catch(e){var n,l;(null==e?void 0:null===(n=e.body)||void 0===n?void 0:n.email)&&N(e.body.email),(null==e?void 0:null===(l=e.body)||void 0===l?void 0:l.password)&&T(e.body.password),v(!1)}};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(o.xBx,{className:p.formHeader,direction:c.Z.Direction.VERTICAL,separator:!1,children:[(0,l.jsx)("div",{className:p.formImage}),(0,l.jsx)(o.X6q,{className:p.formTitle,variant:"heading-xl/semibold",children:f.intl.string(f.t.uQShv7)}),(0,l.jsx)(o.Text,{className:p.formBody,variant:"text-md/normal",color:"header-secondary",children:u?f.intl.string(f.t.sW28gY):f.intl.string(f.t["gP/vPT"])}),(0,l.jsx)(o.olH,{className:p.closeButton,onClick:m})]}),(0,l.jsx)(o.hzk,{children:(0,l.jsxs)("form",{className:p.formContent,onSubmit:h,children:[(0,l.jsx)(o.xJW,{title:f.intl.string(f.t.dI4d4e),className:p.formItem,children:(0,l.jsx)(o.oil,{value:t,error:g,onChange:e=>n(e),autoFocus:!0})}),(0,l.jsx)(o.xJW,{title:f.intl.string(f.t["CIGa+/"]),className:p.formItem,children:(0,l.jsx)(o.oil,{type:"password",value:x,error:C,onChange:e=>S(e)})}),(0,l.jsx)(o.zxk,{type:"submit",size:o.zxk.Sizes.LARGE,fullWidth:!0,submitting:A,disabled:0===t.length||0===x.length,children:f.intl.string(f.t.fiNVio)}),u&&(0,l.jsx)(o.zxk,{className:p.logoutButton,color:o.zxk.Colors.PRIMARY,look:o.zxk.Looks.LINK,size:o.zxk.Sizes.NONE,onClick:()=>{r.Z.logout(),m()},children:f.intl.string(f.t["2jxGen"])})]})})]})}function N(e){let{email:t,claimRequired:n,onClose:r}=e,i=n?f.t.D7trIC:f.t.JNWX7O;return s.useEffect(()=>a.Z.flowStep(_.MK.ANY,_.mx.CLAIM_ACCOUNT_SUCCESS),[]),(0,l.jsxs)("div",{children:[(0,l.jsxs)(o.hzk,{className:p.successContent,children:[!n&&(0,l.jsx)(o.olH,{className:p.closeButton,onClick:r}),(0,l.jsx)("div",{className:p.successImage}),(0,l.jsx)(o.Text,{className:p.successTitle,variant:"text-lg/semibold",children:f.intl.format(i,{email:t})}),(0,l.jsx)(o.Text,{className:p.successPromotion,variant:"text-md/normal",children:f.intl.string(f.t.eXqM2d)})]}),n?(0,l.jsx)(o.mzw,{direction:c.Z.Direction.VERTICAL,children:(0,l.jsx)(o.zxk,{size:o.zxk.Sizes.LARGE,onClick:r,children:f.intl.string(f.t.BddRzc)})}):(0,l.jsx)(o.mzw,{direction:c.Z.Direction.VERTICAL,children:(0,l.jsx)(o.zxk,{color:o.zxk.Colors.BRAND,size:o.zxk.Sizes.LARGE,onClick:function(){window.open((0,d.t3)(),"_blank"),u.default.track(m.rMx.DOWNLOAD_APP,{platform:(0,d.DW)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal",qr_code:!1})},children:f.intl.string(f.t.ygArIS)})})]})}function x(e){let{onClose:t,transitionState:n,claimRequired:r=!1}=e,[i,c]=s.useState(""),[a,u]=s.useState(!1);return a?(0,l.jsx)(o.Y0X,{transitionState:n,children:(0,l.jsx)(N,{email:i,claimRequired:r,onClose:t})}):(0,l.jsx)(o.Y0X,{transitionState:n,children:(0,l.jsx)(g,{email:i,setEmail:c,claimRequired:r,onSuccess:()=>u(!0),onClose:t})})}},630724:function(e,t,n){n.d(t,{EW:()=>m,FF:()=>a,MK:()=>c,X2:()=>d,mx:()=>u});var l,s,o,r,i,c=((l={}).UNKNOWN="unknown",l.ANY="any",l.INVITE="invite",l.ORGANIC="organic_registration",l.ORGANIC_MARKETING="organic_marketing",l.ORGANIC_GUILD_TEMPLATES="organic_guild_template",l.CREATE_GUILD="create_guild",l),a=((s={}).AGE_GATE="age_gate",s.AGE_GATE_UNDERAGE="age_gate_underage",s),u=((o={}).CLAIM_ACCOUNT="claim_account",o.CLAIM_ACCOUNT_SUCCESS="claim_account_success",o),d=((r={}).GUILD_TEMPLATES="guild_templates",r.GUILD_CREATE="guild_create",r.CREATION_INTENT="creation_intent",r.CHANNEL_PROMPT="channel_prompt",r.JOIN_GUILD="join_guild",r.SUCCESS="create_success",r),m=((i={}).NUF_STARTED="nuf_started",i.AGE_GATE="age_gate",i.NUF_COMPLETE="nuf_complete",i.HUB_CONNECTION="hub_connection",i)},390885:function(e,t,n){n.d(t,{Z:()=>x});var l=n(15729),s=n(877124),o=n(731965),r=n(433517),i=n(710845),c=n(626135),a=n(630724),u=n(981631);let d="UserFlowAnalyticsStore_current",m="UserFlowAnalyticsStore";function _(e){if(e===a.MK.UNKNOWN)return null;let t=r.K.get("".concat(m,"-").concat(e));if(null==t)return null;let{version:n,...l}=t;return 1!==n?null:l}new i.Z("UserFlowAnalytics");let f=(0,l.U)()((0,s.XR)((e,t)=>({flows:{},currentFlow:null,activeFlow:()=>{var e;let n=null!==(e=t().currentFlow)&&void 0!==e?e:r.K.get(d);if(null==n)return null;let{[n]:l}=t().flows,s=null!=l?l:_(n);return(null==s?void 0:s.currentStep)!=null?n:null}})));function p(e,t){let{[e]:n,...l}=f.getState().flows,s=null!=n?n:_(e);((null==s?void 0:s.currentStep)==null||s.currentStep!==t)&&(0,o.j)(()=>{f.setState({flows:{...l,[e]:{type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1}},currentFlow:e})})}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=e;if(e===a.MK.ANY){var s;l=null!==(s=f.getState().activeFlow())&&void 0!==s?s:a.MK.UNKNOWN}let{[l]:r,...i}=f.getState().flows,c=null!=r?r:_(l);null!=c&&null!=c.currentStep&&c.currentStep!==t&&(0,o.j)(()=>{f.setState({flows:{...i,[l]:{...c,lastStep:c.currentStep,lastTimestamp:c.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}},currentFlow:l})})}function N(){return null!=f.getState().activeFlow()}f.subscribe(e=>null!=e.currentFlow?e.flows[e.currentFlow]:void 0,e=>{var t;if(null!=e&&(!function(e){if(e.type===a.MK.UNKNOWN)return;let t="".concat(m,"-").concat(e.type);e.ended?(r.K.remove(t),r.K.remove(d)):(r.K.set("".concat(m,"-").concat(e.type),{...e,version:1}),r.K.set(d,e.type))}(e),c.default.track(u.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0}),e.ended)){let t={...f.getState().flows};delete t[e.type],(0,o.j)(()=>{f.setState({flows:t,currentFlow:null})})}});let x={flowStart:p,flowStepOrStart:function(e,t){N()?g(e,t):p(e,t)},flowStep:g,hasActiveFlow:N}},641391:function(e,t,n){e.exports={formHeader:"formHeader__80325",formContent:"formContent__80325",formImage:"formImage__80325",formTitle:"formTitle__80325",formBody:"formBody__80325",formItem:"formItem__80325",logoutButton:"logoutButton__80325",closeButton:"closeButton__80325",successContent:"successContent__80325",successTitle:"successTitle__80325",successPromotion:"successPromotion__80325",successImage:"successImage__80325"}}}]);
//# sourceMappingURL=de3f18034ee04481.js.map