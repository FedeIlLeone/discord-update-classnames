"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["43641"],{966390:function(e,t,n){n.d(t,{Z:()=>j}),n(47120),n(789020);var a=n(481060),i=n(570140),l=n(430742),s=n(904245),o=n(166459),r=n(531643),c=n(881052),d=n(673750),u=n(141795),m=n(476326),p=n(680287),g=n(247206),_=n(539573),h=n(786761),f=n(3148),C=n(48854),E=n(785359),v=n(79390),y=n(980463),x=n(992970),T=n(576645),I=n(317951),b=n(287941),M=n(623292),A=n(807092),S=n(467798),P=n(703558),D=n(117530),L=n(630388),Z=n(226351),U=n(981631),R=n(388032);async function w(e){var t,n,a,u;let m,{channelId:w,uploads:j,draftType:O,parsedMessage:N,options:z={},raiseEndpointErrors:k=!1}=e,B=new p.Z(U.ANM.MESSAGES(w)),F=new Z.o,G={content:"",nonce:"",channel_id:w,type:U.uaV.DEFAULT,sticker_ids:null==z?void 0:z.stickerIds,poll:null==z?void 0:z.poll,confetti_potion:(0,T.vY)(null==z?void 0:z.confettiPotionData),scheduled_timestamp:null==z?void 0:z.scheduledTimestamp};null!=N&&(G.content=null==N?void 0:N.content),null!=A.Z.getPendingReply(w)&&(G.type=U.uaV.REPLY,G.message_reference=z.messageReference,G.allowed_mentions=z.allowedMentions,(0,M.A6)(w));let[H,V]=(0,S.Z)(G.content);H&&(G.content=V,G.flags=(0,L.pj)(null!==(n=G.flags)&&void 0!==n?n:0,U.iLy.SUPPRESS_NOTIFICATIONS));let X=null!==(a=z.nonce)&&void 0!==a?a:(0,C.r)(),$=(0,f.ZP)({channelId:w,content:G.content,tts:null!==(u=null==N?void 0:N.tts)&&void 0!==u&&u,type:G.type,messageReference:G.message_reference,flags:G.flags,nonce:X,poll:(0,v.x9)(z.poll)});return G.nonce=X,B.on("start",e=>{m=(0,h.e5)({...$,id:e.id}),i.Z.dispatch({type:"UPLOAD_START",channelId:w,file:e,message:m,uploader:B})}),B.on("progress",e=>{i.Z.dispatch({type:"UPLOAD_PROGRESS",channelId:w,file:e})}),B.on("error",(e,t,n,a)=>{if(i.Z.dispatch({type:"UPLOAD_FAIL",channelId:w,file:e,messageRecord:m}),(0,E.x)({fileItems:e.items,failureCode:t,errorMessage:null==a?void 0:a.msg}),t===U.evJ.EXPLICIT_CONTENT){s.Z.sendExplicitMediaClydeError(w,null==n?void 0:n.attachments,g.UU.EXPLICIT_MEDIA_MESSAGE_SEND_BLOCKED);return}if(t===U.evJ.AUTOMOD_MESSAGE_BLOCKED){let e={code:t,message:null==n?void 0:n.message},a=null==m?null:{type:d.$V.SEND,message:{...m,channelId:w}};(0,r.openUploadError)({title:R.intl.string(R.t.B3vFdX),help:(0,_.uF)(a,e)});return}if(t!==U.evJ.GUILD_FILE_UPLOAD_RATE_LIMITED_ACCESS){if(k)F.reject(new c.Hx({status:t,body:null!=n?n:{}},t));else{var u;(0,r.openUploadError)({title:R.intl.string(R.t.B3vFdX),help:null!==(u=null==n?void 0:n.message)&&void 0!==u?u:R.intl.string(R.t.zMEjJi)})}""!==G.content&&""===P.Z.getDraft(w,O)&&l.Z.saveDraft(w,G.content,O),0===D.Z.getUploadCount(w,O)&&o.Z.setUploads({channelId:w,uploads:j,draftType:O})}}),B.on("complete",(e,t)=>{i.Z.dispatch({type:"UPLOAD_COMPLETE",channelId:w,file:e,aborted:B._aborted,messageRecord:t});let n=(0,T.ZC)(t);null!=n&&((0,y.gA)(I.D1),(0,b.I)({name:n.name,id:n.id},void 0,!0,x.LL.MessageSent))}),null==z||null===(t=z.confettiPotionData)||void 0===t||t.callback(),await B.uploadFiles(j,G),F.resolve(),F.promise}let j={instantBatchUpload:function(e){let{channelId:t,files:n,draftType:a,isThumbnail:i=!1,filesMetadata:l=[]}=e,s=Array.from(n).map((e,n)=>{let a=null!=l?l[n]:{};return new u.n({file:e,platform:m.ow.WEB,isThumbnail:i,...a},t)});w({channelId:t,uploads:s,draftType:a})},upload:function e(t){let{channelId:n,file:o,draftType:c,message:d,hasSpoiler:u,filename:m}=t,_={content:"",tts:!1,hasSpoiler:u,filename:m};if(null!=d){_.content=d.content,_.tts=d.tts,_.channel_id=d.channel_id;let e=A.Z.getPendingReply(n);if(null!=e){let t=s.Z.getSendMessageOptionsForReply(e);_.type=U.uaV.REPLY,_.message_reference=t.messageReference,_.allowed_mentions=t.allowedMentions,(0,M.A6)(n)}}let h=new p.Z(U.ANM.MESSAGES(n));h.on("start",e=>{i.Z.dispatch({type:"UPLOAD_START",channelId:n,file:e,uploader:h})}),h.on("progress",e=>{i.Z.dispatch({type:"UPLOAD_PROGRESS",channelId:n,file:e})}),h.on("error",(t,u,m)=>{if(i.Z.dispatch({type:"UPLOAD_FAIL",channelId:n,file:t}),(0,E.x)({fileItems:t.items,failureCode:u}),u===U.evJ.EXPLICIT_CONTENT){s.Z.sendExplicitMediaClydeError(n,null==m?void 0:m.attachments,g.UU.EXPLICIT_MEDIA_MESSAGE_SEND_BLOCKED);return}(0,r.openUploadError)({title:R.intl.string(R.t.B3vFdX),help:R.intl.format(R.t.gIlRx8,{onClick:()=>{(0,a.Mr3)(r.A),e({channelId:n,file:o,draftType:c,message:d})}})}),""!==_.content&&""===P.Z.getDraft(n,c)&&l.Z.saveDraft(n,_.content,c)}),h.on("complete",e=>{i.Z.dispatch({type:"UPLOAD_COMPLETE",channelId:n,file:e})}),h.upload(o,_)},uploadFiles:w,cancel(e){i.Z.dispatch({type:"UPLOAD_CANCEL_REQUEST",file:e}),null!=e.draftContent&&null!=e.channelId&&""===P.Z.getDraft(e.channelId,P.d.ChannelMessage)&&i.Z.dispatch({type:"DRAFT_SAVE",channelId:e.channelId,draft:e.draftContent,draftType:P.d.ChannelMessage})}}},680287:function(e,t,n){n.d(t,{Z:()=>d}),n(653041),n(789020);var a=n(544891),i=n(881052),l=n(687294),s=n(476326),o=n(45251),r=n(861990),c=n(388032);class d extends l.Z{async uploadFiles(e,t){let{addFilesTo:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super.upload({name:c.intl.string(c.t.jfKTen)},t,e);let a=new AbortController;try{if(this.files=e,this._aborted||(this._handleStart(()=>a.abort()),!await this.compressAndCheckFileSize()))return;this.setUploadingTextForUI(),await (0,l.$)(this.files,!0,this._recomputeProgress.bind(this))}catch(e){this._handleException(e)}try{return await this._createMessage(a.signal,t,n)}catch(e){if(this._raiseEndpointErrors)throw e;this._handleException(e)}}async _createMessage(e,t,n){var l,c;let d;let u=[];if(this.files.forEach((e,t)=>{let n=(0,r.B)(e,t);e.item.platform===s.ow.WEB&&u.push({...n})}),null!=(d=null!=n&&null!=t?this._addAttachmentsToPayload(t,n,u):{...t,attachments:u}).scheduled_timestamp){try{let e=await (0,o.PV)({channelId:d.channel_id,scheduledTimestamp:d.scheduled_timestamp,messageSendData:{channelId:d.channel_id,content:d.content,flags:d.flags,nonce:d.nonce,message_reference:d.message_reference,allowed_mentions:d.allowed_mentions,tts:!1},attachments:u});return this._handleComplete(e.body),e.body}catch(e){if(this._raiseEndpointErrors)throw new i.Hx(e);this._handleError({code:null==e?void 0:null===(l=e.body)||void 0===l?void 0:l.code,body:null==e?void 0:e.body})}return}let m={url:this._url,body:d,signal:e,rejectWithError:!1},p="POST"===this._method?a.tn.post:a.tn.patch;try{let e=await p(m);return this._handleComplete(e.body),e.body}catch(e){if(this._raiseEndpointErrors)throw new i.Hx(e);this._handleError({code:null==e?void 0:null===(c=e.body)||void 0===c?void 0:c.code,body:null==e?void 0:e.body})}}constructor(e,t="POST",n){super(e,t,n)}}},273602:function(e,t,n){n.d(t,{default:()=>S}),n(47120);var a=n(200651),i=n(192379),l=n(442837),s=n(481060),o=n(904245),r=n(166459),c=n(680287),d=n(313201),u=n(247206),m=n(813197),p=n(592125),g=n(703558),_=n(430824),h=n(375954),f=n(403182),C=n(709054),E=n(127654),v=n(979956),y=n(228392),x=n(404616),T=n(470623),I=n(981631),b=n(231338),M=n(388032),A=n(322079);function S(e){var t;let{threadId:n,attachments:S,sendMessage:P,transitionState:D,onClose:L}=e,Z=(0,d.Dt)(),U=(0,l.e7)([p.Z],()=>p.Z.getChannel(n),[n]),R=(0,l.e7)([_.Z],()=>_.Z.getGuild(null==U?void 0:U.getGuildId()),[U]),w=(0,l.e7)([p.Z],()=>p.Z.getChannel(null==U?void 0:U.parent_id),[U]),j=null===(t=S[0])||void 0===t?void 0:t.item,[O,N]=i.useState(null);i.useEffect(()=>{null!=j&&(0,m.Fq)(j.file,(e,t)=>N(e),b.dG)},[j]);let z=null!=j&&null!=O?{src:O,width:x.TJ,height:x.Lp,spoiler:S[0].spoiler,alt:S[0].description}:null,[k,B]=i.useState(!1),F=i.useCallback(()=>{(0,y.xI)({added:!1}),P(),L()},[P,L]),G=i.useCallback(()=>{null!=U&&null!=R&&((0,y.xI)({added:!0}),function(e){let{thread:t,attachments:n,setIsUploading:a,guild:i,onClose:l}=e,s=new c.Z(I.ANM.MESSAGE(t.id,C.default.castChannelIdAsMessageId(t.id)),"PATCH");s.on("start",()=>{a(!0)}),s.on("progress",e=>{let o=(0,f.dg)(i.id);e.currentSize>o&&(s.cancel(),a(!1),l(),(0,E.G)(t,(0,v.KZ)(n)))}),s.on("error",(e,n,i)=>{a(!1),n===I.evJ.EXPLICIT_CONTENT&&(l(),o.Z.sendExplicitMediaClydeError(t.id,null==i?void 0:i.attachments,u.UU.EXPLICIT_MEDIA_ADD_MEDIA_TO_FORUM_POST_BLOCKED),r.Z.clearAll(t.id,g.d.ChannelMessage))}),s.on("complete",()=>{a(!1),l(),r.Z.clearAll(t.id,g.d.ChannelMessage)});let d=h.Z.getMessages(t.id).get(C.default.castChannelIdAsMessageId(t.id)),m=null!=d?d.attachments:[];s.uploadFiles(n,{attachments:[...m]},{addFilesTo:"attachments"})}({thread:U,attachments:S,setIsUploading:B,guild:R,onClose:L}))},[U,S,B,R,L]);return null==w?null:(0,a.jsxs)(s.Y0X,{transitionState:D,size:s.CgR.SMALL,className:A.modalRoot,"aria-labelledby":Z,children:[(0,a.jsxs)(s.hzk,{className:A.modal,children:[(0,a.jsx)(s.X6q,{variant:"heading-md/semibold",className:A.header,id:Z,children:M.intl.string(M.t.hMWWMT)}),(0,a.jsx)(s.Text,{variant:"text-md/normal",className:A.__invalid_body,children:M.intl.string(M.t.zMsUsr)}),(0,a.jsx)("div",{className:A.forumPost,children:(0,a.jsx)(T.oL,{channel:w,children:(0,a.jsx)(x.ZP,{threadId:n,goToThread:b.dG,overrideMedia:z})})})]}),(0,a.jsxs)(s.mzw,{className:A.modalFooter,children:[(0,a.jsx)(s.zxk,{look:s.zxk.Looks.BLANK,className:A.cancelButton,disabled:k,onClick:L,children:M.intl.string(M.t["ETE/oK"])}),(0,a.jsx)(s.zxk,{color:s.zxk.Colors.PRIMARY,className:A.dontAddButton,disabled:k,onClick:F,children:M.intl.string(M.t["8rKVHB"])}),(0,a.jsx)(s.zxk,{color:s.zxk.Colors.BRAND,className:A.__invalid_button,submitting:k,onClick:G,autoFocus:!0,children:M.intl.string(M.t.d611xM)})]})]})}},479099:function(e,t,n){n.d(t,{Z:()=>v,f:()=>y}),n(47120);var a,i=n(200651),l=n(192379),s=n(120356),o=n.n(s),r=n(91192),c=n(442837),d=n(481060),u=n(239091),m=n(596454),p=n(607070),g=n(339085),_=n(695346),h=n(572004),f=n(388032),C=n(352271),E=((a=E||{})[a.SMALL=0]="SMALL",a[a.MEDIUM=1]="MEDIUM",a);function v(e){let{tag:t,size:a=1,disabled:s,className:E,onClick:v,onRemove:y,selected:x,ariaLabel:T}=e,{name:I,emojiId:b,emojiName:M}=t,A=null!=y,[S,P]=l.useState(!1),D=(0,c.e7)([g.ZP],()=>null!=b?g.ZP.getUsableCustomEmojiById(b):null),L=A||null!=v,Z=(!A||!S)&&(null!=b||null!=M),U=0===a,R=l.useRef(null),w=(0,c.e7)([p.Z],()=>p.Z.keyboardModeEnabled),j=e=>{let a=_.Sb.getSetting();h.wS&&a&&(0,u.jW)(e,async()=>{let{default:e}=await n.e("29646").then(n.bind(n,955116));return n=>(0,i.jsx)(e,{...n,tag:t})})},O=(0,i.jsxs)(i.Fragment,{children:[Z?(0,i.jsx)(m.Z,{className:o()(C.emoji,{[C.small]:U}),emojiId:b,emojiName:M,animated:!!(null==D?void 0:D.animated),size:"reaction"}):null,S&&A&&(0,i.jsx)("div",{className:C.closeCircle,children:(0,i.jsx)(d.Dio,{size:"md",color:"currentColor",className:C.close})}),(0,i.jsx)(d.Text,{variant:U?"text-xs/semibold":"text-sm/semibold",lineClamp:1,color:"currentColor",children:I})]}),N={key:t.id,className:o()(C.pill,{[C.disabled]:s,[C.clickable]:L,[C.small]:U,[C.selected]:x},E),onClick:e=>{null==v||v(e),null==y||y(t),w||null==R.current||R.current.blur()},onContextMenu:e=>j(e),onMouseEnter:()=>A&&P(!0),onMouseLeave:()=>A&&P(!1)},z=(0,r.JA)("forum-tag-".concat(t.id));return L?(0,i.jsx)(d.P3F,{...z,innerRef:R,focusProps:{ringTarget:R},"aria-label":null!=T?T:f.intl.formatToPlainString(f.t.iyRTLi,{tagName:I}),role:"button","aria-pressed":x,...N,children:O}):(0,i.jsx)("div",{...N,children:O})}function y(e){let{tags:t,count:n,size:a=1}=e,l=0===a;return(0,i.jsx)(d.ua7,{"aria-label":f.intl.string(f.t["P/y+sr"]),text:(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)(v,{tag:e,className:C.tooltipPill,size:v.Sizes.SMALL},e.id))}),children:e=>(0,i.jsx)("div",{...e,className:o()(C.pill,{[C.small]:l}),children:(0,i.jsxs)(d.Text,{variant:l?"text-xs/semibold":"text-sm/semibold",children:["+",n]})})})}v.Sizes=E},71619:function(e,t,n){n.d(t,{AB:()=>o,ZP:()=>d,s5:()=>u});var a=n(442837),i=n(271383),l=n(594174),s=n(69882);function o(e){let t=(0,a.e7)([l.default],()=>l.default.getCurrentUser());return d(null==t?void 0:t.id,e)}function r(e,t,n){return null!=t&&null!=e?n.getMember(t,e):null}function c(e){var t;return[null!==(t=null==e?void 0:e.communicationDisabledUntil)&&void 0!==t?t:null,(0,s.b)(e)]}function d(e,t){return c((0,a.e7)([i.ZP],()=>r(e,t,i.ZP),[t,e]))}function u(e,t){return c(r(e,t,i.ZP))}},453687:function(e,t,n){n.d(t,{Dv:()=>c,Gq:()=>o,Gx:()=>p,XX:()=>r,bX:()=>u,bY:()=>d,iG:()=>m,ut:()=>s});var a=n(446108),i=n(901461),l=n(981631);function s(e){return"message-content-".concat(e.id)}function o(e){return"message-reply-context-".concat(e.id)}function r(e,t){let n=null!=t?t:e.id;return"message-username-".concat(n)}function c(e){return"message-timestamp-".concat(e.id)}function d(e){return"message-reactions-".concat(e.id)}function u(e){return"message-accessories-".concat(e.id)}function m(e,t,n){let d=e.type===l.uaV.REPLY&&null!=e.messageReference,m=e.embeds.length>0,p=e.attachments.length>0,g=e.stickerItems.length>0,_=e.codedLinks.length>0,h=e.hasFlag(l.iLy.HAS_THREAD),f=m||p||g||_||h||e.type===l.uaV.THREAD_CREATED,C=m&&e.content===e.embeds[0].url&&e.embeds[0].type===l.hBH.GIFV,E=e.type!==l.uaV.DEFAULT||!C&&""!==e.content,v=(0,i.Z)(e),y=!v&&(null==n?void 0:n.hasTimestamp)!==!1,x=r(e,t),T=o(e),I=v?"":"".concat(d?T:x," ").concat(a.Z0);if(E){let t=s(e);I+=" ".concat(t)}if(f){let t=u(e);I+=" ".concat(t)}if(y){let t=c(e);I+=" ".concat(a.fy," ").concat(t)}return I.trim()}function p(e){if(0===e.reactions.length)return;let t=d(e);return"".concat(a.Mb," ").concat(t)}},930282:function(e,t,n){n.d(t,{HR:()=>f,L5:()=>h,ZP:()=>C});var a=n(200651),i=n(192379),l=n(120356),s=n.n(l),o=n(653603),r=n.n(o),c=n(902704),d=n(453687),u=n(318713),m=n(981631),p=n(388032),g=n(732175),_=n(663362);function h(e,t){return e.type===m.uaV.VOICE_HANGOUT_INVITE?"":e.hasFlag(m.iLy.SOURCE_MESSAGE_DELETED)?p.intl.string(p.t.JOtgS0):t}function f(e,t){var n,a;let{message:i}=t,{message:l}=e;return(0,c.Z)(e,t,["message"])&&i.content===l.content&&i.state===l.state&&(null===(n=i.editedTimestamp)||void 0===n?void 0:n.toString())===(null===(a=l.editedTimestamp)||void 0===a?void 0:a.toString())}let C=i.memo(function(e){var t;let{className:n,message:l,children:o,content:c,onUpdate:f,contentRef:C}=e,E=l.isEdited(),v=l.state===m.yb.SEND_FAILED,y=l.state===m.yb.SENDING,x=l.isCommandType(),T=null===(t=l.editedTimestamp)||void 0===t?void 0:t.toString(),I=i.useRef(!1);return i.useLayoutEffect(()=>{I.current?null!=f&&f():I.current=!0},[f,l.content,c,T,o]),(0,a.jsxs)("div",{id:(0,d.ut)(l),ref:C,className:s()(n,_.markup,{[g.messageContent]:!0,[g.isSending]:y&&!x,[g.markupRtl]:"rtl"===r()(l.content),[g.isFailed]:v,[g.isUnsupported]:l.isUnsupported}),children:[null!=o?o:h(l,c),E&&null!=l.editedTimestamp&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(u.Z,{timestamp:l.editedTimestamp,isEdited:!0,isInline:!1,children:(0,a.jsxs)("span",{className:g.edited,children:["(",p.intl.string(p.t.C8sXIC),")"]})})]})]})},f)},91047:function(e,t,n){n.d(t,{Pv:()=>l,_j:()=>s,nm:()=>o,xS:()=>r}),n(411104);var a=n(200651);n(192379);var i=n(239091);function l(e,t,l){l.isGroupDM()?(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("50506"),n.e("79695"),n.e("51269"),n.e("13351"),n.e("33862"),n.e("98783"),n.e("70032")]).then(n.bind(n,354589));return n=>(0,a.jsx)(e,{...n,user:t,channel:l})}):l.isDM()?(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("50506"),n.e("79695"),n.e("25292"),n.e("51269"),n.e("90508"),n.e("13351"),n.e("33862"),n.e("70205"),n.e("98783"),n.e("75878"),n.e("56826"),n.e("86631")]).then(n.bind(n,131404));return n=>(0,a.jsx)(e,{...n,user:t,channel:l,showMute:!1,targetIsUser:!0})}):null!=l.guild_id?(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("50506"),n.e("79695"),n.e("51269"),n.e("13351"),n.e("33862"),n.e("98783"),n.e("7717"),n.e("71027")]).then(n.bind(n,757387));return n=>(0,a.jsx)(e,{...n,user:t,channel:l,guildId:l.guild_id})}):(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("34272")]).then(n.bind(n,881351));return n=>(0,a.jsx)(e,{...n,user:t})})}function s(e,t){let{user:l,channel:s,moderationAlertId:o,guildId:r,...c}=t;if((null==s?void 0:s.isGroupDM())||(null==s?void 0:s.isDM()))throw Error("Cannot moderate user in DM or group DM");let d=null!=r?r:null==s?void 0:s.getGuildId();null!=d&&(0,i.jW)(e,async()=>{let{default:e}=await n.e("16120").then(n.bind(n,833737));return t=>(0,a.jsx)(e,{...t,user:l,channelId:null==s?void 0:s.id,guildId:d,moderationAlertId:o,...c})})}function o(e,t){let{user:l,guildId:s,analyticsLocations:o,onCloseContextMenu:r,isViewOnly:c}=t;(0,i.jW)(e,async()=>{let{default:e}=await n.e("45130").then(n.bind(n,246389));return t=>(0,a.jsx)(e,{...t,user:l,guildId:s,analyticsLocations:o,onCloseContextMenu:r,isViewOnly:c})})}function r(e,t,l){null!=l&&(0,i.jW)(e,async()=>{let{default:e}=await n.e("50331").then(n.bind(n,158195));return t=>(0,a.jsx)(e,{...t,guildId:l})})}},127654:function(e,t,n){n.d(t,{G:()=>v,d:()=>y}),n(653041),n(47120),n(411104);var a=n(475179),i=n(166459),l=n(966390),s=n(531643),o=n(476326),r=n(367907),c=n(358221),d=n(117530),u=n(594174),m=n(626135),p=n(403182),g=n(74538),_=n(979956),h=n(981631),f=n(959517),C=n(474936),E=n(388032);function v(e,t){let n=u.default.getCurrentUser(),a=e.getGuildId(),i=p.dg(a),l=[],o=0,c=0,d=0,m=[];for(let e of t)d+=1,o+=e.size,l.push(e.size),e.size>c&&(c=e.size),null!=e.type?m.push(e.type):m.push("unknown");if(c>i){(0,r.yw)(h.rMx.FILE_SIZE_LIMIT_EXCEEDED,{channel_id:e.id,guild_id:a,user_individual_file_size_limit:i,pre_compression_file_sizes:l,pre_compression_aggregate_file_size:o,num_attachments:d,error_type:f.xi.UPLOAD_ATTACHMENT_MAX_SIZE_ERROR,attachment_mimetypes:m}),(0,s.openUploadError)({title:E.intl.string(E.t["/tGlcn"]),help:(0,_.BK)(n,a),showPremiumUpsell:!(0,g.M5)(n,C.p9.TIER_2),fileSize:c});return}(0,s.openUploadError)({title:E.intl.string(E.t["/tGlcn"]),help:E.intl.formatToPlainString(E.t.tUOJdH,{maxSize:p.Ng(p.OC())})})}function y(e,t,n){let{filesMetadata:r,requireConfirm:u=!0,showLargeMessageDialog:p=!1,isThumbnail:g=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.length<1)return;if(null!=r&&r.length!==e.length)throw Error("Unexpected mismatch between files and file metadata");let f=t.getGuildId();if((0,_.Bf)(e,f)){v(t,e);return}if(d.Z.getUploadCount(t.id,n)+e.length>h.dN1){(0,s.openUploadError)({title:E.intl.string(E.t.wOr6hI),help:E.intl.formatToPlainString(E.t["qqyp/f"],{limit:h.dN1})}),m.default.track(h.rMx.UPLOAD_FILE_LIMIT_ERROR,{existing_count:d.Z.getUploadCount(t.id,n),new_count:e.length});return}if(t.type!==h.d4z.GUILD_VOICE&&t.type!==h.d4z.GUILD_STAGE_VOICE||c.Z.getChatOpen(t.id)||a.Z.updateChatOpen(t.id,!0),u){let a=Array.from(e).map((e,t)=>({file:e,platform:o.ow.WEB,isThumbnail:g,...null==r?void 0:r[t]}));i.Z.addFiles({files:a,channelId:t.id,showLargeMessageDialog:p,draftType:n})}else l.Z.instantBatchUpload({channelId:t.id,files:e,draftType:n,isThumbnail:g,filesMetadata:r})}},979956:function(e,t,n){n.d(t,{BK:()=>r,Bf:()=>c,KZ:()=>d}),n(724458),n(653041);var a=n(476326),i=n(403182),l=n(74538),s=n(474936),o=n(388032);function r(e,t){let n=i.Ng(i.dg(t));return l.ZP.isPremium(e,s.p9.TIER_2)?o.intl.formatToPlainString(o.t.fxEKdX,{maxSize:n}):l.ZP.isPremium(e,s.p9.TIER_1)?o.intl.formatToPlainString(o.t["Nr+Lsb"],{maxSize:n}):o.intl.formatToPlainString(o.t.fxEKdX,{maxSize:n})}function c(e,t){return i.nA(e,t)||i.vY(e)}function d(e){return e.reduce((e,t)=>(t.item.platform===a.ow.WEB&&e.push(t.item.file),e),[])}},322079:function(e,t,n){e.exports={modalRoot:"modalRoot__02068",modal:"modal__02068",modalFooter:"modalFooter__02068",header:"header__02068",forumPost:"forumPost__02068",cancelButton:"cancelButton__02068",dontAddButton:"dontAddButton__02068"}},352271:function(e,t,n){e.exports={pill:"pill_a2c9e8",clickable:"clickable_a2c9e8",disabled:"disabled_a2c9e8",small:"small_a2c9e8",selected:"selected_a2c9e8",emoji:"emoji_a2c9e8",closeCircle:"closeCircle_a2c9e8 emoji_a2c9e8",close:"close_a2c9e8",tooltipPill:"tooltipPill_a2c9e8"}},732175:function(e,t,n){var a={wrapper:"wrapper_c19a55",compact:"compact_c19a55",cozy:"cozy_c19a55",contentOnly:"contentOnly_c19a55",repliedMessage:"repliedMessage_c19a55",executedCommand:"executedCommand_c19a55",threadMessageAccessory:"threadMessageAccessory_c19a55",latin12CompactTimeStamp:"latin12CompactTimeStamp_c19a55",latin24CompactTimeStamp:"latin24CompactTimeStamp_c19a55",asianCompactTimeStamp:"asianCompactTimeStamp_c19a55",contextCommandMessage:"contextCommandMessage_c19a55",messageSpine:"messageSpine_c19a55",repliedMessageClickableSpine:"repliedMessageClickableSpine_c19a55",repliedMessageContentHovered:"repliedMessageContentHovered_c19a55",executedCommandAvatar:"executedCommandAvatar_c19a55",replyAvatar:"replyAvatar_c19a55",replyBadge:"replyBadge_c19a55",replyChatIconContainer:"replyChatIconContainer_c19a55",threadMessageAccessoryAvatar:"threadMessageAccessoryAvatar_c19a55",replyIcon:"replyIcon_c19a55",clanTagChiplet:"clanTagChiplet_c19a55",ticketIcon:"ticketIcon_c19a55",userJoinSystemMessageIcon:"userJoinSystemMessageIcon_c19a55",commandIcon:"commandIcon_c19a55",commandName:"commandName_c19a55",username:"username_c19a55 "+n(24968).desaturateUserColors,roleDot:"roleDot_c19a55",botTag:"botTag_c19a55",appsIcon:"appsIcon_c19a55",appLauncherOnboardingCommandName:"appLauncherOnboardingCommandName_c19a55",targetUsername:"targetUsername_c19a55",executedCommandSeparator:"executedCommandSeparator_c19a55",repliedTextPreview:"repliedTextPreview_c19a55",threadMessageAccessoryPreview:"threadMessageAccessoryPreview_c19a55",repliedTextContent:"repliedTextContent_c19a55",clickable:"clickable_c19a55",repliedMessageClickableSpineHovered:"repliedMessageClickableSpineHovered_c19a55",threadMessageAccessoryContent:"threadMessageAccessoryContent_c19a55",repliedTextPlaceholder:"repliedTextPlaceholder_c19a55",threadMessageAccessoryPlaceholder:"threadMessageAccessoryPlaceholder_c19a55",repliedTextContentTrailingIcon:"repliedTextContentTrailingIcon_c19a55",threadMessageAccessoryContentTrailingIcon:"threadMessageAccessoryContentTrailingIcon_c19a55",repliedTextContentLeadingIcon:"repliedTextContentLeadingIcon_c19a55",threadMessageAccessoryContentLeadingIcon:"threadMessageAccessoryContentLeadingIcon_c19a55",contents:"contents_c19a55",zalgo:"zalgo_c19a55",messageContent:"messageContent_c19a55",header:"header_c19a55",buttonContainer:"buttonContainer_c19a55",avatar:"avatar_c19a55",avatarDecoration:"avatarDecoration_c19a55",roleIcon:"roleIcon_c19a55",timestamp:"timestamp_c19a55",timestampInline:"timestampInline_c19a55",alt:"alt_c19a55",timestampTooltip:"timestampTooltip_c19a55",timestampVisibleOnHover:"timestampVisibleOnHover_c19a55",nitroAuthorBadgeTootip:"nitroAuthorBadgeTootip_c19a55",headerText:"headerText_c19a55",hasRoleIcon:"hasRoleIcon_c19a55",hasBadges:"hasBadges_c19a55",botTagCompact:"botTagCompact_c19a55 botTag_c19a55",botTagCozy:"botTagCozy_c19a55 botTag_c19a55",nitroBadgeSvg:"nitroBadgeSvg_c19a55 botTag_c19a55",nitroAuthorBadgeContainer:"nitroAuthorBadgeContainer_c19a55",separator:"separator_c19a55",hasThread:"hasThread_c19a55",isSystemMessage:"isSystemMessage_c19a55",hasReply:"hasReply_c19a55",markupRtl:"markupRtl_c19a55",isSending:"isSending_c19a55",isFailed:"isFailed_c19a55",isUnsupported:"isUnsupported_c19a55",edited:"edited_c19a55",communicationDisabled:"communicationDisabled_c19a55",compactCommunicationDisabled:"compactCommunicationDisabled_c19a55",communicationDisabledOpacity:"communicationDisabledOpacity_c19a55",badgesContainer:"badgesContainer_c19a55"};e.exports=a},511464:function(e,t,n){e.exports={gameIcon:"gameIcon__5a366",gameMessageTooltip:"gameMessageTooltip__5a366",gameMessageTooltipContent:"gameMessageTooltipContent__5a366",textContainer:"textContainer__5a366",timestamp:"timestamp__5a366"}},697741:function(e,t,n){n.d(t,{$:()=>M});let a={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},i={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},l="[aeiouy]",s="([^aeiou][^aeiouy]*)",o="("+l+"[aeiou]*)",r=RegExp("^"+s+"?"+o+s),c=RegExp("^"+s+"?"+o+s+o+"?$"),d=RegExp("^"+s+"?("+o+s+"){2,}"),u=RegExp("^"+s+"?"+l),m=RegExp("^"+s+l+"[^aeiouwxy]$"),p=/ll$/,g=/^(.+?)e$/,_=/^(.+?)y$/,h=/^(.+?(s|t))(ion)$/,f=/^(.+?)(ed|ing)$/,C=/(at|bl|iz)$/,E=/^(.+?)eed$/,v=/^.+?[^s]s$/,y=/^.+?(ss|i)es$/,x=/([^aeiouylsz])\1$/,T=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,I=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,b=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;function M(e){let t,n=String(e).toLowerCase();if(n.length<3)return n;let l=!1;return 121===n.codePointAt(0)&&(l=!0,n="Y"+n.slice(1)),y.test(n)?n=n.slice(0,-2):v.test(n)&&(n=n.slice(0,-1)),(t=E.exec(n))?r.test(t[1])&&(n=n.slice(0,-1)):(t=f.exec(n))&&u.test(t[1])&&(n=t[1],C.test(n)?n+="e":x.test(n)?n=n.slice(0,-1):m.test(n)&&(n+="e")),(t=_.exec(n))&&u.test(t[1])&&(n=t[1]+"i"),(t=T.exec(n))&&r.test(t[1])&&(n=t[1]+a[t[2]]),(t=I.exec(n))&&r.test(t[1])&&(n=t[1]+i[t[2]]),(t=b.exec(n))?d.test(t[1])&&(n=t[1]):(t=h.exec(n))&&d.test(t[1])&&(n=t[1]),(t=g.exec(n))&&(d.test(t[1])||c.test(t[1])&&!m.test(t[1]))&&(n=t[1]),p.test(n)&&d.test(n)&&(n=n.slice(0,-1)),l&&(n="y"+n.slice(1)),n}}}]);
//# sourceMappingURL=0372819f5418c1cb.js.map