"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["18543"],{725436:function(e,t,n){n.d(t,{m:()=>u});var l=n(454585),r=n(551452),i=n(532901);let a={...l.Z.guildEventRules.link,react:(0,i.Z)({enableBuildOverrides:!1,mustConfirmExternalLink:!0}).react},s={...l.Z.guildEventRules.channelMention,react:(0,r.Z)({enableBuildOverrides:!1,shouldCloseDefaultModals:!0,shouldStopPropagation:!0}).react},u=l.Z.reactParserFor({...l.Z.guildEventRules,link:a,channelMention:s})},315416:function(e,t,n){n.d(t,{Z:()=>s});var l=n(192379),r=n(442837),i=n(897285),a=n(924301);function s(e,t,n){let s=(0,r.e7)([a.ZP],()=>a.ZP.getUserCount(t,n));return(0,l.useEffect)(()=>{null!=e&&null!=t&&i.Z.getGuildEventUserCounts(e,t,null!=n?[n]:[])},[t,e,n]),s}},405613:function(e,t,n){n.d(t,{Z:()=>i});var l=n(134432),r=n(981631);function i(e,t){let n;if(null==e.image)return null;null==t&&(t=window.screen.width*(0,l.x_)()),t=(0,l.oO)(t);let i=window.GLOBAL_ENV.CDN_HOST;if(null!=i)n="".concat("https:","//").concat(i,"/guild-events/").concat(e.id,"/").concat(e.image);else n=location.protocol+window.GLOBAL_ENV.API_ENDPOINT+r.ANM.GUILD_EVENT_IMAGE(e.id,e.image,"png");return n+"?size=".concat(t)}},391174:function(e,t,n){n.d(t,{Z:()=>o});var l=n(200651),r=n(192379),i=n(120356),a=n.n(i),s=n(725436),u=n(952729),c=n(663362);function o(e){let{description:t,className:n,guildId:i,truncate:o=!0}=e,d=r.useMemo(()=>(0,s.m)(t,!0,{guildId:i,allowLinks:!0,allowHeading:!0,allowList:!0}),[t,i]);return(0,l.jsx)("div",{className:a()(u.descriptionText,n,c.markup,{[u.truncate]:o}),children:d})}},95291:function(e,t,n){n.d(t,{Z:()=>s});var l=n(200651);n(192379);var r=n(120356),i=n.n(r),a=n(987657);function s(e){let{source:t,className:n}=e;return null==t?null:(0,l.jsx)("div",{className:i()(a.container,n),style:{backgroundImage:"url(".concat(t,")")}})}},742593:function(e,t,n){n.d(t,{HZ:()=>j,Rf:()=>p,ZP:()=>S});var l=n(200651);n(192379);var r=n(120356),i=n.n(r),a=n(442837),s=n(481060),u=n(540059),c=n(271383),o=n(51144),d=n(894017),m=n(79874),x=n(315416),h=n(236373),v=n(854698),g=n(391174),N=n(95291),f=n(390966),E=n(388032),T=n(275065);function j(e){let{className:t,creator:n,guildId:r,isNew:u,isHub:g=!1,guildEvent:N,eventPreview:j,recurrenceId:p}=e,S=(0,x.Z)(r,N.id,p),Z=null!=N?N:j,b=(0,a.e7)([c.ZP],()=>c.ZP.getNick(r,null==n?void 0:n.id),[r,n]);p=null==Z||null!=p?p:(0,v.DK)(Z);let{startTime:I}=(0,m.ZP)(null!=N?N:j,p),w=(0,d.Z)(p,N.id),P=(null==Z?void 0:Z.scheduled_start_time)!=null?(0,v.lh)(w,I,new Date(Z.scheduled_start_time)):null;if(null==Z)return null;let{entity_type:_,status:C,recurrence_rule:L}=Z;return(0,l.jsxs)("div",{className:i()(T.statusContainer,t),children:[(0,l.jsx)(f.z,{startTime:I.toISOString(),status:null!=P?P:C,eventType:_,isNew:u,recurrenceRule:(0,h.KV)(L),guildEventId:N.id,recurrenceId:p}),(0,l.jsx)("div",{className:T.spacer}),!g&&null!=n&&(0,l.jsx)(s.ua7,{text:E.intl.formatToPlainString(E.t["+3iypa"],{username:null!=b?b:o.ZP.getName(n)}),children:e=>(0,l.jsx)(s.qEK,{...e,src:n.getAvatarURL(r,20),size:s.EFr.SIZE_20,"aria-label":null!=b?b:n.username,className:T.creator})}),(0,l.jsx)(s.ua7,{text:E.intl.formatToPlainString(E.t["+DLsDw"],{count:S}),children:e=>(0,l.jsxs)("div",{className:T.rsvpCount,...e,children:[(0,l.jsx)(s.BFJ,{size:"xxs",color:"currentColor",className:T.rsvpIcon}),(0,l.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",children:S})]})})]})}function p(e){let{headerVariant:t="heading-lg/medium",descriptionClassName:n,name:r,description:a,truncate:u,guildId:c,imageSource:o}=e;return(0,l.jsxs)("div",{className:i()({[T.withThumbnail]:null!=o}),children:[(0,l.jsxs)("div",{className:i()({[T.descriptionWithThumbnail]:null!=o}),children:[(0,l.jsx)(s.X6q,{variant:t,selectable:!0,className:T.eventName,children:r}),null!=a&&(0,l.jsx)(g.Z,{description:a,className:i()(n,T.description),truncate:u,guildId:c})]}),null!=o&&(0,l.jsx)("div",{className:T.thumbnailContainer,children:(0,l.jsx)(N.Z,{source:o,className:T.thumbnail})})]})}function S(e){let{headerVariant:t,descriptionClassName:n,creator:r,name:i,description:a,imageSource:s,isHub:c=!1,truncate:o,guildId:d,isNew:m,guildEvent:x,eventPreview:h,recurrenceId:v}=e,g=(0,u.Q3)("GuildEventDetails");return(0,l.jsxs)("div",{className:T.container,children:[g&&null!=s?(0,l.jsx)("div",{className:T.thumbnailContainer,children:(0,l.jsx)(N.Z,{source:s,className:T.thumbnail})}):null,(0,l.jsx)(j,{className:T.eventInfoStatusContainer,creator:r,guildId:d,isHub:c,isNew:m,guildEvent:x,eventPreview:h,recurrenceId:v}),(0,l.jsx)(p,{name:i,description:a,headerVariant:t,descriptionClassName:n,truncate:o,guildId:d,imageSource:g?null:s})]})}},390966:function(e,t,n){n.d(t,{z:()=>j}),n(47120);var l=n(200651),r=n(192379),i=n(120356),a=n.n(i),s=n(913527),u=n.n(s),c=n(692547),o=n(481060),d=n(44315),m=n(894017),x=n(854698),h=n(849464),v=n(765305),g=n(231338),N=n(388032),f=n(445269);function E(){return(0,l.jsx)(o.IGR,{className:f.newBadge,color:c.Z.unsafe_rawColors.BRAND_260.css,text:(0,l.jsx)(o.Text,{className:f.newBadgeText,variant:"text-xs/bold",children:N.intl.string(N.t.y2b7CA)})})}function T(e){let{children:t,className:n,tooltipText:r}=e;return(0,l.jsx)("div",{className:a()(f.eventStatusContainer,n),children:(0,l.jsx)(o.ua7,{position:"right",text:r,shouldShow:null!=r,children:e=>(0,l.jsx)("div",{...e,className:a()(f.eventStatusContainer,n),children:t})})})}function j(e){let{startTime:t,status:n,eventType:i,className:s,endTime:c,liveText:j,textVariant:p="text-sm/semibold",isNew:S,recurrenceRule:Z,guildEventId:b,recurrenceId:I}=e,w=(0,d.O0)(g.tP.TEXT_BRAND),P=(0,d.O0)(g.tP.TEXT_POSITIVE),_=(0,d.O0)(g.tP.TEXT_DANGER);null==j&&(j=i===v.WX.EXTERNAL?N.intl.string(N.t.IyZxjI):N.intl.string(N.t["X2K3//"]));let C=(0,m.Z)(I,b),[{startDateTimeString:L,endDateTimeString:D,currentOrPastEvent:A,upcomingEvent:O,diffMinutes:R},k]=r.useState((0,x.ub)(t,c));r.useEffect(()=>{k((0,x.ub)(t,c));let e=setInterval(()=>k((0,x.ub)(t,c)),1e3);return()=>{clearInterval(e)}},[t,c]);let z=L;null!=D&&""!==D&&(z=N.intl.formatToPlainString(N.t.tXbu7O,{start:L,end:D}));let y=r.useMemo(()=>n===v.p1.CANCELED||(null==C?void 0:C.is_canceled)?5:n===v.p1.ACTIVE?3:v.$I.has(n)?4:A?2:O?1:0,[n,null==C?void 0:C.is_canceled,A,O]),B=function(e,t,n,r,i){switch(e){case 1:return i>0?N.intl.formatToPlainString(N.t.PQlCWl,{minutes:i}):N.intl.string(N.t.WINqKS);case 2:return N.intl.string(N.t.WINqKS);case 3:return null!=r&&""!==r?N.intl.format(N.t.vHYgJS,{start:n,startHook:e=>(0,l.jsx)(o.Text,{color:"text-positive",variant:"text-sm/semibold",className:f.liveEventEndTime,children:e}),end:r}):null!=n?n:"";default:return t}}(y,z,j,D,R),{Icon:K,iconColor:X,textColor:H,tooltipText:M}=r.useMemo(()=>(function(e){let t,{timeStatus:n,textBrand:l,textPositive:r,textDanger:i,endDateTimeString:a,startDateTimeString:s}=e,u=o.Que,c=l,d="header-secondary";switch(n){case 3:c=r,d=null!=a?void 0:"text-positive";break;case 4:u=o.T39;break;case 2:case 1:d="text-brand",t=s;break;case 5:c=i}return{Icon:u,iconColor:c.hex,textColor:d,tooltipText:t}})({timeStatus:y,textBrand:w,textPositive:P,textDanger:_,endDateTimeString:D,startDateTimeString:L}),[y,w,P,_,D,L]),W=null;if(null!=Z){let e=(0,x.Ho)(Z);W=N.intl.formatToPlainString(N.t.HmKEqa,{recurrenceRule:e.toText()});let n=u()(t);W=function(e,t){let n=t.toDate(),l=n.toLocaleString(N.intl.currentLocale,{weekday:"long"});switch(e){case h.z.WEEKLY:return N.intl.formatToPlainString(N.t.xQM9X1,{weekday:l});case h.z.BIWEEKLY:return N.intl.formatToPlainString(N.t.RYscaW,{weekday:l});case h.z.MONTHLY:let r=Math.ceil(n.getDate()/7);return N.intl.formatToPlainString(N.t["4ZN9Ag"],{weekday:l,nth:r});case h.z.YEARLY:return N.intl.formatToPlainString(N.t["rXUS+v"],{date:n.toLocaleString(N.intl.currentLocale,{month:"short",day:"2-digit"})});case h.z.WEEKDAY_ONLY:return N.intl.string(N.t["2BX6bG"]);case h.z.WEEKEND_ONLY:return N.intl.string(N.t["IEi+R0"]);default:return null}}((0,x.zi)(n,Z),n)}return(0,l.jsxs)(T,{className:a()(s,{[f.isRecurring]:null!=W}),tooltipText:M,children:[S&&n===v.p1.SCHEDULED?(0,l.jsx)(E,{}):(0,l.jsx)(K,{color:X,size:"custom",width:20,height:20}),(0,l.jsxs)("div",{className:f.eventStatusLabel,children:[(0,l.jsx)(o.Text,{color:H,variant:p,children:B}),null!=W&&(0,l.jsx)(o.Text,{color:"header-secondary",variant:"text-xs/normal",children:W})]})]})}}}]);
//# sourceMappingURL=039529735df201b2.js.map