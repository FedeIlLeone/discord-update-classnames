"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["25526"],{767688:function(e){e.exports="/assets/05ec02d79a02c867.png"},935369:function(e,t,n){n.d(t,{Z:()=>r}),n(47120);var i=n(192379),s=n(479531),a=n(388032);function r(e){let[t,n]=i.useState(!1),[r,l]=i.useState(null);return[i.useCallback(async function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];try{return l(null),n(!0),await e(...i)}catch(e){e.message!==a.intl.string(a.t.N2yb9f)&&l(e instanceof s.Z?e:new s.Z(e))}finally{n(!1)}},[e]),{loading:t,error:r}]}},707515:function(e,t,n){n.d(t,{_:()=>a});var i=n(425128),s=n(434382);let a=async e=>{await i._b(e),await s.Z.fetchLeaderboard({guildId:e.guildId,leaderboardId:e.leaderboardId,force:!0})}},262918:function(e,t,n){n.d(t,{default:()=>j}),n(47120),n(653041);var i=n(200651),s=n(192379),a=n(512722),r=n.n(a),l=n(902704),o=n(481060),d=n(935369),c=n(367907),u=n(707515),h=n(528567),x=n(873128),_=n(647529),g=n(986398),m=n(981631),f=n(388032),w=n(55340);function j(e){let{guildId:t,leaderboardId:n,...a}=e,j=(0,x.Z)({guildId:t,leaderboardId:n});r()(null!=j,"Leaderboard must be loaded before opening the settings modal");let b=j.guild_settings,[v,C]=s.useState(b.sort_by_statistic_id),[p,I]=s.useState(b.sort_desc),[N,Z]=s.useState(b.show_winner_crown),[y,{loading:S}]=(0,d.Z)(u._);s.useEffect(()=>{c.ZP.trackWithMetadata(m.rMx.OPEN_MODAL,{type:m.jXE.GUILD_LEADERBOARD_SETTINGS_MODAL})},[]);let L=v!==b.sort_by_statistic_id||p!==b.sort_desc||N!==b.show_winner_crown,k=async()=>{await y({guildId:t,leaderboardId:n,sortByStatisticId:v,sortDesc:p,showWinnerCrown:N}),a.onClose()},B=s.useMemo(()=>{let e=Object.values(j.settings.statistics).filter(e=>e.selectable_for_competition),t=[];for(let n of e)for(let e of[!0,!1])t.push({value:{sortByStatisticId:n.id,sortDesc:e},label:(0,h.s)({statisticId:n.id,sortDesc:e,aggregationType:n.aggregation_type})});return t},[j]),z=B.find(e=>(0,l.Z)(e.value,{sortByStatisticId:v,sortDesc:p}));return(0,i.jsx)(_.Z,{...a,guildId:t,title:f.intl.string(f.t.rv9GUV),buttons:(0,i.jsx)(o.zxk,{onClick:k,submitting:S,disabled:!L,children:f.intl.string(f.t.R3BPHx)}),children:(0,i.jsxs)(o.hzk,{className:w.content,children:[(0,i.jsx)(o.Text,{variant:"text-md/medium",color:"header-primary",children:f.intl.string(f.t.IQO9Fx)}),(0,i.jsx)(o.LZC,{size:8}),(0,i.jsx)(o.q4e,{placeholder:f.intl.string(f.t["g/Rr2d"]),value:null==z?void 0:z.value,options:B,onChange:e=>{let{sortByStatisticId:t,sortDesc:n}=e;C(t),I(n)}}),(0,i.jsx)("div",{className:w.divider}),(0,i.jsx)(o.vwX,{children:f.intl.string(f.t.HU4EKC)}),(0,i.jsx)(o.LZC,{size:8}),(0,i.jsx)(o.j7V,{hideBorder:!0,onChange:()=>Z(e=>!e),value:N,className:w.showWinnerCrownSwitch,children:(0,i.jsxs)("div",{className:w.showWinnerCrownTextContainer,children:[(0,i.jsx)(o.Text,{variant:"text-md/medium",color:"header-primary",children:f.intl.string(f.t.cH7QEx)}),(0,i.jsx)(g.Z,{className:w.winnerImage,leaderboard:j})]})})]})})}},647529:function(e,t,n){n.d(t,{Z:()=>x});var i=n(200651);n(192379);var s=n(442837),a=n(481060),r=n(565138),l=n(430824),o=n(63063),d=n(981631),c=n(388032),u=n(742972),h=n(767688);function x(e){let{guildId:t,title:n,transitionState:x,children:_,buttons:g,onClose:m}=e,f=(0,s.e7)([l.Z],()=>l.Z.getGuild(t));if(null==f)return null;let w=(0,i.jsx)(a.zxk,{onClick:m,children:c.intl.string(c.t.i4jeWV)});return(0,i.jsxs)(a.Y0X,{transitionState:x,size:a.CgR.SMALL,className:u.container,children:[(0,i.jsxs)(a.xBx,{separator:!1,className:u.modalHeader,children:[(0,i.jsx)("div",{className:u.gradientSplash}),(0,i.jsx)("img",{alt:"",src:h,className:u.heroImage}),(0,i.jsx)(a.LZC,{size:16}),(0,i.jsx)(a.X6q,{variant:"heading-xl/bold",color:"header-primary",className:u.title,children:n}),(0,i.jsx)(a.LZC,{size:4}),(0,i.jsxs)("div",{className:u.guildContainer,children:[(0,i.jsx)(r.Z,{size:r.Z.Sizes.SMOL,guild:f,className:u.guildIcon}),(0,i.jsx)(a.Text,{variant:"text-md/semibold",color:"text-secondary",children:f.name})]}),(0,i.jsx)(a.olH,{onClick:m,innerClassName:u.closeButton,className:u.close})]}),_,(0,i.jsxs)(a.mzw,{className:u.footer,children:[(0,i.jsx)("div",{className:u.footerButtons,children:null!=g?g:w}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"text-secondary",children:c.intl.format(c.t.zbMH0d,{link:o.Z.getArticleURL(d.BhN.GUILD_LEADERBOARD)})})]})]})}},55340:function(e,t,n){e.exports={content:"content_fd449b",divider:"divider_fd449b",showWinnerCrownSwitch:"showWinnerCrownSwitch_fd449b",showWinnerCrownTextContainer:"showWinnerCrownTextContainer_fd449b",winnerImage:"winnerImage_fd449b"}},742972:function(e,t,n){e.exports={gradientSplash:"gradientSplash__6d426",modalHeader:"modalHeader__6d426",title:"title__6d426",heroImage:"heroImage__6d426",guildContainer:"guildContainer__6d426",guildIcon:"guildIcon__6d426",closeButton:"closeButton__6d426",close:"close__6d426",footerButtons:"footerButtons__6d426",footer:"footer__6d426",container:"container__6d426"}}}]);
//# sourceMappingURL=5a4d617833813955.js.map