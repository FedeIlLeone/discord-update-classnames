"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["24642"],{279837:function(s,e,t){t.d(e,{default:()=>c}),t(47120),t(773603);var r,n=t(200651),i=t(192379),a=t(481060),l=t(388032),o=t(204905);function d(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}class h extends(r=i.PureComponent){render(){let{title:s,actionText:e,children:t,transitionState:r}=this.props,{error:d,isLoading:h,value:c}=this.state,u=i.Children.count(t)>0?(0,n.jsx)(a.Zbd,{type:a.Zbd.Types.WARNING,className:o.card,children:(0,n.jsx)(a.Text,{className:o.warning,variant:"text-md/normal",children:t})}):null;return(0,n.jsx)(a.Y0X,{transitionState:r,children:(0,n.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,n.jsx)(a.xBx,{separator:!1,children:(0,n.jsx)(a.X6q,{variant:"heading-lg/semibold",children:s})}),(0,n.jsxs)(a.hzk,{children:[u,(0,n.jsxs)(a.xJW,{title:l.intl.string(l.t["CIGa+/"]),className:o.spacing,children:[(0,n.jsx)(a.oil,{type:"password",autoComplete:"off",autoFocus:!0,value:c,onChange:this.handlePasswordChange}),null!=d&&""!==d?(0,n.jsxs)(a.Text,{variant:"text-xs/normal",color:"text-danger",className:o.error,children:[" ",d," "]}):null]})]}),(0,n.jsxs)(a.mzw,{children:[(0,n.jsx)(a.zxk,{type:"submit",disabled:h||0===c.length,children:null!=e?e:l.intl.string(l.t["cY+Ooa"])}),(0,n.jsx)(a.zxk,{onClick:this.handleCancel,look:a.zxk.Looks.LINK,color:a.zxk.Colors.PRIMARY,children:l.intl.string(l.t["ETE/oK"])})]})]})})}constructor(...s){super(...s),d(this,"state",{value:"",error:null,isLoading:!1}),d(this,"handleSubmit",s=>{s.preventDefault();let{value:e}=this.state,{handleSubmit:t,onClose:r,onError:n}=this.props;this.setState({isLoading:!0}),t(e).then(s=>r(null!=s?s:void 0),s=>{if(null!=s.body)null==n||n(s.body),!this.shouldSkipErrorMsgRender(s.body)&&(s.body.password?this.setState({error:s.body.password,isLoading:!1}):s.body.message&&this.setState({error:s.body.message,isLoading:!1}))}).finally(()=>this.setState({isLoading:!1}))}),d(this,"shouldSkipErrorMsgRender",s=>{let{skipErrorMsgAbortCode:e}=this.props;return null!=e&&(null==s?void 0:s.code)===e}),d(this,"handleCancel",()=>{let{onClose:s}=this.props;s()}),d(this,"handlePasswordChange",s=>{let{onPasswordChange:e}=this.props;null==e||e(s),this.setState({value:s})})}}d(h,"key",()=>"password-confirm-modal");let c=h},204905:function(s,e,t){s.exports={card:"card__594f1",spacing:"spacing__594f1",error:"error__594f1",warning:"warning__594f1"}}}]);
//# sourceMappingURL=de70497e04dba07c.js.map