"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["27978"],{863942:function(e,t,n){var i=n(22092);(0,n(192291).exportTypedArrayStaticMethod)("from",n(12367),i)},70519:function(e){e.exports="/assets/cd8e74fd326447bb.svg"},806848:function(e){e.exports="/assets/288fa52e49c71440.svg"},231443:function(e){e.exports="/assets/e56f37a3d877126f.svg"},512266:function(e){e.exports="/assets/4d81e06416805e7d.png"},105020:function(e){e.exports="/assets/128535a612ab443d.svg"},262467:function(e){e.exports="/assets/ee3f974e8f8dfdb6.svg"},640356:function(e){e.exports="/assets/7cf59fd4cb3b9f75.svg"},515695:function(e){e.exports="/assets/dd05fd1ea37e7747.png"},892235:function(e){e.exports="/assets/c7ab3f39104a88b0.svg"},375673:function(e){e.exports="/assets/cdb08acd52a01c53.svg"},73962:function(e){e.exports="/assets/bd1c5286b96ea2b3.svg"},689411:function(e){e.exports="/assets/d117ed9744852447.svg"},292824:function(e){e.exports="/assets/bdf03f89c231816a.svg"},2984:function(e){e.exports="/assets/131c318dd45b7aa4.svg"},575703:function(e){e.exports="/assets/d8680b1c1576ecc8.svg"},231239:function(e,t,n){n.d(t,{Z:()=>o});var i=n(990547),r=n(283693),a=n(570140),l=n(573261),s=n(981631);let o={signup:(e,t)=>l.Z.post({url:s.ANM.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:i.NetworkActionNames.HUB_WAITLIST_SIGNUP,properties:e=>{var t;let n=!1,i=null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.email_domain;return null!=i&&(n=-1!==i.split(".").indexOf("edu")),(0,r.iG)({is_edu_email:n})}},rejectWithError:!1}),sendVerificationEmail:async(e,t,n)=>(await l.Z.post({url:s.ANM.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:n,allow_multiple_guilds:t,use_verification_code:!0},trackedActionData:{event:i.NetworkActionNames.HUB_EMAIL_VERIFY_SEND,properties:e=>{var t;let n=null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.has_matching_guild;return(0,r.iG)({has_matching_guild:n})}},rejectWithError:!1})).body,async verify(e){if(null!=e)try{var t;let n=await l.Z.post({url:s.ANM.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:i.NetworkActionNames.HUB_EMAIL_VERIFY},rejectWithError:!1}),r=null===(t=n.body.guild)||void 0===t?void 0:t.id;a.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:r})}catch(e){a.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:e.body})}},async verifyCode(e,t,n){if(null!=e)try{var r;let o=await l.Z.post({url:s.ANM.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:n},trackedActionData:{event:i.NetworkActionNames.HUB_EMAIL_VERIFY},rejectWithError:!1}),c=null===(r=o.body.guild)||void 0===r?void 0:r.id;return a.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:c}),o.body}catch(e){throw a.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:e.body}),e}}}},822699:function(e,t,n){n.r(t),n.d(t,{default:()=>eN}),n(47120);var i=n(200651),r=n(192379),a=n(593473),l=n(990547),s=n(873546),o=n(442837),c=n(570140),d=n(893776),u=n(533307),h=n(447543),_=n(126399),m=n(521379),g=n(765717),p=n(267394),f=n(761305),x=n(698177),E=n(353926),I=n(409059),v=n(962220),C=n(637776),N=n(264229),b=n(677760),S=n(893607),T=n(314897),A=n(82142),R=n(701190),Z=n(626135),j=n(81063),O=n(449934),L=n(768581),y=n(625054),P=n(645499),k=n(320830),D=n(721751),w=n(718182),B=n(223543),M=n(73906),U=n(299852),F=n(39514),G=n(236446),z=n(9325),V=n(344295),K=n(781428),H=n(209411),W=n(649156),Y=n(423527),q=n(424044),J=n(479495),X=n(881317),Q=n(886806),$=n(981631),ee=n(188785),et=n(245335);n(179645),o.ZP.initialize();let en=(0,k.Z)(K.Z),ei=(0,k.Z)(H.Z),er=(0,k.Z)(V.Z),ea=(0,k.Z)(G.Z),el=(0,k.Z)(F.Z),es=(0,k.Z)(b.Z),eo=(0,k.Z)(Y.Z),ec=(0,k.Z)(w.Z),ed=(0,k.Z)(B.Z),eu=(0,k.Z)(Q.Z),eh=(0,k.Z)(x.Z),e_=(0,k.Z)(J.Z),em=(0,k.Z)(U.Z),eg=(0,k.Z)(f.Z),ep=(0,k.Z)(C.Z),ef=(0,k.Z)(M.Z),ex=(0,k.Z)(W.Z),eE=(0,k.Z)(X.Z),eI=(0,k.Z)(q.Z),ev=(0,k.Z)(m.Z);class eC extends r.PureComponent{static getDerivedStateFromProps(e,t){var n;let{invite:i,location:r}=e,{backgroundId:l}=t,s=null!==(n=(0,a.parse)(r.search).redirect_to)&&void 0!==n?n:null;(null==s||""===s||!(0,P.B)(s)||s.startsWith($.Z5c.ME))&&(s=null);let o=null;if(null==i)o=(0,O.gK)(s);else if((null==i?void 0:i.state)===$.r2o.RESOLVED){let{guild:e,target_application:t}=i;null!=t?null!=l&&(o=(0,j.getAssetImage)(t.id,l,1024)):null!=e&&"string"==typeof e.splash&&(o=L.ZP.getGuildSplashURL({id:e.id,splash:e.splash}))}return{redirectTo:s,splash:o}}componentDidMount(){let{inviteKey:e,hasLoadedExperiments:t,isAuthenticated:n}=this.props;null!=e&&(!t&&n&&d.Z.getExperiments(!0),Z.default.track($.rMx.INVITE_OPENED,{invite_code:(0,N.jX)(e),load_time:y.Z.getTimeSinceNavigationStart()},{flush:!0})),(t||ee.a)&&this.resolveInvite(),this.resolveGiftCode(),this.resolveGuildTemplate(),_.Z.initialize()}componentDidUpdate(e){var t,n;e.hasLoadedExperiments||!this.props.hasLoadedExperiments||ee.a||this.resolveInvite(),(null===(t=e.invite)||void 0===t?void 0:t.state)!==(null===(n=this.props.invite)||void 0===n?void 0:n.state)&&this.maybeFetchApplicationSplash()}componentWillUnmount(){_.Z.terminate()}maybeFetchApplicationSplash(){let{invite:e}=this.props;if((null==e?void 0:e.state)===$.r2o.RESOLVED){let{target_application:t}=e;null!=t&&(0,j.fetchAssetIds)(t.id,["embedded_splash"]).then(e=>{let[t]=e;return this.setState({backgroundId:t})})}}async resolveInvite(){let{inviteKey:e}=this.props;if(null==e)return;let{invite:t}=await h.Z.resolveInvite(e,$.Usc.INVITE);null!=t&&((0,p.A)(t),null!=t.type&&et.xf.has(t.type)&&h.Z.openNativeAppModal(e))}resolveGuildTemplate(){let{guildTemplateCode:e}=this.props;null!=e&&(Z.default.track($.rMx.GUILD_TEMPLATE_OPENED,{guild_template_code:e,load_time:y.Z.getTimeSinceNavigationStart()},{flush:!0}),v.Z.resolveGuildTemplate(e),v.Z.openNativeAppModal(e))}resolveGiftCode(){let{giftCode:e}=this.props;null!=e&&u.Z.resolveGiftCode(e,!0,!0).then(t=>{null!=t&&null==t.giftCode.promotion&&c.Z.wait(()=>u.Z.openNativeGiftCodeModal(e))})}render(){let{splash:e,redirectTo:t}=this.state,{inviteKey:n}=this.props;return(0,i.jsxs)(D.Z,{splash:e,children:[(0,i.jsx)(g.Z,{path:$.Z5c.LOGIN_HANDOFF,render:e=>(0,i.jsx)(ei,{...e,redirectTo:t})}),(0,i.jsx)(g.Z,{impressionName:l.ImpressionNames.USER_LOGIN,path:$.Z5c.LOGIN,render:e=>(0,i.jsx)(en,{...e,redirectTo:t})}),(0,i.jsx)(g.Z,{impressionName:l.ImpressionNames.USER_REGISTRATION,path:$.Z5c.REGISTER,render:e=>ee.a?(0,i.jsx)(er,{...e,redirectTo:t,inviteKey:n}):(0,i.jsx)(eo,{...e,redirectTo:t})}),(0,i.jsx)(g.Z,{path:$.Z5c.GIFT_CODE_LOGIN(":giftCode"),render:e=>(0,i.jsx)(el,{login:!0,...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.GIFT_CODE(":giftCode"),render:e=>(0,i.jsx)(el,{...e})}),(0,i.jsx)(g.Z,{path:[$.Z5c.INVITE_LOGIN(":inviteCode"),$.Z5c.INVITE(":inviteCode")],render:e=>{let{match:{params:{inviteCode:t},path:n},location:r,transitionTo:a}=e,l=(0,N.mb)(t,r.search);return s.tq||s.Em?(0,i.jsx)(es,{inviteKey:l,transitionTo:a},l):(0,i.jsx)(er,{inviteKey:l,location:r,transitionTo:a,login:n===$.Z5c.INVITE_LOGIN(":inviteCode")})}}),(0,i.jsx)(g.Z,{path:[$.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode"),$.Z5c.GUILD_TEMPLATE(":guildTemplateCode")],render:e=>{let{match:{params:{guildTemplateCode:t},path:n},location:r,transitionTo:a}=e;return s.tq||s.Em?(0,i.jsx)(z.Z,{code:t},t):(0,i.jsx)(ea,{code:t,location:r,transitionTo:a,login:n===$.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode")})}}),(0,i.jsx)(g.Z,{path:$.Z5c.VERIFY,render:e=>(0,i.jsx)(eu,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.VERIFY_HUB_EMAIL,render:e=>(0,i.jsx)(ep,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.VERIFY_REQUEST,render:e=>(0,i.jsx)(eh,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.DISABLE_EMAIL_NOTIFICATIONS,render:e=>(0,i.jsx)(em,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,render:e=>(0,i.jsx)(eg,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.AUTHORIZE_IP,render:e=>(0,i.jsx)(ec,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.REJECT_IP,render:e=>(0,i.jsx)(e_,{source:$.Z5c.REJECT_IP,...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.REJECT_MFA,render:e=>(0,i.jsx)(e_,{source:$.Z5c.REJECT_MFA,...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.AUTHORIZE_PAYMENT,render:e=>(0,i.jsx)(ed,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.RESET,render:e=>(0,i.jsx)(e_,{source:$.Z5c.RESET,...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?"),render:e=>(0,i.jsx)(ex,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.CHANNEL(S.Hw.guildId(),S.Hw.channelId({optional:!0}),":messageId?"),render:e=>(0,i.jsx)(ef,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.REPORT,render:e=>(0,i.jsx)(eE,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.REPORT_SECOND_LOOK,render:e=>(0,i.jsx)(eI,{...e})}),(0,i.jsx)(g.Z,{path:$.Z5c.ACCOUNT_REVERT(":token"),render:e=>(0,i.jsx)(ev,{...e})})]})}constructor(...e){var t,n;super(...e),n={splash:null,redirectTo:null,backgroundId:null},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let eN=o.ZP.connectStores([T.default,R.Z,A.Z,E.Z,I.Z],e=>{var t,n,i;let{match:r,location:a}=e,l=null==r?void 0:null===(t=r.params)||void 0===t?void 0:t.inviteCode,s=ee.a?ee.Y:void 0,o=null!=l?(0,N.mb)(l,a.search):s,c=null==r?void 0:null===(n=r.params)||void 0===n?void 0:n.giftCode,d=null==r?void 0:null===(i=r.params)||void 0===i?void 0:i.guildTemplateCode;return{inviteKey:o,isAuthenticated:T.default.isAuthenticated(),giftCode:c,guildTemplateCode:d,gift:null!=c?A.Z.get(c):null,invite:null!=o?R.Z.getInvite(o):null,guildTemplate:null!=d?I.Z.getGuildTemplate(d):null,hasLoadedExperiments:E.Z.hasLoadedExperiments}})(eC)},320830:function(e,t,n){n.d(t,{Z:()=>f}),n(47120);var i=n(200651),r=n(192379),a=n(954955),l=n.n(a),s=n(748780),o=n(873546),c=n(477690),d=n(481060),u=n(624138),h=n(192003);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m=(0,u.Mg)(c.Z.WAVE_SPLASH_RESPONSIVE_WIDTH_MOBILE),g={START:0,END:1},p={friction:10,tension:130},f=function(e){return class extends r.Component{componentDidMount(){o.tq||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())}componentWillUnmount(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)}componentWillAppear(e){this.state.shouldAnimate?this.animateTo(g.END,e):e()}componentWillEnter(e){this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.animateTo(g.END,e),40)):e()}componentWillLeave(e){this.state.shouldAnimate?this.animateTo(g.START,e):e()}animateTo(e,t){s.Z.spring(this.anim,{toValue:e,...p}).start(t)}getAnimatedStyle(e){return this.state.shouldAnimate?{opacity:this.anim,transform:e?void 0:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null}render(){return(0,i.jsx)("div",{className:h.wrapper,children:(0,i.jsx)(d.Sfi.Consumer,{children:t=>{let{reducedMotion:n}=t;return(0,i.jsx)(s.Z.div,{style:this.getAnimatedStyle(n.enabled),children:(0,i.jsx)(e,{...this.props})})}})})}constructor(...e){super(...e),_(this,"timeout",void 0),_(this,"anim",new s.Z.Value(g.START)),_(this,"state",{shouldAnimate:!o.tq}),_(this,"handleResize",()=>{let e=window.innerWidth>m;!this.state.shouldAnimate&&e&&this.anim.setValue(g.END),this.setState({shouldAnimate:e})}),_(this,"handleResizeDebounced",l()(this.handleResize,60))}}}},721751:function(e,t,n){let i;n.d(t,{Z:()=>T}),n(47120);var r=n(200651),a=n(192379),l=n(120356),s=n.n(l),o=n(873546),c=n(442837),d=n(481060),u=n(980591),h=n(605782),_=n(133853),m=n(568154),g=n(353926),p=n(703656),f=n(981631),x=n(692690);let E=n(575703),I=n(2984),v=[f.Z5c.LOGIN,f.Z5c.LOGIN_HANDOFF,f.Z5c.REGISTER,f.Z5c.INVITE(""),f.Z5c.GIFT_CODE(""),f.Z5c.GUILD_TEMPLATE_LOGIN(""),f.Z5c.GUILD_TEMPLATE(""),f.Z5c.DISABLE_EMAIL_NOTIFICATIONS,f.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,f.Z5c.BILLING_PREMIUM_SUBSCRIBE,f.Z5c.BILLING_PAYMENT_SOURCES_CREATE,f.Z5c.BILLING_PAYMENTS,f.Z5c.BILLING_PREMIUM_SWITCH_PLAN,f.Z5c.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,f.Z5c.VERIFY,f.Z5c.VERIFY_HUB_EMAIL,f.Z5c.REJECT_IP,f.Z5c.REJECT_MFA,f.Z5c.AUTHORIZE_IP,f.Z5c.AUTHORIZE_PAYMENT,f.Z5c.RESET,f.Z5c.HANDOFF,f.Z5c.REPORT,f.Z5c.REPORT_SECOND_LOOK,f.Z5c.ACCOUNT_REVERT("")];function C(e){return v.some(t=>e.startsWith(t))}let N=e=>(i=e,e);function b(e){let{children:t}=e;switch(function(){var e;let[t,n]=a.useState(!1),[r,l]=a.useState(!0),s=(0,c.e7)([g.Z],()=>g.Z.hasLoadedExperiments);return((0,u.Z)(()=>{},300),void 0!==i)?i:!r&&s?(t||n(!0),N((e=0,"default"))):r?N("default"):"loading"}()){case"default":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:x.artwork,src:E,alt:""}),(0,r.jsx)("img",{className:x.logoWithText,src:I,alt:""}),t]});case"experimental":case"loading":return null}}class S extends a.Component{componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}mobileTransitionTo(e,t){if(C(e))(0,p.uL)(e,t);else{let n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:"".concat(e,"?").concat(n)}}mobileReplaceWith(e){C(e)?(0,p.dL)(e):window.location=e}renderDefault(){let{splash:e}=this.props,t=(0,r.jsx)(h.Z,{component:a.Fragment,children:a.Children.map(this.props.children,e=>a.cloneElement(e,{transitionTo:p.uL,replaceWith:p.dL}))});return(0,r.jsx)("div",{className:x.characterBackground,children:(0,r.jsx)(d.y5t,{forceLevel:1,children:null!=e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.Z,{show:!0,className:s()(x.logo)}),(0,r.jsx)(m.h,{splash:e,children:t})]}):(0,r.jsx)(b,{children:t})})})}renderMobile(){return(0,r.jsx)(h.Z,{component:a.Fragment,children:a.Children.map(this.props.children,e=>a.cloneElement(e,{transitionTo:this.mobileTransitionTo,replaceWith:this.mobileReplaceWith}))})}render(){let{isMobileWidth:e}=this.state,t=navigator.userAgent.includes("GameLauncher");return e||o.tq||o.Em||t?this.renderMobile():this.renderDefault()}constructor(e){var t,n;super(e),t="handleResize",n=()=>{this.setState({isMobileWidth:window.innerWidth<=485})},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.state={isMobileWidth:window.innerWidth<=485}}}let T=S},718182:function(e,t,n){n.d(t,{Z:()=>f}),n(47120);var i=n(200651),r=n(192379),a=n(525654),l=n.n(a),s=n(442837),o=n(893776),c=n(493773),d=n(129293),u=n(388905),h=n(108427),_=n(981631),m=n(388032),g=n(483938);function p(e){return n.g.location.assign(e)}function f(e){let{location:t,transitionTo:a=p}=e,[s,f]=r.useState("submitting");function x(){return"Android"===l().os.family||"iOS"===l().os.family?null:(0,i.jsx)(u.zx,{onClick:()=>a(_.Z5c.LOGIN),children:m.intl.string(m.t.dKhVQE)})}return((0,c.ZP)(()=>{(0,h.e)("authorize_ip");let e=(0,d.Z)(t);if(null==e){f("failed");return}(async()=>{try{await o.Z.authorizeIPAddress(e),f("succeeded")}catch(e){f("failed")}})()}),"failed"===s)?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(262467),className:g.marginBottom20}),(0,i.jsx)(u.Dx,{className:g.marginBottom8,children:m.intl.string(m.t["f/54a2"])}),(0,i.jsx)(u.DK,{className:g.marginBottom40,children:m.intl.string(m.t.i3ehMj)}),x()]}):"succeeded"===s?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(640356),className:g.marginBottom20}),(0,i.jsx)(u.Dx,{className:g.marginBottom8,children:m.intl.string(m.t.iG0SlJ)}),(0,i.jsx)(u.DK,{className:g.marginBottom40,children:m.intl.string(m.t["Elv+qq"])}),x()]}):(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Hh,{}),(0,i.jsx)(u.Dx,{children:m.intl.string(m.t["9exy+f"])})]})}s.ZP.initialize()},223543:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(200651),r=n(192379),a=n(893776),l=n(129293),s=n(388905),o=n(108427),c=n(388032),d=n(483938);function u(e){let{location:t}=e,[u,h]=r.useState("submitting");return(r.useEffect(()=>{(0,o.e)("authorize_payment");let e=(0,l.Z)(t);if(null==e){h("failed");return}(async()=>{try{await a.Z.authorizePayment(e),h("succeeded")}catch(e){h("failed")}})()},[t]),"failed"===u)?(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(375673),className:d.marginBottom20}),(0,i.jsx)(s.Dx,{className:d.marginBottom8,children:c.intl.string(c.t.GHRpub)}),(0,i.jsx)(s.DK,{className:d.marginBottom40,children:c.intl.string(c.t["1nO55u"])})]}):"succeeded"===u?(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(73962),className:d.marginBottom20}),(0,i.jsx)(s.Dx,{className:d.marginBottom8,children:c.intl.string(c.t["ihHX5+"])}),(0,i.jsx)(s.DK,{className:d.marginBottom40,children:c.intl.string(c.t.pGPCv7)})]}):(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)(s.Hh,{}),(0,i.jsx)(s.Dx,{children:c.intl.string(c.t.T3vC7u)})]})}},73906:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var r=n(3570),a=n(685311),l=n(186901);let s=function(e){let{match:t,location:n}=e,s=async(e,t)=>{await (0,r.s)(l.jE.CHANNEL,{guildId:e.params.guildId,channelId:e.params.channelId,messageId:e.params.messageId,search:t.search})};return(0,i.jsx)(a.Z,{match:t,location:n,attemptDeepLink:s})}},685311:function(e,t,n){n.d(t,{Z:()=>_}),n(47120);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(536285),o=n(857458),c=n(388905),d=n(703656),u=n(388032),h=n(483938);let _=function(e){let{match:t,location:n,attemptDeepLink:a}=e,[_,m]=r.useState(0);r.useEffect(()=>{s.default.once("connected",()=>{m(1)}),s.default.once("disconnected",()=>{(0,d.uL)((0,o.M)())}),s.default.connect()},[]),r.useEffect(()=>{if(0!==_)return;let e=setTimeout(()=>(0,d.uL)((0,o.M)()),3e3);return()=>clearTimeout(e)},[_]);let g=r.useCallback(async(e,t)=>{try{m(2),await a(e,t),m(3)}catch(e){console.error("Error opening deeplink",e)}},[a]);if((0,d.DB)())return null;switch(_){case 1:return(0,i.jsxs)(c.ZP,{children:[(0,i.jsx)(c.Dx,{className:h.marginBottom8,children:u.intl.string(u.t.qllnGh)}),(0,i.jsx)(c.DK,{children:u.intl.string(u.t.SXCxyc)}),(0,i.jsx)(c.zx,{className:h.marginTop40,onClick:()=>g(t,n),children:u.intl.string(u.t.UQvCf3)}),(0,i.jsx)(c.zx,{className:l()(h.marginTop8,h.marginCenterHorz),color:c.zx.Colors.LINK,look:c.zx.Looks.LINK,onClick:()=>(0,d.uL)((0,o.M)()),children:u.intl.string(u.t["2ixEBg"])})]});case 0:case 2:return(0,i.jsxs)(c.ZP,{children:[(0,i.jsx)(c.Dx,{children:u.intl.string(u.t["Z+hCVV"])}),(0,i.jsx)(c.Hh,{})]});case 3:return(0,i.jsxs)(c.ZP,{children:[(0,i.jsx)(c.Dx,{className:h.marginBottom8,children:u.intl.string(u.t.csrAMD)}),(0,i.jsx)(c.DK,{children:u.intl.string(u.t.ghBJz8)})]})}}},299852:function(e,t,n){n.d(t,{Z:()=>v}),n(47120);var i,r=n(200651),a=n(192379),l=n(593473),s=n(442837),o=n(544891),c=n(481060),d=n(129293),u=n(388905),h=n(108427),_=n(598077),m=n(896797),g=n(981631),p=n(930441),f=n(388032),x=n(483938);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s.ZP.initialize();class I extends(i=a.PureComponent){componentDidMount(){let e=(0,d.Z)(this.props.location),t=(0,l.parse)(this.props.location.search);o.tn.post({url:g.ANM.DISABLE_EMAIL_NOTIFICATIONS,body:{token:e,pixel_uuid:t.hash,category:t.category,email_type:t.email_type},oldFormErrors:!0,rejectWithError:!0}).then(e=>{let{body:{user:n}}=e,i=new _.Z(n);this.setState({success:!0,busy:!1,user:i,category:t.category})},()=>this.setState({success:!1,busy:!1})),(0,h.e)("disable_email_notifications")}renderBusy(){return(0,r.jsx)(u.ZP,{children:(0,r.jsx)(u.Hh,{})})}renderCategorySuccess(e,t){let{defaultRoute:n,transitionTo:i}=this.props,a=f.intl.formatToPlainString(f.t.YDAohI,{category:t});return(0,r.jsxs)(u.ZP,{children:[(0,r.jsx)(u.Dx,{className:x.marginBottom8,children:f.intl.string(f.t.f6rdLi)}),(0,r.jsx)(u.DK,{children:a}),(0,r.jsx)(u.zx,{className:x.marginTop20,onClick:()=>i(n),children:f.intl.string(f.t.fIv16O)}),(0,r.jsx)(u.zx,{className:x.marginTop8,color:u.zx.Colors.LINK,look:u.zx.Looks.LINK,onClick:()=>i(g.Z5c.SETTINGS("notifications",p.vG)),children:f.intl.string(f.t.YYTira)})]})}renderSuccess(){let{defaultRoute:e,transitionTo:t}=this.props,{user:n,category:i}=this.state;if(null!=i){let e=p.Od.find(e=>e.category===i);if(null!=e)return this.renderCategorySuccess(i,e.label())}return(0,r.jsxs)(u.ZP,{children:[(0,r.jsx)(u.qE,{src:null==n?void 0:n.getAvatarURL(void 0,100),size:c.EFr.DEPRECATED_SIZE_100,className:x.marginBottom20}),(0,r.jsx)(u.Dx,{className:x.marginBottom8,children:f.intl.string(f.t["6U6OMT"])}),(0,r.jsx)(u.DK,{children:f.intl.string(f.t["yaDJ4+"])}),(0,r.jsx)(u.zx,{className:x.marginTop40,onClick:()=>t(e),children:f.intl.string(f.t.fIv16O)})]})}renderError(){let{defaultRoute:e,transitionTo:t}=this.props;return(0,r.jsxs)(u.ZP,{children:[(0,r.jsx)(u.Ee,{src:n(105020),className:x.marginBottom20}),(0,r.jsx)(u.Dx,{className:x.marginBottom8,children:f.intl.string(f.t.ox9hIS)}),(0,r.jsx)(u.DK,{children:f.intl.string(f.t["/dcuR0"])}),(0,r.jsx)(u.zx,{className:x.marginTop40,onClick:()=>t(e),children:f.intl.string(f.t.fIv16O)})]})}render(){let{busy:e,success:t}=this.state;return e?this.renderBusy():t?this.renderSuccess():this.renderError()}constructor(...e){super(...e),E(this,"state",{busy:!0,success:!1,user:null,category:null})}}E(I,"defaultProps",{transitionTo:e=>n.g.location.assign(e)});let v=s.ZP.connectStores([m.Z],()=>({defaultRoute:m.Z.defaultRoute}))(I)},39514:function(e,t,n){n.d(t,{Z:()=>L}),n(47120),n(411104);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(442837),o=n(570140),c=n(893776),d=n(533307),u=n(978085),h=n(232567),_=n(388905),m=n(362762),g=n(108427),p=n(314897),f=n(896797),x=n(82142),E=n(283595),I=n(55563),v=n(669079),C=n(63063),N=n(51144),b=n(481153),S=n(781428),T=n(423527),A=n(981631),R=n(388032),Z=n(483938);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s.ZP.initialize();class O extends r.PureComponent{componentDidMount(){let{authenticated:e,isResolved:t}=this.props;e&&this.handleAuthenticated(),t||this.resolveGiftCode(),(0,g.e)("gift_code")}componentDidUpdate(e){let{authenticated:t,isResolved:n}=this.props;n||o.Z.wait(()=>{this.resolveGiftCode()}),t&&!e.authenticated&&this.handleAuthenticated(),!t&&e.authenticated&&this.setState({currentUser:null})}handleAuthenticated(){let{currentUser:e}=this.state;u.b8(),null==e&&this.refreshUser()}get requiresVerification(){let{currentUser:e}=this.state;return null!=e&&!e.verified}getCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.match.params.giftCode}getMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.login?"login":"register"}getErrorMessage(e){let{libraryApplication:t,sku:n}=this.props,{error:i}=this.state,r=null!=i?i.code:null;return r===A.evJ.INVALID_GIFT_SELF_REDEMPTION?R.intl.string(R.t.wa9h7O):r===A.evJ.INVALID_GIFT_REDEMPTION_OWNED&&(null==n?void 0:n.productLine)===A.POd.COLLECTIBLES?R.intl.string(R.t.mdLtb2):null!=t||r===A.evJ.INVALID_GIFT_REDEMPTION_OWNED?R.intl.format(R.t.PIdmg4,{libraryLink:A.Z5c.APPLICATION_LIBRARY}):e.isClaimed||r===A.evJ.INVALID_GIFT_REDEMPTION_EXHAUSTED?R.intl.string(R.t.ilcBeX):r===A.evJ.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED?R.intl.string(R.t.ypuSd3):void 0}renderSpinner(e){return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Dx,{children:e}),(0,i.jsx)(_.Hh,{})]})}renderExpiredInvite(){let{defaultRoute:e,transitionTo:t}=this.props;return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Ee,{src:n(167969),className:Z.marginBottom8}),(0,i.jsx)(_.Dx,{className:l()(Z.marginTop8,Z.marginBottom8),children:R.intl.string(R.t.KPowgo)}),(0,i.jsx)(_.DK,{children:R.intl.string(R.t.j8734e)}),(0,i.jsx)(_.zx,{className:l()(Z.marginTop40,Z.marginBottom8),onClick:()=>t(e),children:R.intl.string(R.t.fIv16O)}),(0,i.jsx)(_.zx,{onClick:()=>window.open(C.Z.getArticleURL(A.BhN.GIFTING),"_blank"),look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,children:R.intl.string(R.t["/CjuXF"])})]})}renderAppOpened(){return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Dx,{className:Z.marginBottom8,children:R.intl.string(R.t.csrAMD)}),(0,i.jsx)(_.DK,{children:R.intl.string(R.t["m1+IBg"])}),(0,i.jsx)(_.zx,{className:Z.marginTop40,onClick:()=>this.setState({continueOnWeb:!0}),children:R.intl.string(R.t["qsI+EB"])})]})}renderVerification(e){let{sentVerification:t}=this.state;return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Ee,{src:n(892235),className:Z.marginBottom8}),(0,i.jsx)(_.Dx,{children:R.intl.format(R.t.ivLUf3,{username:e.username})}),(0,i.jsx)(_.DK,{className:Z.marginTop20,children:R.intl.string(R.t["8Su18/"])}),(0,i.jsx)(_.zx,{disabled:t,className:Z.marginTop40,onClick:this.handleResendVerification,children:t?R.intl.string(R.t.CMa9Rk):R.intl.string(R.t.lm1UKi)}),(0,i.jsx)(_.zx,{look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,onClick:this.refreshUser,className:Z.marginTop8,children:R.intl.string(R.t.Po9eBQ)})]})}renderAuthenticated(e,t){let n=this.getErrorMessage(e);return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(b.Z,{giftCode:e}),(0,i.jsx)(_.zx,{disabled:null!=n,className:Z.marginTop40,onClick:this.handleAccept,children:R.intl.string(R.t.n6I6k5)}),null!=n?(0,i.jsx)(_.DK,{className:Z.marginTop20,children:n}):(0,i.jsx)(_.i_,{className:Z.marginTop20,children:R.intl.format(R.t.NYM08v,{userTag:N.ZP.getUserTag(t),onLogoutClick:this.handleLogout})})]})}render(){let{nativeAppState:e,sku:t,authenticated:n,giftCode:r,isResolved:a,isAccepting:l,transitionTo:s,location:o}=this.props,{fetchingUser:c,continueOnWeb:d}=this.state;if(e===A.kEZ.OPEN&&!d)return this.renderAppOpened();if(e===A.kEZ.OPENING)return this.renderSpinner(R.intl.string(R.t["Z+hCVV"]));if(l)return this.renderSpinner(R.intl.string(R.t.bhJseH));if(null==r)return a?this.renderExpiredInvite():this.renderSpinner(R.intl.string(R.t.b3lf1d));if(a){if(n){let e=this.state.currentUser;return c||null==e?this.renderSpinner(R.intl.string(R.t.bYb2nZ)):this.requiresVerification&&null!=e?this.renderVerification(e):this.renderAuthenticated(r,e)}return"login"===this.getMode()?(0,i.jsx)(S.Z,{giftCodeSKU:t,giftCode:r,transitionTo:s,location:o}):(0,i.jsx)(T.Z,{giftCodeSKU:t,giftCode:r,transitionTo:s,location:o})}return null}constructor(...e){super(...e),j(this,"state",{error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1}),j(this,"refreshUser",()=>{this.setState({fetchingUser:!0}),h.k({withAnalyticsToken:!0}).then(e=>this.setState({currentUser:e,fetchingUser:!1})).catch(()=>this.setState({fetchingUser:!1}))}),j(this,"handleLogout",()=>{let e=this.props.match.params.giftCode;c.Z.logout(A.Z5c.GIFT_CODE_LOGIN(e))}),j(this,"handleResendVerification",()=>{c.Z.verifyResend(),this.setState({sentVerification:!0})}),j(this,"handleAccept",async()=>{let{transitionTo:e,giftCode:t}=this.props;if(null==t)throw Error("Trying to accept gift before resolve");let n=this.getCode();try{this.setState({error:null}),await d.Z.redeemGiftCode({code:n}),e(A.Z5c.APP)}catch(e){this.setState({error:e})}}),j(this,"resolveGiftCode",()=>{let{transitionTo:e}=this.props,t=this.getCode();d.Z.resolveGiftCode(t,!0,!0).then(n=>{null!=n&&null!=n.giftCode.promotion&&e(A.Z5c.BILLING_PROMOTION_REDEMPTION(t))})})}}let L=s.ZP.connectStores([x.Z,E.Z,p.default,I.Z,f.Z,m.Z],e=>{let t=e.match.params.giftCode,n=x.Z.get(t),i=null!=n?I.Z.get(n.skuId):null;return{giftCode:n,sku:i,libraryApplication:null!=i&&(null==n?void 0:n.entitlementBranches)!=null?v.z2(n.entitlementBranches,i,E.Z):null,authenticated:p.default.isAuthenticated(),defaultRoute:f.Z.defaultRoute,isResolved:x.Z.getIsResolved(t),isAccepting:x.Z.getIsAccepting(t),libraryApplicationsFetched:E.Z.fetched,nativeAppState:m.Z.getState(t)}})(O)},481153:function(e,t,n){n.d(t,{Z:()=>b});var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(442837),o=n(481060),c=n(812206),d=n(388905),u=n(925329),h=n(479446),_=n(981632),m=n(594174),g=n(509545),p=n(55563),f=n(296848),x=n(981631),E=n(474936),I=n(388032),v=n(753997),C=n(179683),N=n(483938);let b=s.ZP.connectStores([p.Z,c.Z,g.Z,m.default],e=>{let{giftCode:t}=e,n=p.Z.get(t.skuId),{subscriptionPlanId:i}=t;return{sku:n,subscriptionPlan:null!=i?(0,f.oE)(i):null,application:c.Z.getApplication(n.applicationId),gifter:m.default.getUser(t.userId)}})(e=>{let{error:t,giftCode:n,gifter:a,sku:s,application:c,subscriptionPlan:m}=e,g=null==a?I.intl.string(I.t.lTGZAg):I.intl.formatToPlainString(I.t.TjWdPT,{username:a.username}),p=s.name;return null!=m&&(p=I.intl.formatToPlainString(m.interval===E.rV.MONTH?I.t.CTpcCQ:I.t.rgPWGx,{skuName:s.name,intervalCount:m.intervalCount})),(0,i.jsxs)(r.Fragment,{children:[null!=n.giftStyle?(0,i.jsx)(_.Z,{defaultAnimationState:h.SR.LOOP,giftStyle:n.giftStyle,className:v.seasonalIcon}):(0,i.jsx)(d.qE,{src:null!=a?a.getAvatarURL(void 0,100):null,size:o.EFr.DEPRECATED_SIZE_100,className:N.marginBottom20}),null!=t?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d.DK,{children:I.intl.string(I.t.mDFGFh)}),(0,i.jsx)(d.Dx,{children:t})]}):(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d.DK,{children:g}),(0,i.jsxs)(d.Dx,{className:l()(N.marginTop8,C.flexCenter),children:[s.productLine!==x.POd.COLLECTIBLES&&(0,i.jsx)(u.Z,{size:u.Z.Sizes.MEDIUM,className:v.applicationIcon,game:c,skuId:s.id}),p]})]})]})})},236446:function(e,t,n){n.d(t,{Z:()=>k}),n(47120);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(512722),o=n.n(s),c=n(442837),d=n(388905),u=n(362762),h=n(409059),_=n(659900),m=n(962220),g=n(473855),p=n(306453),f=n(929809),x=n(108427),E=n(390885),I=n(314897),v=n(896797),C=n(954824),N=n(781428),b=n(163671),S=n(423527),T=n(981631),A=n(58346),R=n(701476),Z=n(630724),j=n(436620),O=n(388032),L=n(249079),y=n(483938);c.ZP.initialize();class P extends r.PureComponent{componentDidMount(){(0,x.e)("guildTemplate"),j.KO||C.Z.launch("discord://"+T.Z5c.GUILD_TEMPLATE(this.props.code),()=>void 0)}componentDidUpdate(e){this.props.code!==e.code&&m.Z.resolveGuildTemplate(this.props.code)}renderButton(e,t){return j.KO?(0,i.jsx)(d.zx,{className:y.marginTop40,onClick:t,children:e}):(0,i.jsx)(d.v6,{className:y.marginTop40})}renderSpinner(e){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{children:e}),(0,i.jsx)(d.Hh,{})]})}renderInvalidGuildTemplate(){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Ee,{src:n(167969),className:y.marginBottom8}),(0,i.jsx)(d.Dx,{className:l()(y.marginTop8,y.marginBottom8),children:O.intl.string(O.t.C7ZRNz)}),(0,i.jsx)(d.DK,{children:O.intl.string(O.t.A6MwXF)}),this.renderButton(O.intl.string(O.t.fIv16O),this.handleContinue)]})}renderAppOpened(){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{className:y.marginBottom8,children:O.intl.string(O.t.csrAMD)}),(0,i.jsx)(d.DK,{children:O.intl.string(O.t["m1+IBg"])}),this.renderButton(O.intl.string(O.t.fIv16O),this.handleContinue)]})}renderAuthenticatedOrDownload(){let{guildTemplate:e}=this.props;return(o()(null!=e,"guild template must not be null"),e.state===A.Rj.RESOLVING)?(0,i.jsx)(d.ZP,{className:L.authBox,children:(0,i.jsx)(p.Z,{guildTemplate:e})}):(0,i.jsx)(D,{guildTemplate:e})}renderContinue(){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{children:O.intl.string(O.t.fOc4go)}),this.renderButton(O.intl.string(O.t.fIv16O),this.handleContinue)]})}render(){let{guildTemplate:e,nativeAppState:t,authenticated:n,transitionTo:r,location:a}=this.props;if(null==e)return this.renderSpinner(O.intl.string(O.t.ZTNur6));if(t===T.kEZ.OPEN)return this.renderAppOpened();if(t===T.kEZ.OPENING)return this.renderSpinner(O.intl.string(O.t["Z+hCVV"]));switch(e.state){case A.Rj.RESOLVING:return this.renderSpinner(O.intl.string(O.t["Z+hCVV"]));case A.Rj.RESOLVED:if(n||!j.KO)return this.renderAuthenticatedOrDownload();if(this.props.login)return(0,i.jsx)(N.Z,{guildTemplate:e,transitionTo:r,location:a});return(0,i.jsx)(S.Z,{guildTemplate:e,transitionTo:r,location:a,onRegister:()=>{(0,f.c)(R.M5.ORGANIC_REGISTERED_GUILD_TEMPLATE),E.Z.flowStart(Z.MK.ORGANIC_GUILD_TEMPLATES,Z.EW.NUF_STARTED)}});case A.Rj.EXPIRED:return this.renderInvalidGuildTemplate();default:return null}}constructor(...e){var t,n;super(...e),t="handleContinue",n=()=>{let{defaultRoute:e,transitionTo:t}=this.props;t(e)},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}function k(e){let t={guildTemplate:(0,c.e7)([h.Z],()=>h.Z.getGuildTemplate(e.code)),nativeAppState:(0,c.e7)([u.Z],()=>u.Z.getState(e.code)),authenticated:(0,c.e7)([I.default],()=>I.default.isAuthenticated()),defaultRoute:(0,c.e7)([v.Z],()=>v.Z.defaultRoute)};return(0,i.jsx)(P,{...e,...t})}function D(e){let{guildTemplate:t}=e,{form:n,handleSubmit:r}=(0,_.Z)(t,!1);E.Z.flowStep(Z.MK.ORGANIC_GUILD_TEMPLATES,Z.X2.GUILD_CREATE);let a=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Dx,{className:L.header,children:O.intl.string(O.t.UNFvtL)}),n,(0,i.jsx)(d.zx,{className:L.createButton,onClick:r,children:O.intl.string(O.t.xr59t7)})]});return(0,i.jsx)(b.Z,{className:L.authBox,children:()=>[(0,i.jsx)(g.Z,{guildTemplate:t},"template"),(0,i.jsx)("div",{className:L.formContainer,children:a},"contents")]})}},9325:function(e,t,n){n.d(t,{Z:()=>I});var i=n(200651),r=n(192379),a=n(442837),l=n(481060),s=n(388905),o=n(409059),c=n(962220),d=n(306453),u=n(108427),h=n(314897),_=n(626135),m=n(587444),g=n(981631),p=n(58346),f=n(388032),x=n(483938);function E(e,t,n){e.preventDefault(),_.default.track(g.rMx.GUILD_TEMPLATE_APP_OPENED,{guild_template_code:t,guild_template_name:n.name,guild_template_description:n.description,guild_template_guild_id:n.sourceGuildId});let i=h.default.getFingerprint(),r=null!=i?i:h.default.getId();c.Z.openMobileApp(n.state===p.Rj.RESOLVED?t:void 0,r)}function I(e){let{code:t}=e,n=(0,a.e7)([o.Z],()=>o.Z.getGuildTemplate(t));return(r.useEffect(()=>{(0,u.e)("guild_template_mobile")},[]),null==n||n.state===p.Rj.RESOLVING)?(0,i.jsx)(s.ZP,{children:(0,i.jsx)(l.$jN,{})}):n.state===p.Rj.RESOLVED?(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)(d.Z,{guildTemplate:n,tall:!0}),(0,i.jsx)(s.zx,{onClick:e=>E(e,t,n),className:x.marginTop20,children:f.intl.string(f.t["a3Gl+f"])})]}):(0,i.jsx)(m.Z,{text:f.intl.string(f.t["e/rZ2t"]),buttonCta:f.intl.string(f.t.HAvYn5),onClick:e=>E(e,t,n)})}a.ZP.initialize()},587444:function(e,t,n){n.d(t,{Z:()=>p,u:()=>g});var i=n(200651);n(192379);var r=n(120356),a=n.n(r),l=n(692547),s=n(481060),o=n(388905),c=n(600164),d=n(981631),u=n(388032),h=n(701455),_=n(179683),m=n(483938);function g(e){let{text:t,buttonCta:r,onClick:d}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Ee,{src:n(689411)}),(0,i.jsx)(o.Dx,{className:a()(m.marginTop20,m.marginBottom8,_.flexCenter),children:u.intl.string(u.t.eL5z0t)}),(0,i.jsx)(o.DK,{className:m.marginBottom40,children:u.intl.string(u.t["poAv6+"])}),(0,i.jsxs)(s.Zbd,{className:h.card,type:s.Zbd.Types.CUSTOM,children:[(0,i.jsx)("img",{alt:"",className:h.cardAccentLeft,src:n(70519)}),(0,i.jsx)("img",{alt:"",className:h.cardAccentRight,src:n(806848)}),(0,i.jsxs)(c.Z,{className:h.cardContents,direction:c.Z.Direction.VERTICAL,align:c.Z.Align.STRETCH,grow:0,children:[(0,i.jsx)(s.Text,{tag:"strong",className:h.buttonTitle,variant:"text-md/normal",style:{color:l.Z.unsafe_rawColors.PRIMARY_300.css},children:t}),(0,i.jsx)(o.zx,{className:h.button,onClick:d,children:r})]})]})]})}function p(e){let{text:t,buttonCta:n,theme:r=d.BRd.DARK,onClick:a}=e;return(0,i.jsx)(o.ZP,{theme:r,children:(0,i.jsx)(g,{text:t,buttonCta:n,onClick:a})})}},344295:function(e,t,n){n.d(t,{Z:()=>H}),n(789020),n(47120);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(533800),o=n(756647),c=n(442837),d=n(298444),u=n(447543),h=n(881052),_=n(899370),m=n(267394),g=n(388905),p=n(639946),f=n(792766),x=n(362762),E=n(978684),I=n(264229),v=n(929809),C=n(703656),N=n(108427),b=n(314897),S=n(896797),T=n(701190),A=n(626135),R=n(630388),Z=n(63063),j=n(782605),O=n(954824),L=n(588705),y=n(781428),P=n(423527),k=n(981631),D=n(188785),w=n(701476),B=n(436620),M=n(388032),U=n(483938);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}c.ZP.initialize();let G="Accept Invite Page",z={REGISTER:"register",LOGIN:"login"};async function V(e){let{invite:t}=await u.Z.resolveInvite(e,G);null!=t&&(0,m.A)(t)}class K extends r.PureComponent{componentDidMount(){let{isUnderage:e,login:t,inviteKey:n}=this.props;if(A.default.track(k.rMx.INVITE_VIEWED,{invite_code:n},{flush:!0}),(0,N.e)("invite"),!B.KO){let e=this.getInviteKey();O.Z.launch("discord://"+k.Z5c.INVITE(e),()=>void 0)}if(!t&&e){let e=this.getInviteKey(),{baseCode:t}=(0,I.fU)(e);(0,C.dL)(k.Z5c.INVITE_LOGIN(t))}}componentDidUpdate(e){let{invite:t,nativeAppState:n,authenticated:i,transitionTo:r}=this.props,a=this.getInviteKey();if(a!==this.getInviteKey(e))V(a);else if(t.state===k.r2o.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===z.LOGIN&&i!==e.authenticated&&i){let e=b.default.getFingerprint();if(null!=e){let t=(0,o.s)(e);this.track(k.rMx.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:t})}u.Z.acceptInvite({inviteKey:a,context:this.getAcceptInviteContext(G),skipOnboarding:!0,callback:this.handleContinue})}if(n!==e.nativeAppState&&n===k.kEZ.OPEN&&this.track(k.rMx.INVITE_APP_INVOKED,!1),this.getMode()===z.REGISTER&&i&&!e.authenticated){let{channel:e}=t;null!=e&&((0,v.c)(w.M5.INVITE_UNCLAIMED),null!=t.guild?r(k.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(t.code)):u.Z.transitionToInvite(t,r))}}getInviteKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.inviteKey}getMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return D.a?z.REGISTER:e.login?z.LOGIN:z.REGISTER}track(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{invite:i}=this.props,r=this.getInviteKey(),a=(0,I.jX)(r),l=t?{guild_id:null!=i.guild?i.guild.id:null,channel_id:null!=i.channel?i.channel.id:null,inviter_id:null!=i.inviter?i.inviter.id:null,invite_code:a}:{invite_code:a};A.default.track(e,{...l,...n})}renderSpinner(e){return(0,i.jsxs)(g.ZP,{children:[(0,i.jsx)(g.Dx,{children:e}),(0,i.jsx)(g.Hh,{})]})}renderInvalidInvite(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,i.jsxs)(g.ZP,{children:[(0,i.jsx)(g.Ee,{src:n(167969),className:U.marginBottom8}),(0,i.jsx)(g.Dx,{className:l()(U.marginTop8,U.marginBottom8),children:M.intl.string(M.t.kux01N)}),(0,i.jsx)(g.DK,{children:e?M.intl.string(M.t["5AkWAQ"]):M.intl.string(M.t["+qUJAg"])}),this.renderButton(M.intl.string(M.t.fIv16O)),(0,i.jsx)(g.zx,{onClick:()=>window.open(Z.Z.getArticleURL(k.BhN.INVALID_INVITES),"_blank"),look:g.zx.Looks.LINK,color:g.zx.Colors.LINK,className:U.marginTop8,children:M.intl.string(M.t.urIwn5)})]})}renderErrorInvite(){var e,t;return(0,i.jsxs)(g.ZP,{children:[(0,i.jsx)(L.Z,{invite:this.props.invite,error:null===(e=this.state.error)||void 0===e?void 0:e.message}),(null===(t=this.state.error)||void 0===t?void 0:t.code)===k.evJ.INVALID_CANNOT_FRIEND_SELF?this.renderButton(M.intl.string(M.t.fIv16O)):this.renderButton(M.intl.string(M.t.ohMvm5),this.handleAccept)]})}renderExpiredInvite(){return this.renderInvalidInvite(!1)}renderBannedInvite(){return this.renderInvalidInvite(!0)}renderAppOpened(e){let t=null!=e?e:this.handleContinue;return(0,i.jsxs)(g.ZP,{children:[(0,i.jsx)(g.Dx,{className:U.marginBottom8,children:M.intl.string(M.t.csrAMD)}),(0,i.jsx)(g.DK,{children:M.intl.string(M.t["m1+IBg"])}),this.renderButton(M.intl.string(M.t.fIv16O),()=>t())]})}renderAuthenticatedHeader(){let{invite:e}=this.props;return null!=e.stage_instance&&null!=e.guild?(0,i.jsx)(f.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=e.guild_scheduled_event?(0,i.jsx)(p.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,i.jsx)(L.Z,{invite:e})}renderAuthenicatedFooter(){let{invite:e}=this.props;return(null!=e.stage_instance||null!=e.guild_scheduled_event)&&null!=e.guild?(0,i.jsx)(g.ZP,{className:U.marginTop20,children:(0,i.jsx)(f.y,{guild:e.guild,onlineCount:e.approximate_presence_count})}):null}renderAuthenticatedOrDownload(){let{invite:e}=this.props,t=null!=e.stage_instance?M.intl.string(M.t["5UKyUl"]):M.intl.string(M.t.ohMvm5);return(0,i.jsxs)("div",{children:[(0,i.jsxs)(g.ZP,{children:[this.renderAuthenticatedHeader(),this.renderButton(t,this.handleAccept)]}),this.renderAuthenicatedFooter()]})}renderContinue(){return(0,i.jsxs)(g.ZP,{children:[(0,i.jsx)(g.Dx,{children:M.intl.string(M.t.fOc4go)}),this.renderButton(M.intl.string(M.t.fIv16O))]})}render(){let{invite:e,nativeAppState:t,authenticated:n,transitionTo:r,location:a}=this.props;if(t===k.kEZ.OPEN)return this.renderAppOpened();switch(e.state){case k.r2o.APP_OPENED:return this.renderAppOpened();case k.r2o.APP_NOT_OPENED:return this.renderContinue();case k.r2o.RESOLVING:return D.a?this.renderSpinner(M.intl.string(M.t.MKDeyM)):this.renderSpinner(M.intl.string(M.t["Z+hCVV"]));case k.r2o.APP_OPENING:return this.renderSpinner(M.intl.string(M.t["Z+hCVV"]));case k.r2o.RESOLVED:var l;if(n&&(0,R.yE)(null!==(l=e.flags)&&void 0!==l?l:0,s.$.IS_GUEST_INVITE))return u.Z.openApp(e.code),d.x.set(E.J,e.code),this.renderAppOpened(()=>r(k.Z5c.APP));if(n||!B.KO)return this.renderAuthenticatedOrDownload();if(this.getMode()===z.LOGIN)return(0,i.jsx)(y.Z,{invite:e,transitionTo:r,location:a});else return(0,i.jsx)(P.Z,{invite:e,onLoginStart:()=>this.track(k.rMx.INVITE_LOGIN,!0),location:a,transitionTo:r});case k.r2o.ACCEPTING:return this.renderSpinner(M.intl.string(M.t["6wsY19"]));case k.r2o.EXPIRED:return this.renderExpiredInvite();case k.r2o.BANNED:return this.renderBannedInvite();case k.r2o.ERROR:return this.renderErrorInvite();case k.r2o.ACCEPTED:default:return null}}constructor(...e){var t;super(...e),t=this,F(this,"state",{error:null}),F(this,"getAcceptInviteContext",e=>u.Z.getInviteContext(e,this.props.invite)),F(this,"handleContinue",e=>{let{invite:t,transitionTo:n}=this.props;if(null!=t.channel||(null==e?void 0:e.channel)!=null){var i;(null===(i=t.guild)||void 0===i?void 0:i.id)!=null?n(k.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(t.code)):u.Z.transitionToInvite(null!=e?e:t,n)}}),F(this,"handleAccept",()=>{this.setState({error:null});let e=this.getInviteKey();u.Z.acceptInvite({inviteKey:e,context:this.getAcceptInviteContext(G),skipOnboarding:!0,callback:t=>{(0,m.A)(t),null!=t.channel&&u.Z.openApp(e,t.channel.id)}}).catch(e=>{if(e instanceof h.yZ||e instanceof h.Hx){let t=(0,j.O)(e.code);this.setState({error:{code:e.code,message:t}})}else this.setState({error:{code:e.code,message:M.intl.string(M.t.dDZRd3)}})})}),F(this,"handleDefaultTransition",()=>{let{defaultRoute:e,transitionTo:t}=this.props;t(e)}),F(this,"renderButton",function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.handleDefaultTransition,{invite:r}=t.props,a=null!=r.stage_instance||null!=r.guild_scheduled_event;return B.KO?(0,i.jsx)(g.zx,{className:a?U.marginTop20:U.marginTop40,onClick:n,color:a?g.zx.Colors.GREEN:g.zx.Colors.BRAND,children:e}):(0,i.jsx)(g.v6,{className:U.marginTop40})})}}let H=c.ZP.connectStores([T.Z,S.Z,b.default,x.Z,_.Z],e=>{var t;let{inviteKey:n}=e;return{invite:null!==(t=T.Z.getInvite(n))&&void 0!==t?t:{},nativeAppState:x.Z.getState(n),authenticated:b.default.isAuthenticated(),defaultRoute:S.Z.defaultRoute,isUnderage:_.Z.isUnderageAnonymous()}})(K)},588705:function(e,t,n){n.d(t,{R:()=>b,Z:()=>T}),n(411104);var i=n(200651),r=n(192379),a=n(442837),l=n(481060),s=n(388905),o=n(686546),c=n(925329),d=n(372769),u=n(44609),h=n(47343),_=n(973616),m=n(131704),g=n(601964),p=n(598077),f=n(594174),x=n(51144),E=n(981631),I=n(888592),v=n(245335),C=n(388032),N=n(159601);let b=()=>(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(s.qE,{src:null,size:l.EFr.DEPRECATED_SIZE_100,className:N.avatar}),(0,i.jsx)(s.DK,{children:C.intl.string(C.t["3rE1Pz"])}),(0,i.jsx)(s.Dx,{className:N.inviteResolvingGuildName,children:C.intl.string(C.t.ZTNur6)})]}),S=e=>{let{guild:t,user:n,application:r,compact:a}=e;return null!=r?(0,i.jsx)(c.Z,{className:N.appIcon,game:r,size:N.appIconSize}):null!=n?(0,i.jsx)(s.qE,{src:null!=n?n.getAvatarURL(void 0,80):null,size:l.EFr.SIZE_80,className:a?N.compactAvatar:N.avatar}):null!=t?(0,i.jsx)(o.ZP,{mask:o.ZP.Masks.SQUIRCLE,width:64,height:64,className:N.guildIcon,children:(0,i.jsx)(s.Vj,{guild:t,size:s.Vj.Sizes.LARGER,animate:!0})}):null},T=e=>{var t;let n,r,o,{invite:c,disableUser:b=!1,error:T,flatActivityCount:A=!1,isRegister:R=!1}=e,Z=(0,u.WR)({location:"invite"}),{currentUser:j}=(0,a.cj)([f.default],()=>({currentUser:f.default.getCurrentUser()}));if(null==c)return null;let O=null!=c.guild?new g.ZP(c.guild):null,L=null!=c.channel?(0,m.jD)(c.channel):null,y=null!=c.target_application?new _.ZP(c.target_application):null,P=b||null==c.inviter?null:new p.Z(c.inviter),k=!(null!=c.approximate_member_count&&c.approximate_member_count>100||null!=O&&O.hasFeature(E.oNc.COMMUNITY))&&null!=P,D=null,w=!1;if(null!=O)D=null==P?C.intl.string(C.t["3rE1Pz"]):C.intl.formatToPlainString(C.t["5u47vb"],{username:x.ZP.getFormattedName(P)}),c.target_type===v.Iq.STREAM&&null!=c.target_user&&(D=C.intl.formatToPlainString(C.t.x2L32d,{username:x.ZP.getFormattedName(c.target_user)})),c.target_type===v.Iq.EMBEDDED_APPLICATION&&null!=c.target_application&&(D=null!=P?C.intl.formatToPlainString(C.t.UW1Cam,{username:x.ZP.getFormattedName(P)}):C.intl.string(C.t.ENSuNz)),k&&null==y&&(n=(0,i.jsx)(s.Vj,{className:N.icon,guild:O,size:s.Vj.Sizes.SMALL})),r=O.name,null!=y&&(r=y.name,o=(0,i.jsxs)("div",{children:[(0,i.jsx)(s.DK,{className:N.appIn,children:C.intl.string(C.t["3gg9fH"])}),(0,i.jsxs)("div",{className:N.guildContainer,children:[(0,i.jsx)(s.Vj,{guild:O,size:s.Vj.Sizes.SMALL}),(0,i.jsx)(l.Text,{tag:"span",variant:"text-lg/normal",color:"header-primary",className:N.appGuildName,children:O.name})]})]}));else if(null!=L){if(null==P)throw Error("no inviter in group DM invite");let e=x.ZP.getFormattedName(P);null!=L.name&&""!==L.name?(D=C.intl.formatToPlainString(C.t["5u47vb"],{username:e}),r=L.name,null!=L.icon&&(n=(0,i.jsx)(s.MC,{channel:L,size:l.EFr.SIZE_32}))):(D=C.intl.string(C.t.OsdY8P),r=e)}else if(null!=P){let e=x.ZP.getFormattedName(P,!0);r=C.intl.formatToPlainString(C.t["4aF92d"],{username:e}),w=!0,o=null!=T?null:(0,i.jsx)(s.DK,{className:N.directInviteSubTitle,children:R?C.intl.format(C.t["6r4JiY"],{username:e}):C.intl.format(C.t.Quj7HR,{username:e})})}return(0,i.jsxs)("div",{className:N.container,children:[(0,i.jsx)(S,{application:y,guild:O,user:k?P:null,compact:w}),null!=T?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.DK,{children:C.intl.string(C.t.mDFGFh)}),(0,i.jsx)(s.Dx,{children:T})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.DK,{children:D}),(0,i.jsxs)(s.Dx,{className:N.title,children:[null!=O?(0,i.jsx)(d.Z,{guild:O,className:N.guildBadge,tooltipPosition:"left"}):null,n,r]})]}),o,null!=y||w||(null==c?void 0:null===(t=c.guild)||void 0===t?void 0:t.id)===I.fQ?null:(0,i.jsx)(s.EJ,{className:N.activityCount,online:c.approximate_presence_count,total:c.approximate_member_count,flat:A}),Z?(0,i.jsx)(h.R,{}):(0,i.jsx)(s.jQ,{user:j})]})}},781428:function(e,t,n){n.d(t,{Z:()=>X,q:()=>q});var i,r=n(200651),a=n(192379),l=n(533126),s=n(120356),o=n.n(s),c=n(593473),d=n(873546),u=n(442837),h=n(481060),_=n(570140),m=n(893776),g=n(899742),p=n(579806),f=n(743142),x=n(254942),E=n(388905),I=n(379760),v=n(600164),C=n(100159),N=n(473855),b=n(124860),S=n(86779),T=n(726745),A=n(913583),R=n(144114),Z=n(541692),j=n(952802),O=n(108427),L=n(365007),y=n(314897),P=n(117240),k=n(896797),D=n(626135),w=n(585483),B=n(358085),M=n(481153),U=n(588705),F=n(494526),G=n(163671),z=n(981631),V=n(58346),K=n(388032),H=n(626602),W=n(483938);function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(){return(0,r.jsx)(E.ZP,{children:(0,r.jsx)(h.$jN,{})})}class J extends(i=a.PureComponent){static getDerivedStateFromProps(e){let{handoffAvailable:t,authenticated:n}=e;return t||n?null:{checkingHandoff:!1}}componentDidMount(){let{handoffAvailable:e,authenticated:t,giftCodeSKU:n,invite:i,location:r}=this.props;e&&!t?(0,g.is)():t&&this.loginOrSSO(t,r,!0),D.default.track(z.rMx.LOGIN_VIEWED,{location:null!=i?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource,authenticated:t,...null!=n?(0,C.Z)(n,!1,!1):{}},{flush:!0}),null==p.Z&&null!=window.PublicKeyCredential&&null!=PublicKeyCredential.isConditionalMediationAvailable&&PublicKeyCredential.isConditionalMediationAvailable().then(e=>{e&&(0,L.us)().then(e=>{let{challenge:t,ticket:n}=e,i=(0,l.wz)(JSON.parse(t));return i.signal=this.state.conditionalMediationAbortController.signal,(0,l.U2)(i).then(e=>(this.setState({errors:{}}),_.Z.dispatch({type:"PASSWORDLESS_START"}),m.Z.loginWebAuthn({ticket:n,credential:JSON.stringify(e),source:this.loginSource,giftCodeSKUId:this.giftCodeSKUId}).catch(e=>{throw this.setState({errors:(0,x.F)(e)}),e}))).catch(e=>{if("AbortError"!==e.name)throw e})}).catch(()=>{})}),m.Z.getLocationMetadata(),(0,O.e)("login")}componentDidUpdate(e,t){let{authenticated:n,location:i}=this.props,{checkingHandoff:r}=this.state;if(!n||e.authenticated||r||(this.state.conditionalMediationAbortController.abort(),this.loginOrSSO(n,i)),t.errors!==this.state.errors){var a,l,s;this.hasError("password")?null===(a=this.passwordRef)||void 0===a||a.focus():this.hasError("email")||this.hasError("login")?null===(l=this.loginRef)||void 0===l||l.focus():this.hasError("code")&&(null===(s=this.codeRef)||void 0===s||s.focus())}}get loginSource(){let{giftCode:e,guildTemplate:t,invite:n,loginSource:i,redirectTo:r}=this.props;if(null!=i)return i;if(null!=e)return"gift";if(null!=t)return"guild_template";if(null!=n){if(null!=n.guild)return"guild_invite";if(null!=n.channel)return"dm_invite";if(null!=n.inviter)return"friend_invite"}return null!=r?(0,f.L)(r):null}get giftCodeSKUId(){let{giftCode:e}=this.props;return null!=e?e.skuId:null}get canShowChooseAccount(){return this.props.hasLoggedInAccounts}loginOrSSO(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&null!=t&&(this.setState({redirecting:!0}),n?m.Z.verifySSOToken().then(()=>this.transitionSSO(t)):this.transitionSSO(t))}transitionSSO(e){let{transitionTo:t,redirectTo:n,replaceWith:i}=this.props,r=null!=e?(0,c.parse)(e.search):{};if(delete r.redirect_to,null!=n)null!=i?i(n):t(n);else if(null==r.service)t(z.Z5c.APP);else{let e=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+z.ANM.SSO,t={...r,token:y.default.getToken()};window.location="".concat(e,"?").concat((0,c.stringify)(t))}}hasError(e){return null!=this.state.errors[e]}renderHandOffAvailable(){let{authBoxClassName:e}=this.props;return(0,r.jsxs)(E.ZP,{className:e,children:[(0,r.jsx)(E.Hh,{}),(0,r.jsx)(E.Dx,{className:W.marginBottom8,children:K.intl.string(K.t.S6RMND)}),(0,r.jsx)(E.DK,{children:K.intl.string(K.t.YZiJbm)})]})}renderHandOffContinue(){let{user:e,transitionTo:t,authBoxClassName:n}=this.props;return null==e?null:(0,r.jsxs)(E.ZP,{className:n,children:[(0,r.jsx)(E.qE,{src:e.getAvatarURL(void 0,100),size:h.EFr.DEPRECATED_SIZE_100,className:W.marginBottom20}),(0,r.jsx)(E.Dx,{className:W.marginBottom8,children:K.intl.format(K.t.ot19ho,{name:e.toString()})}),(0,r.jsx)(E.DK,{className:W.marginBottom40,children:K.intl.string(K.t["2xkqzc"])}),(0,r.jsxs)(E.gO,{children:[(0,r.jsx)(E.zx,{onClick:()=>t(z.Z5c.APP),className:W.marginBottom8,children:K.intl.format(K.t.fohtv7,{name:e.toString()})}),(0,r.jsx)(E.zx,{look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,onClick:this.handleReset,children:K.intl.string(K.t.nO564e)})]})]})}renderDisabledAccount(){let{authBoxClassName:e}=this.props,t=this.props.loginStatus===z.u34.ACCOUNT_DISABLED,n=t?K.intl.string(K.t["j3rC+f"]):K.intl.string(K.t.ZFWofn),i=t?K.intl.string(K.t["6eNTWV"]):K.intl.string(K.t.pCBti4);return(0,r.jsx)(E.ZP,{tag:"form",onSubmit:this.handleReset,className:e,children:(0,r.jsxs)(h.y5t,{component:(0,r.jsx)(E.Dx,{className:W.marginBottom8,children:n}),children:[(0,r.jsx)(E.DK,{className:W.marginBottom20,children:i}),(0,r.jsxs)(E.gO,{children:[(0,r.jsx)(E.zx,{color:E.zx.Colors.BRAND,type:"submit",children:K.intl.string(K.t.JhDw5u)}),(0,r.jsx)("div",{className:o()(W.marginTop8,H.needAccount),children:K.intl.format(K.t.js2rr6,{onClick:this.handleCancelAccountDeletion})})]})]})})}renderResolving(){let{authBoxClassName:e,country:t}=this.props;return(0,r.jsxs)(E.ZP,{className:e,children:[(0,r.jsx)(U.R,{}),(0,r.jsxs)(E.gO,{className:W.marginTop20,children:[(0,r.jsx)(j.Z,{className:W.marginBottom20,alpha2:t.alpha2,countryCode:t.code.split(" ")[0],label:K.intl.string(K.t.tUjnxs),onChange:(e,t)=>this.setState({login:e,loginPrefix:t}),setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!0,required:!0}),(0,r.jsx)(E.II,{className:W.marginBottom20,label:K.intl.string(K.t["CIGa+/"]),onChange:e=>this.setState({password:e}),type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password,required:!0}),(0,r.jsx)(E.zx,{className:W.marginBottom8,type:"submit",disabled:!0,children:K.intl.string(K.t.dKhVQE)}),(0,r.jsx)(E.zx,{disabled:!0,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,children:K.intl.string(K.t.wWIufn)}),(0,r.jsx)(E.zx,{disabled:!0,className:W.marginTop4,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,children:K.intl.string(K.t.tmE73t)})]})]})}renderDefaultForm(e){var t;let n;let{invite:i,giftCode:a,loginStatus:l,country:s,showMobileWebHandoff:c,disableAutofocusOnDefaultForm:d}=this.props,u=!this.hasError("email")&&this.hasError("password"),_=(null==i?void 0:i.stage_instance)!=null;return n=null==i||_?null!=a?(0,r.jsx)(M.Z,{giftCode:a}):(0,r.jsxs)("div",{className:H.header,children:[(0,r.jsx)(E.Dx,{className:W.marginBottom8,children:K.intl.string(K.t["7fNJgI"])},"title"),!1===(0,B.isAndroidWeb)()?(0,r.jsx)(E.DK,{children:K.intl.string(K.t.euS7r6)},"subtitle"):null]}):(0,r.jsx)(U.Z,{invite:i}),(0,r.jsxs)(v.Z,{direction:v.Z.Direction.HORIZONTAL,align:v.Z.Align.CENTER,children:[(0,r.jsxs)("div",{className:H.mainLoginContainer,children:[this.canShowChooseAccount&&this.state.dismissedChooseAccount&&(0,r.jsx)(E.zx,{onClick:()=>{this.setState(e=>({...e,dismissedChooseAccount:!1}))},look:E.zx.Looks.LINK,color:E.zx.Colors.PRIMARY,className:H.goBackButton,children:(0,r.jsxs)("div",{className:H.content,children:[(0,r.jsx)(h.V7D,{size:"xs",color:"currentColor",className:H.caret}),(0,r.jsx)(h.Text,{variant:"text-md/normal",children:K.intl.string(K.t["1MrpWF"])})]})}),n,(0,r.jsx)(h.y5t,{children:(0,r.jsxs)(E.gO,{className:W.marginTop20,children:[(0,r.jsx)(j.Z,{alpha2:s.alpha2,countryCode:s.code.split(" ")[0],className:W.marginBottom20,label:K.intl.string(K.t.tUjnxs),error:null!==(t=this.renderError("login"))&&void 0!==t?t:this.renderError("email"),onChange:(e,t)=>this.setState({login:e,loginPrefix:t}),setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"webauthn",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!u&&!c&&!d,required:!0}),(0,r.jsx)(E.II,{label:K.intl.string(K.t["CIGa+/"]),error:this.renderError("password"),onChange:e=>this.setState({password:e}),name:"password",type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:u&&!c&&!d,value:this.state.password,required:!0}),(0,r.jsx)(E.zx,{onClick:this.handleForgotPassword,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,className:o()(W.marginBottom20,W.marginTop4),children:K.intl.string(K.t.wWIufn)}),(0,r.jsx)(E.zx,{type:"submit",submitting:l===z.u34.LOGGING_IN,color:_?E.zx.Colors.GREEN:E.zx.Colors.BRAND,className:W.marginBottom8,children:_?K.intl.string(K.t.wvVThI):K.intl.string(K.t.dKhVQE)}),(0,r.jsxs)("div",{className:W.marginTop4,children:[(0,r.jsx)("span",{className:H.needAccount,children:K.intl.string(K.t.tmE73t)}),(0,r.jsx)(E.zx,{onClick:this.handleGotoRegister,look:E.zx.Looks.LINK,color:E.zx.Colors.LINK,className:H.smallRegisterLink,children:K.intl.string(K.t.pV8xeX)})]})]})})]}),(0,r.jsx)(h.y5t,{children:e?(0,r.jsx)(F.Z,{authTokenCallback:this.handleAuthToken,conditionalMediationAbortController:this.state.conditionalMediationAbortController}):null})]},"form-wrapper")}renderDefault(){let{authBoxClassName:e,showMobileWebHandoff:t}=this.props;return(0,r.jsxs)("div",{className:H.__invalid_pageContainer,children:[(0,r.jsx)(E.ZP,{onSubmit:this.handleLogin,tag:"form",className:e,expanded:!0,children:this.renderDefaultForm(!0)}),t&&(0,r.jsx)(S.Z,{})]})}renderGuildTemplate(e){return(0,r.jsx)(G.Z,{onSubmit:this.handleLogin,tag:"form",className:o()(this.props.authBoxClassName,H.horizontalAuthBox),children:()=>[(0,r.jsx)(N.Z,{guildTemplate:e},"template"),this.renderDefaultForm(!1)]})}renderMFA(){let e={ticket:this.props.mfaTicket,methods:this.props.mfaMethods};return(0,r.jsx)(E.ZP,{style:{padding:0},children:(0,r.jsx)(b.Cd,{mfaFinish:this.handleTokenSubmitMFA,mfaChallenge:e,onEarlyClose:()=>{_.Z.dispatch({type:"LOGIN_RESET"})},width:480})})}renderIPAuthorization(){let{authBoxClassName:e}=this.props,{phoneVerifyError:t}=this.state;return(0,r.jsx)(E.ZP,{tag:"form",className:e,children:(0,r.jsx)(I.Z,{title:K.intl.string(K.t.w55Ocn),subtitle:K.intl.format(K.t.CfRZBg,{onResendClick:this.handleResendCode}),error:t,onSubmit:this.handleIPAuthorize,onCancel:this.loginReset})})}renderPasswordRecovery(){let{authBoxClassName:e}=this.props,{phoneVerifyError:t}=this.state;return(0,r.jsx)(E.ZP,{tag:"form",className:e,children:(0,r.jsx)(I.Z,{title:K.intl.string(K.t["+xqy3d"]),subtitle:K.intl.format(K.t.ef4uZ2,{onResendClick:this.handleResendCode}),error:t,onSubmit:this.handlePasswordReset,onCancel:this.loginReset})})}renderChooseAccount(){return(0,r.jsx)(A.Z,{onDismiss:()=>{this.setState(e=>({...e,dismissedChooseAccount:!0}))}})}render(){let{authenticated:e,invite:t,guildTemplate:n,loginStatus:i,handoffAvailable:a}=this.props,{checkingHandoff:l,redirecting:s}=this.state;if(s||l)return(0,r.jsx)(q,{});if(a)return this.renderHandOffAvailable();if(e&&l)return this.renderHandOffContinue();switch(i){case z.u34.LOGGING_IN_MFA_SMS:case z.u34.MFA_SMS_STEP:case z.u34.LOGGING_IN_MFA:case z.u34.MFA_STEP:return this.renderMFA();case z.u34.ACCOUNT_SCHEDULED_FOR_DELETION:case z.u34.ACCOUNT_DISABLED:return this.renderDisabledAccount();case z.u34.PHONE_IP_AUTHORIZATION:return this.renderIPAuthorization();case z.u34.PASSWORD_RECOVERY_PHONE_VERIFICATION:return this.renderPasswordRecovery();case z.u34.LOGGING_IN:case z.u34.NONE:default:if(null!=t&&t.state===z.r2o.RESOLVING)return this.renderResolving();if(null!=n){if(n.state===V.Rj.RESOLVING)return this.renderResolving();return this.renderGuildTemplate(n)}if(this.canShowChooseAccount&&!this.state.dismissedChooseAccount)return this.renderChooseAccount();return this.renderDefault()}}constructor(e){var t,n;super(e),Y(this,"loginRef",void 0),Y(this,"passwordRef",void 0),Y(this,"codeRef",void 0),Y(this,"handleAuthToken",async e=>{this.setState({errors:{}}),await m.Z.loginToken(e,!1),D.default.track(z.rMx.LOGIN_SUCCESSFUL,{source:z.uRl.QR_CODE,login_source:this.loginSource,gift_code_sku_id:this.giftCodeSKUId,is_new_user:!1})}),Y(this,"loginReset",()=>{this.setState({errors:{}}),m.Z.loginReset()}),Y(this,"setLoginRef",e=>{this.loginRef=e}),Y(this,"setPasswordRef",e=>{this.passwordRef=e}),Y(this,"setCodeRef",e=>{this.codeRef=e}),Y(this,"getFullLogin",()=>{let{loginPrefix:e,login:t}=this.state;return e+t}),Y(this,"renderError",e=>{let{errors:t}=this.state;if(this.hasError(e)){let n=t[e];return Array.isArray(n)?n[0]:n}return null}),Y(this,"handleLogin",async e=>{let{password:t,undelete:n}=this.state;null==e||e.preventDefault(),w.S.dispatch(z.CkL.WAVE_EMPHASIZE),this.setState({errors:{}});try{await m.Z.login({login:this.getFullLogin(),password:t,undelete:n,source:this.loginSource,giftCodeSKUId:this.giftCodeSKUId,invite:this.props.invite})}catch(t){let e=(0,x.p)(t);this.setState({errors:e})}}),Y(this,"handleIPAuthorize",async e=>{let t=this.getFullLogin();this.setState({errors:{}});try{let{token:n}=await R.Z.verifyPhone(t,e,!1);await m.Z.authorizeIPAddress(n),this.handleLogin()}catch(e){null!=e.body&&null!=e.body.message&&this.setState({phoneVerifyError:e.body.message})}}),Y(this,"handlePasswordReset",async e=>{let{transitionTo:t}=this.props;this.setState({phoneVerifyError:null});try{let{token:n}=await R.Z.verifyPhone(this.getFullLogin(),e,!1);t(z.Z5c.RESET,{search:(0,c.stringify)({token:n,from_login:"true"})})}catch(e){null!=e.body&&null!=e.body.message&&this.setState({phoneVerifyError:e.body.message})}}),Y(this,"handleTokenSubmitMFA",e=>{let{mfaType:t,data:n,ticket:i}=e;return w.S.dispatch(z.CkL.WAVE_EMPHASIZE),m.Z.loginMFAv2({code:n,ticket:i,mfaType:t,source:this.loginSource,giftCodeSKUId:this.giftCodeSKUId})}),Y(this,"handleForgotPassword",async e=>{null!=e&&e.preventDefault(),null!=this.loginRef&&this.loginRef.focus();let t=this.getFullLogin();this.setState({errors:{}});try{if(w.S.dispatch(z.CkL.WAVE_EMPHASIZE),!await m.Z.forgotPassword(t))return;(0,h.h7j)(e=>(0,r.jsx)(h.ConfirmModal,{header:K.intl.string(K.t.f5Pi7O),confirmText:K.intl.string(K.t.BddRzc),confirmButtonColor:E.zx.Colors.BRAND,className:d.tq?H.mobile:"",...e,children:(0,r.jsx)(h.Text,{variant:"text-md/normal",children:K.intl.format(K.t["6u5hQ0"],{email:t})})}))}catch(t){let e=(0,x.p)(t);this.setState({errors:e})}}),Y(this,"handleResendCode",()=>{R.Z.resendCode(this.getFullLogin())}),Y(this,"handleReset",e=>{null!=e&&e.preventDefault(),m.Z.loginReset(),this.setState({password:"",loginPrefix:"",login:"",code:"",smsCode:"",undelete:!1,checkingHandoff:!1,redirecting:!1,errors:{}})}),Y(this,"handleCancelAccountDeletion",()=>{this.setState({undelete:!0},this.handleLogin)}),Y(this,"handleGotoRegister",()=>{let e;let{login:t}=this.state,{invite:n,giftCode:i,guildTemplate:r,location:a,transitionTo:l,redirectTo:s}=this.props,o=null!=a?(0,c.parse)(a.search):{};""!==t&&(o.email=t),null!=n?(o.mode="register",e=z.Z5c.INVITE(n.code)):null!=i?(o.mode="register",e=z.Z5c.GIFT_CODE(i.code)):null!=r?e=z.Z5c.GUILD_TEMPLATE(r.code):null!=s?(e=z.Z5c.REGISTER,o.redirect_to=s):e=z.Z5c.REGISTER,this.loginReset(),l(e,{search:(0,c.stringify)(o)}),w.S.dispatch(z.CkL.WAVE_EMPHASIZE)});let i=null!=e.location?(0,c.parse)(e.location.search):{};this.state={redirecting:e.authenticated,checkingHandoff:e.handoffAvailable,loginPrefix:"",login:null!==(n=null!==(t=i.email)&&void 0!==t?t:i.login)&&void 0!==n?n:"",password:"",code:"",smsCode:"",undelete:!1,phoneVerifyError:null,dismissedChooseAccount:!1,conditionalMediationAbortController:new AbortController,errors:{}}}}Y(J,"defaultProps",{transitionTo:e=>n.g.location.assign(e)});let X=function(e){let t=(0,u.cj)([P.Z,k.Z,y.default,T.Z,Z.Z],()=>({authenticated:y.default.isAuthenticated(),handoffAvailable:P.Z.isHandoffAvailable(),user:P.Z.user,loginStatus:y.default.getLoginStatus(),mfaTicket:y.default.getMFATicket(),mfaMethods:y.default.getMFAMethods(),defaultRoute:k.Z.defaultRoute,country:Z.Z.getCountryCode(),hasLoggedInAccounts:T.Z.getHasLoggedInAccounts()}));return(0,r.jsx)(J,{...e,...t})}},209411:function(e,t,n){n.d(t,{Z:()=>x}),n(47120),n(773603);var i=n(200651),r=n(192379),a=n(593473),l=n(512969),s=n(442837),o=n(893776),c=n(899742),d=n(493773),u=n(743142),h=n(893607),_=n(703656),m=n(314897),g=n(781428),p=n(981631),f=n(176505);function x(e){let t=r.useCallback(t=>{if(function(e){var t;let n=(0,l.LX)(e,{path:p.Z5c.CHANNEL(h.Hw.guildId(),h.Hw.channelId())});return(null==n?void 0:null===(t=n.params)||void 0===t?void 0:t.channelId)===f.oC.ROLE_SUBSCRIPTIONS}(t))_.dL(t);else{var n;(null!==(n=e.transitionTo)&&void 0!==n?n:_.uL)(t)}},[e.transitionTo]),{isAuthenticated:n,loginStatus:x}=(0,s.cj)([m.default],()=>({isAuthenticated:m.default.isAuthenticated(),loginStatus:m.default.getLoginStatus()})),{location:E,redirectTo:I}=e,[v,C]=r.useState(n);function N(e){let{handoffKey:t,handoffToken:n,handoffSource:i}=e;(0,c.Yz)({handoffKey:t,handoffToken:n,handoffSource:i}),C(!1)}return((0,d.ZP)(()=>{if(null!=E){let{handoff_key:e,handoff_token:t}=(0,a.parse)(E.search);if(null!=e&&null!=t){let n=null!=I?(0,u.L)(I):void 0;v?o.Z.logout(null).finally(()=>{N({handoffKey:e,handoffToken:t,handoffSource:n})}):N({handoffKey:e,handoffToken:t,handoffSource:n})}}}),v||x===p.u34.LOGGING_IN)?(0,i.jsx)(g.q,{}):(0,i.jsx)(g.Z,{...e,transitionTo:t})}},494526:function(e,t,n){n.d(t,{Z:()=>y}),n(47120),n(411104);var i=n(200651),r=n(192379),a=n(533126),l=n(261470),s=n(399606),o=n(544891),c=n(481060),d=n(893776),u=n(99690),h=n(937154),_=n(448986),m=n(388905),g=n(198993),p=n(710845),f=n(314897),x=n(585483),E=n(358085),I=n(172517),v=n(51144),C=n(998502),N=n(981631),b=n(231338),S=n(388032),T=n(900838),A=n(483938);let R=n(515695),Z=new p.Z("LoginQRSocket");function j(e){let{text:t=""}=e,[n,a]=r.useState(!1);return r.useEffect(()=>{let e=new Image;e.src=R,e.onload=()=>a(!0),e.onerror=()=>a(!0)},[R]),r.useEffect(()=>{n&&c.uvj.announce(S.intl.string(S.t.j2p129))},[n]),(0,i.jsx)("div",{className:T.qrCodeContainer,children:""!==t&&n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.ZP,{className:T.qrCode,size:160,text:t}),(0,i.jsx)("div",{className:T.qrCodeOverlay,children:(0,i.jsx)("img",{src:R,alt:""})})]}):(0,i.jsx)("div",{className:T.qrCodeOverlay,"aria-label":S.intl.string(S.t.BUGkVF),"aria-busy":!0,children:(0,i.jsx)(c.$jN,{className:T.qrCode,type:c.$jN.Type.WANDERING_CUBES,"aria-hidden":!0})})})}let O=e=>{let{className:t,children:n}=e;return(0,i.jsx)(c.Text,{variant:"text-md/normal",color:"text-danger",className:t,children:n})};function L(e){let{state:t,cancel:n,errorMessage:r,conditionalMediationAbortController:l,isPasswordlessActive:s}=e;switch(t.step){case 0:case 1:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j,{text:1===t.step?"https://discord.com/ra/".concat(t.fingerprint):""}),(0,i.jsx)(m.Dx,{className:A.marginBottom8,children:S.intl.string(S.t.UPiHaG)}),null!=r?(0,i.jsx)(O,{children:r}):(0,i.jsx)(m.DK,{children:S.intl.format(S.t["Qq+A6u"],{})}),(0,i.jsx)(c.zxk,{size:c.PhG.LARGE,look:c.iLD.LINK,color:c.Ttl.LINK,disabled:s,onClick:()=>(function(e){let t=E.isPlatformEmbedded&&C.ZP.supportsFeature(N.eRX.WEBAUTHN)?C.ZP.webAuthnAuthenticate:e=>{let t=(0,a.wz)(JSON.parse(e));return(0,a.U2)(t).then(e=>JSON.stringify(e))};d.Z.authenticatePasswordless({authenticateFunc:t,conditionalMediationAbortController:e}).catch(()=>{})})(l),children:S.intl.string(S.t["/kpMDg"])})]});case 3:case 2:{let{user:e}=t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{className:T.qrAvatar,user:e,size:c.EFr.SIZE_120,isMobile:!0,status:b.Sk.ONLINE}),(0,i.jsx)(m.Dx,{className:A.marginBottom8,children:S.intl.string(S.t.apGCUV)}),(0,i.jsx)(m.DK,{children:S.intl.format(S.t.Cbl5JC,{username:"".concat(v.ZP.getUserTag(e))})}),(0,i.jsx)(c.zxk,{look:c.zxk.Looks.BLANK,color:c.zxk.Colors.LINK,size:c.zxk.Sizes.MIN,onClick:n,className:T.startOverButton,children:S.intl.string(S.t.nOOhws)})]})}case 4:case 5:return(0,i.jsx)(c.$jN,{type:c.$jN.Type.WANDERING_CUBES})}}function y(e){let{authTokenCallback:t,conditionalMediationAbortController:n}=e,a=(0,s.e7)([f.default],()=>f.default.getIsPasswordlessActive()),{state:d,rsaKeyPair:u,cancel:m,handleFailure:g}=function(e){let[t,n]=r.useState(0),[i,a]=r.useState(!1),[s,o]=r.useState({step:0}),[c,d]=r.useState(null),u=(0,h.Z)(),m=r.useMemo(()=>new l.Z(1500,3e4),[]),g=(0,_.Z)(()=>{o({step:0}),u?n(e=>e+1):(Z.info("document is not visible, will defer reconnection when document becomes visible."),a(!0))}),p=r.useCallback(()=>{Z.error("Could not complete QR code login, trying to restart with a new QR code."),o({step:0}),m.pending||m.fail(g)},[g,m]);return r.useEffect(()=>{u&&i&&0===s.step&&(Z.info("reconnecting, now that document is visible"),a(!1),n(e=>e+1))},[s,u,i,a]),r.useEffect(()=>{let t=Date.now(),n=()=>"".concat(Date.now()-t,"ms"),i="wss:".concat(window.GLOBAL_ENV.REMOTE_AUTH_ENDPOINT,"/?v=2"),r=new WebSocket(i);Z.info("[0ms] connecting to ".concat(i));let a=e=>Z.info("[".concat(n(),"] ").concat(e)),l=null,s=null,c=null,u=null,h=!0;function _(){if(null!=l)return l;throw Error("No key pair set")}let f=()=>{h?(h=!1,r.send(JSON.stringify({op:"heartbeat"}))):(a("heartbeat timeout, reconnecting."),r.close(),p())};return r.onmessage=async t=>{let{data:n}=t,i=JSON.parse(n);switch(i.op){case"nonce_proof":{let e=i.encrypted_nonce,t=await (0,I.qd)(_(),e);a("computed nonce proof"),r.send(JSON.stringify({op:"nonce_proof",nonce:t}));return}case"pending_remote_init":{m.succeed(),x.S.dispatch(N.CkL.WAVE_EMPHASIZE);let e=await (0,I.Pk)(_());if(e!==i.fingerprint)throw Error("bad fingerprint ".concat(e," !== ").concat(i.fingerprint));a("handshake complete awaiting remote auth."),o({step:1,fingerprint:e});return}case"pending_login":{let e=i.ticket;null==e&&p(),o({step:4,ticket:e});return}case"pending_ticket":{x.S.dispatch(N.CkL.WAVE_EMPHASIZE),a("remote auth handshake started, awaiting ticket/cancel.");let e=i.encrypted_user_payload;o({step:3,user:await (0,I.Rq)(_(),e)});return}case"pending_finish":{x.S.dispatch(N.CkL.WAVE_EMPHASIZE),a("remote auth handshake started, awaiting finish/cancel.");let e=i.encrypted_user_payload;o({step:2,user:await (0,I.Rq)(_(),e)});return}case"finish":{x.S.dispatch(N.CkL.WAVE_EMPHASIZE),a("remote auth handshake finished.");let t=i.encrypted_token;o({step:5}),e(await (0,I.FW)(_(),t));return}case"cancel":a("remote auth handshake cancelled."),g();return;case"hello":{a("got hello, auth timeout=".concat(i.timeout_ms,"ms"));let e=i.heartbeat_interval;u=setTimeout(()=>{u=null,f(),c=setInterval(f,e)},Math.floor(e*Math.random()));return}case"heartbeat_ack":h=!0}},r.onopen=async()=>{l=await (0,I.W_)(),s=await (0,I.dK)(l);let e=await (0,I.Pk)(l);a("connected, handshaking with fingerprint: ".concat(e)),r.send(JSON.stringify({op:"init",encoded_public_key:s})),d(l)},r.onclose=e=>{a("disconnected, code: ".concat(e.code," ").concat(e.reason)),p()},r.onerror=e=>{a("disconnected, error: ".concat(JSON.stringify(e))),p()},()=>{a("cleaning up"),r.onopen=()=>null,r.onmessage=()=>null,r.onclose=()=>null,r.onerror=()=>null,r.close(1e3),m.cancel(),null!=u&&clearTimeout(u),null!=c&&clearInterval(c)}},[g,e,t,m,p]),{state:s,rsaKeyPair:c,cancel:g,handleFailure:p}}(t),p=function(e){switch(e){case 0:case 1:return 0;case 3:case 2:case 4:case 5:return 1}}(d.step);return r.useEffect(()=>{4===d.step&&null!=d.ticket&&o.tn.post({url:N.ANM.REMOTE_AUTH_LOGIN,body:{ticket:d.ticket},oldFormErrors:!0,rejectWithError:!0}).then(async e=>{if(null!=u)try{let n=await (0,I.FW)(u,e.body.encrypted_token);t(n)}catch(e){g()}else g()}).catch(()=>{g()})},[d,t,u,g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:T.verticalSeparator}),(0,i.jsx)(c.qBt,{fillParent:!0,className:T.qrLogin,step:p,steps:[0,1],children:(0,i.jsx)("div",{className:T.qrLoginInner,children:(0,i.jsx)(L,{state:d,cancel:m,conditionalMediationAbortController:n,isPasswordlessActive:a})})})]})}},163671:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var r=n(120356),a=n.n(r),l=n(388905),s=n(92035);function o(e){let{children:t,className:n,...r}=e,o=t();return(0,i.jsx)(l.ZP,{...r,className:a()(n,s.container),contentClassName:s.content,children:o.map((e,t)=>(0,i.jsx)("div",{className:s.column,style:{flexBasis:"".concat(100/o.length,"%")},children:e},t))})}},649156:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var r=n(3570),a=n(685311),l=n(186901);let s=function(e){let{match:t,location:n}=e,s=async(e,t)=>{await (0,r.s)(l.jE.PICK_GUILD_SETTINGS,{section:e.params.section,subsection:e.params.subsection,search:t.search})};return(0,i.jsx)(a.Z,{match:t,location:n,attemptDeepLink:s})}},423527:function(e,t,n){n.d(t,{Z:()=>ec}),n(757143),n(47120),n(627341);var i,r=n(200651),a=n(192379),l=n(120356),s=n.n(l),o=n(593473),c=n(278074),d=n(990547),u=n(442837),h=n(846519),_=n(481060),m=n(893776),g=n(881052),p=n(899370),f=n(224841),x=n(13430),E=n(213609),I=n(882037),v=n(254942),C=n(481230),N=n(388905),b=n(853268),S=n(639946),T=n(616952),A=n(792766),R=n(692483),Z=n(100159),j=n(473855),O=n(726745),L=n(929809),y=n(541692),P=n(986197),k=n(135200),D=n(219496),w=n(794099),B=n(807369),M=n(180529),U=n(108427),F=n(314897),G=n(480294),z=n(896797),V=n(626135),K=n(585483),H=n(70956),W=n(624138),Y=n(481153),q=n(588705),J=n(163671),X=n(981631),Q=n(355142),$=n(188785),ee=n(701476),et=n(801461),en=n(388032),ei=n(148116),er=n(483938);function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}u.ZP.initialize();let el=/\.$/,es=e=>Array.isArray(e)?e.map(e=>e.replace(el,"")).join(". ").trim():e;class eo extends(i=a.PureComponent){get registrationSource(){let{giftCode:e,guildTemplate:t,invite:n}=this.props;if(null!=e)return"gift";if(null!=t)return"guild_template";if(null!=n){if(null!=n.guild)return"guild_invite";if(null!=n.channel)return"dm_invite";if(null!=n.inviter)return"friend_invite"}return null}hasConsent(){let{consentRequired:e}=this.props,{consent:t}=this.state;return null!=e&&t}componentDidMount(){this.redirectIfAuthenticated();let{giftCodeSKU:e,invite:t}=this.props;V.default.track(X.rMx.REGISTER_VIEWED,{location:null!=t?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource,...null!=e?(0,Z.Z)(e,!1,!1):{}},{flush:!0}),null==this.props.consentRequired&&m.Z.getLocationMetadata(),(0,U.e)("register")}componentWillUnmount(){this._retryTimer.stop()}static getDerivedStateFromProps(e,t){let{consentRequired:n}=e,{consentRequiredProp:i}=t;return null==i&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}}componentDidUpdate(e,t){let{authenticated:n,isUnderage:i,invite:r,onChangeStep:a}=this.props,{apiErrors:l,parsedDateOfBirth:s}=this.state;(t.apiErrors!==l||t.parsedDateOfBirth!==s)&&(this.hasError("email")||this.hasError("phone")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("global_name")?null!=this.globalNameRef&&this.globalNameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():null==this.state.parsedDateOfBirth?null!=this.dateOfBirthRef.current&&this.dateOfBirthRef.current.focus():this.hasError("retry_after")&&"number"==typeof l.retry_after&&(this.setState({isRateLimited:!0}),this._retryTimer.start(l.retry_after*H.Z.Millis.SECOND,()=>{this.setState({isRateLimited:!1})}))),n&&!e.authenticated&&((0,L.c)(ee.M5.ORGANIC_REGISTERED),this.redirectIfAuthenticated());let o=Q.EW.FULL;i||this.hasError("date_of_birth")?o=Q.EW.AGE_GATE:null!=r&&(null!=r.guild||null!=r.channel)&&(o=Q.EW.INVITE),a(o)}redirectIfAuthenticated(){let{authenticated:e,transitionTo:t,redirectTo:n}=this.props;e&&t(null!=n?n:z.Z.defaultRoute)}async handleRegister(){let{email:e,username:t,globalName:n,password:i,consent:r,parsedDateOfBirth:a}=this.state,{invite:l,guildTemplate:s,giftCode:o,onRegister:c,usernameSuggestion:d,isMobileWebInviteRegistration:u}=this.props,h=null!=l?l.code:null,_=null!=o?o.skuId:null,m=I.MD.getState(),p=(0,W.Ew)(d)?null:t===d,f=$.a?await (0,R.K)(t):t,x=$.a?await (0,R.K)(n):n;K.S.dispatch(X.CkL.WAVE_EMPHASIZE),this.setState({registering:!0,apiErrors:{}});try{u||null==l?await (0,C.R$)({email:e,username:f,globalName:x,consent:r,password:i,invite:h,usedUsernameSuggestion:p,guildTemplateCode:null==s?void 0:s.code,giftCodeSKUId:_,birthday:a,promoEmailConsent:m.required?m:null}):await (0,C.ZP)({consent:r,invite:h,giftCodeSKUId:_,usedUsernameSuggestion:p,globalName:x}),null==c||c()}catch(t){if(this.setState({registering:!1}),!(t instanceof g.Hx))return;let e=(0,v.F)(t);this.setState({apiErrors:e})}}hasError(e){return null!=this.state.apiErrors[e]}renderConsentComponents(){let{consent:e}=this.state,{consentRequired:t}=this.props,n=null,i=null;return t?i=(0,r.jsx)(b.Z,{value:e,onChange:e=>this.setState({consent:e}),subText:en.intl.format(en.t.qMDAPz,{termsURL:X.EYA.TERMS,privacyURL:X.EYA.PRIVACY})}):n=(0,r.jsx)(N.i_,{className:er.marginTop8,children:en.intl.format(en.t["F+0zT0"],{termsURL:X.EYA.TERMS,privacyURL:X.EYA.PRIVACY})}),{subText:n,consentText:i}}renderInviteResolving(){let{authBoxClassName:e}=this.props,t=e=>{this.setState({globalName:e})},n=this.state.globalName;return(0,r.jsxs)(N.ZP,{className:e,children:[(0,r.jsx)(q.R,{}),(0,r.jsxs)(N.gO,{className:er.marginTop40,children:[(0,r.jsx)(_.vwX,{children:en.intl.string(en.t.TWzdWl)}),(0,r.jsx)(_.ua7,{text:en.intl.string(en.t["hBB85+"]),position:"right",color:_.ua7.Colors.BRAND,children:e=>{let{onMouseEnter:i,onMouseLeave:a}=e;return(0,r.jsx)(N.II,{autoFocus:!0,className:er.marginBottom8,name:"username",value:n,placeholder:en.intl.string(en.t["09Q8ys"]),onChange:t,onMouseEnter:i,onMouseLeave:a})}}),(0,r.jsx)(N.zx,{className:er.marginTop20,disabled:!0,children:en.intl.string(en.t["3PatS0"])}),(0,r.jsx)(N.i_,{disabled:!0,className:er.marginTop8,children:en.intl.format(en.t["F+0zT0"],{termsURL:X.EYA.TERMS,privacyURL:X.EYA.PRIVACY})}),$.a?null:(0,r.jsx)(N.zx,{look:N.zx.Looks.LINK,color:N.zx.Colors.LINK,disabled:!0,className:er.marginTop20,children:en.intl.string(en.t["r/jzu7"])})]})]})}renderInviteHeader(){let{invite:e}=this.props;return(null==e?void 0:e.stage_instance)!=null&&null!=e.guild?(0,r.jsx)(A.Z,{stageInstance:e.stage_instance,guild:e.guild}):(null==e?void 0:e.guild_scheduled_event)!=null?(0,r.jsx)(S.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,r.jsx)(q.Z,{invite:e})}renderInviteButton(){let{invite:e,consentRequired:t}=this.props,{consent:n,registering:i}=this.state,a=N.zx.Colors.BRAND,l=en.intl.string(en.t["3PatS0"]);return(null==e?void 0:e.stage_instance)!=null&&(a=N.zx.Colors.GREEN,l=en.intl.string(en.t["5UKyUl"])),(0,r.jsx)(_.ua7,{text:!n&&t?en.intl.string(en.t.AY4IVF):null,children:e=>(0,r.jsx)("div",{className:er.marginTop20,...e,children:(0,r.jsx)(N.zx,{type:"submit",submitting:i,disabled:!this.hasConsent(),color:a,children:l})})})}renderInvite(){let{invite:e,authBoxClassName:t}=this.props,{apiErrors:{username:n,global_name:i},globalName:a}=this.state,{subText:l,consentText:s}=this.renderConsentComponents(),o=(null==e?void 0:e.stage_instance)!=null||(null==e?void 0:e.guild_scheduled_event)!=null,c=e=>{this.setState({globalName:e})};return(0,r.jsxs)("div",{children:[(0,r.jsxs)(N.ZP,{onSubmit:this.handleSubmit,tag:"form",className:t,children:[this.renderInviteHeader(),o?(0,r.jsx)("div",{className:ei.divider}):null,(0,r.jsxs)(N.gO,{className:o?void 0:er.marginTop40,children:[(0,r.jsx)(_.vwX,{error:es(null!=i?i:n),children:en.intl.string(en.t["9AjdkJ"])}),(0,r.jsx)(_.ua7,{text:en.intl.string(en.t["hBB85+"]),position:"right",color:_.ua7.Colors.BRAND,children:e=>{let{onMouseEnter:t,onMouseLeave:l}=e;return(0,r.jsx)(N.II,{autoFocus:!0,className:er.marginBottom8,name:"global_name",value:a,placeholder:en.intl.string(en.t["09Q8ys"]),onChange:c,error:null!=n||null!=i?"":null,onMouseEnter:t,onMouseLeave:l})}}),(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"header-secondary",children:en.intl.string(en.t["330TCQ"])}),this.renderInviteButton(),l,s,$.a?null:(0,r.jsx)(N.zx,{look:N.zx.Looks.LINK,color:N.zx.Colors.LINK,onClick:this.handleGotoLogin,className:er.marginTop20,children:en.intl.string(en.t["r/jzu7"])})]})]}),null!=e&&o?(0,r.jsx)(N.ZP,{className:er.marginTop20,children:(0,r.jsx)(A.y,{guild:e.guild,onlineCount:e.approximate_presence_count})}):null]})}renderErrorMessage(){let{apiErrors:{message:e}}=this.state;return"string"!=typeof e?null:(0,r.jsx)(N.i_,{className:s()(er.marginTop20,ei.errorMessage),children:e})}renderFull(e,t){let{email:n,username:i,globalName:l,password:o,consent:c,parsedDateOfBirth:d,globalNameFocused:u,emailClientError:h,usernameClientError:m,passwordClientError:g,dateOfBirthClientError:p,registering:f,apiErrors:{email:E,username:I,global_name:v,password:C,date_of_birth:b}={}}=this.state,{consentRequired:S,isMobileWebInviteRegistration:A,uniqueUsernameRegistrationConfig:{suggestions:R},authBoxClassName:Z,hasLoggedInAccounts:j}=this.props,{subText:O,consentText:L}=this.renderConsentComponents(),y=this.renderErrorMessage(),D=(0,r.jsx)(_.ua7,{text:!c&&S?en.intl.string(en.t.AY4IVF):null,children:e=>(0,r.jsx)("div",{className:er.marginTop20,...e,children:(0,r.jsx)(N.zx,{type:"submit",submitting:f,disabled:!this.hasConsent()||this.state.isRateLimited,children:en.intl.string(en.t["3PatS0"])})})}),w=async()=>{this.setState({usernameFocused:!0}),R&&l.length>0&&!k.Z.wasRegistrationSuggestionFetched(l)&&await P.Z.fetchSuggestionsRegistration(l)},B=null!=e?(0,r.jsx)(a.Fragment,{children:e()},"custom-header"):(0,r.jsx)(N.Dx,{children:en.intl.string(en.t.wC4TlZ)},"title"),U=(0,r.jsxs)(N.gO,{className:er.marginTop20,children:[(0,r.jsx)(N.II,{autoFocus:!0,className:er.marginBottom20,label:en.intl.string(en.t.dI4d4e),name:"email",value:n,onChange:e=>this.setState({email:e,emailClientError:0===e.length?en.intl.string(en.t.EkokLy):null}),error:null!=h?h:es(E),type:"email",setRef:e=>{this.emailRef=e},required:!0}),(0,r.jsx)(N.II,{label:en.intl.string(en.t["9AjdkJ"]),className:er.marginBottom20,name:"global_name",value:l,onChange:e=>this.setState({globalName:e}),error:es(v),maxLength:et.hy,setRef:e=>{this.globalNameRef=e},onFocus:()=>this.setState({globalNameFocused:!0}),onBlur:()=>this.setState({globalNameFocused:!1})}),(0,r.jsx)(M.Z,{show:u,top:-12,bottom:20,children:(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:en.intl.string(en.t["330TCQ"])})}),(0,r.jsxs)("div",{onBlur:()=>this.setState({usernameFocused:!1}),onFocus:w,tabIndex:-1,children:[(0,r.jsx)(N.II,{label:en.intl.string(en.t.TWzdWl),className:er.marginBottom20,name:"username",value:i,onChange:e=>{this.setState({username:e.toLocaleLowerCase(),usernameClientError:0===e.length?en.intl.string(en.t.EkokLy):null})},error:null!=m?m:es(I),setRef:e=>{this.usernameRef=e},required:!0}),this.renderUsernameValidation()]}),(0,r.jsx)(N.II,{label:en.intl.string(en.t["CIGa+/"]),name:"password",value:o,onChange:e=>this.setState({password:e,passwordClientError:0===e.length?en.intl.string(en.t.EkokLy):null}),error:null!=g?g:es(C),type:"password",setRef:e=>{this.passwordRef=e},required:!0}),(0,r.jsx)(x.Z,{label:en.intl.string(en.t.rhBeKS),wrapperClassName:er.marginTop20,name:"date_of_birth",onChange:this.handleBirthdayChange,ref:this.dateOfBirthRef,error:null!=p?p:es(b),value:d,required:!0}),(0,r.jsx)(T.Z,{}),D,y,L,O,$.a?null:(0,r.jsx)(N.zx,{look:A?N.zx.Looks.FILLED:N.zx.Looks.LINK,color:A?N.zx.Colors.PRIMARY:N.zx.Colors.LINK,onClick:this.handleGotoLogin,className:er.marginTop20,children:en.intl.string(en.t["r/jzu7"])})]});return t?(0,r.jsx)(J.Z,{onSubmit:this.handleSubmit,tag:"form",className:s()(Z,ei.horizontalAuthBox),children:()=>[B,(0,r.jsxs)("div",{className:ei.flex,children:[(0,r.jsx)(N.Dx,{className:ei.createAccountTemplateHeader,children:en.intl.string(en.t.wC4TlZ)}),U]},"register-title")]}):(0,r.jsxs)(N.ZP,{onSubmit:this.handleSubmit,tag:"form",className:Z,children:[j&&!A?(0,r.jsx)(N.zx,{onClick:this.handleGotoLogin,look:N.zx.Looks.LINK,color:N.zx.Colors.PRIMARY,className:ei.goBackButton,children:(0,r.jsxs)("div",{className:ei.content,children:[(0,r.jsx)(_.V7D,{size:"xs",color:"currentColor",className:ei.caret}),(0,r.jsx)(_.Text,{variant:"text-md/normal",children:en.intl.string(en.t["1MrpWF"])})]})}):null,B,U]})}render(){let{isUnderage:e,isMobileWebInviteRegistration:t}=this.props;if(e||this.hasError("date_of_birth"))return(0,r.jsx)(f.Z,{});let{invite:n,giftCode:i,guildTemplate:a}=this.props,l=null!=n&&null==n.guild&&null==n.channel&&null!=n.inviter;return null==n||l||t?null!=a?this.renderFull(()=>(0,r.jsx)(j.Z,{guildTemplate:a}),!0):null!=i?this.renderFull(()=>(0,r.jsx)(Y.Z,{giftCode:i})):null!=n&&l&&n.state===X.r2o.RESOLVED&&!t?this.renderFull(()=>(0,r.jsx)(q.Z,{invite:n,isRegister:!0})):this.renderFull():n.state===X.r2o.RESOLVING?this.renderInviteResolving():this.renderInvite()}constructor(e){var t;super(e),ea(this,"emailRef",void 0),ea(this,"usernameRef",void 0),ea(this,"globalNameRef",void 0),ea(this,"passwordRef",void 0),ea(this,"dateOfBirthRef",a.createRef()),ea(this,"_retryTimer",new h.V7),ea(this,"handleGotoLogin",e=>{let t;let{email:n}=this.state,{giftCode:i,guildTemplate:r,invite:a,location:l,onLoginStart:s,redirectTo:c,transitionTo:d,isMobileWebInviteRegistration:u}=this.props;if(u){null==s||s(e);return}let h=null!=l?(0,o.parse)(l.search):{};null!=a?t=X.Z5c.INVITE_LOGIN(a.code):null!=i?t=X.Z5c.GIFT_CODE_LOGIN(i.code):null!=r?t=X.Z5c.GUILD_TEMPLATE_LOGIN(r.code):null!=c?(t=X.Z5c.LOGIN,h.redirect_to=c):(t=X.Z5c.LOGIN,""!==n&&(h={email:n})),m.Z.loginReset(),d(t,{search:(0,o.stringify)(h)}),null==s||s(e),K.S.dispatch(X.CkL.WAVE_EMPHASIZE)}),ea(this,"handleSubmit",e=>{null==e||e.preventDefault();let{email:t,username:n,password:i,parsedDateOfBirth:r}=this.state,{invite:a,consentRequired:l}=this.props;if(null!==l){if(null==a){let e=!1;if(0===t.length&&(this.setState({emailClientError:en.intl.string(en.t.EkokLy)}),e=!0),0===n.length&&(this.setState({usernameClientError:en.intl.string(en.t.EkokLy)}),e=!0),0===i.length&&(this.setState({passwordClientError:en.intl.string(en.t.EkokLy)}),e=!0),null==r&&(this.setState({dateOfBirthClientError:en.intl.string(en.t.EkokLy)}),e=!0),e)return}this.handleRegister()}}),ea(this,"handleBirthdayChange",e=>{this.setState({parsedDateOfBirth:e}),null!=e&&this.setState({dateOfBirthClientError:null})}),ea(this,"renderUsernameValidation",()=>{let{username:e,globalName:t,usernameFocused:n}=this.state,{usernameSuggestion:i,uniqueUsernameRegistrationConfig:{livecheckEnabled:a}}=this.props;return(0,r.jsx)(ed,{username:e,suggestion:i,livecheckEnabled:a,globalName:t,isUsernameFocused:n,onClickSuggestion:()=>{null!=this.usernameRef&&this.usernameRef.focus(),null!=i&&i.length>0&&this.setState({username:i})}})});let n=null!=e.location?(0,o.parse)(e.location.search):{};this.state={email:null!==(t=n.email)&&void 0!==t?t:"",username:"",globalName:"",password:"",parsedDateOfBirth:null,emailClientError:null,usernameClientError:null,passwordClientError:null,dateOfBirthClientError:null,consent:!e.consentRequired,consentRequiredProp:e.consentRequired,isRateLimited:!1,globalNameFocused:!1,usernameFocused:!1,registering:!1,apiErrors:{}}}}function ec(e){let t=(0,u.cj)([G.Z,F.default,p.Z,y.Z,O.Z],()=>({consentRequired:G.Z.getAuthenticationConsentRequired(),authenticated:F.default.isAuthenticated(),isUnderage:p.Z.isUnderageAnonymous(),country:y.Z.getCountryCode(),hasLoggedInAccounts:O.Z.getHasLoggedInAccounts()})),n=(0,w.F4)(),i=(0,u.e7)([k.Z],()=>k.Z.registrationUsernameSuggestion()),[l,s]=a.useState(Q.EW.FULL);return(0,E.Z)({type:d.ImpressionTypes.VIEW,name:d.ImpressionNames.USER_REGISTRATION,properties:{impression_group:d.ImpressionGroups.USER_REGISTRATION_FLOW,step:l}},{},[l]),(0,r.jsx)(eo,{onChangeStep:e=>s(e),uniqueUsernameRegistrationConfig:n,usernameSuggestion:i,...e,...t})}function ed(e){let t,{username:n,suggestion:i,globalName:a,livecheckEnabled:l,isUsernameFocused:s,onClickSuggestion:o}=e,d=(0,B.a)(n,l,!0),u=l&&n.length>0;return t=u?(0,c.EQ)(d).with({type:D.K.ERROR,message:c.P.select()},e=>(0,r.jsx)(_.Text,{className:ei.messageNegative,variant:"text-sm/normal",children:e})).with({type:D.K.AVAILABLE,message:c.P.select()},e=>(0,r.jsx)(_.Text,{className:ei.messagePositive,variant:"text-sm/normal",children:e})).otherwise(()=>(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:en.intl.string(en.t.z7c4bG)})):null!=i&&i.length>0&&a.length>0?(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:en.intl.format(en.t.nDGqqq,{suggestion:i,nameOnClick:o})}):(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:en.intl.string(en.t.z7c4bG)}),(0,r.jsx)(M.Z,{show:u&&(null==d?void 0:d.type)===D.K.ERROR||s,top:-12,bottom:20,children:t})}ea(eo,"defaultProps",{giftCodeResolved:!1,transitionTo:e=>n.g.location.assign(e)})},424044:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i=n(200651),r=n(192379),a=n(442837),l=n(481060),s=n(893776),o=n(232567),c=n(129293),d=n(388905),u=n(353926),h=n(185625),_=n(551549),m=n(108427),g=n(314897),p=n(981631),f=n(388032),x=n(483938);a.ZP.initialize();let E=e=>{let{location:t}=e,n=(0,a.e7)([g.default],()=>g.default.isAuthenticated()),E=(0,a.e7)([u.Z],()=>u.Z.hasLoadedExperiments),I=(0,_.oK)("RSL - Landing Page"),[v,C]=r.useState(!1),[N,b]=r.useState(f.intl.string(f.t["9exy+f"])),[S,T]=r.useState(!0),A=e=>{switch(e){case p.evJ.INVALID_FORM_BODY:case p.evJ.DSA_RSL_REPORT_NOT_FOUND:b(f.intl.string(f.t.bzXDfX));break;case p.evJ.DSA_RSL_ALREADY_REQUESTED:b(f.intl.string(f.t.rV00ws));break;case p.evJ.DSA_RSL_LIMITED_TIME:b(f.intl.string(f.t["0dI29v"]));break;case p.evJ.DSA_RSL_REPORT_INELIGIBLE:b(f.intl.string(f.t["RGa/GR"]));break;default:b(f.intl.string(f.t["0QLzfn"]))}};return r.useEffect(()=>{n?(T(!0),o.k({withAnalyticsToken:!0}).then(()=>T(!1)).catch(()=>T(!1))):T(!1)},[n]),r.useEffect(()=>{E||I||s.Z.getExperiments()},[E,I]),r.useEffect(()=>{let e=async e=>{var t,n;try{let n=null!=e?await (0,h.hs)(e):void 0;null!=n?b(f.intl.string(f.t.e6mZMj)):A(null===(t=n.body)||void 0===t?void 0:t.code)}catch(e){A(null===(n=e.body)||void 0===n?void 0:n.code)}finally{C(!1)}};C(!0),e((0,c.Z)(t)),(0,m.e)("report_second_look")},[t]),I&&!S&&(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{className:x.marginBottom8,children:N}),v&&(0,i.jsx)(l.$jN,{})]})}},881317:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i=n(200651),r=n(192379),a=n(990547),l=n(442837),s=n(481060),o=n(893776),c=n(232567),d=n(388905),u=n(353926),h=n(82554),_=n(726521),m=n(185625),g=n(314897),p=n(63063),f=n(981631),x=n(388032),E=n(637213),I=n(483938);l.ZP.initialize();let v=e=>{let{title:t,menuType:r}=e,l=()=>{(0,s.ZDy)(async()=>{let{default:e}=await n.e("93288").then(n.bind(n,396410));return t=>(0,i.jsx)(e,{...t,onSuccess:o,headerText:x.intl.string(x.t.ZLRYGR),confirmButtonText:x.intl.string(x.t.PDTjLC),confirmButtonColor:s.zxk.Colors.BRAND,impressionName:a.ImpressionNames.URF_ENTER_EMAIL})})},o=e=>{let t=async()=>{await (0,m.yL)(r,e)},l=async t=>await (0,m.RV)(r,e,t),o=e=>{let t=null==e?void 0:e.token;r===h.BM.MESSAGE?(0,_.eE)(t):r===h.BM.USER&&(0,_.JM)(t)};t(),(0,s.ZDy)(async()=>{let{default:e}=await n.e("94566").then(n.bind(n,965072));return n=>(0,i.jsx)(e,{...n,onFormSubmit:l,onResend:t,onSuccess:o,headerText:x.intl.string(x.t.H3Q7U1),confirmButtonText:x.intl.string(x.t["13ofGh"]),confirmButtonColor:s.zxk.Colors.BRAND,impressionName:a.ImpressionNames.URF_CONFIRM_EMAIL_CODE})})};return(0,i.jsx)("div",{className:E.buttonColumn,children:(0,i.jsx)(s.zxk,{className:I.__invalid_reportButton,fullWidth:!0,color:s.zxk.Colors.BRAND,onClick:()=>l(),children:t})})},C=()=>{let[e,t]=r.useState(!0),[n,a]=r.useState(!1),_=(0,l.e7)([g.default],()=>g.default.isAuthenticated()),C=(0,l.e7)([u.Z],()=>u.Z.hasLoadedExperiments),N=()=>{(0,m.qJ)().then(()=>{t(!1),a(!0)}).catch(()=>{t(!1),a(!1)})};return r.useEffect(()=>{_?(t(!0),c.k({withAnalyticsToken:!0}).then(()=>N()).catch(()=>t(!1))):N()},[_]),r.useEffect(()=>{(async()=>{C||(await o.Z.getLocationMetadata(),o.Z.getExperiments())})()},[C]),e||!C?(0,i.jsx)(d.ZP,{children:(0,i.jsx)(s.$jN,{})}):n&&(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{className:I.marginBottom8,children:x.intl.string(x.t.Z11w19)}),(0,i.jsx)(d.DK,{className:I.marginBottom8,children:x.intl.format(x.t["532l+v"],{supportURL:p.Z.getArticleURL(f.BhN.COPYRIGHT_AND_IP_POLICY)})}),(0,i.jsxs)("div",{className:E.container,children:[(0,i.jsx)(v,{title:x.intl.string(x.t.fuqnBA),menuType:h.BM.MESSAGE}),(0,i.jsx)(v,{title:x.intl.string(x.t.F4jrRU),menuType:h.BM.USER})]})]})}},886806:function(e,t,n){n.d(t,{Z:()=>I}),n(47120);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(442837),o=n(893776),c=n(493773),d=n(129293),u=n(388905),h=n(17894),_=n(108427),m=n(626135),g=n(981631),p=n(388032),f=n(657822),x=n(483938);function E(e){n.g.location.assign(e)}function I(e){let{location:t,transitionTo:a=E}=e,[s,I]=r.useState("submitting"),v=r.useRef(void 0);(0,c.ZP)(()=>{(0,_.e)("verify_email");let e=(0,d.Z)(t);if(null==e){I("failed");return}(async()=>{try{let t=await o.Z.verify(e);I("succeeded"),v.current=t}catch(e){I("failed")}})()});let C=r.useCallback(()=>{a(g.Z5c.LOGIN)},[a]),N=r.useCallback(()=>{m.default.track(g.rMx.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:v.current}),(0,h.Z)("verify_email")},[]);return"failed"===s?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Ee,{src:n(375673),className:l()(f.image,x.marginBottom20)}),(0,i.jsx)(u.Dx,{className:x.marginBottom8,children:p.intl.string(p.t.PCgG39)}),(0,i.jsx)(u.DK,{className:x.marginBottom40,children:p.intl.string(p.t.tQpeAw)}),(0,i.jsx)(u.zx,{onClick:C,children:p.intl.string(p.t.dKhVQE)})]}):"succeeded"===s?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Ee,{src:n(73962),className:l()(f.image,x.marginBottom20)}),(0,i.jsx)(u.Dx,{className:x.marginBottom40,children:p.intl.string(p.t.dAfGb2)}),(0,i.jsx)(u.zx,{onClick:N,children:p.intl.string(p.t.uJWIj4)})]}):(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Ee,{src:n(892235),className:l()(f.image,x.marginBottom20)}),(0,i.jsx)(u.Dx,{className:x.marginBottom8,children:p.intl.string(p.t["0c8+5u"])}),(0,i.jsx)(u.DK,{className:x.marginBottom40,children:p.intl.string(p.t.ULTCBA)}),(0,i.jsx)(u.zx,{submitting:!0,color:u.zx.Colors.PRIMARY})]})}s.ZP.initialize()},937154:function(e,t,n){n.d(t,{Z:()=>a}),n(47120);var i=n(192379);function r(){return"undefined"==typeof document||"visible"===document.visibilityState}function a(){let[e,t]=(0,i.useState)(r());return(0,i.useEffect)(()=>{function e(){t(r())}return window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("visibilitychange",e)}},[t]),e}},126399:function(e,t,n){n.d(t,{Z:()=>m}),n(47120);var i=n(544891),r=n(570140),a=n(893776),l=n(899742),s=n(743142),o=n(117240),c=n(626135),d=n(317770),u=n(981631);function h(e,t){c.default.track(u.rMx.BROWSER_HANDOFF_SUCCEEDED,{authenticated:e,handoff_source:t})}class _ extends d.Z{_initialize(){r.Z.subscribe("BROWSER_HANDOFF_END",this.handleEnd),r.Z.subscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)}_terminate(){r.Z.unsubscribe("BROWSER_HANDOFF_END",this.handleEnd),r.Z.unsubscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)}handleHandoff(e){let{handoffKey:t,handoffToken:n,fingerprint:r,handoffSource:o}=e;null!=n?i.tn.post({url:u.ANM.HANDOFF_EXCHANGE,body:{key:t,handoff_token:n},rejectWithError:!1}).then(e=>{let{body:t}=e;(0,l.Vb)(t.user),a.Z.loginToken(t.token,!1),h(!0,o)},e=>{if(null!=r&&h(!1,o),a.Z.setFingerprint(r),(0,l.lx)(),o===s.F.ROLE_SUBSCRIPTION){var t;c.default.track(u.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:null!==(t=e.message)&&void 0!==t?t:e.text,handoff_source:o})}}):null!=r?(a.Z.setFingerprint(r),h(!1,o),(0,l.lx)()):(a.Z.setFingerprint(r),(0,l.by)())}constructor(...e){var t,n;super(...e),t="handleEnd",n=e=>{let{handoffToken:t,fingerprint:n}=e,i=o.Z.key;null!=i&&o.Z.isHandoffAvailable()?this.handleHandoff({handoffKey:i,handoffToken:t,fingerprint:n,handoffSource:void 0}):(a.Z.setFingerprint(null),(0,l.by)())},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let m=new _},605782:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651),r=n(192379),a=n(512969),l=n(215569);class s extends r.Component{render(){let{children:e,location:t,history:n,staticContext:s,match:o,...c}=this.props,d=null,u=null;return r.Children.forEach(e,e=>{if(null==d&&r.isValidElement(e)){let{component:i,render:l,...o}=e.props,c=o.path||o.from;null!=(d=null!=c?(0,a.LX)(t.pathname,{...o,path:c}):null)&&(o={...o,key:c,location:t,match:d,history:n,staticContext:s},null!=i?u=r.createElement(i,o):null!=l&&(u=l(o)))}}),(0,i.jsx)(l.W,{...c,children:u})}}let o=(0,a.EN)(s)},521379:function(e,t,n){n.d(t,{Z:()=>h}),n(757143);var i,r,a,l=n(200651),s=n(192379),o=n(442837),c=n(388905),d=n(108427),u=n(559786);o.ZP.initialize();class h extends(i=s.PureComponent){componentDidMount(){(0,d.e)("account_revert")}render(){let{token:e}=this.props.match.params;return(0,l.jsx)(c.ZP,{style:{padding:0},children:(0,l.jsx)(u.Z,{width:464,token:e,...this.props})})}}r="defaultProps",a={transitionTo:e=>n.g.location.assign(e),replaceWith:e=>n.g.location.replace(e)},r in h?Object.defineProperty(h,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):h[r]=a},559786:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(200651),r=n(192379),a=n(990547),l=n(481060),s=n(301938),o=n(806701),c=n(808993),d=n(720196);function u(e){let{transitionTo:t,token:n,width:u}=e,[h,_]=r.useState(d.n.START),[m,g]=r.useState(null),[p,f]=r.useState(""),x={impression_group:a.ImpressionGroups.ACCOUNT_REVERT_FLOW};return(0,i.jsx)("div",{style:{margin:"8px"},children:(0,i.jsxs)(l.MyZ,{activeSlide:h,width:u,onSlideReady:g,children:[(0,i.jsx)(l.Mi4,{id:d.n.START,impressionProperties:x,impressionName:a.ImpressionNames.ACCOUNT_REVERT_EXPLAINER,children:(0,i.jsx)(o.Z,{setSlide:_,transitionTo:t})}),(0,i.jsx)(l.Mi4,{id:d.n.PASSWORD,impressionProperties:x,impressionName:a.ImpressionNames.ACCOUNT_REVERT_CHANGE_PASSWORD,children:(0,i.jsx)(s.Z,{setOriginalEmail:f,setSlide:_,transitionTo:t,ready:m===d.n.PASSWORD,token:n})}),(0,i.jsx)(l.Mi4,{id:d.n.SUCCESS,impressionProperties:x,impressionName:a.ImpressionNames.ACCOUNT_REVERT_SUCCESS,children:(0,i.jsx)(c.Z,{email:p})})]})})}},301938:function(e,t,n){n.d(t,{Z:()=>x}),n(47120),n(411104),n(773603);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(990547),o=n(481060),c=n(479531),d=n(388905),u=n(585483),h=n(573261),_=n(720196),m=n(981631),g=n(388032),p=n(584925),f=n(483938);function x(e){let{setOriginalEmail:t,setSlide:a,ready:x,token:E}=e,[I,v]=r.useState(!1),[C,N]=r.useState(null),[b,S]=r.useState(null),[T,A]=r.useState(""),R=r.useRef(null);return r.useEffect(()=>{if(x){var e;null===(e=R.current)||void 0===e||e.focus()}},[x]),(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Ee,{src:null==b?n(26230):n(935227),className:l()(f.marginBottom20,f.marginTop8)}),(0,i.jsx)(d.Dx,{children:g.intl.string(g.t["IfBQ5+"])}),null!=b&&""!==b?(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-danger",children:b}):null,(0,i.jsxs)(d.gO,{className:l()(f.marginBottom20,f.marginTop20),children:[(0,i.jsx)(d.II,{name:"password",type:"password",label:g.intl.string(g.t["8dM4FB"]),setRef:R,className:f.marginBottom20,value:T,onChange:A,error:C,autoComplete:"new-password",maxLength:72,placeholder:g.intl.string(g.t["yY/PXV"])}),(0,i.jsx)(d.zx,{className:f.marginTop8,onClick:()=>{if(!I){if(0===T.length){N(g.intl.string(g.t.R98xDw)),u.S.dispatch(m.CkL.WAVE_EMPHASIZE);return}return null!=b&&S(null),null!=C&&N(null),t(""),v(!0),h.Z.post({url:m.ANM.ACCOUNT_REVERT,body:{token:E,password:T},trackedActionData:{event:s.NetworkActionNames.ACCOUNT_REVERT},rejectWithError:!1}).then(e=>{let{body:{email:n}}=e;A(""),t(n),a(_.n.SUCCESS)}).catch(e=>{if(e instanceof Error)S(g.intl.formatToPlainString(g.t.aTVNen,{statusPageURL:m.yXt.STATUS}));else{let t=new c.Z(e);t.hasFieldErrors()?N(t.getAnyErrorMessage()):S((function(e){switch(e){case m.evJ.ACCOUNT_REVERT_INVALID_TOKEN:return g.intl.string(g.t["11zzGR"]);case m.evJ.ACCOUNT_REVERT_EMAIL_ALREADY_TAKEN:return g.intl.string(g.t["6qmgaG"]);case m.evJ.ACCOUNT_REVERT_ACCOUNT_NOT_FOUND:return g.intl.string(g.t.bChnKi);default:return g.intl.format(g.t.aTVNen,{statusPageURL:m.yXt.STATUS})}})(t.code).toString())}u.S.dispatch(m.CkL.WAVE_EMPHASIZE)}).finally(()=>{v(!1)})}},submitting:I,disabled:I,children:g.intl.string(g.t.ezv91d)})]}),(0,i.jsx)("div",{className:p.buttonContainer,children:(0,i.jsx)(d.zx,{color:d.zx.Colors.PRIMARY,onClick:()=>{A(""),a(_.n.START)},children:g.intl.string(g.t.rzxnQ0)})})]})}},806701:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var r=n(120356),a=n.n(r),l=n(481060),s=n(388905),o=n(661824),c=n(720196),d=n(981631),u=n(388032),h=n(584925),_=n(483938);function m(e){let{children:t}=e;return(0,i.jsx)("li",{className:h.listItem,children:(0,i.jsx)(l.Text,{variant:"text-sm/medium",color:"text-normal",children:t})})}function g(e){let{setSlide:t,transitionTo:r}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(s.Ee,{src:n(26230),className:a()(_.marginBottom20,_.marginTop8)}),(0,i.jsx)(s.Dx,{className:_.marginBottom8,children:u.intl.string(u.t["8UcxIy"])}),(0,i.jsx)(l.Text,{variant:"text-md/normal",children:u.intl.string(u.t.O37hMj)}),(0,i.jsxs)(s.gO,{className:a()(_.marginBottom20,_.marginTop20),children:[(0,i.jsx)(l.Text,{variant:"text-sm/normal"}),(0,i.jsxs)("ul",{className:h.listContainer,children:[(0,i.jsx)(m,{children:u.intl.string(u.t.Gj1Zr6)}),(0,i.jsx)(o.Z,{}),(0,i.jsx)(m,{children:u.intl.string(u.t["8C6t3N"])}),(0,i.jsx)(o.Z,{}),(0,i.jsx)(m,{children:u.intl.string(u.t.mToZMD)}),(0,i.jsx)(o.Z,{}),(0,i.jsx)(m,{children:u.intl.string(u.t.TPEvkZ)}),(0,i.jsx)(o.Z,{}),(0,i.jsx)(m,{children:u.intl.string(u.t.H8Y1Li)})]})]}),(0,i.jsxs)("div",{className:h.buttonContainer,children:[(0,i.jsx)(s.zx,{onClick:()=>t(c.n.PASSWORD),children:u.intl.string(u.t.GgCRqa)}),(0,i.jsx)(s.zx,{color:s.zx.Colors.PRIMARY,onClick:()=>r(d.Z5c.LOGIN),children:u.intl.string(u.t["B/yHcX"])})]})]})}},808993:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var r=n(120356),a=n.n(r),l=n(481060),s=n(388905),o=n(388032),c=n(483938);function d(e){let{email:t}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(s.Ee,{src:n(26230),className:a()(c.marginBottom20,c.marginTop8)}),(0,i.jsx)(s.Dx,{children:o.intl.string(o.t.ailkVF)}),(0,i.jsx)(s.DK,{children:o.intl.format(o.t["4ZMVCA"],{email:t})}),(0,i.jsx)(l.Text,{className:a()(c.marginBottom8,c.marginTop20),variant:"text-md/normal",children:o.intl.string(o.t["dpAn+/"])})]})}},720196:function(e,t,n){n.d(t,{n:()=>r});var i,r=((i={}).START="start",i.PASSWORD="password",i.SUCCESS="success",i.FAILED="failed",i)},899370:function(e,t,n){n.d(t,{Z:()=>m});var i,r,a,l=n(973361),s=n(442837),o=n(570140),c=n(358085),d=n(723359);let u=null,h="underage";class _ extends(a=s.ZP.Store){isUnderageAnonymous(){return c.isPlatformEmbedded?!!(null!=u&&u+d.k0>Date.now()):null!=l.parse(document.cookie)[h]}}r="AgeGateStore",(i="displayName")in _?Object.defineProperty(_,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):_[i]=r;let m=new _(o.Z,{AGE_GATE_PREVENT_UNDERAGE_REGISTRATION:function(){u=Date.now(),document.cookie="".concat(h,"=1;path=/")},LOGIN_SUCCESS:function(){u=null,document.cookie="".concat(h,"=1;path=/;max-age=0")}})},224841:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var r=n(481060),a=n(388905),l=n(703656),s=n(63063),o=n(981631),c=n(388032),d=n(981469);let u=()=>(0,l.uL)(o.Z5c.LOGIN),h=e=>{let{authBoxClassName:t,underageMessage:l}=e;return(0,i.jsxs)(a.ZP,{className:t,children:[(0,i.jsx)("img",{alt:"",src:n(231443),className:d.img}),(0,i.jsx)(a.Dx,{className:d.title,children:c.intl.string(c.t.nCB6GR)}),(0,i.jsx)(a.DK,{className:d.subtitle,children:c.intl.format(c.t.b0QzXV,{underageMessage:null!=l?l:c.intl.string(c.t.WqEH4O),helpURL:s.Z.getArticleURL(o.BhN.AGE_GATE)})}),(0,i.jsx)(r.zxk,{fullWidth:!0,onClick:u,children:c.intl.string(c.t.szzQ6O)})]})}},736408:function(e,t,n){n.d(t,{$:()=>o}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(134432),r=n(768581),a=n(981631);let{API_ENDPOINT:l,CDN_HOST:s}=window.GLOBAL_ENV;function o(e){let{itemId:t,hash:n,containerWidth:o=1024}=e,c=new URLSearchParams({size:(0,i.oO)(o*(0,i.x_)()).toString()}).toString(),d=r.$k?"webp":"png";return null!=s?"".concat(location.protocol,"//").concat(s,"/app-assets/application-directory/collection-items/").concat(t,"/").concat(n,".").concat(d,"?").concat(c):"".concat(location.protocol).concat(l).concat(a.ANM.APPLICATION_DIRECTORY_COLLECTION_ITEM_IMAGE(t,n,d),"?").concat(c)}},34674:function(e,t,n){n.d(t,{$_:()=>d,KQ:()=>c,MU:()=>o,RF:()=>h}),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648),n(47120),n(860911);var i=n(477690);n(481060);var r=n(911969);n(703656);var a=n(736408),l=n(981631),s=n(388032);let o=0;function c(){return{id:o,name:s.intl.string(s.t.E407b2)}}function d(e){let{itemId:t,hash:n,containerWidth:r=parseFloat(i.Z.APPLICATION_DIRECTORY_CONTENT_MAX_WIDTH)}=e;return(0,a.$)({itemId:t,hash:n,containerWidth:r})}let u=e=>{if(null==e)return null;let t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/);return null!=t?t[1]:null};function h(e){switch(e.type){case r.ee.MEDIA_PROXY:var t;let n=null!==(t=e.proxy_url)&&void 0!==t?t:e.url;return{type:l.s9s.IMG,width:0,height:0,src:n};case r.ee.YOUTUBE:let i=u(e.url);if(null!=i)return{type:l.s9s.YOUTUBE_VIDEO,youtubeVideoId:i}}return console.warn("Unsupported carousel item",e),null}},147890:function(e,t,n){n.d(t,{dx:()=>s}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(749681);n(703656),n(34674),n(132871);var r=n(272242);n(981631);var a=n(49898),l=n(979007);let s=e=>{let{guildId:t,applicationId:n,applicationSection:s,entrypoint:o,skuId:c,restorePreviousView:d}=e,u=null==n?void 0:s===r.c.STORE?l.GlobalDiscoveryAppsSections.STORE:l.GlobalDiscoveryAppsSections.ABOUT;return(0,i.transitionToGlobalDiscovery)({tab:a.GlobalDiscoveryTab.APPS,applicationId:n,section:u,skuId:u===l.GlobalDiscoveryAppsSections.STORE?c:void 0,newSessionState:{guildId:null!=t?t:null,entrypoint:o,restorePreviousView:d}})}},267394:function(e,t,n){n.d(t,{A:()=>r});var i=n(570140);function r(e){i.Z.dispatch({type:"AUTH_INVITE_UPDATE",invite:e})}},743142:function(e,t,n){n.d(t,{F:()=>s,L:()=>o});var i,r=n(754688),a=n(981631),l=n(176505),s=((i={}).ROLE_SUBSCRIPTION="role_subscription",i.ROLE_SUBSCRIPTION_SETTING="role_subscription_setting",i);function o(e){let t=decodeURIComponent(e),n=(0,r.Qj)(t);return null!=n&&n.channelId===l.oC.ROLE_SUBSCRIPTIONS?"role_subscription":t===a.Z5c.SETTINGS(a.oAB.SUBSCRIPTIONS,"role-subscriptions")?"role_subscription_setting":void 0}},857458:function(e,t,n){n.d(t,{M:()=>o,Z:()=>c});var i=n(200651);if(n(192379),12633==n.j)var r=n(512969);var a=n(860911),l=n(981631),s=n(188785);function o(){let e=location.pathname+location.search;return s.a?l.Z5c.REGISTER:(0,a.Ui)(e,!1)}let c=12633==n.j?function(){return(0,i.jsx)(r.l_,{to:o()})}:null},355142:function(e,t,n){n.d(t,{EW:()=>r});var i,r=((i={}).IDENTITY="identity",i.DISPLAY_NAME="display_name",i.ACCOUNT_INFORMATION="account_information",i.FULL="full",i.AGE_GATE="age_gate",i.INVITE="invite",i.SMS_VERIFY="sms_verify",i)},959776:function(e,t,n){n.d(t,{Z:()=>s});var i=n(913527),r=n.n(i),a=n(626135),l=n(981631);function s(e,t){a.default.track(l.rMx.AGE_GATE_SUBMITTED,{dob:18>r()().diff(e,"years")?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})}},481230:function(e,t,n){n.d(t,{R$:()=>p,ZP:()=>g});var i=n(913527),r=n.n(i),a=n(990547),l=n(570140),s=n(479531),o=n(771308),c=n(314897),d=n(626135),u=n(573261),h=n(959776),_=n(981631),m=n(723359);function g(e){let{invite:t=null,giftCodeSKUId:n=null,...i}=e;return p({...i,invite:t,giftCodeSKUId:n})}function p(e){let{email:t,phoneToken:n,username:i,globalName:g,consent:p,password:f,guildTemplateCode:x,birthday:E,invite:I=null,giftCodeSKUId:v=null,promoEmailConsent:C=null,usedUsernameSuggestion:N=null}=e;return l.Z.dispatch({type:"REGISTER"}),null!=E&&((0,h.Z)(E,_.jXE.REGISTER),d.default.track(_.rMx.AGE_GATE_ACTION,{source:m.L0.REGISTER,action:m.Al.AGE_GATE_SUBMITTED}),function(e){let t;let n=r()().diff(e,"years");n<13||(t=n>=13&&n<=17?"13-17":n>=18&&n<=22?"18-22":"23+",d.default.track(_.rMx.USER_AGE_SUBMITTED,{age_bucket:t}))}(E)),u.Z.post({url:_.ANM.REGISTER,body:{fingerprint:c.default.getFingerprint(),email:t,username:i,global_name:g,password:f,invite:I,consent:p,phone_token:n,date_of_birth:null==E?void 0:E.format("YYYY-MM-DD"),gift_code_sku_id:v,guild_template_code:x,promotional_email_opt_in:null==C?void 0:C.checked},trackedActionData:{event:a.NetworkActionNames.USER_REGISTER,properties:{invite_code:I,used_username_suggestion:N,promotional_email_opt_in:null==C?void 0:C.checked,promotional_email_pre_checked:null==C?void 0:C.preChecked,was_unique_username:!0}},rejectWithError:!1}).then(e=>{l.Z.dispatch({type:"REGISTER_SUCCESS",token:e.body.token}),d.default.track(_.rMx.AGE_GATE_ACTION,{source:m.L0.REGISTER,action:m.Al.AGE_GATE_SUCCESS})},e=>{let t=new s.Z(e);throw null!=t.getFieldErrors("date_of_birth")&&o.wE(m.L0.REGISTER),d.default.track(_.rMx.REGISTER_SUBMIT_ERRORED,{is_unique_username_registration:!0,email_error_reason:t.getFirstFieldErrorMessage("email"),phone_error_reason:t.getFirstFieldErrorMessage("phone"),password_error_reason:t.getFirstFieldErrorMessage("password"),username_error_reason:t.getFirstFieldErrorMessage("username"),global_name_error_reason:t.getFirstFieldErrorMessage("global_name"),date_of_birth_error_reason:t.getFirstFieldErrorMessage("date_of_birth")}),t})}},853268:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var r=n(120356),a=n.n(r),l=n(481060),s=n(600164),o=n(388905),c=n(167669),d=n(483938);function u(e){let{value:t,onChange:n,subText:r,muted:u,marginTopStyle:h}=e;return(0,i.jsx)(s.Z,{className:null!=h?h:d.marginTop20,align:s.Z.Align.CENTER,children:(0,i.jsx)(l.XZJ,{value:t,type:l.XZJ.Types.INVERTED,onChange:(e,t)=>n(t),className:c.checkbox,children:(0,i.jsx)(o.i_,{className:a()({[c.subText]:!u}),children:r})})})}},761305:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i,r=n(200651),a=n(192379),l=n(593473),s=n(442837),o=n(544891),c=n(108427),d=n(601964),u=n(896797),h=n(129293),_=n(388905),m=n(981631),g=n(388032),p=n(483938);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s.ZP.initialize();class x extends(i=a.PureComponent){componentDidMount(){let e=(0,h.Z)(this.props.location),t=(0,l.parse)(this.props.location.search);o.tn.post({url:m.ANM.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,body:{token:e,pixel_uuid:t.hash,guild_id:t.guild_id},oldFormErrors:!0,rejectWithError:!0}).then(e=>{let{body:{guild:t}}=e,n=new d.ZP(t);this.setState({success:!0,busy:!1,guild:n})},()=>this.setState({success:!1,busy:!1})),(0,c.e)("disable_server_highlight_notifications")}renderBusy(){return(0,r.jsx)(_.ZP,{children:(0,r.jsx)(_.Hh,{})})}renderSuccess(){let{defaultRoute:e,transitionTo:t}=this.props,{guild:n}=this.state;return(0,r.jsxs)(_.ZP,{children:[(0,r.jsx)(_.Dx,{className:p.marginBottom8,children:g.intl.string(g.t.Z33eiI)}),(0,r.jsx)(_.DK,{children:g.intl.format(g.t.NRWtfH,{guildName:n.name})}),(0,r.jsx)(_.zx,{className:p.marginTop40,onClick:()=>t(e),children:g.intl.string(g.t.fIv16O)}),(0,r.jsx)(_.zx,{className:p.marginTop8,color:_.zx.Colors.LINK,look:_.zx.Looks.LINK,onClick:()=>{t(m.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(n.id))},children:g.intl.string(g.t["cGmT/P"])})]})}renderError(){let{defaultRoute:e,transitionTo:t}=this.props;return(0,r.jsxs)(_.ZP,{children:[(0,r.jsx)(_.Ee,{src:n(105020),className:p.marginBottom20}),(0,r.jsx)(_.Dx,{className:p.marginBottom8,children:g.intl.string(g.t.ox9hIS)}),(0,r.jsx)(_.DK,{children:g.intl.string(g.t["/dcuR0"])}),(0,r.jsx)(_.zx,{className:p.marginTop40,onClick:()=>t(e),children:g.intl.string(g.t.fIv16O)})]})}render(){let{busy:e,success:t}=this.state;return e?this.renderBusy():t?this.renderSuccess():this.renderError()}constructor(...e){super(...e),f(this,"state",{busy:!0,success:!1,guild:null})}}f(x,"defaultProps",{transitionTo:e=>n.g.location.assign(e)});let E=s.ZP.connectStores([u.Z],()=>({defaultRoute:u.Z.defaultRoute}))(x)},639946:function(e,t,n){n.d(t,{r:()=>c});var i=n(200651);n(192379);var r=n(481060),a=n(471445),l=n(742593),s=n(583114);function o(e){let{channel:t}=e,n=(0,a.Th)(t.type);return(0,i.jsxs)("div",{className:s.channelInfoContainer,children:[null!=n?(0,i.jsx)(n,{color:"currentColor",size:"custom",width:20,height:20}):null,(0,i.jsx)(r.Text,{className:s.channelInfoText,color:"none",variant:"text-sm/semibold",children:t.name})]})}function c(e){let{channel:t,guildScheduledEvent:n}=e;return(0,i.jsxs)("div",{className:s.container,children:[(0,i.jsx)(l.HZ,{className:s.statusContainer,guildId:n.guild_id,guildEvent:n,eventPreview:n}),(0,i.jsx)(l.Rf,{name:n.name,description:n.description,guildId:n.guild_id}),null!=t&&n.channel_id===t.id?(0,i.jsx)(o,{channel:t}):null]})}},698177:function(e,t,n){n.d(t,{Z:()=>x}),n(47120);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(442837),o=n(481060),c=n(144114),d=n(742458),u=n(541692),h=n(952802),_=n(388905),m=n(815660),g=n(388032),p=n(179683),f=n(483938);let x=()=>{let[e,t]=r.useState(""),[a,x]=r.useState(""),[E,I]=r.useState(!1),[v,C]=r.useState(!1),[N,b]=r.useState(null),[S,T]=r.useState(null),A=(0,s.e7)([u.Z],()=>u.Z.getCountryCode()),R=A.code.split(" ")[0],Z=async()=>{try{await c.Z.resendCode(e)}catch(e){T(e.body.message)}},j=async()=>{I(!0);try{let{token:t}=await c.Z.verifyPhone(R+e,a);b(null),T(null),C(!0),c.Z.validatePhoneForSupport(t)}catch(e){e.body.message?(b(null),T(e.body.message)):(b(e.body.phone),T(e.body.code))}finally{I(!1)}},O=(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Ee,{src:n(292824)}),(0,i.jsxs)(_.Dx,{className:l()(f.marginTop20,p.flex,p.justifyCenter,p.alignCenter),children:[g.intl.string(g.t.WWzQtb),(0,i.jsx)(o.owK,{size:"md",color:"currentColor",className:f.marginLeft8})]})]});return v?O:(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Dx,{children:g.intl.string(g.t.o4JNrK)}),(0,i.jsx)(_.DK,{className:f.marginTop8,children:g.intl.string(g.t.y0tVbm)}),(0,i.jsxs)(_.gO,{className:f.marginTop20,children:[(0,i.jsx)(h.Z,{label:g.intl.string(g.t.eJnn09),alpha2:A.alpha2,countryCode:R,value:e,autoComplete:"off",spellCheck:"false",onChange:t,forceMode:d.Nz.PHONE,error:N}),(0,i.jsx)(_.II,{className:f.marginTop20,label:g.intl.string(g.t.OdzNbm),value:a,onChange:x,maxLength:m.z,error:S}),(0,i.jsx)(_.zx,{size:_.zx.Sizes.SMALL,look:_.zx.Looks.LINK,onClick:Z,children:g.intl.string(g.t["5b60go"])}),(0,i.jsx)(_.zx,{className:f.marginTop20,onClick:j,submitting:E,children:g.intl.string(g.t.i4jeWV)})]})]})}},616952:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var r=n(882037),a=n(853268),l=n(388032),s=n(483938);function o(){let{required:e,checked:t}=(0,r.MD)();return e?(0,i.jsx)(a.Z,{value:t,subText:l.intl.string(l.t["0p3R09"]),onChange:r.ZJ,marginTopStyle:s.marginTop8,muted:!0}):null}},362762:function(e,t,n){n.d(t,{Z:()=>u});var i,r,a,l=n(442837),s=n(570140),o=n(981631);let c={};class d extends(a=l.ZP.Store){getState(e){return c[e]}}r="CodedLinkNativeAppStateStore",(i="displayName")in d?Object.defineProperty(d,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):d[i]=r;let u=new d(s.Z,{NATIVE_APP_MODAL_OPENING:function(e){let{code:t}=e;c[t]=o.kEZ.OPENING},NATIVE_APP_MODAL_OPENED:function(e){let{code:t}=e;c[t]=o.kEZ.OPEN},NATIVE_APP_MODAL_OPEN_FAILED:function(e){let{code:t}=e;c[t]=o.kEZ.OPEN_FAIL}})},692483:function(e,t,n){n.d(t,{K:()=>r});var i=n(998502);async function r(e){try{return await i.ZP.getSetting("USERNAME_PREFIX","")+e}catch(e){}return e}},753194:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(200651);n(192379);var r=n(866442),a=n(442837),l=n(692547),s=n(481060),o=n(607070),c=n(297700),d=n(388032);function u(e){let t,{color:n,size:u,forcedIconColor:h,className:_,iconClassName:m,tooltipText:g}=e,[p,f]=(0,a.Wu)([o.Z],()=>[o.Z.desaturateUserColors,o.Z.saturation]),x=(0,s.dQu)(l.Z.unsafe_rawColors.PRIMARY_300).hex(),E=(0,r._i)(null!=n?n:x),I=(0,r.ho)(E,!1,p?f:null);return t=null!=h?h:.3>(0,r.Bd)(E)?l.Z.unsafe_rawColors.PRIMARY_630.css:l.Z.unsafe_rawColors.WHITE_500.css,(0,i.jsx)(s.ua7,{text:null!=g?g:d.intl.string(d.t.T3PvV1),children:e=>(0,i.jsx)(c.Z,{...e,className:_,color:I,size:u,children:(0,i.jsx)(s.kmB,{size:"custom",color:t,height:u,width:u,className:m})})})}},198993:function(e,t,n){n.d(t,{ZP:()=>x,c2:()=>f,cK:()=>_});var i,r,a,l=n(200651),s=n(192379),o=n(120356),c=n.n(o),d=n(841226),u=n(960337);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=((i={}).SIZE_40="SIZE_40",i.SIZE_60="SIZE_60",i);let m=Object.freeze({SIZE_40:"size-40",SIZE_60:"size-60"}),g=n(515695);class p extends(r=s.PureComponent){render(){let{className:e,text:t,...n}=this.props;return(0,l.jsx)("div",{style:{width:n.size,height:n.size,backgroundColor:n.bgColor},className:c()(u.qrCodeContainer,e),children:(0,l.jsx)(d.default,{value:t,level:"M",...n})})}}h(p,"defaultProps",{size:128,bgColor:"#ffffff",fgColor:"#000000"});class f extends(a=s.PureComponent){render(){let{overlaySize:e}=this.props,t=m[null!=e?e:"SIZE_40"];return(0,l.jsxs)("div",{className:u.qrCodeOverlayContainer,children:[(0,l.jsx)(p,{...this.props}),(0,l.jsx)("div",{className:u.qrCodeOverlay,children:(0,l.jsx)("img",{className:u[t],src:g,alt:""})})]})}}h(f,"defaultProps",{size:144,bgColor:"#ffffff",fgColor:"#000000"});let x=p},749681:function(e,t,n){n.r(t),n.d(t,{transitionToGlobalDiscovery:()=>function e(t){var n,g,p;let f=t.tab;switch(d.Z.setState({selectedTab:f}),f){case u.GlobalDiscoveryTab.SERVERS:let x=t.selectedServersTab;return null!=x?a.Z.setState({selectedTab:x,entrypoint:null!==(n=t.entrypoint)&&void 0!==n?n:m.Qq.UNKNOWN}):a.Z.setState({entrypoint:null!==(g=t.entrypoint)&&void 0!==g?g:m.Qq.UNKNOWN}),(0,s.uL)(h.Z5c.GLOBAL_DISCOVERY_SERVERS,t.extra);case u.GlobalDiscoveryTab.APPS:if(null!=t.newSessionState){let n=(0,r.PM)(),{guildId:a,entrypoint:l}=t.newSessionState;if(i.z8.setState({sessionId:n,guildId:null!=a?a:null,entrypoint:l,trackedOpenedFromExternalEntrypoint:!1}),c.default.track(h.rMx.APP_DIRECTORY_OPENED,{source:null==l?void 0:l.name,session_id:n,guild_id:a,user_id:null===(p=o.default.getCurrentUser())||void 0===p?void 0:p.id}),t.newSessionState.restorePreviousView)return e(function(){let{lastItem:e}=i.aQ.getState();if(null!=e)switch(e.type){case i.m_.APPLICATION:return{tab:u.GlobalDiscoveryTab.APPS,applicationId:e.applicationId,section:e.section};case i.m_.CATEGORY:return{tab:u.GlobalDiscoveryTab.APPS,categoryId:Number(e.categoryId)};case i.m_.SEARCH:var t;return{tab:u.GlobalDiscoveryTab.APPS,query:null!==(t=e.query)&&void 0!==t?t:"",page:e.page,categoryId:null!=e.categoryId?Number(e.categoryId):void 0}}return{tab:u.GlobalDiscoveryTab.APPS}}())}if(null!=t.applicationId){if(t.section===_.GlobalDiscoveryAppsSections.STORE){if(null!=t.skuId)return(0,s.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(t.applicationId,t.skuId));return(0,s.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(t.applicationId,_.GlobalDiscoveryAppsSections.STORE))}return(0,s.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(t.applicationId))}if(null!=t.query){let e=new URLSearchParams;return""!==t.query&&e.set("q",t.query),null!=t.categoryId&&e.set("category_id",t.categoryId.toString()),null!=t.page&&e.set("page",t.page.toString()),(0,s.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,{search:e.toString()})}if(null!=t.categoryId)return(0,s.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(t.categoryId.toString()));else return(0,s.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS);case u.GlobalDiscoveryTab.QUESTS:return(0,l.navigateToQuestHome)({fromContent:t.questContent,questId:t.questId});default:throw Error("[transitionToGlobalDiscovery] Unhandled tab type: ".concat(f))}}}),n(610138),n(216116),n(78328),n(815648),n(47120),n(411104);var i=n(258971),r=n(726115),a=n(859921),l=n(341907),s=n(703656),o=n(594174),c=n(626135),d=n(836768),u=n(49898),h=n(981631),_=n(979007),m=n(128449)},258971:function(e,t,n){if(n.d(t,{Uc:()=>m,Xh:()=>g,aQ:()=>h,m_:()=>u,z8:()=>_}),n(610138),n(216116),n(78328),n(815648),n(47120),12633==n.j)var i,r=n(512969);var a=n(972959),l=n(264043),s=n(34674),o=n(703656),c=n(979007),d=n(981631),u=((i={}).HOME="home",i.SEARCH="search",i.APPLICATION="application",i.CATEGORY="category",i);let h=(0,a.H)(()=>({})),_=(0,a.H)(()=>({sessionId:null,guildId:null,entrypoint:null,trackedOpenedFromExternalEntrypoint:!1}));function m(){let{location:{state:e}}=(0,o.s1)();return null==e?void 0:e.previousView}function g(){var e,t,n;let{location:{pathname:i,search:a}}=(0,o.s1)();if(null!=(0,r.LX)(i,{path:d.Z5c.GLOBAL_DISCOVERY_APPS,exact:!0}))return{type:"home"};if(null!=(0,r.LX)(i,{path:d.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,exact:!0})){let e=new URLSearchParams(a),t={type:"search"},n=e.get("q");null!=n&&""!==n&&(t.query=n);let i=Number(e.get("category_id"));Number.isInteger(i)&&i!==s.MU&&(t.categoryId=i.toString());let r=Number(e.get("page"));return null!=r&&r>1&&(t.page=r),t}let u=(0,r.LX)(i,{path:[d.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(":categoryId")],exact:!0}),{categoryId:h}=null!==(e=null==u?void 0:u.params)&&void 0!==e?e:{};if(null!=u&&null!=h)return{type:"category",categoryId:h};let _=(0,r.LX)(i,{path:[d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId"),d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",":section"),d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId")],exact:!0}),{applicationId:m,section:g,skuId:p}=null!==(t=null==_?void 0:_.params)&&void 0!==t?t:{};if(null!=_&&null!=m){let e=null===(n=l.Z.getApplication(m))||void 0===n?void 0:n.name;return{type:"application",applicationId:m,applicationName:e,section:null!=g?g:null!=p?c.GlobalDiscoveryAppsSections.STORE:c.GlobalDiscoveryAppsSections.ABOUT}}}},859921:function(e,t,n){n.d(t,{Z:()=>a});var i=n(972959);let r=Object.freeze({selectedTab:null,isSearchVisible:!1,entrypoint:null,searchBarState:n(49898).GlobalDiscoverySearchBarState.DEFAULT}),a=(0,i.H)(()=>r)},47343:function(e,t,n){n.d(t,{R:()=>x}),n(47120);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(481060),o=n(590965),c=n(695346),d=n(51331),u=n(259580),h=n(626135),_=n(44609),m=n(731971),g=n(981631),p=n(388032),f=n(181550);let x=()=>{var e;let[t,n]=r.useState(!1),a=c.G6.useSetting(),{nickname:x,dmsAllowed:E,showActivity:I,mutedServer:v,setNickname:C,setDmsAllowed:N,setShowActivity:b,setMutedServer:S}=(0,m.XW)(),T=null===(e=o.Z.getProps().invite)||void 0===e?void 0:e.is_nickname_changeable,A=(0,_.m4)({location:"InviteSettingsControls"});return(0,i.jsxs)("div",{className:l()(f.editProfileContainer,{[f.opened]:t}),children:[(0,i.jsxs)(s.P3F,{className:f.header,onClick:()=>{t||h.default.track(g.rMx.INVITE_ACCEPT_JOIN_SETTINGS_EXPANDED),n(!t)},children:[(0,i.jsx)("div",{className:f.headerIconWrapper,children:(0,i.jsx)(s.ewm,{size:"md"})}),(0,i.jsxs)("div",{className:f.title,children:[(0,i.jsx)(s.Text,{variant:"eyebrow",color:"header-secondary",children:p.intl.string(p.t.A5wHQ0)}),(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"interactive-normal",children:p.intl.string(p.t.UKCSER)})]}),(0,i.jsx)("div",{className:l()(f.caret,{[f.opened]:t}),children:(0,i.jsx)(u.Z,{width:18,height:18,direction:u.Z.Directions.UP})})]}),(0,i.jsxs)("div",{className:l()(f.customizationSection,{[f.opened]:t},T?null:f.condensed),children:[T&&(0,i.jsxs)("div",{className:f.serverNickname,children:[(0,i.jsx)(s.Text,{variant:"eyebrow",color:"header-secondary",children:p.intl.string(p.t.me1lRk)}),(0,i.jsx)(s.oil,{placeholder:p.intl.string(p.t["09Q8ys"]),maxLength:g.l$U,value:x,onChange:C})]}),(0,i.jsx)(d.Z,{title:p.intl.string(p.t["/2ed39"]),value:E,onChange:N}),a&&(0,i.jsx)(d.Z,{title:p.intl.string(p.t.bN4m1N),value:I,onChange:b}),A&&(0,i.jsx)(d.Z,{title:p.intl.string(p.t["0nZCqK"]),value:v,onChange:S})]})]})}},390072:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),r=n(192379),a=n(481060),l=n(725436),s=n(11868),o=n(217804),c=n(765305),d=n(230335);function u(e){let{guildScheduledEvent:t,channel:n,onClose:u}=e,h=t.entity_type===c.WX.EXTERNAL,_=r.useCallback(e=>(0,s.Qt)(t,u)(e),[t,u]),m=(0,o.u)(t,n);if(null==m)return null;let{IconComponent:g,locationName:p}=m,f=(0,i.jsxs)(i.Fragment,{children:[null!=g&&(0,i.jsx)(g,{size:"custom",color:"currentColor",width:20,height:20,className:d.channelIcon}),(0,i.jsx)(a.Text,{color:"header-secondary",variant:"text-sm/normal",className:d.locationText,children:(0,l.m)(p,!0)})]});return(0,i.jsx)("div",{className:d.row,children:null!=_?(0,i.jsx)(a.P3F,{className:h?d.externalLocation:d.channelLocation,onClick:_,children:f}):f})}},962220:function(e,t,n){n.d(t,{Z:()=>h});var i=n(39612),r=n(271579),a=n(756647),l=n(625128),s=n(626135),o=n(954824),c=n(751189),d=n(981631);let u="template",h={...c.Z,openNativeAppModal(e){l.Z.openNativeAppModal(e,d.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp(e,t){if(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)return;let n=null!=e?(0,i.Oh)(e):(0,i.Gk)(),l=(0,r.WS)(),c=(0,r.ZP)(n,{utmSource:u,fingerprint:t,attemptId:l});s.default.track(d.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,a.K)(t),attempt_id:l,source:u,guild_template_code:e}),o.Z.launch(c,()=>{})}}},888592:function(e,t,n){n.d(t,{fQ:()=>a,tF:()=>r});var i,r=((i={}).STUDENT_PROMPT="STUDENT_PROMPT",i.VERIFY_EMAIL="VERIFY_EMAIL",i.VERIFY_PIN="VERIFY_PIN",i.SELECT_SCHOOL="SELECT_SCHOOL",i.SELECT_SCHOOL_SEARCH="SELECT_SCHOOL_SEARCH",i.SUBMIT_SCHOOL="SUBMIT_SCHOOL",i.EMAIL_CONFIRMATION="EMAIL_CONFIRMATION",i.EMAIL_WAITLIST="EMAIL_WAITLIST",i);let a="884924873015689226"},844800:function(e,t,n){n.d(t,{Z:()=>h});var i,r,a,l=n(442837),s=n(570140);let o=!1,c=null,d=null;class u extends(a=l.ZP.Store){getState(){return{verifySuccess:o,verifyErrors:c,redirectGuildId:d}}}r="HubEmailVerificationStore",(i="displayName")in u?Object.defineProperty(u,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[i]=r;let h=new u(s.Z,{HUB_VERIFY_EMAIL_SUCCESS:function(e){let{guildId:t}=e;o=!0,c=null,d=t},HUB_VERIFY_EMAIL_FAILURE:function(e){let{errors:t}=e;o=!1,c=t}})},580497:function(e,t,n){n.d(t,{Z:()=>p});var i=n(512722),r=n.n(i),a=n(525654),l=n.n(a),s=n(39612),o=n(271579),c=n(756647),d=n(703656),u=n(314897),h=n(896797),_=n(626135),m=n(954824),g=n(981631);function p(e){let t=function(e){var t;let n=null===(t=l().os)||void 0===t?void 0:t.family;if("Android"===n||"iOS"===n){let t=u.default.getFingerprint(),n=(0,o.WS)();return r()(null!=e,"generateAppPath: guildId cannot be null"),(0,o.ZP)((0,s.z0)(e),{utmSource:"verify_hub_email",fingerprint:t,attemptId:n})}return"discord://"}(e),n=(0,o.zS)(t);null!=n&&_.default.track(g.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,c.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource}),m.Z.launch(t,e=>{e||(0,d.dL)(h.Z.fallbackRoute)})}},637776:function(e,t,n){n.d(t,{Z:()=>p}),n(47120);var i=n(200651),r=n(192379),a=n(442837),l=n(231239),s=n(129293),o=n(388905),c=n(703656),d=n(108427),u=n(844800),h=n(580497),_=n(981631),m=n(388032),g=n(757377);function p(e){let{location:t}=e,[p,f]=r.useState(!1),{verifySuccess:x,verifyErrors:E,redirectGuildId:I}=(0,a.e7)([u.Z],()=>u.Z.getState());r.useEffect(()=>{let e=(0,s.Z)(t);l.Z.verify(e),(0,d.e)("verify_hub_email")},[t]);let v=()=>{(0,h.Z)(I),f(!0)};return p?(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)(o.Dx,{className:g.title,children:m.intl.string(m.t.csrAMD)}),(0,i.jsx)(o.DK,{className:g.subtitle,children:m.intl.string(m.t["m1+IBg"])}),(0,i.jsx)(o.zx,{className:g.spacedButton,onClick:()=>(0,c.uL)(_.Z5c.CHANNEL(I)),children:m.intl.string(m.t.fIv16O)})]}):x?(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)(o.Ee,{className:g.image,src:n(73962)}),(0,i.jsx)(o.Dx,{className:g.title,children:m.intl.string(m.t.dAfGb2)}),(0,i.jsx)(o.zx,{onClick:v,children:m.intl.string(m.t.uJWIj4)})]}):null!=E?(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)(o.Ee,{className:g.image,src:n(375673)}),(0,i.jsx)(o.Dx,{className:g.title,children:m.intl.string(m.t.PCgG39)}),(0,i.jsx)(o.DK,{className:g.subtitle,children:m.intl.string(m.t.tQpeAw)}),(0,i.jsx)(o.zx,{onClick:v,children:m.intl.string(m.t.uJWIj4)})]}):(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)(o.Ee,{className:g.image,src:n(892235)}),(0,i.jsx)(o.Dx,{className:g.title,children:m.intl.string(m.t["0c8+5u"])}),(0,i.jsx)(o.DK,{className:g.subtitle,children:m.intl.string(m.t.ULTCBA)}),(0,i.jsx)(o.zx,{submitting:!0,color:o.zx.Colors.PRIMARY})]})}a.ZP.initialize()},551549:function(e,t,n){n.d(t,{oK:()=>r});let i=(0,n(818083).B)({kind:"user",id:"2023-09_iar_dsa_webform",label:"Safety Experience Unauthenticated Report Form",defaultConfig:{enabled:!1},treatments:[{id:1,label:"EU user",config:{enabled:!0}},{id:2,label:"DSA E2E testing user",config:{enabled:!0}}]});function r(e){return i.useExperiment({location:e},{autoTrackExposure:!0}).enabled}},230224:function(e,t,n){n.d(t,{GB:()=>R,JI:()=>T,UM:()=>O,V6:()=>Z,WT:()=>C,X7:()=>N,jq:()=>j,mx:()=>E}),n(411104);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(481060),o=n(388905),c=n(118012),d=n(925329),u=n(372769),h=n(768581),_=n(51144),m=n(245335),g=n(981631),p=n(888592),f=n(388032),x=n(277893);let E=100,I=e=>{var t,n;let i={onlineCount:null!==(t=e.approximate_presence_count)&&void 0!==t?t:0,memberCount:null!==(n=e.approximate_member_count)&&void 0!==n?n:0};return 0===i.memberCount&&0===i.memberCount?null:i},v=e=>e.target_type===m.Iq.STREAM&&null!=e.target_user,C=e=>{var t;return(null===(t=e.channel)||void 0===t?void 0:t.type)===g.d4z.GROUP_DM},N=e=>null==e.channel&&null==e.guild&&null!=e.inviter,b=e=>{var t;let n=I(e);return(null!==(t=null==n?void 0:n.memberCount)&&void 0!==t?t:0)>E},S=e=>e.state===g.r2o.ACCEPTED,T=e=>{let{guild_scheduled_event:t}=e;return null!=t},A=e=>!T(e)&&(!!N(e)||null!=e.inviter&&!S(e)&&!b(e)),R=e=>{let{guild:t,user:n,application:r}=e;return null!=r?(0,i.jsx)(d.Z,{className:x.appIcon,game:r,size:x.appIconSize}):null!=n?(0,i.jsx)(o.qE,{src:n.getAvatarURL(void 0,100),size:s.EFr.DEPRECATED_SIZE_100,className:x.avatar}):null!=t?(0,i.jsx)(o.Vj,{guild:t,size:o.Vj.Sizes.LARGER,className:x.guildIcon,animate:!0}):null};function Z(e){var t;let{invite:n,textClassName:r,className:a}=e,s=I(n);return null==s||A(n)||(null==n?void 0:null===(t=n.guild)||void 0===t?void 0:t.id)===p.fQ?null:(0,i.jsx)(o.EJ,{className:l()(x.activityCount,a),online:s.onlineCount,total:s.memberCount,textClassName:r,flat:!0})}function j(e){let{invite:t,showBigUserIcon:n}=e,a=r.useMemo(()=>n?null:v(t)&&null!=t.target_user?h.ZP.getUserAvatarURL(t.target_user):A(t)&&null!=t.inviter?h.ZP.getUserAvatarURL(t.inviter):null,[t,n]),l=f.intl.string(f.t["3rE1Pz"]);if(C(t)){var c,d;l=(null===(c=t.channel)||void 0===c?void 0:c.name)!=null&&(null===(d=t.inviter)||void 0===d?void 0:d.username)!=null?f.intl.format(f.t.Lu4h19,{username:t.inviter.username}):f.intl.string(f.t.OsdY8P)}else v(t)&&null!=t.target_user?l=f.intl.formatToPlainString(f.t.x2L32d,{username:t.target_user.username}):S(t)?l=f.intl.string(f.t["FDsl+P"]):A(t)&&null!=t.inviter&&(l=f.intl.format(f.t.spU2mJ,{username:_.ZP.getFormattedName(t.inviter)}));return(0,i.jsxs)("div",{className:x.inviteJoinContainer,children:[null!=a&&(0,i.jsx)("div",{className:x.inviterIconWrapper,children:(0,i.jsx)(o.qE,{src:a,size:s.EFr.SIZE_24})}),(0,i.jsx)(o.DK,{className:x.__invalid_inviteJoinSubTitle,children:l})]})}function O(e){let t,n,r,{user:a,guild:l,channel:d,application:h,showBigUserIcon:m}=e;if(null!=l)m&&null==h&&(t=(0,i.jsx)(o.Vj,{guild:l,size:o.Vj.Sizes.SMALL})),n=l.name,null!=h&&(n=h.name,r=(0,i.jsxs)("div",{className:x.inviteJoinContainer,children:[(0,i.jsx)(o.DK,{className:x.appIn,children:f.intl.string(f.t["3gg9fH"])}),(0,i.jsxs)("div",{className:x.guildContainer,children:[(0,i.jsx)(o.Vj,{guild:l,size:o.Vj.Sizes.SMALL}),(0,i.jsx)(c.Z,{className:x.appGuildName,color:c.Z.Colors.CUSTOM,tag:"span",size:c.Z.Sizes.SIZE_24,children:l.name})]})]}));else if(null!=d){if(null==a)throw Error("no inviter in group DM invite");let e=_.ZP.getFormattedName(a);null!=d.name&&""!==d.name?(n=d.name,null!=d.icon&&(t=(0,i.jsx)(o.MC,{channel:d,size:s.EFr.SIZE_32}))):n=e}else if(null!=a){let e=_.ZP.getFormattedName(a);n=f.intl.formatToPlainString(f.t["4aF92d"],{username:e}),r=(0,i.jsx)(o.DK,{className:x.directInviteSubTitle,children:f.intl.format(f.t.Quj7HR,{username:e})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Dx,{className:x.title,children:[null!=l?(0,i.jsx)(u.Z,{guild:l,className:x.guildBadge,tooltipPosition:"left"}):null,t,n]}),r]})}},617730:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var r=n(481060),a=n(973616),l=n(131704),s=n(601964),o=n(598077),c=n(230224),d=n(258356),u=n(981631),h=n(388032),_=n(271902);let m=e=>{let{state:t}=e;switch(t){case u.r2o.ACCEPTING:case u.r2o.APP_OPENING:return!0;default:return!1}};function g(e){let{invite:t,onAcceptInvite:n,disableUser:g=!1}=e;if(null==t)return null;let p=null!=t.guild?new s.ZP(t.guild):null,f=null!=t.channel?(0,l.jD)(t.channel):null,x=null!=t.target_application?new a.ZP(t.target_application):null,E=g||null==t.inviter?null:new o.Z(t.inviter),I=!(null!=t.approximate_member_count&&t.approximate_member_count>c.mx||null!=p&&p.hasFeature(u.oNc.COMMUNITY))&&null!=E&&(0,c.WT)(t),v=m(t),C={invite:t,user:E,guild:p,channel:f,application:x};return(0,c.JI)(t)?(0,i.jsx)(d.Z,{invite:t,channel:f,isSubmitting:v,onAcceptInvite:n}):(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)(c.GB,{application:x,guild:p,user:I||(0,c.X7)(t)?E:null}),(0,c.X7)(t)?null:(0,i.jsx)(c.jq,{...C,showBigUserIcon:I}),(0,i.jsx)(c.UM,{...C,showBigUserIcon:I}),(0,i.jsx)(c.V6,{...C}),(0,i.jsx)(r.zxk,{onClick:n,submitting:v,className:_.acceptButton,children:h.intl.string(h.t.ohMvm5)})]})}},677760:function(e,t,n){n.d(t,{Z:()=>L}),n(47120);var i=n(200651),r=n(192379),a=n(642128),l=n(442837),s=n(481060),o=n(447543),c=n(587444),d=n(393238),u=n(388905),h=n(108427),_=n(314897),m=n(701190),g=n(626135),p=n(768581),f=n(823379),x=n(264229),E=n(230224),I=n(617730),v=n(258356),C=n(981631),N=n(388032),b=n(526967);function S(){return(0,i.jsx)("div",{className:b.centerFlex,children:(0,i.jsx)(s.$jN,{})})}let T=e=>{let t=(null==e?void 0:e.state)==null&&(null==e?void 0:e.channel)==null;if(null==e||null==e.state||t)return 0;let n=e.state;switch(n){case C.r2o.RESOLVED:case C.r2o.ACCEPTED:case C.r2o.APP_NOT_OPENED:case C.r2o.APP_OPENED:case C.r2o.ACCEPTING:case C.r2o.APP_OPENING:return 1;case C.r2o.EXPIRED:case C.r2o.BANNED:case C.r2o.ERROR:return 2;case C.r2o.RESOLVING:return 0;default:(0,f.vE)(n)}};function A(e){let{invite:t,onAcceptInvite:n}=e;return(null==t?void 0:t.state)===C.r2o.BANNED?(0,i.jsx)(c.u,{text:N.intl.string(N.t["5AkWAQ"]),buttonCta:N.intl.string(N.t["8osdkp"]),onClick:n}):(0,i.jsx)(c.u,{text:N.intl.string(N.t["usP+MT"]),buttonCta:N.intl.string(N.t["8osdkp"]),onClick:n})}function R(e){let{children:t,cardChildren:n,startAnimHeightPx:l,innerStyle:o,...c}=e,{invite:u}=c,[h,_]=r.useState(T(u)),{ref:m,height:g}=(0,d.Z)(),p=(0,s.q_F)({height:null!=g&&0!==g?"".concat(g,"px"):"".concat(l,"px"),config:a.config.stiff});return r.useEffect(()=>{let e=T(u);e!==h&&_(e)},[u,h]),(0,i.jsxs)(a.animated.div,{className:b.inviteCard,style:p,children:[(0,i.jsx)(a.animated.div,{className:b.inviteChildContainer,style:p,children:(0,i.jsx)("section",{ref:m,className:null==o?void 0:o(h),children:t(h)})}),n]})}function Z(e){let{invite:t}=e;if(null==t||!(0,E.JI)(t))return null;let n=e=>null==t?null:1===e?(0,i.jsx)(v.X,{invite:t}):null;return(0,i.jsx)(R,{startAnimHeightPx:0,innerStyle:()=>b.guildInfoInner,...e,children:e=>n(e)})}function j(e){let{invite:t}=e,n=n=>{if(null==t)return(0,i.jsx)(S,{});switch(n){case 1:return(0,i.jsx)(I.Z,{...e,invite:t});case 2:return(0,i.jsx)(A,{...e,invite:t});default:return(0,i.jsx)(S,{})}},r={1:b.inviteCardInner,2:b.inviteCardInnerError,0:b.inviteCardInnerLoading};return(0,i.jsx)(R,{startAnimHeightPx:200,innerStyle:e=>r[e],...e,children:e=>n(e)})}function O(e){let{invite:t,onAcceptInvite:n}=e,{guild:r}=null!=t?t:{},a={};if((null==r?void 0:r.splash)!=null){let e=p.ZP.getGuildSplashURL({id:r.id,splash:r.splash});null!=e&&(a.backgroundImage="url(".concat(e,")"),a.backgroundSize="cover")}return(0,i.jsxs)(u.ZP,{theme:C.BRd.DARK,className:b.splashBackground,style:a,contentClassName:b.centerAuthBoxContent,children:[(0,i.jsx)(j,{...e,onAcceptInvite:n}),(0,i.jsx)(Z,{...e})]})}function L(e){let{inviteKey:t,transitionTo:n}=e,a=(0,l.e7)([m.Z],()=>m.Z.getInvite(t));return r.useEffect(()=>{(0,h.e)("invite_mobile")},[]),r.useEffect(()=>{null!=a&&a.state===C.r2o.RESOLVED&&g.default.track(C.rMx.INVITE_VIEWED,{invite_code:t,friends_count:null==a?void 0:a.friends_count},{flush:!0})},[a,t]),(0,i.jsx)(O,{invite:a,onAcceptInvite:e=>{!function(e,t,n){var i,r,a;null==e||e.preventDefault(),g.default.track(C.rMx.INVITE_APP_OPENED,{invite_code:(0,x.jX)(t),guild_id:null==n?void 0:null===(i=n.guild)||void 0===i?void 0:i.id,channel_id:null==n?void 0:null===(r=n.channel)||void 0===r?void 0:r.id,inviter_id:null==n?void 0:null===(a=n.inviter)||void 0===a?void 0:a.id});let l=null!=n&&n.state!==C.r2o.EXPIRED&&n.state!==C.r2o.BANNED?t:void 0,s=_.default.getFingerprint(),c=null!=s?s:_.default.getId(),d=null!=n&&(null==n?void 0:n.type)!=null?Number(null==n?void 0:n.type):void 0;o.Z.openApp(l,void 0,c,void 0,d)}(e,t,a)},transitionTo:n})}},258356:function(e,t,n){n.d(t,{X:()=>m,Z:()=>g});var i=n(200651);n(192379);var r=n(481060),a=n(565138),l=n(372769),s=n(742593),o=n(390072),c=n(601964),d=n(230224),u=n(388032),h=n(476018);function _(e){var t;let{guildScheduledEvent:n,channel:a,onAcceptInvite:l,isSubmitting:c}=e;return(0,i.jsxs)("div",{className:h.guildEventCard,children:[(0,i.jsx)(s.ZP,{name:n.name,description:null!==(t=n.description)&&void 0!==t?t:void 0,headerVariant:"heading-md/medium",descriptionClassName:h.__invalid_channelDescription,guildId:n.guild_id,guildEvent:n,eventPreview:n}),null!=a&&(0,i.jsx)("div",{className:h.channelInfo,children:(0,i.jsx)(o.Z,{guildScheduledEvent:n,channel:a})}),(0,i.jsx)(r.zxk,{className:h.acceptButton,color:r.zxk.Colors.GREEN,onClick:l,submitting:c,children:u.intl.string(u.t.riu2R0)})]})}function m(e){var t;let{invite:n}=e,s=null!=n.guild?new c.ZP(n.guild):null;if(null==s)return null;let o=null!==(t=s.description)&&void 0!==t?t:"";return(0,i.jsxs)("div",{className:h.guildInfoCard,children:[(0,i.jsx)(r.X6q,{className:h.presentedBy,variant:"text-sm/medium",children:u.intl.string(u.t.Eabu19)}),(0,i.jsxs)("div",{className:h.guildContainer,children:[(0,i.jsx)(a.Z,{guild:s,active:!0,size:a.Z.Sizes.MEDIUM}),(0,i.jsxs)("div",{className:h.guildDetailsContanier,children:[(0,i.jsxs)(r.Text,{className:h.guildName,color:"header-primary",variant:"text-sm/medium",tag:"span",children:[s.name,(0,i.jsx)(l.Z,{guild:s,className:h.guildBadge,tooltipPosition:"left"})]}),(0,i.jsx)(d.V6,{invite:n,textClassName:h.guildInfoMemberCountText,className:h.guildInfoMemberCount})]})]}),o.length>0&&(0,i.jsx)("details",{className:h.guildDescriptionContainer,children:(0,i.jsx)(r.Text,{color:"header-secondary",variant:"text-sm/normal",children:o})})]})}function g(e){let{invite:t,channel:n,isSubmitting:r,onAcceptInvite:a}=e,{guild_scheduled_event:l}=t;return null!=l?(0,i.jsx)(_,{guildScheduledEvent:l,channel:n,isSubmitting:r,onAcceptInvite:a}):null}},970648:function(e,t,n){n.d(t,{Z:()=>l}),n(411104);var i=n(772848),r=n(544891),a=n(981631);let l={generateNonce:function(){return(0,i.Z)()},createHandoffToken:async function(e){let{body:{handoff_token:t}}=await r.tn.post({url:a.ANM.HANDOFF,body:{key:e},oldFormErrors:!0,retries:1,rejectWithError:!1});if(null!=t)return t;throw Error("Missing handoff token!")}}},86779:function(e,t,n){n.d(t,{Z:()=>T}),n(47120),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648),n(773603);var i=n(200651),r=n(192379),a=n(593473),l=n(756647),s=n(442837),o=n(544891),c=n(433517),d=n(481060),u=n(570140),h=n(893776),_=n(314897),m=n(626135),g=n(70956),p=n(970648),f=n(981631),x=n(388032),E=n(435695);let I="mweb_handoff_nonce",v="mweb_handoff_nonce_expiration",C=1*g.Z.Millis.MINUTE,N=new Set(["nonce_missing","nonce_expired","handoff_exchange"]),b=new Set(["deep_link_failed"]),S=()=>{c.K.remove(I),c.K.remove(v)},T=()=>{let e=(0,s.e7)([_.default],()=>_.default.getFingerprint()),{fingerprint:t,handoff_token:n}=(0,a.parse)(window.location.search),g=Array.isArray(t)?t.length>1?t[0]:null:t,T=null!=g?g:null!==e?e:void 0;r.useEffect(()=>{null!==g&&e!==g&&u.Z.dispatch({type:"FINGERPRINT",fingerprint:g})},[g,e]);let[A,R]=r.useState(null),Z=r.useCallback(e=>{R(e),m.default.track(f.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:e,fingerprint:(0,l.K)(T)},{fingerprint:T})},[R,T]),j=c.K.get(I);if("null"===n&&null===A&&Z("deep_link_failed"),null!=n&&"null"!==n&&null==j&&null===A&&Z("nonce_missing"),r.useEffect(()=>{if(null!=j){let e=c.K.get(v);(null==e||Date.now()>=e)&&(Z("nonce_expired"),S())}},[j,Z]),r.useEffect(()=>{null!=n&&"null"!==n&&null!=j&&null==A&&o.tn.post({url:f.ANM.HANDOFF_EXCHANGE,body:{key:j,handoff_token:n},rejectWithError:!0}).then(e=>h.Z.loginToken(e.body.token,!1)).then(()=>{m.default.track(f.rMx.LOGIN_SUCCESSFUL,{source:f.uRl.MOBILE_WEB_HANDOFF,is_new_user:!1,fingerprint:(0,l.K)(T)});let e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("handoff_token"),t.delete("fingerprint"),e.search=t.toString(),window.history.pushState(null,"",e)}).catch(()=>{Z("handoff_exchange")}).finally(()=>{S()})},[n,j,A,T,Z]),null==T)return null;let O=null==A?(0,i.jsxs)(i.Fragment,{children:[x.intl.string(x.t.uJ1Jsb),(0,i.jsx)("br",{}),x.intl.string(x.t.GHVWAg)]}):b.has(A)?x.intl.string(x.t.EPt55u):N.has(A)?x.intl.string(x.t.g87kTk):void 0;return null!=A&&b.has(A)?(0,i.jsx)("div",{className:E.errorContainer,children:(0,i.jsx)(d.Text,{color:"interactive-normal",variant:"text-sm/semibold",children:O})}):(0,i.jsxs)("div",{className:E.container,children:[(0,i.jsx)(d.Text,{variant:"text-sm/semibold",children:O}),(0,i.jsx)(d.zxk,{color:d.zxk.Colors.BRAND_INVERTED,onClick:()=>{let e=p.Z.generateNonce();c.K.set(I,e),c.K.set(v,Date.now()+C);let t=new URL(f.x0X),n=new URLSearchParams(window.location.search);n.delete("fingerprint"),n.delete("handoff_token");let i=new URLSearchParams;i.set("redirect",encodeURIComponent(window.location.pathname+n.toString())),i.set("key",e),i.set("fingerprint",T),t.search=i.toString(),m.default.track(f.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,l.K)(T),source:"mobile_web_handoff",destination:f.x0X},{fingerprint:T,flush:!0}),window.location.href=t.toString()},children:(0,i.jsx)(d.Text,{className:E.buttonText,variant:"text-sm/semibold",children:x.intl.string(x.t["NcC75+"])})})]})}},480387:function(e,t,n){n.d(t,{HJ:()=>h,Zd:()=>m,yD:()=>_});var i=n(213919),r=n(544891),a=n(570140),l=n(893776),s=n(710845),o=n(314897),c=n(726745),d=n(981631);let u=new s.Z("MultiAccountActionCreators");function h(){let e=o.default.getId();c.Z.getUsers().forEach(async t=>{let n,{id:l}=t,s=i.getToken(l);if(null==s||""===s){a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:l});return}a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:l});try{n=await r.tn.get({url:d.ANM.ME,headers:{authorization:s},retries:3,rejectWithError:!1})}catch(t){let e=(null==t?void 0:t.status)===401||(null==t?void 0:t.status)===403;a.Z.dispatch({type:e?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:l});return}a.Z.dispatch({type:e===l?"CURRENT_USER_UPDATE":"USER_UPDATE",user:n.body}),a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:l})})}function _(e,t){u.log("Switching account to ".concat(e),{switchSynchronously:t});let n=i.getToken(e);return null==n?(u.log("Switching accounts failed because there was no token"),a.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e}),Promise.resolve()):l.Z.switchAccountToken(n,t)}function m(e){a.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},251423:function(e,t,n){n.d(t,{L:()=>o});var i=n(192379),r=n(442837),a=n(570140),l=n(480387),s=n(726745);function o(){let e=(0,r.cj)([s.Z],()=>({isLoading:s.Z.getIsValidatingUsers(),multiAccountUsers:s.Z.getUsers()}));return i.useEffect(()=>{a.Z.wait(()=>{l.HJ()})},[]),e}},913583:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var r=n(990547),a=n(481060),l=n(213609),s=n(388905),o=n(760213),c=n(388032),d=n(224299);function u(e){let{onDismiss:t}=e;return(0,l.Z)({type:r.ImpressionTypes.MODAL,name:r.ImpressionNames.MULTI_ACCOUNT_SWITCH_LANDING}),(0,i.jsxs)(s.ZP,{className:d.chooseAccountAuthBox,children:[(0,i.jsx)(s.Dx,{children:c.intl.string(c.t["bVbB6+"])}),(0,i.jsx)(a.Text,{className:d.chooseAccountHelpText,variant:"text-md/normal",color:"header-secondary",children:c.intl.string(c.t["0M5fNz"])}),(0,i.jsx)(o.Z,{actionText:c.intl.string(c.t["DSN+h4"]),onAction:e=>{e===o.W.LOGIN_REQUIRED&&t()}}),(0,i.jsx)("div",{className:d.actions,children:(0,i.jsx)(a.zxk,{className:d.__invalid_chooseAccountButton,look:a.zxk.Looks.LINK,color:a.zxk.Colors.PRIMARY,onClick:t,size:a.zxk.Sizes.MEDIUM,children:(0,i.jsx)(a.Text,{variant:"text-sm/normal",children:c.intl.string(c.t["9g2mqa"])})})})]})}},812483:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(818083).B)({kind:"user",id:"2024-02_cropped_avatar_desktop_notifications",label:"Cropped Avatar Desktop Notifications",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Show circular cropped avatars in desktop notifications",config:{enabled:!0}}]})},423589:function(e,t,n){n.d(t,{Mn:()=>p,OD:()=>g,W9:()=>_}),n(47120),n(789020);var i=n(442837),r=n(798140),a=n(9156),l=n(630388),s=n(709054),o=n(312400),c=n(981631),d=n(969943),u=n(526761),h=n(388032);function _(){return[{label:h.intl.string(h.t["8ot6go"]),value:d.Oe.MINUTES_15},{label:h.intl.string(h.t.UMWBZm),value:d.Oe.HOURS_1},{label:h.intl.string(h.t.QmYWtr),value:d.Oe.HOURS_3},{label:h.intl.string(h.t.EpAXPD),value:d.Oe.HOURS_8},{label:h.intl.string(h.t["755t4u"]),value:d.Oe.HOURS_24},{label:h.intl.string(h.t.r3LawM),value:d.Oe.ALWAYS}]}let m={ignoreMute:!1,ignoreUnreadSetting:!0,ignoreNotificationSetting:!1};function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return s.default.keys(e).filter(n=>{var i,a;let s=e[n].message_notifications!==c.bL.NULL,o=l.yE(null!==(i=e[n].flags)&&void 0!==i?i:0,u.ic.UNREADS_ALL_MESSAGES)||l.yE(null!==(a=e[n].flags)&&void 0!==a?a:0,u.ic.UNREADS_ONLY_MENTIONS);return!t.ignoreUnreadSetting&&o||!t.ignoreNotificationSetting&&s||!t.ignoreMute&&(0,r.m$)(e[n])})}function p(e){let t=(0,i.e7)([a.ZP],()=>a.ZP.useNewNotifications);return o.xT.useExperiment({location:e},{autoTrackExposure:!1}).enabled&&t}},929809:function(e,t,n){n.d(t,{H:()=>a,c:()=>r});var i=n(570140);function r(e){i.Z.wait(()=>i.Z.dispatch({type:"NUF_NEW_USER",newUserType:e}))}function a(){i.Z.wait(()=>i.Z.dispatch({type:"NUF_COMPLETE"}))}},701476:function(e,t,n){n.d(t,{M5:()=>r});var i,r=((i={})[i.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED",i[i.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED",i[i.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED",i[i.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE",i)},541692:function(e,t,n){let i;n.d(t,{Z:()=>h});var r,a=n(442837),l=n(570140),s=n(133080);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=(0,s.K4)();function d(e){var t;let{countryCode:n}=e;null!=n&&(c=null!==(t=(0,s.Zz)(n))&&void 0!==t?t:(0,s.K4)())}class u extends(r=a.ZP.DeviceSettingsStore){initialize(e){null!=e&&(i=e.selectedCountryCode)}getUserAgnosticState(){return{selectedCountryCode:i}}getCountryCode(){return null!=i?i:c}}o(u,"displayName","PhoneStore"),o(u,"persistKey","PhoneStore");let h=new u(l.Z,{PHONE_SET_COUNTRY_CODE:function(e){let{countryCode:t}=e;i=t},CONNECTION_OPEN:d,SET_LOCATION_METADATA:d})},106371:function(e,t,n){n.d(t,{Z:()=>a});var i=n(818083);let r=(0,i.B)({kind:"user",id:"2024-08_reaction_push_notifications_user",label:"In App Notifications for Reactions",defaultConfig:{enableInAppNotifications:!1,enableNotificationsForAllReactions:!1},treatments:[{id:1,label:"Enable In App Notifications for Reactions (First Reaction)",config:{enableInAppNotifications:!0,enableNotificationsForAllReactions:!1}},{id:2,label:"Enable In App Notifications for Reactions (All Reactions)",config:{enableInAppNotifications:!0,enableNotificationsForAllReactions:!0}},{id:3,label:"Enable In App Notifications for Reactions (All Reactions)",config:{enableInAppNotifications:!0,enableNotificationsForAllReactions:!0}}]});(0,i.B)({kind:"guild",id:"2024-08_reaction_push_notifications_guild",label:"In App Notifications for Reactions (Guild)",defaultConfig:{enableInAppNotifications:!1},treatments:[{id:1,label:"Enable In App Notifications for Reactions",config:{enableInAppNotifications:!0}}]});let a=r},905423:function(e,t,n){n.d(t,{Z:()=>c});var i=n(512969),r=n(65400),a=n(731965),l=n(893607),s=n(981631);function o(e){let t=(0,i.LX)(null!=e?e:"",{path:s.Z5c.CHANNEL(l.Hw.guildId(),l.Hw.channelId({optional:!0}),":messageId?")});if(null!=t){let{guildId:e,channelId:n}=t.params;return{guildId:e===s.ME?null:e,channelId:null!=n?n:null}}let n=(0,i.LX)(null!=e?e:"",{path:s.Z5c.GUILD_BOOSTING_MARKETING(l.Hw.guildId())});return null!=n?{guildId:n.params.guildId,channelId:null}:{guildId:null,channelId:null}}let c=(0,r.F)(e=>({path:null,basePath:"/",guildId:null,channelId:null,updatePath(t){let{guildId:n,channelId:i}=o(t);(0,a.j)(()=>e({path:t,guildId:n,channelId:i}))},resetPath(t){let{guildId:n,channelId:i}=o(t);(0,a.j)(()=>e({path:null,guildId:n,channelId:i,basePath:t}))}}))},977059:function(e,t,n){n.d(t,{R:()=>a,S:()=>r});let i=(0,n(987170).Z)({kind:"user",id:"2024-05_secure_frames_ui_rollout",label:"Secure Frames Rollout",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled.",config:{enabled:!0}}]});function r(e){let{location:t}=e;return i.useExperiment({location:t},{autoTrackExposure:!0})}function a(e){let{location:t}=e;return i.getCurrentConfig({location:t},{autoTrackExposure:!0})}},496729:function(e,t,n){n.d(t,{Z:()=>u,s:()=>d});var i=n(200651),r=n(704215),a=n(481060),l=n(570140),s=n(605236),o=n(592125),c=n(305587);function d(e){let{channelId:t,location:n}=e,i=o.Z.getChannel(t),a=(0,s.un)(r.z.USER_DM_MUTE_FEEDBACK);null!=i&&i.isDM()&&!a&&(0,c.Xs)(n)&&l.Z.dispatch({type:"USER_DM_MUTE_SHOW_FEEDBACK",channel:i})}function u(){(0,a.ZDy)(async()=>{let{default:e}=await n.e("87995").then(n.bind(n,180970));return t=>(0,i.jsx)(e,{...t})})}},630724:function(e,t,n){n.d(t,{EW:()=>h,FF:()=>c,MK:()=>o,X2:()=>u,mx:()=>d});var i,r,a,l,s,o=((i={}).UNKNOWN="unknown",i.ANY="any",i.INVITE="invite",i.ORGANIC="organic_registration",i.ORGANIC_MARKETING="organic_marketing",i.ORGANIC_GUILD_TEMPLATES="organic_guild_template",i.CREATE_GUILD="create_guild",i),c=((r={}).AGE_GATE="age_gate",r.AGE_GATE_UNDERAGE="age_gate_underage",r),d=((a={}).CLAIM_ACCOUNT="claim_account",a.CLAIM_ACCOUNT_SUCCESS="claim_account_success",a),u=((l={}).GUILD_TEMPLATES="guild_templates",l.GUILD_CREATE="guild_create",l.CREATION_INTENT="creation_intent",l.CHANNEL_PROMPT="channel_prompt",l.JOIN_GUILD="join_guild",l.SUCCESS="create_success",l),h=((s={}).NUF_STARTED="nuf_started",s.AGE_GATE="age_gate",s.NUF_COMPLETE="nuf_complete",s.HUB_CONNECTION="hub_connection",s)},390885:function(e,t,n){n.d(t,{Z:()=>x});var i=n(15729),r=n(877124),a=n(731965),l=n(433517),s=n(710845),o=n(626135),c=n(630724),d=n(981631);let u="UserFlowAnalyticsStore_current",h="UserFlowAnalyticsStore";function _(e){if(e===c.MK.UNKNOWN)return null;let t=l.K.get("".concat(h,"-").concat(e));if(null==t)return null;let{version:n,...i}=t;return 1!==n?null:i}new s.Z("UserFlowAnalytics");let m=(0,i.U)()((0,r.XR)((e,t)=>({flows:{},currentFlow:null,activeFlow:()=>{var e;let n=null!==(e=t().currentFlow)&&void 0!==e?e:l.K.get(u);if(null==n)return null;let{[n]:i}=t().flows,r=null!=i?i:_(n);return(null==r?void 0:r.currentStep)!=null?n:null}})));function g(e,t){let{[e]:n,...i}=m.getState().flows,r=null!=n?n:_(e);((null==r?void 0:r.currentStep)==null||r.currentStep!==t)&&(0,a.j)(()=>{m.setState({flows:{...i,[e]:{type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1}},currentFlow:e})})}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;if(e===c.MK.ANY){var r;i=null!==(r=m.getState().activeFlow())&&void 0!==r?r:c.MK.UNKNOWN}let{[i]:l,...s}=m.getState().flows,o=null!=l?l:_(i);null!=o&&null!=o.currentStep&&o.currentStep!==t&&(0,a.j)(()=>{m.setState({flows:{...s,[i]:{...o,lastStep:o.currentStep,lastTimestamp:o.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}},currentFlow:i})})}function f(){return null!=m.getState().activeFlow()}m.subscribe(e=>null!=e.currentFlow?e.flows[e.currentFlow]:void 0,e=>{var t;if(null!=e&&(!function(e){if(e.type===c.MK.UNKNOWN)return;let t="".concat(h,"-").concat(e.type);e.ended?(l.K.remove(t),l.K.remove(u)):(l.K.set("".concat(h,"-").concat(e.type),{...e,version:1}),l.K.set(u,e.type))}(e),o.default.track(d.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0}),e.ended)){let t={...m.getState().flows};delete t[e.type],(0,a.j)(()=>{m.setState({flows:t,currentFlow:null})})}});let x={flowStart:g,flowStepOrStart:function(e,t){f()?p(e,t):g(e,t)},flowStep:p,hasActiveFlow:f}},751648:function(e,t,n){n.d(t,{U9:()=>u,ZO:()=>s,df:()=>o,hF:()=>c,j2:()=>d,jM:()=>_,l:()=>h});var i=n(544891),r=n(570140),a=n(881052),l=n(981631);async function s(){r.Z.wait(()=>{r.Z.dispatch({type:"VIRTUAL_CURRENCY_BALANCE_FETCH"})});try{let e=await i.tn.get({url:l.ANM.VIRTUAL_CURRENCY_USER_BALANCE,rejectWithError:!1}),t=e.body.balance;return r.Z.dispatch({type:"VIRTUAL_CURRENCY_BALANCE_FETCH_SUCCESS",balance:t}),e.body}catch(t){let e=t instanceof a.HF?t:new a.HF(t);r.Z.dispatch({type:"VIRTUAL_CURRENCY_BALANCE_FETCH_FAIL",error:e})}}async function o(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];r.Z.wait(()=>{r.Z.dispatch({type:"VIRTUAL_CURRENCY_REDEEM_START",skuId:e})});try{let n=(await i.tn.post({url:l.ANM.VIRTUAL_CURRENCY_SKU_REDEEM(e),rejectWithError:!1})).body;return r.Z.dispatch({type:"VIRTUAL_CURRENCY_REDEEM_SUCCESS",skuId:e,entitlements:n}),t&&s(),n}catch(i){let n=i instanceof a.HF?i:new a.HF(i);r.Z.dispatch({type:"VIRTUAL_CURRENCY_REDEEM_FAIL",skuId:e,error:n}),t&&s()}}function c(e){let{earnedOrbsQuantity:t,dedupeKey:n}=e;return r.Z.dispatch({type:"VIRTUAL_CURRENCY_EARNED_ORBS_COACHMARK_OPEN",earnedOrbsQuantity:t,dedupeKey:n})}function d(){return r.Z.dispatch({type:"VIRTUAL_CURRENCY_EARNED_ORBS_COACHMARK_CLOSE"})}function u(){return r.Z.dispatch({type:"VIRTUAL_CURRENCY_ONBOARDING_COACHMARK_OPEN"})}function h(){return r.Z.dispatch({type:"VIRTUAL_CURRENCY_ONBOARDING_COACHMARK_CLOSE"})}function _(){return r.Z.dispatch({type:"VIRTUAL_CURRENCY_ONBOARDING_COACHMARK_SKIP"})}},479766:function(e,t,n){n.d(t,{Z:()=>o}),n(653041);var i,r=n(442837),a=n(570140);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends(i=r.ZP.Store){get earnedOrbsCoachmark(){return{shouldOpen:this._earnedOrbsCoachmarkOpen,earnedOrbsQuantity:this._earnedOrbsCoachmarkQuantity}}get onboardingCoachmark(){return{shouldOpen:this._onboardingCoachmarkOpen,shouldSkip:this._onboardingCoachmarkSkip}}get redeemError(){return this._redeemVirtualCurrencyError}get isRedeeming(){return this._isRedeemingVirtualCurrency}get redeemingSkuId(){return this._redeemingSkuId}get entitlements(){return this._entitlements}get balance(){return this._balance}get fetchBalanceError(){return this._fetchBalanceError}get isFetchingBalance(){return this._isFetchingBalance}get onboardingModalOpenedPrior(){return this._onboardingModalOpenedPrior}handleBalanceFetch(e){let{}=e;this._isFetchingBalance=!0,this._fetchBalanceError=null}handleBalanceFetchSuccess(e){let{balance:t}=e;this._isFetchingBalance=!1,this._balance=t}handleBalanceFetchFail(e){let{error:t}=e;this._isFetchingBalance=!1,this._fetchBalanceError=t}handleBalanceUpdate(e){let{balance:t}=e;this._balance=t}handleRedeemVirtualCurrencyStart(e){let{skuId:t}=e;this._entitlements=null,this._redeemingSkuId=t,this._redeemVirtualCurrencyError=null,this._isRedeemingVirtualCurrency=!0}handleRedeemVirtualCurrencySuccess(e){let{entitlements:t}=e;this._entitlements=t,this._redeemingSkuId=null,this._isRedeemingVirtualCurrency=!1}handleRedeemVirtualCurrencyFail(e){let{error:t}=e;this._entitlements=null,this._redeemVirtualCurrencyError=t,this._redeemingSkuId=null,this._isRedeemingVirtualCurrency=!1}handleOnboardingModalOpen(e){let{}=e;this._onboardingModalOpenedPrior=!0}handleOnboardingModalReset(e){let{}=e;this._onboardingModalOpenedPrior=!1,this._earnedOrbsCoachmarkDedupeKeys=[]}handleEarnedOrbsCoachmarkOpen(e){let{earnedOrbsQuantity:t,dedupeKey:n}=e;!(void 0!==n&&this._earnedOrbsCoachmarkDedupeKeys.includes(n))&&(this._earnedOrbsCoachmarkOpen=!0,this._earnedOrbsCoachmarkQuantity=t,void 0!==n&&this._earnedOrbsCoachmarkDedupeKeys.push(n))}handleEarnedOrbsCoachmarkClose(e){let{}=e;this._earnedOrbsCoachmarkOpen=!1,this._earnedOrbsCoachmarkQuantity=0}handleOnboardingCoachmarkOpen(e){let{}=e;this._onboardingCoachmarkOpen=!0}handleOnboardingCoachmarkClose(e){let{}=e;this._onboardingCoachmarkOpen=!1}handleOnboardingCoachmarkSkip(e){let{}=e;this._onboardingCoachmarkSkip=!0}constructor(){super(a.Z,{VIRTUAL_CURRENCY_REDEEM_START:e=>this.handleRedeemVirtualCurrencyStart(e),VIRTUAL_CURRENCY_REDEEM_SUCCESS:e=>this.handleRedeemVirtualCurrencySuccess(e),VIRTUAL_CURRENCY_REDEEM_FAIL:e=>this.handleRedeemVirtualCurrencyFail(e),VIRTUAL_CURRENCY_BALANCE_FETCH:e=>this.handleBalanceFetch(e),VIRTUAL_CURRENCY_BALANCE_FETCH_SUCCESS:e=>this.handleBalanceFetchSuccess(e),VIRTUAL_CURRENCY_BALANCE_FETCH_FAIL:e=>this.handleBalanceFetchFail(e),VIRTUAL_CURRENCY_BALANCE_UPDATE:e=>this.handleBalanceUpdate(e),VIRTUAL_CURRENCY_ONBOARDING_MODAL_OPEN:e=>this.handleOnboardingModalOpen(e),VIRTUAL_CURRENCY_ONBOARDING_MODAL_RESET:e=>this.handleOnboardingModalReset(e),VIRTUAL_CURRENCY_EARNED_ORBS_COACHMARK_OPEN:e=>this.handleEarnedOrbsCoachmarkOpen(e),VIRTUAL_CURRENCY_EARNED_ORBS_COACHMARK_CLOSE:e=>this.handleEarnedOrbsCoachmarkClose(e),VIRTUAL_CURRENCY_ONBOARDING_COACHMARK_OPEN:e=>this.handleOnboardingCoachmarkOpen(e),VIRTUAL_CURRENCY_ONBOARDING_COACHMARK_CLOSE:e=>this.handleOnboardingCoachmarkClose(e),VIRTUAL_CURRENCY_ONBOARDING_COACHMARK_SKIP:e=>this.handleOnboardingCoachmarkSkip(e)}),l(this,"_entitlements",null),l(this,"_redeemingSkuId",null),l(this,"_isRedeemingVirtualCurrency",!1),l(this,"_redeemVirtualCurrencyError",null),l(this,"_balance",null),l(this,"_fetchBalanceError",null),l(this,"_isFetchingBalance",!1),l(this,"_earnedOrbsCoachmarkOpen",!1),l(this,"_earnedOrbsCoachmarkDedupeKeys",[]),l(this,"_earnedOrbsCoachmarkQuantity",0),l(this,"_onboardingCoachmarkOpen",!1),l(this,"_onboardingCoachmarkSkip",!1),l(this,"_onboardingModalOpenedPrior",!1)}}l(s,"displayName","VirtualCurrencyStore");let o=new s},741808:function(e,t,n){n.d(t,{X:()=>_}),n(47120);var i=n(200651),r=n(192379),a=n(120356),l=n.n(a),s=n(392711),o=n(442837),c=n(110924),d=n(819640),u=n(120370);let h=(e,t)=>void 0!==t&&t>e?t:e;function _(e){let{children:t,className:n,key:a,..._}=e,{offsets:m}=function(e){let{key:t,backgroundElementRef:n,getOffsetsRelativeToElement:i,fallbackAbsoluteOffsets:a,onGetBoundingRect:l=()=>{},debounceTime:u=60,minimumOffsets:_}=e,{hasLayers:m}=(0,o.cj)([d.Z],()=>({hasLayers:d.Z.hasLayers()})),[g,p]=r.useState(null),f=r.useCallback(()=>{let e=n.current;return null===e?{height:0,width:0}:{height:e.offsetHeight,width:e.offsetWidth}},[n]),x=r.useCallback(()=>{let e=n.current;if(null===e)return a;let t={...i(f())},r=e.getBoundingClientRect();return void 0!==t.top&&(t.top=h(r.top+t.top,null==_?void 0:_.top)),void 0!==t.left&&(t.left=h(r.left+t.left,null==_?void 0:_.left)),void 0!==t.right&&(t.right=h(window.innerWidth-r.right+t.right,null==_?void 0:_.right)),void 0!==t.bottom&&(t.bottom=h(window.innerHeight-r.bottom+t.bottom,null==_?void 0:_.bottom)),(0,s.isEqual)(t,g)||p(t),l(r),t},[i,a,g,f,_,n,l]);r.useEffect(()=>{x()},[t,x]);let E=(0,c.Z)(m),I=r.useRef(null),v=r.useRef(0);r.useEffect(()=>{E&&!m&&(null===I.current||v.current>=3)&&(I.current=setInterval(()=>{if(v.current>=5){clearInterval(I.current),I.current=null,v.current=0;return}x(),v.current++},200))},[x,m,E]);let C=r.useMemo(()=>(0,s.debounce)(()=>{x()},u),[x,u]);return r.useEffect(()=>(window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}),[C]),{offsets:g,getElementDimensions:f,updateElementOffsets:x}}({..._}),g={...m};return null===m?null:(0,i.jsx)("div",{style:g,className:l()(u.wrapper,n),children:t},a)}_.displayName="ElementOffsetModalContentWrapper"},671533:function(e,t,n){n.d(t,{Z:()=>u}),n(411104);var i,r=n(200651);n(192379);var a=n(120356),l=n.n(a),s=n(325767),o=n(571576),c=((i={}).LEFT="LEFT",i.RIGHT="RIGHT",i.UP="UP",i.DOWN="DOWN",i.UP_LEFT="UP_LEFT",i.DOWN_RIGHT="DOWN_RIGHT",i);let d=e=>{let{width:t=24,height:n=24,color:i="currentColor",direction:a,foreground:c,className:d,title:u,...h}=e;return(0,r.jsxs)("svg",{...(0,s.Z)(h),width:t,height:n,className:l()(d,function(e){switch(e){case"LEFT":return o.left;case"RIGHT":return o.right;case"UP":return null;case"DOWN":return o.down;case"UP_LEFT":return o.upLeft;case"DOWN_RIGHT":return o.downRight;default:throw Error("Invalid Direction ".concat(e))}}(a)),viewBox:"0 0 24 24",children:[null!=u?(0,r.jsx)("title",{children:u}):null,(0,r.jsx)("polygon",{className:c,fill:i,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"})]})};d.Directions=c;let u=d},625054:function(e,t,n){n.d(t,{Z:()=>l});var i=n(525654),r=n.n(i),a=n(643191);let l={dump(e){let t;null!=performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize}),e({browser:{name:r().name,version:r().version},os:{name:r().os.family,version:r().os.version},memory:t})},getTimeSinceNavigationStart:()=>Date.now()-a.mb}},912101:function(e,t,n){n.d(t,{Z:()=>i}),n(654769);let i=n(654769).Z},172517:function(e,t,n){n.d(t,{FW:()=>_,Pk:()=>o,Rq:()=>g,W_:()=>l,dK:()=>s,qd:()=>m}),n(518263),n(970173),n(520712),n(268111),n(941497),n(32026),n(480839),n(744285),n(492257),n(873817),n(642549),n(47120),n(757143),n(863942),n(411104);var i=n(512722),r=n.n(i),a=n(598077);function l(){return window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["decrypt"])}async function s(e){return r()(null!=e.publicKey,"public key cannot be null"),btoa(String.fromCharCode(...new Uint8Array(await window.crypto.subtle.exportKey("spki",e.publicKey))))}async function o(e){return r()(null!=e.publicKey,"public key cannot be null"),u(await window.crypto.subtle.exportKey("spki",e.publicKey))}function c(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\//g,"_").replace(/\+/g,"-").replace(/={1,2}$/,"")}function d(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}async function u(e){return c(await window.crypto.subtle.digest({name:"SHA-256"},e))}function h(e,t){return r()(null!=e.privateKey,"private key cannot be null"),window.crypto.subtle.decrypt({name:"RSA-OAEP",hash:"SHA-256"},e.privateKey,t)}async function _(e,t){let n=new TextDecoder,i=await h(e,d(t));return n.decode(i)}async function m(e,t){return c(await h(e,d(t)))}async function g(e,t){let n=(t=await _(e,t)).match(/^(\d+):(\d{1,4}):([a-zA-Z0-9_]+):(.*)$/);if(null==n)throw Error("Invalid encoded user record.");let[,i,r,l,s]=n;return new a.Z({id:i,discriminator:r,avatar:"0"===l?null:l,username:s})}},654769:function(e,t,n){let i;n.d(t,{Z:()=>V}),n(47120),n(177593),n(773603);var r,a=n(392711),l=n.n(a),s=n(525654),o=n.n(s),c=n(579806),d=n(933557),u=n(710845),h=n(812483),_=n(460181),m=n(474873),g=n(135906),p=n(592125),f=n(292959),x=n(699516),E=n(246946),I=n(594174),v=n(626135),C=n(5192),N=n(358085),b=n(960048),S=n(998502),T=n(981631);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let R=N.isPlatformEmbedded&&(0,N.isWindows)(),Z=R&&10>parseFloat(c.Z.os.release),j=!0;if(R&&!Z){let[e,,t]=c.Z.os.release.split(".");j=parseInt(e)>10||parseInt(t)>=15063}let O=new u.Z("NotificationUtils"),L=R&&j||"Chrome"===o().name&&47>parseFloat(o().version)||"Firefox"===o().name&&52>parseFloat(o().version);async function y(){if(void 0===i){if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications"))try{i=await S.ZP.invoke("NOTIFICATIONS_GET_SETTINGS")}catch(e){O.warn("Fetching native notification settings failed with error: ",e),i=null}else i=null}return i}async function P(){let e=await y();return(null==e?void 0:e.authorizationStatus)==="authorized"&&(null==e?void 0:e.sound)===!0}function k(e,t){var n;return null!==(n=(0,g.Z)(null!=t?t:m.Z.getSoundpack())[e])&&void 0!==n?n:e}async function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(await P())try{await S.ZP.invoke("NOTIFICATIONS_SEND_NOTIFICATION",{sound:k(e,n)});return}catch(e){O.warn("Native notification sound failed with error: ",e)}(0,_.GN)(e,t,void 0,n)}let w=l().throttle(D,1e3,{leading:!0});function B(){S.ZP.flashFrame(!1)}R&&(window.addEventListener("focus",B),S.ZP.on("MAIN_WINDOW_FOCUS",B));let M=window.Notification;if(Z){let e={};S.ZP.on("NOTIFICATION_CLICK",(t,n)=>{let i=e[n];null!=i&&(i.onclick(),i.close())}),S.ZP.send("NOTIFICATIONS_CLEAR"),r=class{static requestPermission(e){e()}close(){null!=e[this.id]&&(delete e[this.id],S.ZP.send("NOTIFICATION_CLOSE",this.id),this.onclose())}constructor(t,{body:n,icon:i}){A(this,"id",M._id++),A(this,"title",void 0),A(this,"body",void 0),A(this,"icon",void 0),A(this,"onshow",function(){}),A(this,"onclick",function(){}),A(this,"onclose",function(){}),this.title=t,this.body=n,this.icon=i,setImmediate(()=>this.onshow()),e[this.id]=this,S.ZP.send("NOTIFICATION_SHOW",{id:this.id,title:this.title,body:this.body,icon:this.icon})}},A(r,"permission","granted"),A(r,"_id",0),M=r}let U={};if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications"))try{S.ZP.on("NOTIFICATIONS_RECEIVED_RESPONSE",(e,t,n)=>{if("dismiss"===t)delete U[n];else{var i,r,a;let e=U[n];(null==e?void 0:null===(i=e.options)||void 0===i?void 0:i.omitClickTracking)||v.default.track(T.rMx.NOTIFICATION_CLICKED,null==e?void 0:e.trackingProps),null==e||null===(a=e.options)||void 0===a||null===(r=a.onClick)||void 0===r||r.call(a)}}),S.ZP.invoke("NOTIFICATIONS_REMOVE_ALL_NOTIFICATIONS")}catch(e){O.warn("Native notification setup failed with error: ",e)}async function F(){if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications")){var e;return(null===(e=await y())||void 0===e?void 0:e.authorizationStatus)==="authorized"}return null!=M&&"granted"===M.permission}function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;e.includes("message")?w(e,t,n):D(e,t,n)}async function z(e){return E.Z.disableNotifications&&null==e.overrideStreamerMode||!await F()||N.isPlatformEmbedded&&!S.ZP.shouldDisplayNotifications()}let V={hasPermission:F,requestPermission:function(e){if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications"))try{S.ZP.invoke("NOTIFICATIONS_GET_AUTHORIZATION").then(t=>{e(t)}).catch(()=>{e(!1)}).finally(()=>{i=void 0});return}catch(e){O.warn("Native notification authorization failed with error: ",e)}null!=M&&M.requestPermission(async()=>{null!=e&&e(await F())})},showNotification:async function(e,t,n,i,r){var a,l,s,o;let c;if(await z(r)){null!=r.sound&&!1!==r.playSoundIfDisabled&&G(r.sound,null!==(a=r.volume)&&void 0!==a?a:1,r.soundpack);return}let u=null!==(l=null==r?void 0:r.tag)&&void 0!==l?l:null,_=await y(),m=(null==_?void 0:_.authorizationStatus)==="authorized",g=m&&(null==_?void 0:_.sound)===!0,E=e=>{var t;null===(t=r.onShown)||void 0===t||t.call(r),r.omitViewTracking||v.default.track(T.rMx.NOTIFICATION_VIEWED,i),L&&setTimeout(()=>e.close(),5e3)};if(null==r.sound||g||G(r.sound,null!==(s=r.volume)&&void 0!==s?s:1,r.soundpack),h.Z.getCurrentConfig({location:"showNotification"}).enabled&&r.isUserAvatar&&null!=e&&(e=await function(e){let t=new Image;return t.src=e,t.crossOrigin="anonymous",new Promise((n,i)=>{t.onload=()=>{""!==t.src&&n(function(e){let t=document.createElement("canvas"),n=t.getContext("2d"),i=Math.min(e.width,e.height);t.width=i,t.height=i,null!=n&&(n.beginPath(),n.arc(i/2,i/2,i/2,0,2*Math.PI),n.closePath(),n.clip(),n.drawImage(e,(e.width-i)/2,(e.height-i)/2,i,i,0,0,i,i));let r=t.toDataURL();return t.remove(),r}(t))},t.onerror=t=>{b.Z.captureMessage("Failed to load notification avatar to circle crop: ".concat(t)),i(e)}})}(e)),m){let a={title:t,body:n};null!=e&&(a.icon=e),(null==r?void 0:r.sound)!=null&&(a.sound=k(r.sound,r.soundpack)),(null==r?void 0:r.tag)!=null&&(a.identifier=r.tag);let l="string"==typeof(null==i?void 0:i.guild_id)?i.guild_id:null,s="string"==typeof(null==i?void 0:i.channel_id)?i.channel_id:null,o="string"==typeof(null==i?void 0:i.notif_user_id)?i.notif_user_id:null;if(null!=s){a.threadIdentifier=s;let e=p.Z.getChannel(s);null!=e&&(a.groupName=(0,d.F6)(e,I.default,x.Z))}null!=o&&(a.senderIdentifier=o,null!=l&&(a.senderDisplayName=C.ZP.getName(l,s,I.default.getUser(o))));try{let e=await S.ZP.invoke("NOTIFICATIONS_SEND_NOTIFICATION",a);U[e]={options:r,trackingProps:i};let t={close(){try{S.ZP.invoke("NOTIFICATIONS_REMOVE_NOTIFICATIONS",[e])}catch(e){O.warn("Native notification removal failed with error: ",e)}}};return E(t),t}catch(e){O.warn("Native notification failed with error: ",e)}}null!=r.sound&&m&&G(r.sound,null!==(o=r.volume)&&void 0!==o?o:1,r.soundpack);let A={icon:e,body:n,tag:u,silent:!0};R&&f.Z.taskbarFlash&&S.ZP.flashFrame(!0);try{c=new M(t,A)}catch(e){return null}return(E(c),c.onclick=()=>{var e;N.isPlatformEmbedded?S.ZP.focus():(window.focus(),c.close()),r.omitClickTracking||v.default.track(T.rMx.NOTIFICATION_CLICKED,i),null===(e=r.onClick)||void 0===e||e.call(r)},j)?c:{close(){var e;null==c||null===(e=c.onclose)||void 0===e||e.call(c)}}},disabled:z,playNotificationSound:D}},3570:function(e,t,n){n.d(t,{T:()=>o,s:()=>c});var i=n(536285),r=n(703656),a=n(314897),l=n(358085),s=n(981631);let o=l.isPlatformEmbedded?s.dG4:(e,t)=>{if(!(0,r.DB)())return i.default.request(s.Etm.DEEP_LINK,{type:e,params:t})},c=l.isPlatformEmbedded?s.dG4:(e,t)=>{if(!a.default.isAuthenticated())return o(e,{...t||{},fingerprint:a.default.getFingerprint()})}},693763:function(e,t,n){e.exports={premiumIcon:"premiumIcon__9671b",platformIcon:"platformIcon__9671b",giftIcon:"giftIcon__9671b",icon:"icon__9671b",iconWindows:"iconWindows__9671b icon__9671b",iconApple:"iconApple__9671b icon__9671b",iconAndroid:"iconAndroid__9671b icon__9671b",textLink:"textLink__9671b",textLinkSmall:"textLinkSmall__9671b textLink__9671b",testModeSKUSelector:"testModeSKUSelector__9671b",premiumLogo:"premiumLogo__9671b",premiumText:"premiumText__9671b",premiumAction:"premiumAction__9671b",ellipsis:"ellipsis__9671b",quarantineNotice:"quarantineNotice__9671b",quarantineLearnMoreLink:"quarantineLearnMoreLink__9671b"}},146687:function(e,t,n){e.exports={button:"button_e18686",default:"default_e18686",filled:"filled_e18686"}},986900:function(e,t,n){e.exports={streamerModeEnabled:"streamerModeEnabled_aa3ffd",streamerModeEnabledImage:"streamerModeEnabledImage_aa3ffd",streamerModeEnabledBtn:"streamerModeEnabledBtn_aa3ffd",disabled:"disabled_aa3ffd"}},192003:function(e,t,n){e.exports={wrapper:"wrapper_b97385"}},692690:function(e,t,n){e.exports={characterBackground:"characterBackground_eb4069",artwork:"artwork_eb4069",logoWithText:"logoWithText_eb4069",logo:"logo_eb4069"}},753997:function(e,t,n){e.exports={applicationIcon:"applicationIcon_c4891f",seasonalIcon:"seasonalIcon_c4891f"}},249079:function(e,t,n){e.exports={authBox:"authBox_fd23fc",createButton:"createButton_fd23fc",header:"header_fd23fc",formContainer:"formContainer_fd23fc"}},701455:function(e,t,n){e.exports={elevated:"elevated__3f12a",button:"button__3f12a elevated__3f12a",buttonTitle:"buttonTitle__3f12a",card:"card__3f12a elevated__3f12a",cardContents:"cardContents__3f12a",cardAccentLeft:"cardAccentLeft__3f12a",cardAccentRight:"cardAccentRight__3f12a"}},159601:function(e,t,n){e.exports={container:"container_fa285e",guildBadge:"guildBadge_fa285e",appIcon:"appIcon_fa285e",appIconSize:"appIconSize_fa285e",avatar:"avatar_fa285e",guildIcon:"guildIcon_fa285e",compactAvatar:"compactAvatar_fa285e",inviteResolvingGuildName:"inviteResolvingGuildName_fa285e",title:"title_fa285e",activityCount:"activityCount_fa285e",directInviteSubTitle:"directInviteSubTitle_fa285e",guildContainer:"guildContainer_fa285e",appIn:"appIn_fa285e",appGuildName:"appGuildName_fa285e",icon:"icon_fa285e"}},626602:function(e,t,n){e.exports={header:"header__1d5fc",horizontalAuthBox:"horizontalAuthBox__1d5fc",needAccount:"needAccount__1d5fc",smallRegisterLink:"smallRegisterLink__1d5fc",mainLoginContainer:"mainLoginContainer__1d5fc",mobile:"mobile__1d5fc",goBackButton:"goBackButton__1d5fc",content:"content__1d5fc",caret:"caret__1d5fc"}},900838:function(e,t,n){e.exports={qrLogin:"qrLogin_e16417",qrLoginInner:"qrLoginInner_e16417",qrCode:"qrCode_e16417",qrCodeContainer:"qrCodeContainer_e16417",qrCodeOverlay:"qrCodeOverlay_e16417",qrAvatar:"qrAvatar_e16417",startOverButton:"startOverButton_e16417",verticalSeparator:"verticalSeparator_e16417"}},92035:function(e,t,n){e.exports={column:"column__1e128",container:"container__1e128",content:"content__1e128"}},148116:function(e,t,n){e.exports={errorMessage:"errorMessage_d332d2",createAccountTemplateHeader:"createAccountTemplateHeader_d332d2",horizontalAuthBox:"horizontalAuthBox_d332d2",flex:"flex_d332d2",divider:"divider_d332d2",goBackButton:"goBackButton_d332d2",content:"content_d332d2",caret:"caret_d332d2",messageNegative:"messageNegative_d332d2",messagePositive:"messagePositive_d332d2"}},637213:function(e,t,n){e.exports={container:"container_bba364",buttonColumn:"buttonColumn_bba364"}},657822:function(e,t,n){e.exports={image:"image_d92626"}},613038:function(e,t,n){e.exports={channel:"channel__972a0",fullWidth:"fullWidth__972a0",interactive:"interactive__972a0",overflowTooltip:"overflowTooltip__972a0",clanTag:"clanTag__972a0",interactiveSelected:"interactiveSelected__972a0",interactiveSystemDM:"interactiveSystemDM__972a0",avatarWithText:"avatarWithText__972a0",link:"link__972a0",linkButton:"linkButton__972a0",linkButtonIcon:"linkButtonIcon__972a0",closeButton:"closeButton__972a0",favoriteIcon:"favoriteIcon__972a0",closeIcon:"closeIcon__972a0",subtext:"subtext__972a0",mutedEmoji:"mutedEmoji__972a0",decorator:"decorator__972a0",dm:"dm__972a0"}},760864:function(e,t,n){e.exports={container:"container_fea832",inner:"inner_fea832",disabled:"disabled_fea832",input:"input_fea832",tag:"tag_fea832",small:"small_fea832",medium:"medium_fea832",large:"large_fea832",richTag:"richTag_fea832",richTagInput:"richTagInput_fea832",tagLabel:"tagLabel_fea832",tagRoleColor:"tagRoleColor_fea832",close:"close_fea832",iconLayout:"iconLayout_fea832",iconContainer:"iconContainer_fea832",icon:"icon_fea832",visible:"visible_fea832",clear:"clear_fea832"}},534877:function(e,t,n){e.exports={container:"container_fcf29c",flexContainer:"flexContainer_fcf29c",shrinkingContainer:"shrinkingContainer_fcf29c",actions:"actions_fcf29c",resetButton:"resetButton_fcf29c",message:"message_fcf29c"}},38653:function(e,t,n){e.exports={tabBarItemContainer:"tabBarItemContainer_c7e907",searchBar:"searchBar_c7e907"}},76604:function(e,t,n){n.r(e.exports={standardSidebarView:"standardSidebarView__23e6b",withUpsell:"withUpsell__23e6b",sidebarRegion:"sidebarRegion__23e6b",sidebarRegionScroller:"sidebarRegionScroller__23e6b",sidebar:"sidebar__23e6b",mobileSidebar:"mobileSidebar__23e6b",contentTransitionWrap:"contentTransitionWrap__23e6b",contentRegionScroller:"contentRegionScroller__23e6b",toolsContainer:"toolsContainer__23e6b",tools:"tools__23e6b",contentRegionHiddenSidebar:"contentRegionHiddenSidebar__23e6b",contentRegionShownSidebar:"contentRegionShownSidebar__23e6b",contentRegion:"contentRegion__23e6b",contentColumn:"contentColumn__23e6b",customColumn:"customColumn__23e6b",contentColumnWide:"contentColumnWide__23e6b",contentColumnDefault:"contentColumnDefault__23e6b",contentColumnMinimal:"contentColumnMinimal__23e6b",customHeader:"customHeader__23e6b",customContainer:"customContainer__23e6b",customScroller:"customScroller__23e6b",noticeRegion:"noticeRegion__23e6b",noticeRegionHiddenSidebar:"noticeRegionHiddenSidebar__23e6b",mobileSidebarTools:"mobileSidebarTools__23e6b",flexFullWidth:"flexFullWidth__23e6b",hidden:"hidden__23e6b",mobileContent:"mobileContent__23e6b",mobileContentHeader:"mobileContentHeader__23e6b",hideHamburger:"hideHamburger__23e6b",mobileToolsContainer:"mobileToolsContainer__23e6b",closeIconOnly:"closeIconOnly__23e6b",isMobileAndroid:"isMobileAndroid__23e6b",mobileToolsCloseIcon:"mobileToolsCloseIcon__23e6b",mobileSidebarHeader:"mobileSidebarHeader__23e6b"})},142828:function(e,t,n){e.exports={iconContainer:"iconContainer__98cf7",filledIcon:"filledIcon__98cf7"}},584925:function(e,t,n){e.exports={buttonContainer:"buttonContainer__2215e",listContainer:"listContainer__2215e",listItem:"listItem__2215e"}},741578:function(e,t,n){e.exports={iconRow:"iconRow_a653e3",icon:"icon_a653e3",normal:"normal_a653e3",small:"small_a653e3",overflow:"overflow_a653e3 icon_a653e3"}},981469:function(e,t,n){e.exports={title:"title_efe2ea",subtitle:"subtitle_efe2ea",img:"img_efe2ea"}},438343:function(e,t,n){n.r(e.exports={container:"container_b0f4cc",title:"title_b0f4cc",inputs:"inputs_b0f4cc",day:"day_b0f4cc",month:"month_b0f4cc",year:"year_b0f4cc",errors:"errors_b0f4cc"})},790081:function(e,t,n){e.exports={hoverRoll:"hoverRoll__0263c",forceHover:"forceHover__0263c",disabled:"disabled__0263c",default:"default__0263c",hovered:"hovered__0263c"}},660623:function(e,t,n){e.exports={image:"image__5901e",loaded:"loaded__5901e"}},293419:function(e,t,n){e.exports={logo:"logo__11f7b"}},167669:function(e,t,n){e.exports={checkbox:"checkbox_e17bcd",subText:"subText_e17bcd"}},583114:function(e,t,n){e.exports={container:"container__56b49",statusContainer:"statusContainer__56b49",channelInfoContainer:"channelInfoContainer__56b49",channelInfoText:"channelInfoText__56b49"}},428581:function(e,t,n){e.exports={error:"error__584e1",subTitle:"subTitle__584e1",button:"button__584e1",codeInput:"codeInput__584e1"}},573875:function(e,t,n){e.exports={canvas:"canvas_e99198",fallbackImage:"fallbackImage_e99198",visible:"visible_e99198",embedded:"embedded_e99198"}},856704:function(e,t,n){var i={wrapper:"wrapper__8bf38 "+n(175581).scrollbarGhost,rightSplit:"rightSplit__8bf38",embedded:"embedded__8bf38",leftSplit:"leftSplit__8bf38",nonEmbeddedLeftSplit:"nonEmbeddedLeftSplit__8bf38",mobileWave:"mobileWave__8bf38",logo:"logo__8bf38"};e.exports=i},458216:function(e,t,n){e.exports={muted:"muted__20a53",avatar:"avatar__20a53",highlighted:"highlighted__20a53",layout:"layout__20a53",content:"content__20a53",name:"name__20a53",wrappedLayout:"wrappedLayout__20a53",wrappedName:"wrappedName__20a53",nameAndDecorators:"nameAndDecorators__20a53",subText:"subText__20a53"}},6850:function(e,t,n){e.exports={container:"container_e45859"}},960337:function(e,t,n){n.r(e.exports={qrCodeOverlay:"qrCodeOverlay_c28498","size-40":"size-40_c28498","size-60":"size-60_c28498",qrCodeOverlayContainer:"qrCodeOverlayContainer_c28498",qrCodeContainer:"qrCodeContainer_c28498"})},426073:function(e,t,n){e.exports={container:"container__06f11",imageContainer:"imageContainer__06f11",image:"image__06f11",backgroundImage:"backgroundImage__06f11",backgroundImageFilter:"backgroundImageFilter__06f11",loader:"loader__06f11"}},46657:function(e,t,n){e.exports={lineClamp:"lineClamp__0b48b"}},474973:function(e,t,n){e.exports={select:"select_d48ec6",error:"error_d48ec6",errorMessage:"errorMessage_d48ec6"}},352271:function(e,t,n){e.exports={pill:"pill_a2c9e8",clickable:"clickable_a2c9e8",disabled:"disabled_a2c9e8",small:"small_a2c9e8",selected:"selected_a2c9e8",emoji:"emoji_a2c9e8",closeCircle:"closeCircle_a2c9e8 emoji_a2c9e8",close:"close_a2c9e8",tooltipPill:"tooltipPill_a2c9e8"}},40148:function(e,t,n){e.exports={notice:"notice__36c3e",guildIcon:"guildIcon__36c3e",actionButton:"actionButton__36c3e",actionButtonInner:"actionButtonInner__36c3e"}},122425:function(e,t,n){e.exports={boostedGuildIconGem:"boostedGuildIconGem__97677",iconBackgroundTierNone:"iconBackgroundTierNone__97677",iconBackgroundTierOne:"iconBackgroundTierOne__97677",iconBackgroundTierThree:"iconBackgroundTierThree__97677",iconBackgroundTierTwo:"iconBackgroundTierTwo__97677",iconTierNone:"iconTierNone__97677",iconTierOne:"iconTierOne__97677",iconTierTwo:"iconTierTwo__97677",iconTierThree:"iconTierThree__97677"}},181550:function(e,t,n){e.exports={editProfileContainer:"editProfileContainer__42179",opened:"opened__42179",customizationSection:"customizationSection__42179",condensed:"condensed__42179",header:"header__42179",headerIconWrapper:"headerIconWrapper__42179",title:"title__42179",caret:"caret__42179",serverNickname:"serverNickname__42179"}},31740:function(e,t,n){e.exports={notice:"notice__30f28",error:"error__30f28",button:"button__30f28",header:"header__30f28"}},312658:function(e,t,n){e.exports={productCard:"productCard__8d9f6",productCardClickable:"productCardClickable__8d9f6",productThumbnail:"productThumbnail__8d9f6",productInfo:"productInfo__8d9f6",productInfoContent:"productInfoContent__8d9f6",productName:"productName__8d9f6",productDetails:"productDetails__8d9f6",dotSeparator:"dotSeparator__8d9f6",productActionMenuButton:"productActionMenuButton__8d9f6",productActionMenuIcon:"productActionMenuIcon__8d9f6",menuContainer:"menuContainer__8d9f6",disabled:"disabled__8d9f6"}},686089:function(e,t,n){e.exports={badge:"badge__436c9",badgeIcon:"badgeIcon__436c9"}},300694:function(e,t,n){e.exports={container:"container_d452e4",trait:"trait_d452e4",traitEmoji:"traitEmoji_d452e4",traitLabel:"traitLabel_d452e4"}},712617:function(e,t,n){e.exports={container:"container__86ab2",banner:"banner__86ab2",avatarContainer:"avatarContainer__86ab2",avatarWrapper:"avatarWrapper__86ab2",header:"header__86ab2",members:"members__86ab2",memberCount:"memberCount__86ab2",dot:"dot__86ab2",dotOnline:"dotOnline__86ab2",established:"established__86ab2",body:"body__86ab2",error:"error__86ab2"}},607217:function(e,t,n){e.exports={container:"container_cbb93a",body:"body_cbb93a"}},798149:function(e,t,n){e.exports={emojiIcon:"emojiIcon_ff168a"}},426615:function(e,t,n){e.exports={icon:"icon__0e5a2"}},781215:function(e,t,n){e.exports={messageBlock:"messageBlock__2d815",yellowMessageBlock:"yellowMessageBlock__2d815 messageBlock__2d815",messageBlockIcon:"messageBlockIcon__2d815",redMessageBlock:"redMessageBlock__2d815 messageBlock__2d815",brownMessageBlock:"brownMessageBlock__2d815 messageBlock__2d815"}},538290:function(e,t,n){e.exports={container:"container_de50c1"}},871899:function(e,t,n){e.exports={container:"container_e2461d",innerContainer:"innerContainer_e2461d",iconWrapper:"iconWrapper_e2461d",star:"star_e2461d",sparkle:"sparkle_e2461d"}},964556:function(e,t,n){e.exports={statusWarningBlock:"statusWarningBlock__1066d",statusWarningBlockWithCta:"statusWarningBlockWithCta__1066d",horizontalStatusWarningBlock:"horizontalStatusWarningBlock__1066d",verticalStatusWarningBlock:"verticalStatusWarningBlock__1066d",ctaButtonContainer:"ctaButtonContainer__1066d",ctaButton:"ctaButton__1066d",ctaBlackButton:"ctaBlackButton__1066d",ctaButtonText:"ctaButtonText__1066d"}},201923:function(e,t,n){e.exports={backButtonInner:"backButtonInner__84419",backButton:"backButton__84419",backNotice:"backNotice__84419"}},230335:function(e,t,n){e.exports={header:"header__4591d",description:"description__4591d",title:"title__4591d",guildBadge:"guildBadge__4591d",row:"row__4591d",guildIcon:"guildIcon__4591d",body:"body__4591d",divider:"divider__4591d",channelIcon:"channelIcon__4591d",icon:"icon__4591d",clickable:"clickable__4591d",linkText:"linkText__4591d",channelLocation:"channelLocation__4591d",locationText:"locationText__4591d",externalLocation:"externalLocation__4591d",interestedCount:"interestedCount__4591d",creator:"creator__4591d"}},667529:function(e,t,n){e.exports={guildIconContainer:"guildIconContainer__85d16",guildIconV2Container:"guildIconV2Container__85d16",guildBadge:"guildBadge__85d16",disableColor:"disableColor__85d16",tierTooltipTitle:"tierTooltipTitle__85d16",boostedGuildTierMutedIconWithVisibleBanner:"boostedGuildTierMutedIconWithVisibleBanner__85d16",boostedGuildTierIconBackgroundWithVisibleBanner:"boostedGuildTierIconBackgroundWithVisibleBanner__85d16",guildBadgeIcon:"guildBadgeIcon__85d16"}},82230:function(e,t,n){e.exports={icon:"icon__5c799",guidelines:"guidelines__5c799",divider:"divider__5c799",previewSection:"previewSection__5c799",channelsWrapper:"channelsWrapper__5c799",rolesWrapper:"rolesWrapper__5c799",protip:"protip__5c799",protipText:"protipText__5c799",channel:"channel__5c799",category:"category__5c799",channelIcon:"channelIcon__5c799",channelText:"channelText__5c799",role:"role__5c799",roleCircle:"roleCircle__5c799",roleName:"roleName__5c799"}},929937:function(e,t,n){e.exports={image:"image__74f72",header:"header__74f72",usagePill:"usagePill__74f72"}},951035:function(e,t,n){e.exports={container:"container__8d70a",title:"title__8d70a",subtitle:"subtitle__8d70a",userText:"userText__8d70a",usagePill:"usagePill__8d70a",verifiedIcon:"verifiedIcon__8d70a",verifiedNameContainer:"verifiedNameContainer__8d70a",verifiedCheckContainer:"verifiedCheckContainer__8d70a",verifiedCheck:"verifiedCheck__8d70a"}},757377:function(e,t,n){e.exports={image:"image_f4cef4",subtitle:"subtitle_f4cef4",title:"title_f4cef4",spacedButton:"spacedButton_f4cef4"}},277893:function(e,t,n){e.exports={guildBadge:"guildBadge_d69818",appIcon:"appIcon_d69818",appIconSize:"appIconSize_d69818",avatar:"avatar_d69818",guildIcon:"guildIcon_d69818",title:"title_d69818",activityCount:"activityCount_d69818",directInviteSubTitle:"directInviteSubTitle_d69818",guildContainer:"guildContainer_d69818",appIn:"appIn_d69818",appGuildName:"appGuildName_d69818",inviteJoinContainer:"inviteJoinContainer_d69818",inviterIconWrapper:"inviterIconWrapper_d69818"}},271902:function(e,t,n){e.exports={container:"container_fb2e73",acceptButton:"acceptButton_fb2e73"}},526967:function(e,t,n){e.exports={splashBackground:"splashBackground__742a4",centerFlex:"centerFlex__742a4",centerAuthBoxContent:"centerAuthBoxContent__742a4 centerFlex__742a4",inviteCard:"inviteCard__742a4",inviteChildContainer:"inviteChildContainer__742a4",inviteCardInner:"inviteCardInner__742a4",guildInfoInner:"guildInfoInner__742a4",inviteCardInnerError:"inviteCardInnerError__742a4",inviteCardInnerLoading:"inviteCardInnerLoading__742a4"}},476018:function(e,t,n){e.exports={guildInfoCard:"guildInfoCard__50dcd",presentedBy:"presentedBy__50dcd",guildContainer:"guildContainer__50dcd",guildDetailsContanier:"guildDetailsContanier__50dcd",guildName:"guildName__50dcd",guildBadge:"guildBadge__50dcd",guildInfoMemberCount:"guildInfoMemberCount__50dcd",guildInfoMemberCountText:"guildInfoMemberCountText__50dcd",guildDescriptionContainer:"guildDescriptionContainer__50dcd",guildEventCard:"guildEventCard__50dcd",channelInfo:"channelInfo__50dcd",acceptButton:"acceptButton__50dcd"}},17463:function(e,t,n){e.exports={container:"container_a804d4",frame:"frame_a804d4",rankBadge:"rankBadge_a804d4"}},253928:function(e,t,n){e.exports={notice:"notice_c5cd6a",button:"button_c5cd6a",back:"back_c5cd6a",iconButton:"iconButton_c5cd6a",arrow:"arrow_c5cd6a",header:"header_c5cd6a"}},668216:function(e,t,n){e.exports={header:"header__7c901",subtitle:"subtitle__7c901",closeButton:"closeButton__7c901",content:"content__7c901",smsInputContainer:"smsInputContainer__7c901",smsInput:"smsInput__7c901",error:"error__7c901",footer:"footer__7c901",listItemContainer:"listItemContainer__7c901",listItemText:"listItemText__7c901",listItemArrow:"listItemArrow__7c901"}},435695:function(e,t,n){e.exports={container:"container__733ad",errorContainer:"errorContainer__733ad container__733ad",buttonText:"buttonText__733ad"}},224299:function(e,t,n){e.exports={chooseAccountAuthBox:"chooseAccountAuthBox_df9c06",chooseAccountHelpText:"chooseAccountHelpText_df9c06",actions:"actions_df9c06"}},416906:function(e,t,n){e.exports={list:"list__920b8",accountCard:"accountCard__920b8",separator:"separator__920b8",userDetails:"userDetails__920b8",usernameSection:"usernameSection__920b8",hasActionMaxWidth:"hasActionMaxWidth__920b8",userActions:"userActions__920b8",username:"username__920b8",userActionMenu:"userActionMenu__920b8",overflowMenuIcon:"overflowMenuIcon__920b8",textOverflow:"textOverflow__920b8",hintText:"hintText__920b8"}},361143:function(e,t,n){e.exports={wrapper:"wrapper_e03935",disabledSelected:"disabledSelected_e03935",option:"option_e03935",hiddenInput:"hiddenInput_e03935",bottomLeft:"bottomLeft_e03935 option_e03935",bottomRight:"bottomRight_e03935 option_e03935",topLeft:"topLeft_e03935 option_e03935",topRight:"topRight_e03935 option_e03935",disabled:"disabled_e03935",disabledIcon:"disabledIcon_e03935",selected:"selected_e03935"}},221515:function(e,t,n){e.exports={emptyWidgetContainer:"emptyWidgetContainer_cc1cc5",absolute:"absolute_cc1cc5",emptyWidgetIcon:"emptyWidgetIcon_cc1cc5"}},336029:function(e,t,n){e.exports={voiceUser:"voiceUser_adebba",flipped:"flipped_adebba",avatar:"avatar_adebba",username:"username_adebba",effect:"effect_adebba",clanTag:"clanTag_adebba",voiceIcons:"voiceIcons_adebba",voiceIcon:"voiceIcon_adebba",interactive:"interactive_adebba",speaking:"speaking_adebba"}},904990:function(e,t,n){e.exports={bgShade:"bgShade__6d791",titleWrapper:"titleWrapper__6d791 bgShade__6d791",button:"button__6d791 bgShade__6d791",active:"active__6d791"}},950274:function(e,t,n){e.exports={outerContainer:"outerContainer__310be",container:"container__310be",innerContainer:"innerContainer__310be",countryCode:"countryCode__310be",separator:"separator__310be",popout:"popout__310be",hidden:"hidden__310be"}},488981:function(e,t,n){e.exports={input:"input_d64f22",inputField:"inputField_d64f22",inputWrapper:"inputWrapper_d64f22"}},73285:function(e,t,n){e.exports={container:"container__8a969",iconContainer:"iconContainer__8a969",actionable:"actionable__8a969",flair:"flair__8a969"}},343118:function(e,t,n){e.exports={text:"text__18089",premiumIcon:"premiumIcon__18089"}},737201:function(e,t,n){n.r(e.exports={badgeIconPrivateMessages:"badgeIconPrivateMessages__80f39",badgeIconSettingsMenu:"badgeIconSettingsMenu__80f39"})},21650:function(e,t,n){e.exports={premiumTrialBadge:"premiumTrialBadge__4c1e4",premiumTrialBadgeV2:"premiumTrialBadgeV2__4c1e4",premiumTrialBadgeIcon:"premiumTrialBadgeIcon__4c1e4",premiumTrialTier0UnacknowledgedBadge:"premiumTrialTier0UnacknowledgedBadge__4c1e4",premiumDiscountUnacknowledgedBadge:"premiumDiscountUnacknowledgedBadge__4c1e4",premiumTrialTier2UnacknowledgedBadge:"premiumTrialTier2UnacknowledgedBadge__4c1e4",premiumTrialAcknowledgedBadge:"premiumTrialAcknowledgedBadge__4c1e4",premiumTrialBadgeSelected:"premiumTrialBadgeSelected__4c1e4",premiumOfferBadgeCopy:"premiumOfferBadgeCopy__4c1e4"}},788800:function(e,t,n){e.exports={badgeContainer:"badgeContainer__98c7b",newBadge:"newBadge__98c7b",star:"star__98c7b",starLeft:"starLeft__98c7b",starRight:"starRight__98c7b"}},476959:function(e,t,n){e.exports={container:"container__477aa",acceptButton:"acceptButton__477aa",acceptText:"acceptText__477aa",declineButton:"declineButton__477aa",declineText:"declineText__477aa",blocked:"blocked__477aa",blockedIcon:"blockedIcon__477aa",blockedText:"blockedText__477aa",noIcon:"noIcon__477aa"}},816689:function(e,t,n){e.exports={settingsItemHighlight:"settingsItemHighlight__7cd2d",settingsBackgroundFlashElement:"settingsBackgroundFlashElement__7cd2d"}},664384:function(e,t,n){e.exports={premiumLabel:"premiumLabel_e681d1",selected:"selected_e681d1",background:"background_e681d1",selectedBackground:"selectedBackground_e681d1",auPromo:"auPromo_e681d1",auPromoSelected:"auPromoSelected_e681d1"}},194733:function(e,t,n){e.exports={baseCardOutline:"baseCardOutline__1ab14",coachmarkTitle:"coachmarkTitle__1ab14",coachmarkDescription:"coachmarkDescription__1ab14"}},33461:function(e,t,n){e.exports={container:"container__19218",svgContainer:"svgContainer__19218",svg:"svg__19218",content:"content__19218",closeButton:"closeButton__19218",closeButtonInner:"closeButtonInner__19218",closeButtonIcon:"closeButtonIcon__19218",tail:"tail__19218",tailPositionNormal:"tailPositionNormal__19218",tailPositionInverted:"tailPositionInverted__19218",tailSpine:"tailSpine__19218",tailTargetPositionNormal:"tailTargetPositionNormal__19218",tailTargetPositionInverted:"tailTargetPositionInverted__19218",tailTargetOuter:"tailTargetOuter__19218",tailTargetInner:"tailTargetInner__19218"}},120370:function(e,t,n){e.exports={wrapper:"wrapper__9671f"}},525645:function(e,t,n){e.exports={container:"container_b2d72f",iconContainer:"iconContainer_b2d72f",icon:"icon_b2d72f",foreground:"foreground_b2d72f",avatar:"avatar_b2d72f",avatarSize:"avatarSize_b2d72f",emptyUser:"emptyUser_b2d72f",avatarMasked:"avatarMasked_b2d72f avatar_b2d72f",moreUsers:"moreUsers_b2d72f"}},730533:function(e,t,n){e.exports={card:"card_b846e5"}},139766:function(e,t,n){e.exports={cursorPointer:"cursorPointer_c8743f"}},19479:function(e,t,n){e.exports={base:"base_e42a84",sparkle:"sparkle_e42a84 base_e42a84",pop:"pop_e42a84 base_e42a84",light:"light_e42a84 base_e42a84",cross:"cross_e42a84 base_e42a84",sparkleWhite:"sparkleWhite_e42a84 sparkle_e42a84 base_e42a84",popWhite:"popWhite_e42a84 pop_e42a84 base_e42a84",lightWhite:"lightWhite_e42a84 light_e42a84 base_e42a84",crossGrey:"crossGrey_e42a84 cross_e42a84 base_e42a84",crossWhite:"crossWhite_e42a84 cross_e42a84 base_e42a84"}},571576:function(e,t,n){e.exports={left:"left_caab99",right:"right_caab99",down:"down_caab99",downRight:"downRight_caab99",upLeft:"upLeft_caab99"}},236715:function(e,t,n){e.exports={hoverCard:"hoverCard__26e8b"}},533126:function(e,t,n){function i(e){let t="==".slice(0,(4-e.length%4)%4),n=atob(e.replace(/-/g,"+").replace(/_/g,"/")+t),i=new ArrayBuffer(n.length),r=new Uint8Array(i);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return i}function r(e){let t=new Uint8Array(e),n="";for(let e of t)n+=String.fromCharCode(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}n.d(t,{U2:()=>f,wz:()=>p});var a="copy",l="convert";function s(e,t,n){if(t===a)return n;if(t===l)return e(n);if(t instanceof Array)return n.map(n=>s(e,t[0],n));if(t instanceof Object){let i={};for(let[r,a]of Object.entries(t)){if(a.derive){let e=a.derive(n);void 0!==e&&(n[r]=e)}if(!(r in n)){if(a.required)throw Error(`Missing key: ${r}`);continue}if(null==n[r]){i[r]=null;continue}i[r]=s(e,a.schema,n[r])}return i}}function o(e,t){return{required:!0,schema:e,derive:t}}function c(e){return{required:!0,schema:e}}function d(e){return{required:!1,schema:e}}var u={type:c(a),id:c(l),transports:d(a)},h={appid:d(a),appidExclude:d(a),credProps:d(a)},_={appid:d(a),appidExclude:d(a),credProps:d(a)};c({rp:c(a),user:c({id:c(l),name:c(a),displayName:c(a)}),challenge:c(l),pubKeyCredParams:c(a),timeout:d(a),excludeCredentials:d([u]),authenticatorSelection:d(a),attestation:d(a),extensions:d(h)}),d(a),c(a),c(a),c(l),d(a),c({clientDataJSON:c(l),attestationObject:c(l),transports:o(a,e=>{var t;return(null==(t=e.getTransports)?void 0:t.call(e))||[]})}),o(_,e=>e.getClientExtensionResults());var m={mediation:d(a),publicKey:c({challenge:c(l),timeout:d(a),rpId:d(a),allowCredentials:d([u]),userVerification:d(a),extensions:d(h)}),signal:d(a)},g={type:c(a),id:c(a),rawId:c(l),authenticatorAttachment:d(a),response:c({clientDataJSON:c(l),authenticatorData:c(l),signature:c(l),userHandle:c(l)}),clientExtensionResults:o(_,e=>e.getClientExtensionResults())};function p(e){return s(i,m,e)}async function f(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>s(r,g,t),t}}}]);
//# sourceMappingURL=591e3cde6365ee14.js.map