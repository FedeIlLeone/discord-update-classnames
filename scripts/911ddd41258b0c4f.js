"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["86872"],{588705:function(e,n,t){t.d(n,{R:()=>S,Z:()=>A}),t(411104);var i=t(200651),l=t(192379),a=t(442837),r=t(481060),s=t(388905),o=t(686546),c=t(925329),u=t(372769),d=t(44609),m=t(47343),_=t(973616),p=t(131704),x=t(601964),g=t(598077),N=t(594174),h=t(51144),v=t(981631),E=t(888592),I=t(245335),f=t(388032),j=t(159601);let S=()=>(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(s.qE,{src:null,size:r.EFr.DEPRECATED_SIZE_100,className:j.avatar}),(0,i.jsx)(s.DK,{children:f.intl.string(f.t["3rE1Pz"])}),(0,i.jsx)(s.Dx,{className:j.inviteResolvingGuildName,children:f.intl.string(f.t.ZTNur6)})]}),C=e=>{let{guild:n,user:t,application:l,compact:a}=e;return null!=l?(0,i.jsx)(c.Z,{className:j.appIcon,game:l,size:j.appIconSize}):null!=t?(0,i.jsx)(s.qE,{src:null!=t?t.getAvatarURL(void 0,80):null,size:r.EFr.SIZE_80,className:a?j.compactAvatar:j.avatar}):null!=n?(0,i.jsx)(o.ZP,{mask:o.ZP.Masks.SQUIRCLE,width:64,height:64,className:j.guildIcon,children:(0,i.jsx)(s.Vj,{guild:n,size:s.Vj.Sizes.LARGER,animate:!0})}):null},A=e=>{var n;let t,l,o,{invite:c,disableUser:S=!1,error:A,flatActivityCount:T=!1,isRegister:P=!1}=e,L=(0,d.WR)({location:"invite"}),{currentUser:b}=(0,a.cj)([N.default],()=>({currentUser:N.default.getCurrentUser()}));if(null==c)return null;let R=null!=c.guild?new x.ZP(c.guild):null,Z=null!=c.channel?(0,p.jD)(c.channel):null,z=null!=c.target_application?new _.ZP(c.target_application):null,D=S||null==c.inviter?null:new g.Z(c.inviter),M=!(null!=c.approximate_member_count&&c.approximate_member_count>100||null!=R&&R.hasFeature(v.oNc.COMMUNITY))&&null!=D,k=null,U=!1;if(null!=R)k=null==D?f.intl.string(f.t["3rE1Pz"]):f.intl.formatToPlainString(f.t["5u47vb"],{username:h.ZP.getFormattedName(D)}),c.target_type===I.Iq.STREAM&&null!=c.target_user&&(k=f.intl.formatToPlainString(f.t.x2L32d,{username:h.ZP.getFormattedName(c.target_user)})),c.target_type===I.Iq.EMBEDDED_APPLICATION&&null!=c.target_application&&(k=null!=D?f.intl.formatToPlainString(f.t.UW1Cam,{username:h.ZP.getFormattedName(D)}):f.intl.string(f.t.ENSuNz)),M&&null==z&&(t=(0,i.jsx)(s.Vj,{className:j.icon,guild:R,size:s.Vj.Sizes.SMALL})),l=R.name,null!=z&&(l=z.name,o=(0,i.jsxs)("div",{children:[(0,i.jsx)(s.DK,{className:j.appIn,children:f.intl.string(f.t["3gg9fH"])}),(0,i.jsxs)("div",{className:j.guildContainer,children:[(0,i.jsx)(s.Vj,{guild:R,size:s.Vj.Sizes.SMALL}),(0,i.jsx)(r.Text,{tag:"span",variant:"text-lg/normal",color:"header-primary",className:j.appGuildName,children:R.name})]})]}));else if(null!=Z){if(null==D)throw Error("no inviter in group DM invite");let e=h.ZP.getFormattedName(D);null!=Z.name&&""!==Z.name?(k=f.intl.formatToPlainString(f.t["5u47vb"],{username:e}),l=Z.name,null!=Z.icon&&(t=(0,i.jsx)(s.MC,{channel:Z,size:r.EFr.SIZE_32}))):(k=f.intl.string(f.t.OsdY8P),l=e)}else if(null!=D){let e=h.ZP.getFormattedName(D,!0);l=f.intl.formatToPlainString(f.t["4aF92d"],{username:e}),U=!0,o=null!=A?null:(0,i.jsx)(s.DK,{className:j.directInviteSubTitle,children:P?f.intl.format(f.t["6r4JiY"],{username:e}):f.intl.format(f.t.Quj7HR,{username:e})})}return(0,i.jsxs)("div",{className:j.container,children:[(0,i.jsx)(C,{application:z,guild:R,user:M?D:null,compact:U}),null!=A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.DK,{children:f.intl.string(f.t.mDFGFh)}),(0,i.jsx)(s.Dx,{children:A})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.DK,{children:k}),(0,i.jsxs)(s.Dx,{className:j.title,children:[null!=R?(0,i.jsx)(u.Z,{guild:R,className:j.guildBadge,tooltipPosition:"left"}):null,t,l]})]}),o,null!=z||U||(null==c?void 0:null===(n=c.guild)||void 0===n?void 0:n.id)===E.fQ?null:(0,i.jsx)(s.EJ,{className:j.activityCount,online:c.approximate_presence_count,total:c.approximate_member_count,flat:T}),L?(0,i.jsx)(m.R,{}):(0,i.jsx)(s.jQ,{user:b})]})}},472365:function(e,n,t){t.d(n,{default:()=>G}),t(411104);var i=t(200651),l=t(192379),a=t(120356),r=t.n(a),s=t(990547),o=t(399606),c=t(481060),u=t(588705),d=t(700582),m=t(100527),_=t(906732),p=t(388905),x=t(792766),g=t(600164),N=t(436774),h=t(313201),v=t(44609),E=t(731971),I=t(451603),f=t(885714),j=t(973616),S=t(594174),C=t(855981),A=t(55543),T=t(626135),P=t(768581),L=t(358085),b=t(998502),R=t(379164),Z=t(590965),z=t(981631),D=t(474936),M=t(388032),k=t(845926),U=t(483938);function O(){let{analyticsLocations:e,sourceAnalyticsLocations:n}=(0,_.ZP)(m.Z.PREMIUM_UPSELL_TOOLTIP);return l.useEffect(()=>{T.default.track(z.rMx.PREMIUM_UPSELL_VIEWED,{type:D.cd.GUILD_CAP_INLINE_INVITE_MODAL,location:{page:z.ZY5.NATIVE_INVITE_MODAL},location_stack:n})},[n]),(0,i.jsxs)(c.P3F,{onClick:()=>(0,f.Z)({analyticsSource:{page:z.Sbl.EXTERNAL_INVITE_LINK_MODAL},analyticsLocation:{page:z.Sbl.EXTERNAL_INVITE_LINK_MODAL,section:z.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:e}),className:k.experimentUpsellError,children:[(0,i.jsx)(c.SrA,{size:"md",className:k.experimentUpsellIcon,color:N.JX.PREMIUM_TIER_2}),(0,i.jsx)("span",{className:k.experimentUpsellText,children:M.intl.string(M.t["4/W4Pz"])}),(0,i.jsx)("span",{className:k.experimentGetNitro,children:M.intl.string(M.t.b6KOkJ)})]})}function y(e){let{className:n}=e;return(0,i.jsxs)("div",{"aria-hidden":"true",className:r()(k.iconContainer,n),children:[(0,i.jsx)(C.Z,{className:k.iconSparklePlus}),(0,i.jsx)(c.xPt,{size:"custom",color:"currentColor",className:k.iconLink,width:40,height:40}),(0,i.jsx)(A.Z,{className:k.iconSparkleStar})]})}function F(e){let{transitionState:n}=e,t=(0,h.Dt)(),{analyticsLocations:l}=(0,_.ZP)(m.Z.INVITE_MODAL);return(0,i.jsx)(_.Gt,{value:l,children:(0,i.jsx)(c.Y0X,{"aria-labelledby":t,transitionState:n,children:(0,i.jsxs)(c.hzk,{className:k.errorContent,children:[(0,i.jsx)(y,{className:k.errorImage}),(0,i.jsx)(c.X6q,{id:t,variant:"heading-xl/semibold",color:"header-primary",children:M.intl.string(M.t.u9zxnZ)}),(0,i.jsx)("div",{className:k.errorBody,children:M.intl.string(M.t.FWkU6O)}),(0,i.jsx)(p.zx,{size:p.zx.Sizes.LARGE,onClick:()=>R.Z.close(),color:p.zx.Colors.BRAND,children:M.intl.string(M.t.wcqOoK)})]})})})}function G(e){let n,t,a,{transitionState:r}=e,N=(0,v.WR)({location:"AcceptInviteModal"});(0,o.e7)([S.default],()=>{var e;return null===(e=S.default.getCurrentUser())||void 0===e?void 0:e.premiumType});let f=(0,o.e7)([S.default],()=>S.default.getCurrentUser()),{invite:C,error:A,submitting:D}=(0,o.cj)([Z.Z],()=>Z.Z.getProps());l.useEffect(()=>{var e;(0,E.pB)(null!==(e=null==C?void 0:C.approximate_member_count)&&void 0!==e?e:0)},[null==C?void 0:C.approximate_member_count]);let{nickname:y}=(0,E.XW)();l.useEffect(()=>{!__OVERLAY__&&L.isPlatformEmbedded&&((0,L.isWindows)()?b.ZP.minimize():b.ZP.restore(),b.ZP.focus())},[]);let G=(0,h.Dt)(),{analyticsLocations:V}=(0,_.ZP)(m.Z.INVITE_MODAL);if(null==C||null==f)return null;if(C.state===z.r2o.EXPIRED||C.state===z.r2o.BANNED||C.state===z.r2o.ERROR)return(0,i.jsx)(F,{transitionState:r});if(null==C.channel)return null;function W(){null!=C&&R.Z.acceptInvite(C)}let{guild:B,channel:w,inviter:K,target_application:Y}=C,H=null!=B,X=null!=C.stage_instance,Q=null==C.guild&&null==C.channel&&null!=C.inviter;if(null!=Y)n=null==B?void 0:B.name,t=j.ZP.createFromServer(Y).getCoverImageURL(1024);else if(null!=B)n=B.name,t=P.ZP.getGuildSplashURL({id:B.id,splash:B.splash});else if((null==(n=w.name)||""===n)&&null!=K&&(n=K.username),null==n)throw Error("no name for group DM invite");let q=(0,I.yU)();return a=X?M.intl.string(M.t["5UKyUl"]):N?M.intl.format(M.t["9sWQNT"],{usernameHook:()=>(0,i.jsx)("span",{children:null!=y&&""!==y.trim()?y:f.globalName})}):Q?M.intl.string(M.t["e/6Ogo"]):M.intl.format(M.t.QD7BDA,{guildName:n}),(0,i.jsx)(_.Gt,{value:V,children:(0,i.jsxs)(c.Y0X,{size:c.CgR.DYNAMIC,"aria-labelledby":G,transitionState:r,className:k.container,impression:{impressionName:s.ImpressionNames.INVITE_ACCEPT,impressionProperties:{guild_id:null==B?void 0:B.id,invite_code:C.code}},children:[(0,i.jsx)(c.hzk,{className:k.contentWrapper,children:(0,i.jsxs)(g.Z,{className:k.inviteContent,direction:g.Z.Direction.VERTICAL,justify:g.Z.Justify.BETWEEN,children:[(0,i.jsx)("div",{id:G,children:(0,i.jsx)(u.Z,{invite:C,disableUser:H,error:A})}),X&&null!=B?(0,i.jsx)("div",{className:k.stage,children:(0,i.jsx)(x.Z,{isCard:!0,stageInstance:C.stage_instance,guild:B})}):null,(0,i.jsxs)("div",{className:k.ctas,children:[q?(0,i.jsx)(O,{}):null,null==Y?(0,i.jsx)(c.ua7,{text:q?M.intl.string(M.t.iLyuDA):null,position:"bottom",children:e=>{let{onMouseEnter:n,onMouseLeave:t}=e;return(0,i.jsx)(p.zx,{size:p.zx.Sizes.LARGE,onClick:W,submitting:D,disabled:q,color:X?p.zx.Colors.GREEN:p.zx.Colors.BRAND,onMouseEnter:n,onMouseLeave:t,children:q?M.intl.string(M.t.ZNCziI):(0,i.jsxs)("div",{className:k.acceptAs,children:[N&&(0,i.jsx)(d.Z,{"aria-hidden":!0,size:c.EFr.SIZE_16,user:f,className:k.acceptAsAvatar}),(0,i.jsx)("span",{className:k.acceptAsName,children:a})]})})}}):(0,i.jsxs)("div",{className:k.buttonGroup,children:[(0,i.jsx)(p.zx,{size:p.zx.Sizes.LARGE,onClick:W,submitting:D,children:M.intl.string(M.t.RscU7O)}),(0,i.jsx)(p.zx,{color:p.zx.Colors.PRIMARY,size:p.zx.Sizes.LARGE,onClick:W,submitting:D,children:M.intl.string(M.t.eylRaW)})]}),(0,i.jsx)(g.Z,{justify:g.Z.Justify.CENTER,className:U.marginTop8,children:(0,i.jsx)(p.zx,{look:p.zx.Looks.LINK,className:k.noThanksButton,onClick:function(){var e;T.default.track(z.rMx.INVITE_ACCEPT_DISMISSED,{invite_code:null==C?void 0:C.code,guild_id:null==C?void 0:null===(e=C.guild)||void 0===e?void 0:e.id}),R.Z.close()},color:p.zx.Colors.TRANSPARENT,children:M.intl.string(M.t.ndsK4e)})})]})]})}),null!=t&&(0,i.jsx)("div",{className:k.inviteSplash,style:{backgroundImage:"url(".concat(t,")")}})]})})}},47343:function(e,n,t){t.d(n,{R:()=>h}),t(47120);var i=t(200651),l=t(192379),a=t(120356),r=t.n(a),s=t(481060),o=t(590965),c=t(695346),u=t(51331),d=t(259580),m=t(626135),_=t(44609),p=t(731971),x=t(981631),g=t(388032),N=t(181550);let h=()=>{var e;let[n,t]=l.useState(!1),a=c.G6.useSetting(),{nickname:h,dmsAllowed:v,showActivity:E,mutedServer:I,setNickname:f,setDmsAllowed:j,setShowActivity:S,setMutedServer:C}=(0,p.XW)(),A=null===(e=o.Z.getProps().invite)||void 0===e?void 0:e.is_nickname_changeable,T=(0,_.m4)({location:"InviteSettingsControls"});return(0,i.jsxs)("div",{className:r()(N.editProfileContainer,{[N.opened]:n}),children:[(0,i.jsxs)(s.P3F,{className:N.header,onClick:()=>{n||m.default.track(x.rMx.INVITE_ACCEPT_JOIN_SETTINGS_EXPANDED),t(!n)},children:[(0,i.jsx)("div",{className:N.headerIconWrapper,children:(0,i.jsx)(s.ewm,{size:"md"})}),(0,i.jsxs)("div",{className:N.title,children:[(0,i.jsx)(s.Text,{variant:"eyebrow",color:"header-secondary",children:g.intl.string(g.t.A5wHQ0)}),(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"interactive-normal",children:g.intl.string(g.t.UKCSER)})]}),(0,i.jsx)("div",{className:r()(N.caret,{[N.opened]:n}),children:(0,i.jsx)(d.Z,{width:18,height:18,direction:d.Z.Directions.UP})})]}),(0,i.jsxs)("div",{className:r()(N.customizationSection,{[N.opened]:n},A?null:N.condensed),children:[A&&(0,i.jsxs)("div",{className:N.serverNickname,children:[(0,i.jsx)(s.Text,{variant:"eyebrow",color:"header-secondary",children:g.intl.string(g.t.me1lRk)}),(0,i.jsx)(s.oil,{placeholder:g.intl.string(g.t["09Q8ys"]),maxLength:x.l$U,value:h,onChange:f})]}),(0,i.jsx)(u.Z,{title:g.intl.string(g.t["/2ed39"]),value:v,onChange:j}),a&&(0,i.jsx)(u.Z,{title:g.intl.string(g.t.bN4m1N),value:E,onChange:S}),T&&(0,i.jsx)(u.Z,{title:g.intl.string(g.t["0nZCqK"]),value:I,onChange:C})]})]})}},888592:function(e,n,t){t.d(n,{fQ:()=>a,tF:()=>l});var i,l=((i={}).STUDENT_PROMPT="STUDENT_PROMPT",i.VERIFY_EMAIL="VERIFY_EMAIL",i.VERIFY_PIN="VERIFY_PIN",i.SELECT_SCHOOL="SELECT_SCHOOL",i.SELECT_SCHOOL_SEARCH="SELECT_SCHOOL_SEARCH",i.SUBMIT_SCHOOL="SUBMIT_SCHOOL",i.EMAIL_CONFIRMATION="EMAIL_CONFIRMATION",i.EMAIL_WAITLIST="EMAIL_WAITLIST",i);let a="884924873015689226"},159601:function(e,n,t){e.exports={container:"container_fa285e",guildBadge:"guildBadge_fa285e",appIcon:"appIcon_fa285e",appIconSize:"appIconSize_fa285e",avatar:"avatar_fa285e",guildIcon:"guildIcon_fa285e",compactAvatar:"compactAvatar_fa285e",inviteResolvingGuildName:"inviteResolvingGuildName_fa285e",title:"title_fa285e",activityCount:"activityCount_fa285e",directInviteSubTitle:"directInviteSubTitle_fa285e",guildContainer:"guildContainer_fa285e",appIn:"appIn_fa285e",appGuildName:"appGuildName_fa285e",icon:"icon_fa285e"}},845926:function(e,n,t){e.exports={container:"container__9b0f4",contentWrapper:"contentWrapper__9b0f4",noThanksButton:"noThanksButton__9b0f4",stage:"stage__9b0f4",inviteContent:"inviteContent__9b0f4",inviteSplash:"inviteSplash__9b0f4",buttonGroup:"buttonGroup__9b0f4",experimentUpsellError:"experimentUpsellError__9b0f4",experimentUpsellIcon:"experimentUpsellIcon__9b0f4",experimentUpsellText:"experimentUpsellText__9b0f4",experimentGetNitro:"experimentGetNitro__9b0f4",errorContent:"errorContent__9b0f4",errorImage:"errorImage__9b0f4",errorBody:"errorBody__9b0f4",iconContainer:"iconContainer__9b0f4",ctas:"ctas__9b0f4",iconSparklePlus:"iconSparklePlus__9b0f4",iconLink:"iconLink__9b0f4",iconSparkleStar:"iconSparkleStar__9b0f4",acceptAs:"acceptAs__9b0f4",acceptAsName:"acceptAsName__9b0f4",acceptAsAvatar:"acceptAsAvatar__9b0f4"}},181550:function(e,n,t){e.exports={editProfileContainer:"editProfileContainer__42179",opened:"opened__42179",customizationSection:"customizationSection__42179",condensed:"condensed__42179",header:"header__42179",headerIconWrapper:"headerIconWrapper__42179",title:"title__42179",caret:"caret__42179",serverNickname:"serverNickname__42179"}}}]);
//# sourceMappingURL=911ddd41258b0c4f.js.map