"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["55849"],{495682:function(e){e.exports="/assets/153f9d50b423a199.gif"},458060:function(e){e.exports="/assets/1071e0c5ceaf6ef7.png"},145908:function(e){e.exports="/assets/918ac9ba948b5e6b.gif"},690695:function(e){e.exports="/assets/ca693e3ef16951f4.png"},842786:function(e){e.exports="/assets/e629538747745c9a.gif"},460790:function(e){e.exports="/assets/6d14801ca95f25f1.png"},578831:function(e){e.exports="/assets/963f22200d58a4d8.gif"},642193:function(e){e.exports="/assets/4637e85fff87537c.png"},824385:function(e,t,n){n.d(t,{m:()=>l.m});var l=n(194565)},621961:function(e,t,n){n.d(t,{C6:()=>i,GY:()=>r,Kq:()=>s});var l=n(981631),a=n(486324);function i(e,t){let{isGIF:n}=t;if(e===a.pC.GUILD_BANNER)return n?l.oNc.ANIMATED_BANNER:l.oNc.BANNER}function s(e){return e===a.pC.AVATAR||e===a.pC.BANNER}function r(e){return e===a.pC.BANNER}},885290:function(e,t,n){n.d(t,{Z:()=>U});var l=n(200651),a=n(192379),i=n(120356),s=n.n(i),r=n(442837),o=n(481060),c=n(100527),d=n(906732),u=n(807582),m=n(813197),x=n(222062),p=n(530329),f=n(373230),g=n(782818),h=n(442552),C=n(430824),A=n(914010),j=n(594174),v=n(626135),N=n(267642),E=n(74538),T=n(621961),F=n(884858),_=n(981631),S=n(486324),b=n(869783),Z=n(388032),L=n(370222);let R=[{gif:n(495682),png:n(458060)},{gif:n(842786),png:n(460790)},{gif:n(578831),png:n(642193)},{gif:n(145908),png:n(690695)}];function y(e){let{shouldAnimate:t=!0}=e;return(0,l.jsx)("div",{className:L.gifGrid,children:R.map(e=>(0,l.jsx)("div",{className:L.gif,style:{backgroundImage:"url(".concat(t?e.gif:e.png,")")}},e.gif))})}function I(e){let{guildFeature:t,guild:n}=e;if(null==t||null==n)return;let l=(0,N._p)(t),a=n.hasFeature(t);if(null==l)return;let i=(0,N.nW)(l);return a?Z.intl.formatToPlainString(Z.t.u3L3TU,{levelName:i}):Z.intl.formatToPlainString(Z.t["r/v25e"],{levelName:i})}function M(e){let{guildFeature:t,guild:n}=e;return(0,l.jsx)("div",{className:L.boostingPill,children:(0,l.jsx)(u.Z,{guildFeature:t,guild:n,hideTooltip:!0})})}function w(e){let{icon:t,label:n,guildFeature:a,guild:i,shouldShowPremiumIcon:r}=e,c=null!=i&&null!=a;return(0,l.jsxs)("div",{className:s()(L.optionDescription,{[L.hasBoostingPill]:c}),"aria-hidden":!0,children:[(0,l.jsxs)("div",{className:L.optionIconAndLabel,children:[t,(0,l.jsxs)(o.Text,{variant:"text-sm/semibold",className:L.optionLabelText,children:[r&&(0,l.jsx)(o.DY3,{text:Z.intl.string(Z.t["5AFxuL"]),children:(0,l.jsx)(o.SrA,{size:"xs",color:"currentColor",className:L.premiumWheel})}),n]})]}),c&&(0,l.jsx)(M,{guild:i,guildFeature:a})]})}function P(e){let{label:t,uploadType:n,guild:a,maxFileSizeBytes:i,filters:r,handleOpenImageEditingModal:c,handleFileSizeError:d}=e,u=(0,T.GY)(n),x=(0,T.C6)(n,{isGIF:!1}),p=I({guildFeature:x,guild:a});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.tEY,{within:!0,children:(0,l.jsxs)("div",{className:s()(L.option,L.imageUploadOption),children:[(0,l.jsx)(w,{icon:(0,l.jsx)(o.FmF,{size:"md",color:"currentColor"}),label:t,guildFeature:x,guild:a,shouldShowPremiumIcon:u}),(0,l.jsx)(m.ZP,{"aria-label":t,tabIndex:0,onChange:c,maxFileSizeBytes:i,onFileSizeError:d,filters:r,multiple:!1})]})}),null!=p&&(0,l.jsx)(o.nn4,{children:p})]})}function O(e){let{uploadType:t,guild:n,handleOpenGIFPickerModal:a}=e,{shouldAnimate:i,onMouseEnter:s,onMouseLeave:r}=(0,h.Z)(),c=(0,T.Kq)(t),d=(0,T.C6)(t,{isGIF:!0}),u=I({guildFeature:d,guild:n});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.P3F,{className:L.option,onClick:a,"aria-label":Z.intl.string(Z.t["xsC+//"]),onMouseEnter:s,onMouseLeave:r,children:[(0,l.jsx)(y,{shouldAnimate:i}),(0,l.jsx)(w,{icon:(0,l.jsx)(o.OUq,{size:"md",color:"currentColor"}),label:Z.intl.string(Z.t["xsC+//"]),guildFeature:d,guild:n,shouldShowPremiumIcon:c})]}),null!=u&&(0,l.jsx)(o.nn4,{children:u})]})}function U(e){let{transitionState:t,onClose:i,onComplete:s,uploadType:u,maxFileSizeBytes:m,showUpsellHeader:h,filters:N,analyticsLocation:T,analyticsLocations:R=[],imageSpecifications:y,modalTitle:I=Z.intl.string(Z.t.DToW4e),uploadOptionTitle:M=Z.intl.string(Z.t["MsUY/f"])}=e,w=(0,r.e7)([j.default],()=>j.default.getCurrentUser()),U=(0,r.e7)([A.Z],()=>A.Z.getGuildId()),k=(0,r.e7)([C.Z],()=>C.Z.getGuild(U)),D=(0,o.vRw)(),B=u===S.pC.AVATAR||u===S.pC.BANNER,G=!E.ZP.canUseAnimatedAvatar(w)&&u===S.pC.AVATAR,H=(0,x.M)(!B),z=(0,f.Tq)({location:"NewSelectImageModal"}),{analyticsLocations:V}=(0,d.ZP)(R,c.Z.SELECT_IMAGE_MODAL),W=a.useCallback(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(),s(e,t,n)},[i,s]),q=a.useCallback((e,t)=>{if(t.type===b.m.MP4)return W(e,t);(0,o.ZDy)(async()=>{let{default:a}=await Promise.all([n.e("59732"),n.e("27952")]).then(n.bind(n,712451));return n=>(0,l.jsx)(a,{imgURI:e,file:t,onCrop:W,uploadType:u,showUpsellHeader:h,analyticsPage:null==T?void 0:T.page,...n})},{contextKey:D})},[null==T?void 0:T.page,D,W,h,u]),Y=a.useCallback(()=>{i(),(0,F.Z)(m)},[m,i]),X=a.useCallback(()=>{(0,o.ZDy)(async()=>{let{default:e}=await n.e("72891").then(n.bind(n,195297));return t=>(0,l.jsx)(e,{uploadType:u,onComplete:(e,t)=>W(e,t,!0),showUpsellHeader:h,analyticsPage:null==T?void 0:T.page,...t})},{contextKey:D})},[null==T?void 0:T.page,D,W,h,u]);return a.useEffect(()=>{G&&v.default.track(_.rMx.PREMIUM_UPSELL_VIEWED,{type:_.jXE.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location_stack:V}),v.default.track(_.rMx.OPEN_MODAL,{type:_.jXE.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location:T,location_stack:V})},[G,T,V]),(0,l.jsxs)(o.Y0X,{transitionState:t,size:o.CgR.DYNAMIC,className:L.modal,children:[(0,l.jsxs)(o.xBx,{className:L.modalHeader,separator:!1,children:[(0,l.jsx)(o.X6q,{variant:"heading-lg/semibold",children:I}),(0,l.jsx)(o.olH,{onClick:i,className:L.modalCloseButton})]}),(0,l.jsxs)(o.hzk,{className:L.modalContent,children:[(0,l.jsxs)("div",{className:L.imageSelectionSection,children:[(0,l.jsxs)("ul",{className:L.optionsList,"aria-label":Z.intl.string(Z.t.iBnqtb),children:[(0,l.jsx)("li",{children:(0,l.jsx)(P,{label:M,uploadType:u,guild:k,handleOpenImageEditingModal:q,maxFileSizeBytes:m,filters:N,handleFileSizeError:Y})}),(0,l.jsx)("li",{children:(0,l.jsx)(O,{uploadType:u,guild:k,handleOpenGIFPickerModal:X})})]}),null!=y?(0,l.jsx)(o.Text,{className:L.imageSpecifications,variant:"text-sm/normal",color:"text-muted",children:y}):null]}),u===S.pC.AVATAR&&z?(0,l.jsx)(g.Z,{className:L.recentAvatarsSection,onClose:i}):h&&H&&(0,l.jsx)(p.Z,{uploadType:u,showUpsell:!0,position:"inline",showShadow:!1,className:L.premiumUpsell})]})]})}},28130:function(e,t,n){n.d(t,{Z:()=>R}),n(47120);var l=n(200651),a=n(192379),i=n(442837),s=n(481060),r=n(100527),o=n(906732),c=n(807582),d=n(813197),u=n(222062),m=n(530329),x=n(430824),p=n(914010),f=n(594174),g=n(451478),h=n(626135),C=n(74538),A=n(621961),j=n(884858),v=n(981631),N=n(486324),E=n(869783),T=n(388032),F=n(362659);let _=[{gif:n(495682),png:n(458060)},{gif:n(842786),png:n(460790)},{gif:n(578831),png:n(642193)},{gif:n(145908),png:n(690695)}];function S(e){let{shouldAnimate:t=!0}=e,[n,i]=a.useState(!1);return(0,l.jsx)("div",{className:F.gifGrid,onMouseMove:()=>i(!0),onMouseLeave:()=>i(!1),children:_.map(e=>(0,l.jsx)("div",{className:F.gif,style:{backgroundImage:"url(".concat(t||n?e.gif:e.png,")")}},e.gif))})}function b(e){let{guildFeature:t,guild:n}=e;return null==t||null==n?null:(0,l.jsx)("div",{className:F.pillWrapper,children:(0,l.jsx)(c.Z,{guildFeature:t,guild:n,hideTooltip:!0})})}function Z(e){let{uploadType:t,guild:n}=e;return(0,l.jsxs)("div",{className:F.optionBoxText,children:[(0,l.jsx)(b,{guild:n,guildFeature:(0,A.C6)(t,{isGIF:!0})}),(0,l.jsxs)("div",{className:F.optionBoxDescription,children:[(0,A.Kq)(t)&&(0,l.jsx)(s.DY3,{className:F.nitroWheelFlairContainer,text:T.intl.string(T.t["5AFxuL"]),children:(0,l.jsx)(s.SrA,{size:"md",color:"currentColor",className:F.nitroWheelFlair})}),T.intl.string(T.t["xsC+//"])]})]})}function L(e){let{title:t,uploadType:n,guild:a}=e;return(0,l.jsxs)("div",{className:F.optionBoxText,children:[(0,l.jsx)(b,{guildFeature:(0,A.C6)(n,{isGIF:!1}),guild:a}),(0,l.jsxs)("div",{className:F.optionBoxDescription,children:[n===N.pC.BANNER&&(0,l.jsx)(s.DY3,{className:F.nitroWheelFlairContainer,text:T.intl.string(T.t["5AFxuL"]),children:(0,l.jsx)(s.SrA,{size:"md",color:"currentColor",className:F.nitroWheelFlair})}),t]})]})}function R(e){let{transitionState:t,onClose:c,onComplete:A,uploadType:_,maxFileSizeBytes:b,showUpsellHeader:R,filters:y,analyticsLocation:I,analyticsLocations:M=[],modalSubTitle:w,imageSpecifications:P,modalTitle:O=T.intl.string(T.t.DToW4e),uploadOptionTitle:U=T.intl.string(T.t["MsUY/f"])}=e,k=(0,i.e7)([g.Z],()=>g.Z.isFocused()),D=(0,i.e7)([f.default],()=>f.default.getCurrentUser()),B=(0,i.e7)([p.Z],()=>p.Z.getGuildId()),G=(0,i.e7)([x.Z],()=>x.Z.getGuild(B)),{reducedMotion:H}=a.useContext(s.Sfi),z=(0,s.vRw)(),V=!C.ZP.canUseAnimatedAvatar(D)&&_===N.pC.AVATAR,{analyticsLocations:W}=(0,o.ZP)(M,r.Z.SELECT_IMAGE_MODAL);function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(),A(e,t,n)}a.useEffect(()=>{V&&h.default.track(v.rMx.PREMIUM_UPSELL_VIEWED,{type:v.jXE.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location_stack:W}),h.default.track(v.rMx.OPEN_MODAL,{type:v.jXE.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location:I})},[V,I,W]);let Y=_===N.pC.AVATAR||_===N.pC.BANNER,X=(0,u.M)(!Y);return(0,l.jsxs)(s.Y0X,{transitionState:t,size:s.CgR.SMALL,children:[(0,l.jsxs)(s.xBx,{className:F.modalHeader,separator:!1,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(s.vwX,{tag:s.RB0.H1,className:F.modalTitle,children:O}),null!=w?(0,l.jsx)(s.Text,{variant:"text-md/normal",children:w}):null]}),(0,l.jsx)(s.olH,{onClick:c,className:F.modalCloseButton})]}),(0,l.jsxs)(s.hzk,{className:F.modalContent,children:[(0,l.jsxs)("div",{className:F.imagePickerContainer,children:[(0,l.jsxs)(s.P3F,{className:F.optionBox,children:[(0,l.jsx)("div",{className:F.contentCircle,children:(0,l.jsx)(s.FmF,{size:"md",color:"currentColor",className:F.uploadIcon})}),(0,l.jsx)(s.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:(0,l.jsx)(L,{title:U,uploadType:_,guild:G})}),(0,l.jsx)(d.ZP,{onChange:function(e,t){if(t.type===E.m.MP4)return q(e,t);(0,s.ZDy)(async()=>{let{default:a}=await n.e("48017").then(n.bind(n,850085));return n=>(0,l.jsx)(a,{imgURI:e,file:t,onCrop:q,uploadType:_,showUpsellHeader:R,allowSkip:!0,analyticsPage:null==I?void 0:I.page,...n})},{contextKey:z})},maxFileSizeBytes:b,onFileSizeError:function(){c(),(0,j.Z)(b)},filters:y})]}),(0,l.jsxs)(s.P3F,{className:F.optionBox,onClick:function(){(0,s.ZDy)(async()=>{let{default:e}=await n.e("72891").then(n.bind(n,195297));return t=>(0,l.jsx)(e,{uploadType:_,onComplete:(e,t)=>q(e,t,!0),showUpsellHeader:R,analyticsPage:null==I?void 0:I.page,...t})},{contextKey:z})},children:[(0,l.jsxs)("div",{className:F.contentCircle,children:[(0,l.jsx)(S,{shouldAnimate:k&&!H.enabled}),(0,l.jsx)("div",{className:F.gifIconContainer,children:(0,l.jsx)(s.OUq,{size:"custom",width:29,height:29,color:"currentColor",className:F.gifIcon})})]}),(0,l.jsx)(s.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:(0,l.jsx)(Z,{uploadType:_,guild:G})})]})]}),null!=P?(0,l.jsx)(s.Text,{className:F.imageSpecifications,variant:"text-sm/normal",children:P}):null,R&&X&&(0,l.jsx)(m.Z,{uploadType:_,showUpsell:!0,position:"inline",showShadow:!1,className:F.nitroUpsell})]})]})}},192277:function(e,t,n){n.d(t,{default:()=>r});var l=n(200651),a=n(373230),i=n(885290),s=n(28130);function r(e){let{modalSubTitle:t,...n}=e,{enabled:r}=a.i3.useExperiment({location:"SelectImageModalExperimentWrapper"},{autoTrackExposure:!1});return r?(0,l.jsx)(i.Z,{...n}):(0,l.jsx)(s.Z,{...n,modalSubTitle:t})}},643879:function(e,t,n){n.d(t,{f:()=>c,p:()=>d});var l=n(664751),a=n(481060),i=n(134432),s=n(768581),r=n(981631),o=n(485696);function c(e){let{userId:t,avatarId:n,storageHash:o,canAnimate:c=!1,size:d}=e,{CDN_HOST:u}=window.GLOBAL_ENV,m=null!=u?"".concat(location.protocol,"//").concat(u):location.protocol+window.GLOBAL_ENV.API_ENDPOINT,x=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0,s.xR)(e))return"gif";let{CDN_HOST:n}=window.GLOBAL_ENV;return null==n?"jpg":s.$k?"webp":"png"}(o,c),p="?".concat(l.stringify({size:(0,i.oO)((0,a.pxk)(d)*(0,i.x_)())}));return"".concat(m).concat(r.ANM.ARCHIVED_AVATAR(t,n,o,x)).concat(p)}function d(e){let t=e?o.Ul:o.h,n=o.Ul-t;return{recentAvatarsLimit:t,numberOfLockedAvatarSlots:n}}},225516:function(e,t,n){n.d(t,{N:()=>o});var l=n(544891),a=n(570140),i=n(881052),s=n(482207),r=n(981631);async function o(){if(s.Z.shouldFetch){a.Z.dispatch({type:"RECENT_AVATARS_FETCH_START"});try{let e=await l.tn.get({url:r.ANM.RECENT_AVATARS,rejectWithError:!0});a.Z.dispatch({type:"RECENT_AVATARS_FETCH_SUCCESS",avatars:e.body.avatars.map(e=>{let{storage_hash:t,...n}=e;return{...n,storageHash:t}})})}catch(e){a.Z.dispatch({type:"RECENT_AVATARS_FETCH_FAILURE",error:new i.Hx(e)})}}}},373230:function(e,t,n){n.d(t,{Tq:()=>i,i3:()=>s});var l=n(818083);let a=(0,l.B)({kind:"user",id:"2025-01_recent_avatars",label:"Recent Avatars",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Allow users to select from recently uploaded avatars",config:{enabled:!0}}]});function i(e){let{location:t,autoTrackExposure:n=!0}=e,{enabled:l}=a.useExperiment({location:t},{autoTrackExposure:n});return l}let s=(0,l.B)({kind:"user",id:"2025-02_improved_image_upload_flow",label:"Improved Image Upload Flow",defaultConfig:{enabled:!1},treatments:[{id:1,label:"QOL improvements to the image upload and edit flow used for profile assets, server banners & icons, etc.",config:{enabled:!0}}]})},598989:function(e,t,n){n.d(t,{S:()=>i});var l=n(442837),a=n(482207);function i(){return(0,l.cj)([a.Z],()=>({avatars:a.Z.getAvatars(),loading:a.Z.isFetching,error:a.Z.fetchError}))}},482207:function(e,t,n){n.d(t,{Z:()=>m});var l,a,i,s=n(442837),r=n(570140);let o={isFetching:!1,lastFetchedAt:null,error:null},c=[],d=o;class u extends(i=s.ZP.Store){get isFetching(){return d.isFetching}get fetchError(){return d.error}get shouldFetch(){var e;return Date.now()-(null!==(e=d.lastFetchedAt)&&void 0!==e?e:0)>3e5&&!d.isFetching}getAvatars(){return c}}a="RecentAvatarsStore",(l="displayName")in u?Object.defineProperty(u,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[l]=a;let m=new u(r.Z,{RECENT_AVATARS_FETCH_START:function(){d.isFetching=!0,d.error=null},RECENT_AVATARS_FETCH_SUCCESS:function(e){let{avatars:t}=e;c=t,d.isFetching=!1,d.lastFetchedAt=Date.now()},RECENT_AVATARS_FETCH_FAILURE:function(e){let{error:t}=e;d.isFetching=!1,d.error=t},LOGOUT:function(){c=[],d=o}})},27367:function(e,t,n){n.d(t,{m:()=>l});let l=n(481060).EFr.SIZE_56},898331:function(e,t,n){n.d(t,{Z:()=>c});var l=n(200651);n(192379);var a=n(120356),i=n.n(a),s=n(481060),r=n(27367),o=n(768114);function c(e){let{className:t,size:n=r.m}=e,a=(0,s.pxk)(n);return(0,l.jsx)("svg",{width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a),className:i()(o.placeholderFill,t),"aria-hidden":!0,children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44.4505 50.6604C44.3703 50.7187 44.2897 50.7766 44.2088 50.8341C43.105 51.6191 41.9418 52.3261 40.7273 52.9469C36.9087 54.8989 32.583 56 28 56C23.417 56 19.0913 54.8989 15.2727 52.9469C15.2661 52.9436 15.2595 52.9402 15.253 52.9368C13.9566 52.2728 12.7189 51.5108 11.5495 50.6604C9.38994 49.0899 7.46354 47.2183 5.832 45.1072C5.467 44.6349 5.11675 44.1506 4.78196 43.6551C1.76288 39.1862 0 33.799 0 28C0 12.536 12.536 0 28 0C43.464 0 56 12.536 56 28C56 34.442 53.8244 40.376 50.168 45.1072C48.5365 47.2183 46.6101 49.0899 44.4505 50.6604ZM40.2456 47.3651C36.7036 49.6096 32.5036 50.9091 28 50.9091C23.4964 50.9091 19.2964 49.6096 15.7544 47.3651L16.3313 41.5957C16.3944 40.965 15.6427 40.6731 15.2985 41.2054C14.56 42.3472 13.7498 43.7851 13.0644 45.3716C11.1151 43.6941 9.4513 41.6942 8.15574 39.4546C12.1168 32.607 19.5204 28 28 28C36.4796 28 43.8832 32.607 47.8443 39.4546C46.5487 41.6942 44.8849 43.6941 42.9356 45.3716C42.2502 43.7851 41.44 42.3472 40.7015 41.2054C40.3573 40.6731 39.6056 40.965 39.6687 41.5957L40.2456 47.3651ZM28 25.4545C32.9204 25.4545 36.9091 21.4658 36.9091 16.5455C36.9091 11.6251 32.9204 7.63636 28 7.63636C23.0796 7.63636 19.0909 11.6251 19.0909 16.5455C19.0909 21.4658 23.0796 25.4545 28 25.4545Z"})})}},782818:function(e,t,n){n.d(t,{Z:()=>T}),n(47120);var l=n(200651),a=n(192379),i=n(120356),s=n.n(i),r=n(442837),o=n(824385),c=n(481060),d=n(98278),u=n(594174),m=n(74538),x=n(643879),p=n(225516),f=n(598989),g=n(898331),h=n(841183),C=n(981631),A=n(388032),j=n(267458);function v(e){let{avatar:t,orderNumber:n}=e,{id:a,storageHash:i,description:s}=t,{avatarSrc:r,eventHandlers:o}=(0,h.Z)({avatarId:a,storageHash:i}),{onMouseEnter:d,onMouseLeave:u}=o;return(0,l.jsx)(c.P3F,{onClick:C.dG4,onMouseEnter:d,onMouseLeave:u,className:j.recentAvatarButton,"aria-label":A.intl.formatToPlainString(A.t["tmJ75+"],{orderNumber:n,description:s}),children:(0,l.jsx)("img",{src:r,alt:s,className:j.recentAvatar})})}function N(e){let{numberOfLockedAvatarSlots:t}=e;return(0,l.jsxs)(c.P3F,{className:j.premiumUpsellButton,onClick:C.dG4,"aria-label":A.intl.formatToPlainString(A.t.D4829v,{numberOfLockedAvatarSlots:t}),children:[(0,l.jsxs)(c.Text,{variant:"text-lg/normal",color:"text-normal","aria-hidden":!0,children:["+",t]}),(0,l.jsx)(o.m,{className:j.premiumUpsellLockIcon,size:"xxs"})]})}function E(e){let{hasIncreasedRecentAvatarsLimit:t}=e,{avatars:n,loading:i}=(0,f.S)(),{recentAvatarsLimit:s,numberOfLockedAvatarSlots:r}=(0,x.p)(t),o=n.length>s?n.slice(0,s):n,d=o.length,u=Math.max(s-d,0);return(a.useEffect(()=>{(0,p.N)()},[]),i)?(0,l.jsx)(c.$jN,{className:j.spinner}):(0,l.jsxs)("div",{className:j.recentAvatarContainer,children:[d>0&&(0,l.jsx)("ul",{"aria-label":A.intl.string(A.t.lsU63N),className:j.recentAvatarList,children:o.map((e,t)=>(0,l.jsx)("li",{children:(0,l.jsx)(v,{avatar:e,orderNumber:t+1})},e.id))}),u>0&&(0,l.jsxs)("div",{className:j.emptyAvatarSlots,children:[(0,l.jsx)(c.nn4,{children:A.intl.format(A.t["8W2HOz"],{numberOfEmptyAvatarSlots:u})}),[...Array(u)].map(e=>(0,l.jsx)(g.Z,{className:j.avatarPlaceholder},e))]}),!t&&(0,l.jsx)(N,{numberOfLockedAvatarSlots:r})]})}function T(e){let{className:t,onClose:n}=e,i=(0,r.e7)([u.default],()=>u.default.getCurrentUser()),o=m.ZP.canUseIncreasedRecentAvatarsLimit(i),{recentAvatarsLimit:p}=(0,x.p)(o),f=a.useCallback(()=>{(0,d.$)(n)},[n]);return(0,l.jsxs)("div",{className:s()(j.container,t),children:[(0,l.jsxs)("div",{className:j.text,children:[(0,l.jsx)(c.X6q,{variant:"eyebrow",color:"header-secondary",children:A.intl.string(A.t.Bnq9zM)}),(0,l.jsxs)(c.Text,{variant:"text-sm/normal",color:"text-secondary",children:[A.intl.format(A.t["+CyJu7"],{recentAvatarsLimit:p})," ",!o&&A.intl.format(A.t.Xs2Otb,{onClick:f})]})]}),(0,l.jsx)(E,{hasIncreasedRecentAvatarsLimit:o})]})}},841183:function(e,t,n){n.d(t,{Z:()=>c});var l=n(192379),a=n(442837),i=n(442552),s=n(314897),r=n(643879),o=n(27367);function c(e){let{avatarId:t,storageHash:n}=e,{onMouseEnter:c,onMouseLeave:d,shouldAnimate:u}=(0,i.Z)(),m=(0,a.e7)([s.default],()=>s.default.getId());return{avatarSrc:l.useMemo(()=>(0,r.f)({userId:m,avatarId:t,storageHash:n,canAnimate:u,size:o.m}),[m,t,n,u]),isAvatarAnimating:u,eventHandlers:{onMouseEnter:c,onMouseLeave:d}}}},485696:function(e,t,n){n.d(t,{Ul:()=>l,h:()=>a});let l=6,a=2}}]);
//# sourceMappingURL=bdd6d43ff5b9854f.js.map