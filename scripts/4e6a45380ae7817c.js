"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["95910"],{177475:function(t){t.exports="/assets/f66ae7bb8510ab4f.svg"},740353:function(t){t.exports="/assets/4ed48b8404cc8dd4.svg"},362721:function(t,e,n){n.d(e,{ZP:()=>u});var i=n(442837),l=n(496675),r=n(700785),a=n(231338);let d=[a.Pl.SET_VOICE_CHANNEL_STATUS,a.Pl.CONNECT,a.Pl.VIEW_CHANNEL],s=[a.Pl.SET_VOICE_CHANNEL_STATUS];function u(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return(0,i.e7)([l.Z],()=>{var i;return i=l.Z,(e?s:d).every(e=>null==n?i.can(e,t):r.BT({permission:e,user:n,context:t}))},[t,e,n])}},339340:function(t,e,n){n.d(e,{a:()=>D,default:()=>A}),n(47120),n(757143);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),d=n(399606),s=n(343817),u=n(481060),o=n(787014),_=n(904245),c=n(12498),E=n(541716),g=n(752305),I=n(893718),T=n(600164),p=n(540059),C=n(957730),m=n(19780),N=n(594174),L=n(626135),S=n(981631),U=n(388032),f=n(137046);let D="VoiceChannelStatusModal";function A(t){let{channel:e,transitionState:n,onClose:r}=t,A=(0,d.e7)([c.Z],()=>c.Z.getChannelStatus(e)),Z=(0,d.e7)([m.Z],()=>m.Z.getMediaSessionId()),[G,h]=l.useState(null!=A?A:""),[v,y]=l.useState(!1),[O,P]=l.useState(null),M=(0,d.e7)([N.default],()=>N.default.getCurrentUser()),z=G.length>500,H=(0,p.Q3)("VoiceChannelStatusModal");l.useEffect(()=>{L.default.track(S.rMx.OPEN_MODAL,{type:"Voice Channel Topic Modal",guild_id:e.guild_id})},[e.guild_id]);let B=t=>{P(new s.Hx(t,t.status).getAnyErrorMessage())},b=t=>{let{invalidEmojis:n}=t;if(null!=n&&n.length>0){let{errorMessage:t}=_.Z.validateMessage(n,M,e.id);return P(t),y(!1),{hasErrors:!0}}return{hasErrors:!1}},R=async t=>{G===A&&r(),null==t||t.preventDefault(),P(null),y(!0);let n=G.length,i=G.replace(/<(a)?:[^:]+:[0-9]+>/g,"--").length,l=C.ZP.parse(void 0,G),{hasErrors:a}=b(l);if(!a){try{let t=await o.ZP.updateVoiceChannelStatus(e.id,l.content);204===t.status?(L.default.track(S.rMx.VOICE_CHANNEL_TOPIC_SET,{guild_id:e.guild_id,channel_id:e.id,media_session_id:Z,raw_length:n,text_length:i}),r()):B(t)}catch(t){B(t)}y(!1)}},[V,x]=l.useState((0,g.JM)(G)),X=async()=>(z||v||await R(),Promise.resolve({shouldClear:!1,shouldRefocus:!0}));return(0,i.jsx)("form",{onSubmit:R,className:f.form,children:(0,i.jsxs)(u.Y0X,{transitionState:n,size:u.CgR.SMALL,className:a()(f.modal,f.gradientBorder),children:[(0,i.jsxs)(u.hzk,{className:f.container,children:[(0,i.jsxs)(u.xBx,{direction:T.Z.Direction.VERTICAL,className:f.modalHeader,separator:!1,children:[(0,i.jsx)(u.olH,{className:f.closeButton,onClick:r}),(0,i.jsx)("div",{className:f.headerImage}),(0,i.jsx)(u.vwX,{tag:"h1",className:f.title,children:U.intl.string(U.t["5CyJBQ"])}),(0,i.jsx)(u.Text,{color:"header-secondary",variant:"text-sm/normal",children:U.intl.string(U.t.NRBYjo)})]}),(0,i.jsxs)(u.hjN,{className:f.inputSection,title:U.intl.string(U.t.Fq5lwM),children:[(0,i.jsx)(I.Z,{innerClassName:f.textArea,textValue:G,richValue:V,placeholder:U.intl.formatToPlainString(U.t.DUXxBg,{channelName:e.name}),focused:!0,channel:e,onChange:(t,e,n)=>{h(e),x(n)},onSubmit:X,type:E.Ie.VOICE_CHANNEL_STATUS,canMentionRoles:!1,canMentionChannels:!1,allowNewLines:!1,parentModalKey:D,maxCharacterCount:500,showRemainingCharsAfterCount:250,emojiPickerCloseOnModalOuterClick:!0}),null!=O?(0,i.jsx)(u.kzN,{className:f.error,children:O}):null]})]}),(0,i.jsxs)(u.mzw,{justify:H?T.Z.Justify.END:T.Z.Justify.BETWEEN,direction:T.Z.Direction.HORIZONTAL,className:f.modalFooter,children:[(0,i.jsx)(u.zxk,{look:u.zxk.Looks.FILLED,color:u.zxk.Colors.PRIMARY,className:f.cancelButton,onClick:r,children:U.intl.string(U.t["ETE/oK"])}),(0,i.jsx)(u.zxk,{onClick:R,submitting:v,className:f.button,disabled:z,children:U.intl.string(U.t.XqK2Iy)})]})]})})}},109764:function(t,e,n){n.d(e,{Z:()=>c});var i=n(200651);n(192379);var l=n(852229),r=n(399606),a=n(481060),d=n(228392),s=n(592125),u=n(934415),o=n(981631),_=n(388032);function c(t,e,n){let c=(0,r.e7)([s.Z],()=>s.Z.getChannel(t.parent_id));return(0,i.jsx)(a.sNh,{id:"channel-copy-link",label:_.intl.string(_.t.WqhZsr),action:()=>{t.isForumPost()&&(0,d.B)({postId:t.id,location:{section:o.jXE.CONTEXT_MENU}}),(0,l.J)((0,u.EO)(t,c,e,n))}})}},323597:function(t,e,n){n.d(e,{Z:()=>T});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(787014),d=n(904245),s=n(787263),u=n(660189),o=n(144140),_=n(314897),c=n(496675),E=n(709054),g=n(981631),I=n(388032);function T(t){let e=t.isForumPost(),n=(0,l.e7)([_.default],()=>t.isOwner(_.default.getId()),[t]),{canManageChannel:T,canAccessChannel:p}=(0,l.cj)([c.Z],()=>({canAccessChannel:c.Z.can(t.accessPermissions,t),canManageChannel:c.Z.can(t.isThread()?g.Plq.MANAGE_THREADS:g.Plq.MANAGE_CHANNELS,t)}),[t]),C=(0,l.e7)([o.Z],()=>{var e;return null!==(e=o.Z.getCount(t.id))&&void 0!==e?e:0},[t.id]),{firstMessage:m}=(0,l.e7)([u.Z],()=>u.Z.getMessage(t.id),[t.id]),N=e&&(T||n&&C<1),L=e&&n&&!T&&C>0&&null!=m;return p&&(T||N||L)?(0,i.jsx)(r.sNh,{id:"delete-channel",label:t.type===g.d4z.GUILD_CATEGORY?I.intl.string(I.t.ifbXnJ):t.isForumPost()?N?I.intl.string(I.t.nEOg1N):I.intl.string(I.t.xwMqDw):t.isThread()?I.intl.string(I.t.H7vTe3):I.intl.string(I.t["8D8Rsb"]),color:"danger",action:()=>{(0,s.w)(t,function(){L?d.Z.deleteMessage(t.id,E.default.castChannelIdAsMessageId(t.id)):a.ZP.deleteChannel(t.id)})}}):null}},787263:function(t,e,n){n.d(e,{w:()=>r});var i=n(200651);n(192379);var l=n(481060);function r(t,e){return(0,l.ZDy)(async()=>{let{default:l}=await n.e("79521").then(n.bind(n,207540));return n=>(0,i.jsx)(l,{...n,onConfirm:()=>{n.onClose(),e()},channel:t})})}},241155:function(t,e,n){n.d(e,{Z:()=>m}),n(47120);var i,l,r,a=n(392711),d=n.n(a),s=n(442837),u=n(570140),o=n(924301),_=n(601964),c=n(75666);let E=!1,g={},I={},T={},p=t=>(T[t.guild_scheduled_event.id]=new _.ZP(t.guild_scheduled_event.guild),I[t.guild_scheduled_event.id]=t.guild_scheduled_event,{channelId:t.directory_channel_id,scheduledEventId:t.entity_id,type:c.C2.GUILD_SCHEDULED_EVENT,authorId:t.author_id,createdAt:t.created_at});class C extends(i=s.ZP.Store){isFetching(){return E}getEventDirectoryEntries(t){if(null!=t)return g[t]}getCachedGuildByEventId(t){var e;return null!==(e=T[t])&&void 0!==e?e:void 0}getCachedGuildScheduledEventById(t){var e;return null!==(e=I[t])&&void 0!==e?e:void 0}}r="EventDirectoryStore",(l="displayName")in C?Object.defineProperty(C,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):C[l]=r;let m=new C(u.Z,{EVENT_DIRECTORY_FETCH_START:function(){E=!0},EVENT_DIRECTORY_FETCH_SUCCESS:function(t){let{channelId:e,entries:n}=t;E=!1;let i=d().sortBy([...n],[function(t){return(0,o.CQ)(t.guild_scheduled_event)}]),l=d().map(i,p);g[e]=l},EVENT_DIRECTORY_FETCH_FAILURE:function(){E=!1}})},75666:function(t,e,n){n.d(e,{AR:()=>g,C2:()=>_,Pp:()=>T,VX:()=>c,b7:()=>I,sE:()=>E});var i,l,r,a,d=n(149765),s=n(700785),u=n(981631),o=n(388032),_=((i={})[i.GUILD=0]="GUILD",i[i.GUILD_SCHEDULED_EVENT=1]="GUILD_SCHEDULED_EVENT",i),c=((l={}).GUILD_TEMPLATES="guild-templates",l.CUSTOMIZE_NEW_GUILD="customize-new-guild",l.CHOOSE_GUILD="choose-guild",l.CUSTOMIZE_EXISTING_GUILD="customize-existing-guild",l.CONFIRMATION="confirmation",l),E=((r={}).CREATE="CREATE",r.HUB_SCHOOL_CLUB="HUB_SCHOOL_CLUB",r.HUB_STUDY="HUB_STUDY",r.HUB_CLASS="HUB_CLASS",r.HUB_SOCIAL="HUB_SOCIAL",r.HUB_MAJOR="HUB_MAJOR",r.HUB_DORM="HUB_DORM",r),g=((a={})[a.ALL=-1]="ALL",a[a.UNCATEGORIZED=0]="UNCATEGORIZED",a[a.SCHOOL_CLUB=1]="SCHOOL_CLUB",a[a.CLASS=2]="CLASS",a[a.STUDY_SOCIAL=3]="STUDY_SOCIAL",a[a.MISC=5]="MISC",a);function I(t){return"883060064561299456"===t?[{value:1,label:o.intl.string(o.t["Z+MPNz"])},{value:2,label:o.intl.string(o.t.dV9uBg)},{value:3,label:o.intl.string(o.t.xoHQcn)},{value:5,label:o.intl.string(o.t.Ao41rq)}]:[{value:1,label:o.intl.string(o.t.oNHFUF),idealSize:100},{value:2,label:o.intl.string(o.t.V1i8nZ)},{value:3,label:o.intl.string(o.t.Z2ygQk),idealSize:50},{value:5,label:o.intl.string(o.t["0Bg9LS"])}]}function T(){return{CREATE:{id:"CREATE",code:"2TffvPucqHkN",label:o.intl.string(o.t["H3+6BA"]),channels:[],system_channel_id:null},HUB_SCHOOL_CLUB:{id:"HUB_SCHOOL_CLUB",code:"UMUbvRpRZhS6",label:o.intl.string(o.t["mmFA5+"]),channels:[{id:"00",parent_id:null,name:o.intl.string(o.t["VCAA/f"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:o.intl.string(o.t.GHQoER),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:o.intl.string(o.t.nSsoSE),type:u.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:o.intl.string(o.t.yZCzMT),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:o.intl.string(o.t.mobYpK),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:o.intl.string(o.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:o.intl.string(o.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:o.intl.string(o.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:o.intl.string(o.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:o.intl.string(o.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:o.intl.string(o.t.hi1Ykp),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:o.intl.string(o.t.vw8oaW),type:u.d4z.GUILD_VOICE}],roles:[{id:"00",name:"@everyone",permissions:s.TP},{id:"01",name:"officers (example)",mentionable:!0,hoist:!0,permissions:d.$e(s.TP,u.Plq.MANAGE_ROLES,u.Plq.MANAGE_CHANNELS,u.Plq.KICK_MEMBERS,u.Plq.BAN_MEMBERS,u.Plq.MANAGE_NICKNAMES,u.Plq.MANAGE_GUILD_EXPRESSIONS,u.Plq.MANAGE_MESSAGES,u.Plq.SEND_TTS_MESSAGES),color:3066993}],system_channel_id:"12"},HUB_STUDY:{id:"HUB_STUDY",code:"2JBhzzca2vfT",label:o.intl.string(o.t.fYwSi4),channels:[{id:"00",parent_id:null,name:o.intl.string(o.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:o.intl.string(o.t["3eM+Li"]),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:o.intl.string(o.t.Qi0D7e),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:o.intl.string(o.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:o.intl.string(o.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:o.intl.string(o.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:o.intl.string(o.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:o.intl.string(o.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:o.intl.string(o.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:o.intl.formatToPlainString(o.t.LuNsNT,{number:1}),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:o.intl.formatToPlainString(o.t.LuNsNT,{number:2}),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_CLASS:{id:"HUB_CLASS",code:"r86WWBwTGspb",label:o.intl.string(o.t.e5gFS0),channels:[{id:"00",parent_id:null,name:o.intl.string(o.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:o.intl.string(o.t["710tNj"]),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:o.intl.string(o.t.Qi0D7e),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:o.intl.string(o.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:o.intl.string(o.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:o.intl.string(o.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:o.intl.string(o.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:o.intl.string(o.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:o.intl.string(o.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:o.intl.formatToPlainString(o.t.LuNsNT,{number:1}),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:o.intl.formatToPlainString(o.t.LuNsNT,{number:2}),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_SOCIAL:{id:"HUB_SOCIAL",code:"AvvtXE3mfbCR",label:o.intl.string(o.t.oOj7Ii),channels:[{id:"00",parent_id:null,name:o.intl.string(o.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:o.intl.string(o.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:o.intl.string(o.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:o.intl.string(o.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"04",parent_id:"00",name:o.intl.string(o.t.d4F8gI),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:o.intl.string(o.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:o.intl.string(o.t.CLWKNj),type:u.d4z.GUILD_VOICE},{id:"12",parent_id:"10",name:o.intl.string(o.t.g3qPRk),type:u.d4z.GUILD_VOICE},{id:"13",parent_id:"10",name:o.intl.string(o.t.yQZpe3),type:u.d4z.GUILD_VOICE}],system_channel_id:"02"},HUB_MAJOR:{id:"HUB_MAJOR",code:"FhmfDR6Arvsc",label:o.intl.string(o.t["9kly4e"]),channels:[{id:"00",parent_id:null,name:o.intl.string(o.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:o.intl.string(o.t.yZCzMT),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:o.intl.string(o.t.Qi0D7e),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:o.intl.string(o.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:o.intl.string(o.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:o.intl.string(o.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:o.intl.string(o.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:o.intl.string(o.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:o.intl.string(o.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:o.intl.formatToPlainString(o.t.LuNsNT,{number:1}),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:o.intl.formatToPlainString(o.t.LuNsNT,{number:2}),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_DORM:{id:"HUB_DORM",code:"fkq8xHfrGE58",label:o.intl.string(o.t["ppGw/P"]),channels:[{id:"00",parent_id:null,name:o.intl.string(o.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:o.intl.string(o.t["b2+FCQ"]),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:o.intl.string(o.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:o.intl.string(o.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:o.intl.string(o.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:o.intl.string(o.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:o.intl.string(o.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:o.intl.string(o.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:o.intl.string(o.t.g3qPRk),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:o.intl.string(o.t.CLWKNj),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"}}}},916069:function(t,e,n){n.d(e,{Z:()=>a});var i=n(442837),l=n(914010),r=n(981631);function a(){return(0,i.e7)([l.Z],()=>l.Z.getGuildId())===r.I_8}},951206:function(t,e,n){n.d(e,{F:()=>o});var i=n(512722),l=n.n(i),r=n(846027),a=n(287734),d=n(131951),s=n(254238),u=n(893387);function o(t,e){var n;let i=null!==(n=t.sessionId)&&void 0!==n?n:"";(0,s._)(i),(0,s.s6)();let o=null!=e?e:t.channelId;l()(null!=o,"attempted to transfer to unknown channel"),t.selfMute!==d.Z.isSelfMute()&&r.Z.toggleSelfMute(),t.selfDeaf!==d.Z.isSelfDeaf()&&r.Z.toggleSelfDeaf(),(0,u.Z)(o,"discord_client",i),a.default.selectVoiceChannel(o,!1)}},446226:function(t,e,n){n.d(e,{Z:()=>d});var i=n(442837),l=n(314897),r=n(979651),a=n(258609);function d(){return(0,i.e7)([l.default,r.Z,a.Z],()=>{var t;let e=l.default.getId(),n=a.Z.getRemoteSessionId();return null!==(t=r.Z.getVoiceStateForSession(e,n))&&void 0!==t?t:void 0},[])}},937393:function(t,e,n){n.d(e,{Z:()=>d});var i=n(442837),l=n(553795),r=n(823379),a=n(981631);function d(){return(0,i.Wu)([l.Z],()=>[l.Z.getAccount(null,a.ABu.XBOX),l.Z.getAccount(null,a.ABu.PLAYSTATION),l.Z.getAccount(null,a.ABu.PLAYSTATION_STAGING)].filter(r.lm))}},721351:function(t,e,n){n.d(e,{Z:()=>d});var i=n(481060),l=n(374129),r=n(639351),a=n(927923);function d(t){return null!=t?(0,i.GSL)(t===a.YE.XBOX?r.Z:l.Z):i.U5H}},420529:function(t,e,n){n.d(e,{Z:()=>T});var i=n(200651);n(192379);var l=n(399606),r=n(481060),a=n(231757),d=n(397639),s=n(19780),u=n(979651),o=n(951206),_=n(446226),c=n(937393),E=n(721351),g=n(981631),I=n(388032);function T(t){let e=(0,l.e7)([s.Z],()=>s.Z.getChannelId()===t.id),T=(0,_.Z)(),p=(null==T?void 0:T.channelId)===t.id,C=(0,d.V)(t)&&!t.isPrivate(),m=(0,d.Z)(t),N=!(0,l.e7)([u.Z],()=>u.Z.isInChannel(t.id))&&m||C,L=(0,c.Z)();if(!p&&0===L.length)return null;let S=e=>{if(!e.twoWayLink||e.revoked){(0,a.Z)({platformType:e.type,location:"Console Transfer Item"});return}e.type===g.ABu.XBOX?(0,r.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("62729"),n.e("522")]).then(n.bind(n,200623));return n=>(0,i.jsx)(e,{...n,channel:t})}):(e.type===g.ABu.PLAYSTATION||e.type===g.ABu.PLAYSTATION_STAGING)&&(0,r.ZDy)(async()=>{let{default:l}=await n.e("638").then(n.bind(n,543974));return n=>(0,i.jsx)(l,{...n,platform:e.type,channel:t})})};return(0,i.jsx)(i.Fragment,{children:p?(0,i.jsx)(r.sNh,{label:I.intl.string(I.t.PlwgdX),id:"handoff",action:()=>{(0,o.F)(T)},icon:(0,E.Z)(void 0),disabled:N}):L.map(t=>{var n,l;return(0,i.jsx)(r.sNh,{id:"transfer-".concat(t.type,"-").concat(t.id),label:(n=t.type,l=e,n===g.ABu.XBOX?l?I.intl.string(I.t["f+Aijo"]):I.intl.string(I.t.E8euSk):n===g.ABu.PLAYSTATION?l?I.intl.string(I.t.vzfxmZ):I.intl.string(I.t.QxEYDg):n===g.ABu.PLAYSTATION_STAGING?l?I.intl.string(I.t.BDiXtb):I.intl.string(I.t["bhdB9/"]):void 0),action:()=>S(t),icon:(0,E.Z)(t.type),disabled:N},t.id)})})}},658041:function(t,e,n){n.d(e,{M:()=>d});var i=n(913527),l=n.n(i),r=n(709054),a=n(765305);function d(t,e,n,i){let d=l()(),s=new Date(t.scheduled_start_time).getTime(),u={start:s-a.VF,end:s};if(d.isBetween(u.start,u.end)){if(null!=e){let t=l()(e),n=t.isBetween(u.start,u.end),r=t.isBetween(l()(s).subtract(a.zV,"days"),s);return n||r&&!i?void 0:a.X_.EVENT_STARTING_SOON}return a.X_.EVENT_STARTING_SOON}let o=r.default.extractTimestamp(t.id),_=Math.min((null!=n?n:o)+a.Fc,s);if(d.isBetween(o,_)&&null==e&&!i)return a.X_.NEW_EVENT}},835184:function(t,e,n){n.d(e,{Z:()=>I});var i,l=n(442837),r=n(570140),a=n(314897),d=n(924301),s=n(658041),u=n(765305);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let _={},c={};function E(t){let e={..._};delete e[t],_=e;let n={...c};delete n[t],c=n}class g extends(i=l.ZP.PersistedStore){initialize(t){if(null!=t){var e,n;_=null!==(e=t.upcomingEventDismissals)&&void 0!==e?e:{},c=null!==(n=t.upcomingEventSeenTimestamps)&&void 0!==n?n:{}}}getGuildEventNoticeDismissalTime(t){return _[t]}getAllEventDismissals(){return _}getUpcomingNoticeSeenTime(t){return c[t]}getAllUpcomingNoticeSeenTimes(){return c}getState(){return{upcomingEventDismissals:_,upcomingEventSeenTimestamps:c}}}o(g,"displayName","UpcomingEventNoticesStore"),o(g,"persistKey","UpcomingEventNotices");let I=new g(r.Z,{UPCOMING_GUILD_EVENT_NOTICE_HIDE:function(t){let{eventId:e}=t,n={..._};n[e]=Date.now(),_=n},GUILD_SCHEDULED_EVENT_UPDATE:function(t){let{guildScheduledEvent:e}=t;(e.status===u.p1.CANCELED||e.status===u.p1.COMPLETED)&&E(e.id)},GUILD_SCHEDULED_EVENT_DELETE:function(t){let{guildScheduledEvent:e}=t;E(e.id)},GUILD_SCHEDULED_EVENT_USER_ADD:function(t){let{userId:e,guildEventId:n}=t;if(e!==a.default.getId())return;let i=d.ZP.getGuildScheduledEvent(n);if(null==i||i.status!==u.p1.SCHEDULED||null!=_[n])return;let l=c[n];if((0,s.M)(i,void 0,l,!1)===u.X_.NEW_EVENT){let t={..._};t[n]=Date.now(),_=t}},UPCOMING_GUILD_EVENT_NOTICE_SEEN:function(t){let{guildEventId:e}=t,n={...c};n[e]=Date.now(),c=n}})},554747:function(t,e,n){n.d(e,{Vm:()=>f,ZP:()=>L,eF:()=>Z,gM:()=>U,k5:()=>D,qY:()=>S,sz:()=>G,u1:()=>A}),n(47120),n(724458);var i=n(192379),l=n(442837),r=n(241155),a=n(592125),d=n(984933),s=n(430824),u=n(496675),o=n(70956),_=n(823379),c=n(924301),E=n(658041),g=n(835184),I=n(79874),T=n(854698),p=n(765305),C=n(981631);let m=[],N=15*o.Z.Millis.MINUTE;function L(t,e){return(0,l.Wu)([s.Z,r.Z,c.ZP,u.Z,a.Z,d.ZP],()=>{let n=s.Z.getGuild(t);if(null==n)return m;if(n.hasFeature(C.oNc.HUB)){var i,l;let t=null===(i=d.ZP.getDefaultChannel(n.id))||void 0===i?void 0:i.id;return(null!==(l=r.Z.getEventDirectoryEntries(t))&&void 0!==l?l:[]).map(t=>{let e=t.scheduledEventId,n=c.ZP.getGuildScheduledEvent(e);return null!=n?n:r.Z.getCachedGuildScheduledEventById(e)}).filter(_.lm)}return c.ZP.getGuildScheduledEventsByIndex(null!=e?e:c.bN.GUILD_EVENT_UPCOMING(n.id)).filter(t=>{let e=t.channel_id;if(null==e)return!0;let n=a.Z.getChannel(e);return u.Z.can(C.Plq.VIEW_CHANNEL,n)})},[e,t])}function S(t){return(0,l.e7)([c.ZP,a.Z,u.Z],()=>{let e=a.Z.getChannel(t);if(!u.Z.can(C.Plq.VIEW_CHANNEL,e)||null==(null==e?void 0:e.guild_id))return null;let n=c.ZP.getGuildScheduledEventsByIndex(c.bN.CHANNEL_EVENT_ACTIVE(t));return n.length>0?n[0]:null},[t])}function U(t){let e=(0,l.Wu)([c.ZP],()=>c.ZP.getGuildScheduledEventsForGuild(t),[t]);return i.useMemo(()=>{let t=new Map;return e.forEach(e=>{let n=e.channel_id;null!=n&&t.set(n,e)}),t},[e])}function f(t){var e;let n=(0,l.Wu)([c.ZP,a.Z,u.Z],()=>c.ZP.getGuildScheduledEventsByIndex(c.bN.GUILD_EVENT_UPCOMING(t)).filter(t=>{if(t.entity_type===p.WX.NONE||t.status!==p.p1.SCHEDULED)return!1;if(null==t.channel_id)return!0;let e=a.Z.getChannel(t.channel_id);return u.Z.can(C.Plq.VIEW_CHANNEL,e)}),[t]),i=(0,l.cj)([g.Z],()=>g.Z.getAllEventDismissals()),r=(0,l.cj)([g.Z],()=>g.Z.getAllUpcomingNoticeSeenTimes()),d=(0,l.cj)([c.ZP],()=>null==n?{}:n.reduce((t,e)=>{let n=(0,T.DK)(e);return{...t,[e.id]:c.ZP.isInterestedInEventRecurrence(e.id,n)}},{}),[n]),o=(0,l.e7)([s.Z],()=>s.Z.getGuild(t)),_=null!=o&&!o.hasFeature(C.oNc.COMMUNITY)&&o.hasFeature(C.oNc.INTERNAL_EMPLOYEE_ONLY);if(null!=n&&null!=d&&_)for(let t=0;t<n.length;t++){let l=n[t],a=i[l.id],s=r[l.id],u=null!==(e=d[l.id])&&void 0!==e&&e,o=(0,E.M)(l,a,s,u);if(null!=o)return{upcomingEvent:l,noticeType:o}}}function D(t){return(0,l.e7)([c.ZP,a.Z,u.Z],()=>c.ZP.getGuildScheduledEventsByIndex(c.bN.GUILD_EVENT_ACTIVE(t)).find(t=>{if(t.entity_type===p.WX.NONE||!(0,c.xt)(t))return!1;if(null==t.channel_id)return!0;let e=a.Z.getChannel(t.channel_id);return u.Z.can(C.Plq.VIEW_CHANNEL,e)}),[t])}function A(t){return(0,l.e7)([c.ZP],()=>c.ZP.getGuildScheduledEventsByIndex(c.bN.CHANNEL_EVENT_UPCOMING(t)),[t])}function Z(t){return(0,l.e7)([a.Z,c.ZP],()=>{let e=c.ZP.getGuildScheduledEventsByIndex(c.bN.GUILD_EVENT_ACTIVE(t)).find(t=>null!=a.Z.getChannel(t.channel_id));return a.Z.getChannel(null==e?void 0:e.channel_id)},[t])}function G(t){let[e,n]=i.useState(()=>Date.now());i.useEffect(()=>{let t=setInterval(()=>{n(Date.now())},N);return()=>clearInterval(t)},[]);let r=(0,l.e7)([c.ZP],()=>null==t?[]:c.ZP.getGuildScheduledEventsByIndex(c.bN.CHANNEL_EVENT_UPCOMING(t)),[t,e]);return i.useMemo(()=>r.filter(t=>{let{startTime:e,endTime:n}=(0,I.Kq)(t),{withinStartWindow:i,diffMinutes:l}=(0,T.ub)(e.toISOString(),null==n?void 0:n.toISOString());return t.status!==p.p1.ACTIVE&&i&&l<15}),[r])}},423589:function(t,e,n){n.d(e,{Mn:()=>T,OD:()=>I,W9:()=>E}),n(47120),n(789020);var i=n(442837),l=n(798140),r=n(9156),a=n(630388),d=n(709054),s=n(312400),u=n(981631),o=n(969943),_=n(526761),c=n(388032);function E(){return[{label:c.intl.string(c.t["8ot6go"]),value:o.Oe.MINUTES_15},{label:c.intl.string(c.t.UMWBZm),value:o.Oe.HOURS_1},{label:c.intl.string(c.t.QmYWtr),value:o.Oe.HOURS_3},{label:c.intl.string(c.t.EpAXPD),value:o.Oe.HOURS_8},{label:c.intl.string(c.t["755t4u"]),value:o.Oe.HOURS_24},{label:c.intl.string(c.t.r3LawM),value:o.Oe.ALWAYS}]}let g={ignoreMute:!1,ignoreUnreadSetting:!0,ignoreNotificationSetting:!1};function I(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return d.default.keys(t).filter(n=>{var i,r;let d=t[n].message_notifications!==u.bL.NULL,s=a.yE(null!==(i=t[n].flags)&&void 0!==i?i:0,_.ic.UNREADS_ALL_MESSAGES)||a.yE(null!==(r=t[n].flags)&&void 0!==r?r:0,_.ic.UNREADS_ONLY_MENTIONS);return!e.ignoreUnreadSetting&&s||!e.ignoreNotificationSetting&&d||!e.ignoreMute&&(0,l.m$)(t[n])})}function T(t){let e=(0,i.e7)([r.ZP],()=>r.ZP.useNewNotifications);return s.xT.useExperiment({location:t},{autoTrackExposure:!1}).enabled&&e}},397639:function(t,e,n){n.d(e,{V:()=>u,Z:()=>o});var i=n(442837),l=n(430824),r=n(496675),a=n(979651),d=n(934415),s=n(231338);function u(t){return(0,i.e7)([r.Z],()=>null==t||!r.Z.can(s.Pl.CONNECT,t),[t])}function o(t){return(0,i.e7)([a.Z,l.Z],()=>(0,d.rY)(t,a.Z,l.Z))}}}]);
//# sourceMappingURL=4e6a45380ae7817c.js.map