"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["94458"],{442937:function(e){e.exports="/assets/69dfde4e789cf683.png"},485267:function(e,t,n){n.d(t,{Bt:()=>u,Jn:()=>d,lY:()=>c});var l=n(570140);n(100527),n(592125);var a=n(944486),i=n(914010);n(594174);var r=n(626135),o=n(71585);n(295955);var s=n(981631);let c=()=>{l.Z.dispatch({type:"CONTENT_INVENTORY_TOGGLE_FEED_HIDDEN"}),r.default.track(s.rMx.MEMBERLIST_CONTENT_FEED_HIDDEN,{channel_id:a.Z.getChannelId(),guild_id:i.Z.getGuildId(),hidden:o.Z.hidden})};function d(){l.Z.dispatch({type:"GAME_PROFILE_OPEN"})}function u(){l.Z.dispatch({type:"CONTENT_INVENTORY_CLEAR_DELETE_HISTORY_ERROR"})}},295955:function(){},907152:function(e,t,n){n.d(t,{C4:()=>C}),n(653041),n(627494),n(757143),n(512722);var l=n(913527),a=n.n(l),i=n(705512);n(812206);var r=n(55e3);n(220082);var o=n(693824),s=n(690725);n(706454),n(594174);var c=n(70956);n(5192);var d=n(709054),u=n(561308);n(206295);var m=n(737583),x=n(169040),h=n(388032);let p=(e,t)=>({AvatarImage1:e[0],...null!=e[1]&&{AvatarImage2:e[1]},...null!=e[2]&&{AvatarImage3:e[2]},...null!=t&&{ApplicationImage:t}}),g=(e,t)=>{let n=[{iconPath:x.NM,text:t}],l=d.default.extractTimestamp(e.extra.application_id);if(7>=a()().diff(a()(l),"days")&&n.push({iconPath:x.As,text:h.intl.string(h.t.vYuyWV)}),(0,u.Ol)(e)&&n.push({iconPath:x.fO,text:h.intl.string(h.t.keY6mZ)}),(0,u.q_)(e)){let t=(0,u.vU)(e);n.push({iconPath:x.t1,text:h.intl.formatToPlainString(h.t["Klie/P"],{days:t})})}(0,u.ig)(e)===i.o.GLOBAL&&n.push({iconPath:x.Op,text:h.intl.string(h.t.kAlUs7)});let r=(0,u.dw)(e);if(null!=r&&n.push({iconPath:x.Z,text:(0,u.GE)(r)}),(0,u.V5)(e)){let{text:t}=(0,u.zo)(e);null!=t&&n.push({iconPath:x.Md,text:t})}if((0,u.Jd)(e)){let t=(0,u.yA)(e);if(null!=t){let e=h.intl.formatToPlainString(h.t.C0Axoa,{hours:Math.round(t/c.Z.Seconds.HOUR)});return[{iconPath:x.eF,text:"".concat(h.intl.string(h.t["/50eHh"])," — ").concat(e)}]}}return n},v=(e,t)=>{let{timestamp:n,colors:l,description:a,entry:i,numAvatars:s}=t,c=l.map((e,t)=>({color:e,stop:t}));e.setSize({w:x.nx,h:x.bg},4),e.drawRoundedGradientRect(c,{x:0,y:x.bg},{x:x.nx,y:0},{x:0,y:0,h:x.bg,w:x.nx},8),e.setColor("white"),e.drawRoundedImage("ApplicationImage",{x:x.sB,y:x.sB},{w:x.Pu,h:x.Pu},8)===o.vP.Failure&&e.drawPath(r.Cv,{x:x.sB,y:x.sB},!0,2+2/3),(0,m.l)({canvas:e,avatarSrcs:["AvatarImage1","AvatarImage2","AvatarImage3"].slice(0,s),position:{x:x.Iq,y:x.sB},avatarImageSize:x.$S}),e.setColor("white"),e.setFont({size:16,family:x.I8,weight:x.Ue,truncate:o.GX.Wrap}),e.drawText(a,{x:x.Iq,y:64,h:32,w:x.kC},!0);let d=g(i,n);(0,m.J)({canvas:e,badges:d,startPosition:x.Iq,maxWidth:x.kC})},C=async e=>{let{applicationImageSrc:t,entry:n,avatarSrcs:l,description:a,timestamp:i,colors:r,channelId:c}=e,d=n.extra.activity_name,u=p(l,t);return await (0,s.f)({assetsToLoad:u,drawImage:e=>v(e,{timestamp:i,colors:r,description:a,entry:n,numAvatars:l.length}),exportConfigs:{format:o.kH.CloudUpload,quality:1,fileName:"user-reacting-to-".concat(d,".png").toLowerCase(),fileType:"png",channelId:c}})}},919394:function(e,t,n){n.d(t,{SO:()=>C}),n(653041),n(512722);var l=n(913527),a=n.n(l),i=n(705512);n(812206);var r=n(55e3);n(220082);var o=n(693824),s=n(690725);n(706454),n(594174);var c=n(70956),d=n(709054),u=n(561308);n(206295);var m=n(737583);n(438226);var x=n(169040),h=n(388032);let p=(e,t)=>({AvatarImage1:e[0],...null!=e[1]&&{AvatarImage2:e[1]},...null!=e[2]&&{AvatarImage3:e[2]},...null!=t&&{ApplicationImage:t}}),g=(e,t)=>{let n=[{iconPath:x.NM,text:t}],l=d.default.extractTimestamp(e.extra.application_id);if(7>=a()().diff(a()(l),"days")&&n.push({iconPath:x.As,text:h.intl.string(h.t.vYuyWV)}),(0,u.Ol)(e)&&n.push({iconPath:x.fO,text:h.intl.string(h.t.keY6mZ)}),(0,u.q_)(e)){let t=(0,u.vU)(e);n.push({iconPath:x.t1,text:h.intl.formatToPlainString(h.t["Klie/P"],{days:t})})}(0,u.ig)(e)===i.o.GLOBAL&&n.push({iconPath:x.Op,text:h.intl.string(h.t.kAlUs7)});let r=(0,u.dw)(e);if(null!=r&&n.push({iconPath:x.Z,text:(0,u.GE)(r)}),(0,u.V5)(e)){let{text:t}=(0,u.zo)(e);null!=t&&n.push({iconPath:x.Md,text:t})}if((0,u.Jd)(e)){let t=(0,u.yA)(e);if(null!=t){let e=h.intl.formatToPlainString(h.t.C0Axoa,{hours:Math.round(t/c.Z.Seconds.HOUR)});return[{iconPath:x.eF,text:"".concat(h.intl.string(h.t["/50eHh"])," — ").concat(e)}]}}return n},v=(e,t)=>{let{timestamp:n,colors:l,description:a,entry:i,numAvatars:s}=t,c=l.map((e,t)=>({color:e,stop:t}));e.setSize({w:x.nx,h:x.bg},4),e.drawRoundedGradientRect(c,{x:0,y:x.bg},{x:x.nx,y:0},{x:0,y:0,h:x.bg,w:x.nx},8),e.setColor("white"),e.drawRoundedImage("ApplicationImage",{x:x.sB,y:x.sB},{w:x.Pu,h:x.Pu},8)===o.vP.Failure&&e.drawPath(r.Cv,{x:x.sB,y:x.sB},!0,2+2/3),(0,m.l)({canvas:e,avatarSrcs:["AvatarImage1","AvatarImage2","AvatarImage3"].slice(0,s),position:{x:x.Iq,y:x.sB},avatarImageSize:x.$S}),e.setColor("white"),e.setFont({size:16,family:x.I8,weight:x.Ue,truncate:o.GX.Wrap}),e.drawText(a,{x:x.Iq,y:64,h:32,w:x.kC},!0);let d=g(i,n);(0,m.J)({canvas:e,badges:d,startPosition:x.Iq,maxWidth:x.kC})},C=async e=>{let{applicationImageSrc:t,entry:n,avatarSrcs:l,description:a,timestamp:i,colors:r,channelId:c}=e,d=n.extra.game_name,u=p(l,t);return await (0,s.f)({assetsToLoad:u,drawImage:e=>v(e,{timestamp:i,colors:r,description:a,entry:n,numAvatars:l.length}),exportConfigs:{format:o.kH.CloudUpload,quality:1,fileName:"user-reacting-to-".concat(d,".png").toLowerCase(),fileType:"png",channelId:c}})}},169040:function(e,t,n){n.d(t,{$S:()=>C,As:()=>x,I8:()=>Z,Iq:()=>j,Md:()=>s,NC:()=>N,NM:()=>l,Op:()=>m,PW:()=>y,Pu:()=>v,Ue:()=>T,Z:()=>d,bg:()=>p,eF:()=>c,f0:()=>f,fO:()=>a,fj:()=>o,i6:()=>i,kC:()=>I,m2:()=>P,mb:()=>r,nx:()=>h,sB:()=>g,t1:()=>u});let l="M20.97 4.06c0 .18.08.35.24.43.55.28.9.82 1.04 1.42.3 1.24.75 3.7.75 7.09v4.91a3.09 3.09 0 0 1-5.85 1.38l-1.76-3.51a1.09 1.09 0 0 0-1.23-.55c-.57.13-1.36.27-2.16.27s-1.6-.14-2.16-.27c-.49-.11-1 .1-1.23.55l-1.76 3.51A3.09 3.09 0 0 1 1 17.91V13c0-3.38.46-5.85.75-7.1.15-.6.49-1.13 1.04-1.4a.47.47 0 0 0 .24-.44c0-.7.48-1.32 1.2-1.47l2.93-.62c.5-.1 1 .06 1.36.4.35.34.78.71 1.28.68a42.4 42.4 0 0 1 4.4 0c.5.03.93-.34 1.28-.69.35-.33.86-.5 1.36-.39l2.94.62c.7.15 1.19.78 1.19 1.47ZM20 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM15.5 12a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 7a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2H7v1a1 1 0 1 1-2 0v-1H4a1 1 0 1 1 0-2h1V7Z",a="M11.33 13.68c.41.27.93.27 1.34 0 1.73-1.1 6.2-4.3 6.2-8.02 0-2.02-1.6-3.66-3.59-3.66-1.46 0-2.42.58-3.28 1.44A4.33 4.33 0 0 0 8.72 2a3.63 3.63 0 0 0-3.6 3.66c0 3.72 4.48 6.92 6.2 8.02Z M3.93 13.84a.94.94 0 0 0-.93.94 5.6 5.6 0 0 0 6.48 5.6l1.02-.18v1.27c0 .85.67 1.53 1.5 1.53s1.5-.68 1.5-1.53V20.2l1.02.17A5.6 5.6 0 0 0 21 14.78a.94.94 0 0 0-.93-.94h-2.24a5.6 5.6 0 0 0-4.89 2.9L12 18.41l-.94-1.69a5.6 5.6 0 0 0-4.89-2.9H3.93Z",i="M 4 1 C 2.3431 1 1 2.3431 1 4 V 13 C 1 14.6569 2.3431 16 4 16 H 20 C 21.6568 16 23 14.6569 23 13 V 4 C 23 2.3431 21.6568 1 20 1 H 4 Z M 6 18 C 5.4477 18 5 18.4477 5 19 C 5 19.5523 5.4477 20 6 20 H 18 C 18.5523 20 19 19.5523 19 19 C 19 18.4477 18.5523 18 18 18 H 6 Z",r="M18.03 2.8a11 11 0 1 0 2.52 2.28c-.28-.34-.8-.13-.8.31v7.37c0 1-.4 1.95-1.1 2.65l-.78.78a.6.6 0 0 0-.14.53c.08.53-.08 1.1-.5 1.52l-1 1a1.75 1.75 0 1 1-2.47-2.48l1-1c.42-.41.99-.57 1.52-.49.2.03.4 0 .53-.14l.78-.78c.42-.42.66-1 .66-1.6V3.22a.49.49 0 0 0-.22-.41ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-7-2a1 1 0 0 0 1-1 6 6 0 0 1 6-6 1 1 0 1 0 0-2 8 8 0 0 0-8 8 1 1 0 0 0 1 1Z",o="M3.11 8H6v10.82c0 .86.37 1.68 1 2.27.46.43 1.02.71 1.63.84A1 1 0 0 0 9 22h10a4 4 0 0 0 4-4v-1a2 2 0 0 0-2-2h-1V5a3 3 0 0 0-3-3H4.67c-.87 0-1.7.32-2.34.9-.63.6-1 1.42-1 2.28 0 .71.3 1.35.52 1.75a5.35 5.35 0 0 0 .48.7l.01.01h.01L3.11 7l-.76.65a1 1 0 0 0 .76.35Zm1.56-4c-.38 0-.72.14-.97.37-.24.23-.37.52-.37.81a1.69 1.69 0 0 0 .3.82H6v-.83c0-.29-.13-.58-.37-.8C5.4 4.14 5.04 4 4.67 4Zm5 13a3.58 3.58 0 0 1 0 3H19a2 2 0 0 0 2-2v-1H9.66ZM3.86 6.35ZM11 8a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2h-5Zm-1 5a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1Z",s="M12 22a9 9 0 0 0 7.03-14.62l.68-.67a1 1 0 0 0-1.42-1.42l-.67.68A8.96 8.96 0 0 0 13 4.05V3h2a1 1 0 1 0 0-2H9a1 1 0 0 0 0 2h2v1.05c-1.74.2-3.32.88-4.62 1.92l-.67-.68a1 1 0 0 0-1.42 1.42l.68.67A9 9 0 0 0 12 22Zm3.7-11.3a1 1 0 0 0-1.4-1.4l-3 3a1 1 0 0 0 1.4 1.4l3-3Z",c="M8 20a1 1 0 0 0-1 1v.5c0 .28.22.5.5.5h9a.5.5 0 0 0 .5-.5V21a1 1 0 0 0-1-1h-1a2 2 0 0 1-2-2v-.48c0-.95.7-1.73 1.5-2.23a5.7 5.7 0 0 0 1.23-1.08l2.3-.7A7 7 0 0 0 23 6.81V6a2 2 0 0 0-2-2h-2.24A2.85 2.85 0 0 0 16 2H8c-1.3 0-2.43.84-2.76 2H3a2 2 0 0 0-2 2v.82a7 7 0 0 0 4.96 6.7l2.31.7c.37.42.79.78 1.24 1.07.8.5 1.49 1.28 1.49 2.23V18a2 2 0 0 1-2 2H8Zm9.29-8.35.17-.05A5 5 0 0 0 21 6.82V6h-2.27a21.75 21.75 0 0 1-1.44 5.65Zm-10.58 0-.17-.05A5 5 0 0 1 3 6.82V6h2.27c.25 1.94.7 3.95 1.44 5.65Z",d="M4 12a8 8 0 0 1 14.93-4H15a1 1 0 1 0 0 2h6a1 1 0 0 0 1-1V3a1 1 0 1 0-2 0v3a9.98 9.98 0 0 0-18 6 10 10 0 0 0 16.29 7.78 1 1 0 0 0-1.26-1.56A8 8 0 0 1 4 12Z",u="M7.65 21.75a1 1 0 0 0 1.64.96l11.24-9.96a1 1 0 0 0-.66-1.75h-4.81a.5.5 0 0 1-.5-.6l1.79-8.15a1 1 0 0 0-1.64-.96L3.47 11.25A1 1 0 0 0 4.13 13h4.81c.32 0 .56.3.5.6l-1.79 8.15Z",m="M3 14a9 9 0 1 0 18 0c0-2.63-.61-5.22-1.79-7.58L18.2 4.38a.7.7 0 0 0-1.3.18l-.78 3.9a.66.66 0 0 1-1.27.11L12.22 1.6a.9.9 0 0 0-1.48-.33l-4.2 4.2A12.07 12.07 0 0 0 3 14Zm9.26-.84a.57.57 0 0 0-1-.23L9.6 15a3.08 3.08 0 1 0 5.12.48c-.14-.26-.5-.28-.71-.06L13 16.5l-.74-3.34Z",x="M17.93 1.51a.74.74 0 0 0-1.41 0l-1.13 3.47h-3.65a.74.74 0 0 0-.43 1.35l2.95 2.14-1.13 3.47a.74.74 0 0 0 1.14.83l2.95-2.15 2.96 2.15a.74.74 0 0 0 1.14-.83l-1.13-3.47 2.95-2.14a.74.74 0 0 0-.43-1.35h-3.65l-1.13-3.47ZM10.7 14.7a1 1 0 0 0-1.4-1.4l-8 8a1 1 0 1 0 1.4 1.4l8-8ZM9.7 8.3a1 1 0 0 1 0 1.4l-6 6a1 1 0 0 1-1.4-1.4l6-6a1 1 0 0 1 1.4 0ZM15.7 15.7a1 1 0 0 0-1.4-1.4l-6 6a1 1 0 1 0 1.4 1.4l6-6Z",h=400,p=120,g=12,v=96,C=32,j=120,I=260,f=88,P=99,y=12,N=18,Z=["gg sans","sans-serif"],T=500},737583:function(e,t,n){n.d(t,{J:()=>i,l:()=>r}),n(47120);var l=n(693824),a=n(169040);function i(e){let t,{canvas:n,badges:i,startPosition:r,maxWidth:o}=e;for(let{iconPath:e,text:s}of(n.setFont({size:12,family:a.I8,weight:a.Ue,truncate:l.GX.None}),i)){let l=null!=t?t.w+t.x+a.PW:r,i=null!=t?t.w+t.x+a.PW+a.NC:r+a.NC;n.drawPath(e,{x:l,y:a.f0},!0,.6),t=n.drawText(s,{x:i,y:a.m2,w:o},!0)}}function r(e){let{canvas:t,avatarSrcs:n,position:{x:a,y:i},avatarImageSize:r}=e;for(let e=0;e<n.length;e++)e<n.length-1&&t.clipRoundedRect({x:a+(e+1)*(r-8)-2,y:i-1,w:r+2,h:r+2},r/2,!0),t.drawRoundedImage(n[e],{x:a+e*(r-8),y:i},{w:r,h:r},50,{fillMode:l.JU.Cover}),t.restoreContext()}},438226:function(e,t,n){n.d(t,{HV:()=>s,IS:()=>r,VY:()=>c}),n(627494),n(757143),n(201133);var l=n(5192),a=n(561308),i=n(388032);let r=(e,t)=>i.intl.formatToPlainString(i.t.tAwI1t,{username:t.username,activity:e.extra.game_name}),o=e=>{let t=(0,a.kr)(e);return(0,a.Ol)(e)?t?i.t.MHO1AQ:i.t.i7AOz8:t?i.t.lLPKY2:i.t["bES+y8"]},s=(e,t,n)=>{let a=o(e),r=l.ZP.getName(null==t?void 0:t.guild_id,null==t?void 0:t.id,n),s=e.extra.game_name;return i.intl.formatToMarkdownString(a,{gameName:s,userName:r}).replaceAll("*","")},c=e=>{let{entry:t,channel:n,users:r,countOthers:o}=e,s=(0,a.kr)(t)?i.t.QaUWPT:i.t["7j/5mp"];return i.intl.formatToMarkdownString(s,{gameName:t.extra.game_name,user1:l.ZP.getName(null==n?void 0:n.guild_id,null==n?void 0:n.id,r[0]),user2:l.ZP.getName(null==n?void 0:n.guild_id,null==n?void 0:n.id,r[1]),countOthers:o}).replaceAll("*","")}},319604:function(e,t,n){n.d(t,{CR:()=>h,UU:()=>m,jE:()=>u}),n(627494),n(757143);var l=n(884439),a=n(55e3),i=n(693824),r=n(690725),o=n(561308),s=n(737583),c=n(169040),d=n(388032);let u=e=>{let{timestamp:t}=e;return[{iconPath:c.mb,text:t}]},m=e=>{var t;let n=null===(t=(0,o.PJ)(e,l.N.AGGREGATE_COUNT))||void 0===t?void 0:t.count;return null==n?[]:[{iconPath:c.eF,text:d.intl.formatToPlainString(d.t.HtifnJ,{count:n})}]},x=e=>{let{avatarSrc:t,mediaImageSrc:n}=e;return{AvatarImage:t,...null!=n&&{MediaImage:n}}},h=async e=>{let{user:t,channel:n,mediaImageSrc:l,artist:o,description:d,colors:u,badges:m}=e,h=x({avatarSrc:t.getAvatarURL(n.guild_id,128),mediaImageSrc:l}),p=o.replaceAll(/[^a-zA-Z0-9 ]/g,"").replaceAll(" ","-");return await (0,r.f)({assetsToLoad:h,drawImage:e=>{var t,n,l;(function(e,t){let n=t.map((e,t)=>({color:e,stop:t}));e.setSize({w:c.nx,h:c.bg},4),e.drawRoundedGradientRect(n,{x:0,y:c.bg},{x:c.nx,y:0},{x:0,y:0,h:c.bg,w:c.nx},8)})(e,u),(t=e).drawRoundedImage("MediaImage",{x:c.sB,y:c.sB},{w:c.Pu,h:c.Pu},8,{fillMode:i.JU.Contain})===i.vP.Failure&&t.drawPath(a.Cv,{x:c.sB,y:c.sB},!0,2+2/3),function(e){e.drawRoundedImage("AvatarImage",{x:c.Iq,y:c.sB},{w:c.$S,h:c.$S},50)}(e),n=e,l=d,n.setColor("white"),n.setFont({size:16,family:c.I8,weight:c.Ue,truncate:i.GX.Wrap}),n.drawText(l,{x:c.Iq,y:64,h:32,w:c.kC},!0),(0,s.J)({canvas:e,badges:m,startPosition:c.Iq,maxWidth:c.kC})},exportConfigs:{format:i.kH.CloudUpload,quality:1,fileName:"user-reacting-to-".concat(p,".png").toLowerCase(),fileType:"png",channelId:n.id}})}},685270:function(e,t,n){n.d(t,{B:()=>d}),n(653041);var l=n(55e3),a=n(693824),i=n(690725),r=n(737583),o=n(169040);let s=(e,t,n)=>({AvatarImage:e,...null!=t&&{MediaImage:t},...null!=n&&{ApplicationImage:n}}),c=(e,t)=>{let n=[{iconPath:o.i6,text:e}];return null!=t&&n.push({iconPath:o.fj,text:t}),n},d=async e=>{let{mediaImageSrc:t,entry:n,avatarSrc:d,description:u,timestamp:m,episodeDescription:x,colors:h,channelId:p}=e,g=n.extra.media_title,v=s(d,t);return await (0,i.f)({assetsToLoad:v,drawImage:e=>{let t=h.map((e,t)=>({color:e,stop:t}));e.setSize({w:o.nx,h:o.bg},4),e.drawRoundedGradientRect(t,{x:0,y:o.bg},{x:o.nx,y:0},{x:0,y:0,h:o.bg,w:o.nx},8),e.setColor("white");let n=e.drawRoundedImage("MediaImage",{x:o.sB,y:o.sB},{w:o.Pu,h:o.Pu},8,{fillMode:a.JU.Contain});n===a.vP.Failure&&(n=e.drawRoundedImage("ApplicationImage",{x:o.sB,y:o.sB},{w:o.Pu,h:o.Pu},8)),n===a.vP.Failure&&e.drawPath(l.Cv,{x:o.sB,y:o.sB},!0,2+2/3),e.drawRoundedImage("AvatarImage",{x:o.Iq,y:o.sB},{w:o.$S,h:o.$S},50),e.setFont({size:16,family:o.I8,weight:o.Ue,truncate:a.GX.Wrap}),e.drawText(u,{x:o.Iq,y:64,h:32,w:o.kC},!0);let i=c(m,x);(0,r.J)({canvas:e,badges:i,startPosition:o.Iq,maxWidth:o.kC})},exportConfigs:{format:a.kH.CloudUpload,quality:1,fileName:"user-reacting-to-".concat(g,".png").toLowerCase(),fileType:"png",channelId:p}})}},31074:function(e,t,n){n.d(t,{Z:()=>o});var l=n(192379),a=n(442837),i=n(231757),r=n(553795);function o(e){let t=(0,a.e7)([r.Z],()=>r.Z.getAccounts().some(t=>t.type===e)),n=l.useCallback(()=>{if(null==e)return null;(0,i.Z)({platformType:e,location:"Member List Content Popout"})},[e]);if(null!=e)return t?void 0:n}},107062:function(e,t,n){n.d(t,{ZP:()=>_}),n(627494),n(757143);var l=n(200651),a=n(192379),i=n(442837),r=n(481060),o=n(620662),s=n(841784),c=n(429589),d=n(499254),u=n(827498),m=n(541716),x=n(706454),h=n(823379),p=n(5192),g=n(379357),v=n(192918),C=n(561308),j=n(907152),I=n(206295),f=n(297781),P=n(591853),y=n(797342),N=n(981631),Z=n(388032);let T=(e,t)=>Z.intl.formatToPlainString(Z.t.tAwI1t,{username:t.username,activity:e.extra.activity_name}),A=(e,t,n)=>{let l=Z.t["bES+y8"],a=p.ZP.getName(t.guild_id,t.id,n),i=e.extra.activity_name;return Z.intl.formatToMarkdownString(l,{gameName:i,userName:a}).replaceAll("*","")},E=e=>{let{entry:t,channel:n,users:l,countOthers:a}=e,i=Z.t["7j/5mp"];return Z.intl.formatToMarkdownString(i,{gameName:t.extra.activity_name,user1:p.ZP.getName(null==n?void 0:n.guild_id,null==n?void 0:n.id,l[0]),user2:p.ZP.getName(null==n?void 0:n.guild_id,null==n?void 0:n.id,l[1]),countOthers:a}).replaceAll("*","")},_=e=>{let{channel:t,entry:n,onReaction:p,onVoiceChannelPreview:_}=e,{largeImage:S}=(0,g.rv)({entry:n,showCoverImage:!1}),{user:R,details:k,activity:w,embeddedActivity:O}=(0,y.n)(n),{primaryColor:b,secondaryColor:M}=(0,I.Z)(null==S?void 0:S.src),L=(0,i.e7)([x.default],()=>x.default.locale),{displayParticipants:z,participant1:B,participant2:H,numOtherParticipants:U}=(0,v.Z)(n,3),D=()=>{d.__(u._b.TEXT,m.Ie.NORMAL,{applicationId:n.extra.application_id})},G=a.useCallback(e=>{if((null==S?void 0:S.src)==null||null==t||null==R)return;let l=U>0?E({entry:n,channel:t,users:[B,H],countOthers:U}):A(n,t,R);return(0,j.C4)({entry:n,applicationImageSrc:null==S?void 0:S.src,avatarSrcs:z.map(e=>e.getAvatarURL(t.guild_id,128)),description:l,timestamp:(0,C.yh)(n,L),colors:[b,M],channelId:e})},[null==S?void 0:S.src,t,z,n,L,U,B,H,b,M,R]);if(null==R)return null;let F=(0,l.jsx)(f.PZ,{location:f.Gt.POPOUT,entry:n}),V=(0,l.jsx)(P.wG,{channel:t,userDescription:(0,C.kr)(n)?Z.t.vPg1JS:Z.t.rPqqtr,title:n.extra.activity_name,subtitle:k,badges:F,entry:n,showCoverImage:!1,onClickTitle:D,onClickSubtitle:D,onClickThumbnail:D}),Y=(0,o.Z)(w,N.xjy.JOIN)||(0,s.Z)(w),q=Y?(0,l.jsx)(c.Z,{embeddedActivity:O,activity:w,user:R,ButtonComponent:e=>(0,l.jsx)(P.Ll,{IconComponent:r.YVR,...e})}):null,W=(0,l.jsx)(P.Ll,{onClick:D,IconComponent:r.jje,children:Z.intl.string(Z.t.GDWYR0)}),J=[Y?q:W].filter(h.lm);return(0,l.jsxs)(P.yR,{children:[V,(0,l.jsx)(P.St,{children:(0,l.jsx)(P.WT,{onReaction:p,onVoiceChannelPreview:_,user:R,channel:t,generateReactionImage:G,reactionImageAltText:T(n,R),entry:n,buttons:J})})]})}},178762:function(e,t,n){n.d(t,{Ir:()=>U,J:()=>H,YN:()=>M,ZP:()=>D,iZ:()=>L}),n(47120);var l=n(200651),a=n(192379),i=n(392711),r=n.n(i),o=n(91192),s=n(876215),c=n(442837),d=n(704215),u=n(481060),m=n(239091),x=n(607070),h=n(100527),p=n(605236),g=n(704041),v=n(475676),C=n(662594),j=n(594174),I=n(69259),f=n(370370),P=n(107062),y=n(91140),N=n(227172),Z=n(551228),T=n(678869),A=n(278399),E=n(886217),_=n(555672),S=n(644548),R=n(335326),k=n(268010),w=n(797342),O=n(206583),b=n(921944);let M=72;function L(e){return(null==e?void 0:e.type)===C.so.CONTENT_INVENTORY?M:0}let z=e=>{let{entry:t,...n}=e;switch(t.content_type){case s.s.PLAYED_GAME:return(0,l.jsx)(y.Z,{...n,entry:t});case s.s.WATCHED_MEDIA:return(0,l.jsx)(R.Z,{...n,entry:t});case s.s.TOP_GAME:return(0,l.jsx)(_.ZP,{...n,entry:t});case s.s.TOP_ARTIST:return(0,l.jsx)(A.ZP,{...n,entry:t});case s.s.LISTENED_SESSION:return(0,l.jsx)(Z.ZP,{...n,entry:t});case s.s.LAUNCHED_ACTIVITY:return(0,l.jsx)(f.Z,{...n,entry:t});case s.s.LEADERBOARD:return(0,l.jsx)(v.Z,{...n,entry:t});default:return null}},B=e=>{let{closePopout:t,...n}=e;return(0,l.jsx)(H,{onReaction:(e,l)=>{n.trackRankingItemInteraction(e,{destinationChannelId:l.id,destinationGuildId:l.guild_id}),t()},closePopout:t,onVoiceChannelPreview:e=>{n.trackRankingItemInteraction(O.xP.VOICE_CHANNEL_PREVIEWED,{destinationChannelId:e.id,destinationGuildId:e.guild_id})},...n})},H=e=>{let{entry:t,...n}=e;switch(t.content_type){case s.s.PLAYED_GAME:return(0,l.jsx)(N.Z,{...n,entry:t});case s.s.WATCHED_MEDIA:return(0,l.jsx)(k.Z,{...n,entry:t});case s.s.TOP_GAME:return(0,l.jsx)(S.Z,{...n,entry:t});case s.s.TOP_ARTIST:return(0,l.jsx)(E.Z,{...n,entry:t});case s.s.LISTENED_SESSION:return(0,l.jsx)(T.Z,{...n,entry:t});case s.s.LAUNCHED_ACTIVITY:return(0,l.jsx)(P.ZP,{...n,entry:t});case s.s.LEADERBOARD:var a;return(null===(a=n.channel)||void 0===a?void 0:a.guild_id)!=null?(0,l.jsx)(g.Z,{guildId:n.channel.guild_id,leaderboardId:t.extra.leaderboard_id,source:h.Z.MEMBER_LIST,trackRankingItemInteraction:n.trackRankingItemInteraction}):null;default:return null}},U=a.createContext(void 0),D=a.memo(e=>{var t;let{index:i,...h}=e,[g,v]=a.useState("default"),C=(0,o.JA)("".concat(i)),f=null===(t=j.default.getCurrentUser())||void 0===t?void 0:t.isStaff(),{isRich:P,appName:y}=(0,w.n)(h.entry),N=a.useMemo(()=>({entry:h.entry,channelId:h.channel.id,guildId:h.channel.guild_id,requestId:h.requestId,richPresenceName:P?y:void 0}),[y,h.channel.guild_id,h.channel.id,h.entry,h.requestId,P]),Z=a.useRef(!1),[T,A]=a.useState(!1),[E,_]=a.useState(!1),S=(0,c.e7)([x.Z],()=>x.Z.keyboardModeEnabled);a.useEffect(()=>{T&&S&&_(!0)},[T,S]);let R=a.useCallback(e=>{f&&(0,m.jW)(e,async()=>{let{default:e}=await n.e("153").then(n.bind(n,330150));return()=>(0,l.jsx)(e,{entry:h.entry,requestId:h.requestId})})},[h,f]),k=a.useCallback(()=>{v(String(Date.now()))},[]),M=a.useCallback(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,I.L)(e,{...N,...t})},[N]),L=a.useMemo(()=>r().throttle(e=>{(0,I.L)(O.xP.CARD_POPOUT_OPEN,e)},2e3,{leading:!0,trailing:!1}),[]),H=()=>{Z.current=!1,setTimeout(()=>{Z.current||(A(!1),_(S))},100)};return(0,l.jsx)("div",{onMouseEnter:()=>{h.entry.content_type!==s.s.LEADERBOARD||(0,p.un)(d.z.LEADERBOARD_NUX_COACHMARK)||(0,p.EW)(d.z.LEADERBOARD_NUX_COACHMARK,{dismissAction:b.L.SECONDARY}),Z.current=!0,setTimeout(()=>{Z.current&&A(!0),L(N)},100)},onMouseLeave:H,children:(0,l.jsx)(u.yRy,{renderPopout:e=>{let{closePopout:t}=e;return(0,l.jsx)(U.Provider,{value:H,children:(0,l.jsx)(B,{closePopout:t,updatePopoutPosition:k,trackRankingItemInteraction:M,...h})})},position:"left",shouldShow:T,positionKey:g,onRequestOpen:()=>L(N),onRequestClose:()=>{E&&H()},spacing:8,children:(e,t)=>{let{isShown:n}=t;return(0,l.jsx)(u.P3F,{...e,...C,focusProps:{offset:{top:4,bottom:4,left:4,right:4}},onClick:()=>{T||A(!0)},onContextMenu:R,children:(0,l.jsx)(z,{...h,selected:n,hovered:Z.current})})}})})})},227172:function(e,t,n){n.d(t,{Z:()=>w,v:()=>k});var l=n(200651),a=n(192379),i=n(758713),r=n(442837),o=n(481060),s=n(620662),c=n(841784),d=n(420660),u=n(429589),m=n(757182),x=n(706454),h=n(374129),p=n(639351),g=n(823379),v=n(379357),C=n(192918),j=n(22211),I=n(561308),f=n(919394),P=n(438226),y=n(31074),N=n(206295),Z=n(91140),T=n(297781),A=n(591853),E=n(410441),_=n(797342),S=n(981631),R=n(388032);let k={[i.z.DESKTOP]:null,[i.z.LINUX]:null,[i.z.MACOS]:null,[i.z.NINTENDO]:null,[i.z.IOS]:null,[i.z.ANDROID]:null,[i.z.XBOX]:p.Z,[i.z.PLAYSTATION]:h.Z},w=e=>{let{channel:t,entry:n,disableGameProfileLinks:h,onReaction:p,onVoiceChannelPreview:w,onUserPopoutClosed:O,trackRankingItemInteraction:b}=e,{largeImage:M}=(0,v.rv)({entry:n}),{user:L,details:z,appName:B,activity:H}=(0,_.n)(n),{primaryColor:U,secondaryColor:D}=(0,N.Z)(null==M?void 0:M.src),G=(0,r.e7)([x.default],()=>x.default.locale),{streamPreviewUrl:F,stream:V}=(0,j.Z)(n),{displayParticipants:Y,participant1:q,participant2:W,numOtherParticipants:J}=(0,C.Z)(n,3),X=n.extra.platform,K=null!=X?k[X]:null,$=X===i.z.XBOX?S.ABu.XBOX:X===i.z.PLAYSTATION?S.ABu.PLAYSTATION:void 0,Q=(0,y.Z)($),ee=a.useCallback(e=>{if((null==M?void 0:M.src)==null||null==t||null==L)return;let l=J>0?(0,P.VY)({entry:n,channel:t,users:[q,W],countOthers:J}):(0,P.HV)(n,t,L);return(0,f.SO)({entry:n,applicationImageSrc:null==M?void 0:M.src,avatarSrcs:Y.map(e=>e.getAvatarURL(t.guild_id,128)),description:l,timestamp:(0,I.yh)(n,G),colors:[U,D],channelId:e})},[null==M?void 0:M.src,t,Y,n,G,J,q,W,U,D,L]);if(null==L)return null;let et=(0,l.jsx)(T.Gk,{location:null==F?T.Gt.POPOUT:T.Gt.STREAMING_POPOUT,children:Z.W.map((e,t)=>(0,l.jsx)(e,{entry:n},t))}),en=null==V?(0,l.jsx)(A.wG,{channel:t,headerIcons:null==K?null:(0,l.jsx)(E.Z,{onClick:Q,Icon:K,"aria-label":R.intl.string(R.t.YR4cHB)}),userDescription:(0,I.kr)(n)?R.t.vPg1JS:R.t.rPqqtr,title:B,subtitle:z,badges:et,entry:n,disableGameProfileLinks:h,onUserPopoutClosed:O,trackRankingItemInteraction:b}):(0,l.jsx)(A.jL,{channel:t,title:n.extra.game_name,subtitle:z,badges:et,userDescription:R.t["6oWFUF"],entry:n,stream:V,onUserPopoutClosed:O,trackRankingItemInteraction:b}),el=[(0,s.Z)(H,S.xjy.JOIN)||(0,c.Z)(H)?(0,l.jsx)(u.Z,{activity:H,user:L,ButtonComponent:e=>(0,l.jsx)(A.Ll,{IconComponent:o.iWm,...e})}):null,(0,d.Z)(H)?(0,l.jsx)(m.Z,{activity:H,ButtonComponent:e=>(0,l.jsx)(A.Ll,{IconComponent:o.tEF,...e})}):null].filter(g.lm);return(0,l.jsxs)(A.yR,{children:[en,(0,l.jsx)(A.St,{children:(0,l.jsx)(A.WT,{onReaction:p,onVoiceChannelPreview:w,user:L,channel:t,generateReactionImage:ee,reactionImageAltText:(0,P.IS)(n,L),entry:n,buttons:el})})]})}},678869:function(e,t,n){n.d(t,{Z:()=>w}),n(627494),n(757143),n(653041);var l=n(200651),a=n(192379),i=n(423875),r=n(442837),o=n(902704),s=n(481060),c=n(952164),d=n(768419),u=n(424678),m=n(239470),x=n(894344),h=n(314897),p=n(908841),g=n(5192),v=n(379357),C=n(561308),j=n(319604),I=n(31074),f=n(206295),P=n(551228),y=n(591853),N=n(371991),Z=n(410441),T=n(981631),A=n(616922),E=n(388032),_=n(967437),S=n(687765);let R=(e,t,n)=>{let{artist:l,media:a}=e,i=E.t["6iNxrq"],r=g.ZP.getName(t.guild_id,t.id,n);return E.intl.formatToMarkdownString(i,{artist:l,userName:r,media:a}).replaceAll("*","")};function k(e){let{activity:t}=e,n=t.timestamps,{now:i}=(0,N.tS)(),{durationTimestamp:r,seekBarStyles:o}=a.useMemo(()=>{var e;let{start:n,end:l}=null!==(e=t.timestamps)&&void 0!==e?e:{};if(null==n||null==l)return{};let a=Math.min(l,i),r=l-n,o=Math.floor(Math.max(a-n,0)/r*100);return{seekBarStyles:{width:"".concat(o,"%")},durationTimestamp:(0,C.T_)({start:0},r)}},[t,i]);return null==o?null:(0,l.jsxs)("div",{className:_.listeningTimeline,children:[(0,l.jsx)(N.x3,{entry:n}),(0,l.jsx)("div",{className:_.seekBarContainer,children:(0,l.jsx)("div",{className:_.seekBarFill,style:o})}),(0,l.jsx)(s.Text,{className:_.timestamp,variant:"text-xs/normal",tabularNumbers:!0,color:void 0,children:r})]})}function w(e){var t;let n,g,N,{channel:_,entry:w,closePopout:O,onReaction:b,onVoiceChannelPreview:M}=e,{largeImage:L}=(0,v.rv)({entry:w}),{activity:z,currentEntry:B,artist:H,title:U,user:D}=(0,P.pi)(w),{primaryColor:G,secondaryColor:F}=(0,f.Z)(null==L?void 0:L.src),V=(0,I.Z)(T.ABu.SPOTIFY),Y=(0,r.e7)([d.Z,h.default],()=>(null==z?void 0:z.type)===T.IIU.LISTENING&&null!=D?(0,m.Z)(d.Z,h.default,D,z):void 0,[z,D],o.Z),q=a.useCallback(()=>{var e;if(null==_||null==D)return;let t=null===(e=z.timestamps)||void 0===e?void 0:e.start,n=(0,C.T_)(null!=t?{start:t}:w,Date.now());return(0,j.CR)({user:D,channel:_,mediaImageSrc:null==L?void 0:L.src,artist:H,description:R({artist:H,media:U},_,D),colors:[G,F],badges:(0,j.jE)({timestamp:n})})},[z,H,_,w,null==L?void 0:L.src,G,F,U,D]);if(null==z||null==B)return null;let W=H,J=[];B.media.provider===i.p.SPOTIFY&&(g=()=>{(0,c.aG)(z)},N=()=>{(0,c.Z5)(z,D.id)},n=()=>{var e;null!==(e=null==V?void 0:V())&&void 0!==e||(0,c.aG)(z)},W=(0,l.jsx)(u.Z,{artists:H,canOpen:null!=z.sync_id,linkClassName:S.popoutTextSecondary,onOpenSpotifyArtist:e=>{(0,c.d$)(z,D.id,e)}}),(null==Y?void 0:Y.syncDisabled)===!1&&J.push((0,l.jsx)(y.Ll,{onClick:()=>{(0,x.Z)(Y,A.kG.USER_ACTIVITY_SYNC),O()},IconComponent:s.iOO,children:E.intl.string(E.t.eU3inJ)},"listen-along")));let X=(0,l.jsx)(y.wG,{onClickThumbnail:N,channel:_,entry:w,headerIcons:B.media.provider===i.p.SPOTIFY?(0,l.jsx)(Z.Z,{onClick:n,"aria-label":E.intl.string(E.t.rRffNz),Icon:p.Z}):null,userDescription:(0,C.kr)(w)?E.t.Tzx5Dw:E.t.CcVI1d,title:U,onClickTitle:g,subtitle:W,badges:null,children:(null===(t=z.timestamps)||void 0===t?void 0:t.start)!=null&&(0,l.jsx)(k,{activity:z})});return(0,l.jsxs)(y.yR,{children:[X,(0,l.jsx)(y.St,{children:(0,l.jsx)(y.WT,{onReaction:b,onVoiceChannelPreview:M,user:D,channel:_,generateReactionImage:q,reactionImageAltText:E.intl.formatToPlainString(E.t.h2yWWV,{username:D.username,activity:H}),entry:w,buttons:J})})]})}},886217:function(e,t,n){n.d(t,{Z:()=>T}),n(627494),n(757143);var l=n(200651),a=n(192379),i=n(317261),r=n(423875),o=n(442837),s=n(18323),c=n(594174),d=n(908841),u=n(823379),m=n(5192),x=n(561308),h=n(319604),p=n(31074),g=n(206295),v=n(278399),C=n(297781),j=n(591853),I=n(410441),f=n(981631),P=n(616922),y=n(388032);let N=(e,t,n,l)=>{let a=function(e){if(e===i._.WEEK)return y.t.SjOZfn}(l),r=m.ZP.getName(t.guild_id,t.id,n),o=e.extra.artist.name;return y.intl.formatToMarkdownString(a,{artist:o,userName:r}).replaceAll("*","")},Z=(e,t)=>y.intl.formatToPlainString(y.t.Osmpr6,{username:t.username,artist:e.extra.artist.name}),T=e=>{let{channel:t,entry:n,onReaction:i,onVoiceChannelPreview:m}=e,{parent_title:T,provider:A,image_url:E}=n.extra.media,_=n.extra.artist.name,S=(0,o.e7)([c.default],()=>c.default.getUser(n.author_id)),{primaryColor:R,secondaryColor:k}=(0,g.Z)(E),w=(0,x.Nq)(n),O=a.useCallback(()=>{if(null==t||null==S||!(0,u.Hi)(w,v.y9))return;let e=N(n,t,S,w);return(0,h.CR)({user:S,channel:t,mediaImageSrc:E,artist:_,description:e,colors:[R,k],badges:(0,h.UU)(n)})},[E,_,t,n,R,w,k,S]),b=(0,p.Z)(f.ABu.SPOTIFY);if(null==S||!(0,u.Hi)(w,v.y9))return null;let M=()=>{let e=P.Hw.ALBUM,t=s.Z.isProtocolRegistered()?P.C7.PLAYER_OPEN(e,n.extra.media.external_parent_id):P.C7.WEB_OPEN(e,n.extra.media.external_parent_id);window.open(t)};return(0,l.jsxs)(j.yR,{children:[(0,l.jsx)(j.wG,{onClickTitle:M,onClickSubtitle:()=>{let e=P.Hw.ARTIST,t=s.Z.isProtocolRegistered()?P.C7.PLAYER_OPEN(e,n.extra.artist.external_id):P.C7.WEB_OPEN(e,n.extra.artist.external_id);window.open(t)},onClickThumbnail:M,channel:t,entry:n,headerIcons:A===r.p.SPOTIFY?(0,l.jsx)(I.Z,{onClick:b,Icon:d.Z,"aria-label":y.intl.string(y.t["0ZB/XF"])}):null,userDescription:y.t.CcVI1d,title:T,subtitle:_,badges:(0,l.jsx)(C.Gk,{location:C.Gt.POPOUT,children:v.Ho.map((e,t)=>(0,l.jsx)(e,{entry:n},t))})}),(0,l.jsx)(j.St,{children:(0,l.jsx)(j.WT,{onReaction:i,onVoiceChannelPreview:m,user:S,channel:t,generateReactionImage:O,reactionImageAltText:Z(n,S),entry:n})})]})}},644548:function(e,t,n){n.d(t,{Z:()=>f}),n(627494),n(757143);var l=n(200651),a=n(192379),i=n(317261),r=n(70956),o=n(5192),s=n(379357),c=n(561308),d=n(919394),u=n(206295),m=n(227172),x=n(555672),h=n(297781),p=n(591853),g=n(410441),v=n(797342),C=n(388032);let j=(e,t,n,l)=>{let a=function(e){if(e===i._.WEEK)return C.t["7TXfc3"]}(l),r=o.ZP.getName(t.guild_id,t.id,n),s=e.extra.game_name;return C.intl.formatToMarkdownString(a,{gameName:s,userName:r}).replaceAll("*","")},I=(e,t)=>C.intl.formatToPlainString(C.t.tAwI1t,{username:t.username,activity:e.extra.game_name}),f=e=>{let{channel:t,entry:n,disableGameProfileLinks:i,onReaction:o,onVoiceChannelPreview:f}=e,{largeImage:P}=(0,s.rv)({entry:n}),{user:y,details:N,appName:Z}=(0,v.n)(n),{primaryColor:T,secondaryColor:A}=(0,u.Z)(null==P?void 0:P.src),E=(0,c.yA)(n),_=(0,c.Nq)(n),S=a.useCallback(e=>{if(null!=t&&null!=y&&null!=E&&null!=_&&(0,x.qy)(_))return(0,d.SO)({entry:n,applicationImageSrc:null==P?void 0:P.src,avatarSrcs:[y.getAvatarURL(null==t?void 0:t.guild_id,128)],description:j(n,t,y,_),timestamp:C.intl.formatToPlainString(C.t.YL7UEx,{hours:Math.round(E/r.Z.Seconds.HOUR)}),colors:[T,A],channelId:e})},[null==P?void 0:P.src,t,E,n,T,_,A,y]);if(null==y||null==E||null==_||!(0,x.qy)(_))return null;let R=null!=n.extra.platform?m.v[n.extra.platform]:null;return(0,l.jsxs)(p.yR,{children:[(0,l.jsx)(p.wG,{channel:t,headerIcons:null==R?null:(0,l.jsx)(g.Z,{Icon:R,"aria-label":C.intl.string(C.t.YR4cHB)}),entry:n,userDescription:C.t.rPqqtr,title:Z,subtitle:N,badges:(0,l.jsx)(h.Gk,{location:h.Gt.POPOUT,children:x.Hs.map((e,t)=>(0,l.jsx)(e,{entry:n},t))}),disableGameProfileLinks:i}),(0,l.jsx)(p.St,{children:(0,l.jsx)(p.WT,{onReaction:o,onVoiceChannelPreview:f,user:y,channel:t,generateReactionImage:S,reactionImageAltText:I(n,y),entry:n})})]})}},268010:function(e,t,n){n.d(t,{Z:()=>Z}),n(627494),n(757143);var l=n(200651),a=n(192379),i=n(442837),r=n(481060),o=n(706454),s=n(594174),c=n(49012),d=n(5192),u=n(591759),m=n(379357),x=n(561308),h=n(685270),p=n(31074),g=n(206295),v=n(335326),C=n(297781),j=n(591853),I=n(410441),f=n(981631),P=n(388032);let y=(e,t,n)=>{let l=P.t.LHF6Dw,a=d.ZP.getName(null==t?void 0:t.guild_id,null==t?void 0:t.id,n),i=e.extra.media_title;return P.intl.formatToMarkdownString(l,{mediaTitle:i,userName:a,episodeDescription:e.extra.media_subtitle}).replaceAll("*","")},N=(e,t)=>P.intl.formatToPlainString(P.t.kCbfbG,{username:t.username,activity:e.extra.media_title}),Z=e=>{let{channel:t,entry:n,onReaction:d,onVoiceChannelPreview:Z}=e,T=(0,i.e7)([s.default],()=>s.default.getUser(n.author_id)),{largeImage:A}=(0,m.rv)({entry:n}),{primaryColor:E,secondaryColor:_}=(0,g.Z)(null==A?void 0:A.src),S=(0,i.e7)([o.default],()=>o.default.locale),R=(0,p.Z)(f.ABu.CRUNCHYROLL),k=(0,x.ap)(n.extra.media_assets_large_text),w=a.useCallback(e=>{if(null!=T&&(null==A?void 0:A.src)!=null)return(0,h.B)({entry:n,mediaImageSrc:null==A?void 0:A.src,avatarSrc:T.getAvatarURL(null==t?void 0:t.guild_id,128),description:y(n,t,T),timestamp:(0,x.yh)(n,S),episodeDescription:k,colors:[E,_],channelId:e})},[t,n,k,S,null==A?void 0:A.src,E,_,T]),O=()=>{if(null==n.extra.url)return;let e=u.Z.safeParseWithQuery(n.extra.url);null!=e&&null!=e.protocol&&null!=e.hostname&&(0,c.q)({href:u.Z.format(e),trusted:!1})};return null==T?null:(0,l.jsxs)(j.yR,{children:[(0,l.jsx)(j.wG,{channel:t,entry:n,userDescription:(0,x.kr)(n)?P.t["LH+Z39"]:P.t.YuKgmp,title:n.extra.media_title,subtitle:n.extra.media_subtitle,headerIcons:(0,l.jsx)(I.Z,{onClick:R,Icon:r.omf,"aria-label":P.intl.string(P.t.jdJYX1)}),badges:(0,l.jsx)(C.Gk,{location:C.Gt.POPOUT,children:v.t.map((e,t)=>(0,l.jsx)(e,{entry:n},t))}),onClickTitle:O,onClickThumbnail:O}),(0,l.jsx)(j.St,{children:(0,l.jsx)(j.WT,{onReaction:d,onVoiceChannelPreview:Z,user:T,channel:t,generateReactionImage:w,reactionImageAltText:N(n,T),entry:n})})]})}},111386:function(e,t,n){n.d(t,{Z:()=>m}),n(47120);var l=n(200651),a=n(192379),i=n(704215),r=n(481060),o=n(243778),s=n(388032),c=n(15080),d=n(442937);let u=()=>(0,l.jsxs)("div",{className:c.coachtipInner,children:[(0,l.jsx)("img",{src:d,alt:s.intl.string(s.t["9wkT19"]),className:c.coachtipAsset}),(0,l.jsxs)("div",{className:c.coachtipTextContainer,children:[(0,l.jsx)(r.X6q,{variant:"heading-lg/semibold",children:s.intl.string(s.t.V5y3qa)}),(0,l.jsx)(r.Text,{variant:"text-md/normal",color:"text-secondary",children:s.intl.string(s.t.eSDHDg)})]})]}),m=e=>{let{children:t}=e,[n]=(0,o.US)([i.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP]),[s,d]=a.useState(!1);return(a.useEffect(()=>{setTimeout(()=>{d(!0)},300)}),n!==i.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP)?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(r.ua7,{text:(0,l.jsx)(u,{}),tooltipClassName:c.coachtip,tooltipContentClassName:c.coachtipContent,position:"left",allowOverflow:!0,forceOpen:s,shouldShow:s,hideOnClick:!1,"aria-label":"test",children:e=>(0,l.jsx)("div",{...e,children:t})})}},591853:function(e,t,n){n.d(t,{Ll:()=>ef,St:()=>eh,WT:()=>ep,jL:()=>eI,wG:()=>ej,yR:()=>eu}),n(47120);var l=n(200651),a=n(192379),i=n(120356),r=n.n(i),o=n(512722),s=n.n(o);n(995295);var c=n(442837),d=n(704215),u=n(692547),m=n(481060),x=n(493683),h=n(475179),p=n(287734),g=n(872810),v=n(607070),C=n(16609),j=n(220779),I=n(201133),f=n(557135),P=n(194082),y=n(605236),N=n(543241),Z=n(318374),T=n(258609),A=n(810568),E=n(168524),_=n(102172),S=n(871118),R=n(565138),k=n(66999),w=n(790642),O=n(359110),b=n(12168),M=n(237583),L=n(131704),z=n(592125),B=n(430824),H=n(496675),U=n(699516),D=n(9156),G=n(594174),F=n(979651),V=n(938475),Y=n(626135),q=n(768581),W=n(5192),J=n(379357),X=n(26033),K=n(91907),$=n(358696),Q=n(656709),ee=n(593294),et=n(192918),en=n(22211),el=n(206295),ea=n(111386),ei=n(896449),er=n(469153),eo=n(206583),es=n(981631),ec=n(388032),ed=n(687765);function eu(e){let{children:t}=e,n=a.useRef(null);return(0,m.Tbt)(n),(0,l.jsx)("div",{className:ed.popout,ref:n,children:t})}function em(e){let{children:t,backgroundImgSrc:n,className:a,style:i={}}=e,{primaryColor:o,secondaryColor:s}=(0,el.Z)(n);return null!=n&&(i.background="linear-gradient(45deg, ".concat(o,", ").concat(s,")")),(0,l.jsx)(m.f6W,{theme:es.BRd.DARK,disableAdaptiveTheme:!0,children:e=>(0,l.jsx)("div",{className:r()(ed.hero,e,a),style:i,children:t})})}let ex=a.createContext(null);function eh(e){let{children:t}=e,n=a.useRef(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:ed.interactionsContainerHeader,ref:e=>n.current=e}),(0,l.jsx)("div",{className:ed.interactionsContainer,children:(0,l.jsx)(ex.Provider,{value:n.current,children:t})})]})}function ep(e){let{channel:t,user:n,generateReactionImage:i,reactionImageAltText:r,onReaction:o,entry:p,buttons:g=[],header:v,onVoiceChannelPreview:P}=e,[N,Z]=a.useState(!1),[T,A]=a.useState(null),E=(0,c.e7)([H.Z],()=>null!=t&&es.TPd.CONTENT_ENTRY_EMBEDS.has(t.type)&&H.Z.can(es.Plq.SEND_MESSAGES,t)),[_,S]=a.useState(!1),[b,q]=a.useState(!1),{voiceBar:J,joinVoiceButton:X}=function(e){let{channel:t,entry:n,onVoiceChannelPreview:i}=e,{streamPreviewUrl:r,channel:o}=(0,en.Z)(n),{needSubscriptionToAccess:s}=(0,k.Z)(null==t?void 0:t.id),d=(0,c.e7)([B.Z],()=>null!=o?B.Z.getGuild(o.guild_id):void 0),x=(0,c.Wu)([V.ZP],()=>null!=o?V.ZP.getVoiceStatesForChannel(o):[],[o]),p=(0,c.e7)([F.Z],()=>F.Z.isInChannel(null==o?void 0:o.id)),g=a.useMemo(()=>{for(let e of x){let t=z.Z.getDMFromUserId(e.user.id),n=null!=t&&D.ZP.isChannelMuted(null,t),l=U.Z.isBlockedOrIgnored(e.user.id);if(n||l)return!0}return!1},[x]);if(null==o||null==d)return{voiceBar:void 0,joinVoiceButton:void 0};let v=null!=r,C=()=>{h.Z.updateChatOpen(o.id,!0),(0,O.Kh)(o.id),null==i||i(o)},j=()=>{f.Z.handleVoiceConnect({channel:o,connected:p,needSubscriptionToAccess:s,routeDirectlyToChannel:!0})},I=e=>{let{children:t,text:n,hasRestrictedOrMutedVCParticipant:a}=e,i=a?(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(m.aNP,{size:"custom",width:13,height:13,className:ed.popoutBlockedWarningIcon}),ec.intl.string(ec.t.d6DpXF)]}):n;return(0,l.jsx)(m.ua7,{"aria-label":a?ec.intl.string(ec.t.d6DpXF):null!=n&&n,text:i,shouldShow:!0,children:t},"voice-preview")};return{voiceBar:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:ed.voiceChannelPopoutReactorHeader,children:[(0,l.jsx)(I,{text:ec.intl.string(ec.t.WIVYqK),hasRestrictedOrMutedVCParticipant:g,children:e=>(0,l.jsxs)(m.P3F,{...e,"aria-label":ec.intl.string(ec.t.WIVYqK),onClick:C,className:ed.voiceChannelPopoutReactorChannel,children:[(0,l.jsx)(R.Z,{guild:d,size:R.Z.Sizes.SMOL,className:ed.voiceChannelGuildIcon,active:!0}),(0,l.jsx)(m.Fbu,{size:"xxs",color:u.Z.colors.INTERACTIVE_NORMAL}),(0,l.jsx)(m.gj8,{size:"xs",color:u.Z.colors.TEXT_NORMAL}),(0,l.jsx)(m.Text,{variant:"text-sm/medium",color:"text-normal",className:ed.voiceChannelName,children:o.name})]})}),(0,l.jsx)(M.Z,{guildId:d.id,users:x,max:3,renderUser:(e,t)=>(0,l.jsx)(m.qEK,{src:e.user.getAvatarURL(d.id,16),size:m.EFr.SIZE_16,"aria-label":"avatar",className:t}),renderMoreUsers:e=>(0,l.jsx)("div",{className:ed.voiceChannelAdditionalParticipants,children:(0,l.jsx)(m.Text,{variant:"text-xxs/semibold",color:"text-normal",children:e})})})]}),(0,l.jsx)("div",{className:ed.primaryActionPopoutDivider})]}),joinVoiceButton:p?null:(0,l.jsx)(I,{hasRestrictedOrMutedVCParticipant:g,children:e=>(0,l.jsx)(ef,{...e,color:m.zxk.Colors.GREEN,onClick:j,IconComponent:v?m.pzj:m.gj8,children:v?ec.intl.string(ec.t["I6JG4+"]):ec.intl.string(ec.t.VJlc0d)})})}}({channel:t,entry:p,onVoiceChannelPreview:P}),{embeddedActivity:K}=(0,ee.Z)(p),$=function(e){let t=(0,c.e7)([B.Z],()=>B.Z.getGuild((0,C.jS)(null==e?void 0:e.location))),n=(0,c.e7)([z.Z],()=>z.Z.getChannel((0,C.pY)(null==e?void 0:e.location))),a=(0,c.Wu)([G.default],()=>{var t,n;return null!==(n=null==e?void 0:null===(t=e.participants)||void 0===t?void 0:t.map(e=>G.default.getUser(e.userId)))&&void 0!==n?n:[]});return null!=e&&null!=t&&null!=n&&L.sR.has(n.type)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:ed.voiceChannelPopoutReactorHeader,children:[(0,l.jsxs)(m.P3F,{"aria-label":ec.intl.string(ec.t["W/A4Qk"]),onClick:()=>(0,O.Kh)(n.id),className:ed.voiceChannelPopoutReactorChannel,children:[(0,l.jsx)(R.Z,{guild:t,size:R.Z.Sizes.SMOL,className:ed.voiceChannelGuildIcon,active:!0}),(0,l.jsx)(m.Fbu,{size:"xxs",color:u.Z.colors.INTERACTIVE_NORMAL}),(0,l.jsx)(m.VL1,{size:"xs",color:u.Z.colors.TEXT_NORMAL}),(0,l.jsx)(m.Text,{variant:"text-sm/medium",color:"text-normal",className:ed.voiceChannelName,children:null==n?void 0:n.name})]}),(0,l.jsx)(M.Z,{guildId:t.id,users:a,max:3,renderUser:(e,n)=>(0,l.jsx)(m.qEK,{src:e.getAvatarURL(t.id,16),size:m.EFr.SIZE_16,"aria-label":"avatar",className:n}),renderMoreUsers:e=>(0,l.jsx)("div",{className:ed.voiceChannelAdditionalParticipants,children:(0,l.jsx)(m.Text,{variant:"text-xxs/semibold",color:"text-normal",children:e})})})]}),(0,l.jsx)("div",{className:ed.primaryActionPopoutDivider})]}):null}(K),et=null!=X&&0===g.length?[X]:g,el=et.length>0,ei=et.length>=2,[eu,em]=a.useState(!el),ex=W.ZP.getName(null==t?void 0:t.guild_id,null==t?void 0:t.id,n),eh=null!=t&&N?ec.intl.formatToPlainString(ec.t["8lzR/f"],{channel:"#".concat(t.name)}):ec.intl.formatToPlainString(ec.t["4c+CAw"],{channel:"@".concat(ex)}),ep=N?ec.intl.string(ec.t.Z2CUgo):ec.intl.string(ec.t.XLGiTE),ev=async e=>{let l;if(null!=e){if(Y.default.track(es.rMx.CONTENT_POPOUT_EMOJI_CLICKED,{surface_type:eo.Kd.GUILD_MEMBER_LIST,channel_id:null==t?void 0:t.id,guild_id:null==t?void 0:t.guild_id}),(0,y.EW)(d.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP),S(!0),q(!1),N)s()(null!=t,"shareToChannelMode should only be true if a valid channel is passed"),l=t;else{var a;let e=await x.Z.getOrEnsurePrivateChannel(n.id);l=null!==(a=z.Z.getChannel(e))&&void 0!==a?a:null}return s()(null!=l,"Send channel must be defined"),ej({reply:":".concat(e.name,":"),sendToChannel:l,onComplete:(e,t)=>{q(!0),setTimeout(()=>{S(!1),o(e,t)},600)},interactionType:eo.xP.REACTION_EMOJI_REACT_SENT,requiresChannelReadiness:!1})}},eC=async e=>{let l;if((0,y.EW)(d.z.CONTENT_INVENTORY_ONE_CLICK_REPLY_COACHTIP),N)s()(null!=t,"shareToChannelMode should only be true if a valid channel is passed"),l=t;else{let e=await x.Z.openPrivateChannel(n.id,!1,!1),t=z.Z.getChannel(e);s()(null!=t,"DM channel must be defined"),l=t}let a=l.type===es.d4z.DM?eo.xP.DM_REACTION_MESSAGE_SENT:eo.xP.CHANNEL_REACTION_MESSAGE_SENT;return ej({reply:e,sendToChannel:l,interactionType:a,onComplete:o,requiresChannelReadiness:!0})},ej=async e=>{let{reply:t,sendToChannel:n,onComplete:l,interactionType:a,requiresChannelReadiness:o}=e;if(null==T||T.focus(),(0,w.Io)("ContentPopout Reactor"))await (0,Q.p)({channel:n,content:t,entry:p,whenReady:o});else{let e=await async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return await i(...t)}catch(e){throw e}}(n.id);s()(null!=e,"Reaction image must be defined"),await (0,I.B)({file:e,channel:n,altText:r,reply:t})}null==l||l(a,n)},eI=null!=v?v:null!=J?J:null!=$?$:void 0;return a.useEffect(()=>{eu&&(null==T||T.focus())},[T,N,eu]),(0,l.jsxs)("div",{style:{pointerEvents:_?"none":"all"},children:[(0,l.jsx)(er.Z,{sent:b,shown:_,className:ed.toastContainer}),null!=eI?eI:(0,l.jsx)(ea.Z,{children:(0,l.jsxs)("div",{className:ed.emojiHotrailShareToChannel,children:[(0,l.jsx)(eg,{channel:t,onClickSuggestion:ev}),(0,l.jsx)(j.dE,{onSelectEmoji:ev})]})}),(0,l.jsxs)("div",{className:eu?ed.inputContainerShareToChannel:ed.hiddenButRenderedInputField,children:[(0,l.jsx)(j.A7,{placeholder:eh,onEnter:eC,setEditorRef:e=>A(e),channel:N?t:void 0,showEmojiButton:null!=eI,renderAttachButton:E?()=>(0,l.jsx)(m.ua7,{text:ep,children:e=>(0,l.jsx)(m.P3F,{...e,className:ed.shareToChannelButton,onClick:()=>Z(e=>!e),children:N?(0,l.jsx)(m.VL1,{size:"custom",width:20,height:20}):(0,l.jsx)(m.lOy,{size:"custom",width:20,height:20})})}):void 0}),el&&(0,l.jsx)(m.P3F,{onClick:()=>em(!1),className:ed.primaryActionPopoutMessageCloseIcon,children:(0,l.jsx)(m.Dio,{size:"custom",width:20,height:20,color:u.Z.colors.ICON_PRIMARY})})]}),!1===eu&&(0,l.jsxs)("div",{className:ed.primaryActionPopoutActionButtons,children:[(0,l.jsxs)(m.zxk,{className:ed.secondaryButton,color:m.zxk.Colors.PRIMARY,look:m.zxk.Looks.FILLED,onClick:()=>em(!0),innerClassName:ed.iconButton,size:ei?m.zxk.Sizes.MIN:m.zxk.Sizes.LARGE,children:[(0,l.jsx)(m.kBi,{size:"custom",width:20,height:20}),!ei&&(0,l.jsx)(m.Text,{variant:"text-md/semibold",children:ec.intl.string(ec.t.OAJQlJ)})]},"toggleMessageMode"),et]})]})}let eg=e=>{let{channel:t,onClickSuggestion:n}=e,[i,r]=a.useState(!1);a.useEffect(()=>{r(!0)},[]);let o=!!v.Z.keyboardModeEnabled&&!i,s=(0,N.wC)(null==t?void 0:t.guild_id).slice(0,5).map(e=>null==e.id?{emoji:e,url:e.url}:{emoji:e,url:(0,q.gT)({id:e.id,animated:e.animated,size:58})});return(0,l.jsx)(l.Fragment,{children:s.map(e=>{let{emoji:t,url:a}=e;return null!=a?(0,l.jsx)("div",{children:(0,l.jsx)(m.DY3,{text:ec.intl.formatToPlainString(ec.t.kilW3t,{emojiName:t.name}),position:"top","aria-label":ec.intl.formatToPlainString(ec.t.kilW3t,{emojiName:t.name}),color:m.ua7.Colors.PRIMARY,shouldShow:!o&&void 0,children:(0,l.jsx)(b.u,{emoji:t,isDisabled:!i,onClick:()=>n(t),className:ed.emoji})})},t.name):null})})};function ev(e){let{channel:t,userDescription:n,entry:a,disableGameProfileLinks:i,onUserPopoutClosed:o}=e,s=null==t?void 0:t.guild_id,{displayParticipants:d,participant1:u,participant2:x,numOtherParticipants:h}=(0,et.Z)(a,3),p=(0,c.e7)([G.default],()=>G.default.getUser(a.author_id)),{streamPreviewUrl:g}=(0,en.Z)(a),v=[u,x];return(0,l.jsxs)("div",{className:ed.popoutContentHeader,children:[(0,l.jsxs)("div",{className:ed.popoutUserContainer,children:[(0,l.jsx)(Z.Z,{maxUsers:3,users:d,size:m.EFr.SIZE_24,avatarClassName:ed.popoutStackedAvatar,hideOverflowCount:!0,disableUsernameTooltip:!0,onUserPopoutRequestClose:o}),(0,l.jsx)(m.LZC,{size:8,horizontal:!0}),(0,l.jsx)(m.X6q,{variant:"heading-sm/normal",className:ed.popoutTextSecondary,children:ec.intl.format(n,{user0:W.ZP.getName(s,null==t?void 0:t.id,v[0]),user1:W.ZP.getName(s,null==t?void 0:t.id,v[1]),countOthers:h,countOthersHook:(e,t)=>(0,l.jsx)(m.Text,{variant:"text-sm/medium",className:r()(ed.popoutUsername,ed.popoutTextPrimary),children:e},t),name0Hook:(e,n)=>(0,l.jsx)(K.Z,{textClassName:r()(ed.popoutUsername,ed.popoutTextPrimary),text:e,user:v[0],channel:t,onPopoutClosed:o},n),name1Hook:(e,n)=>(0,l.jsx)(K.Z,{textClassName:r()(ed.popoutUsername,ed.popoutTextPrimary),text:e,user:v[1],channel:t,onPopoutClosed:o},n)})})]}),null!=g&&(0,l.jsx)(P.ZP,{size:P.ZP.Sizes.SMALL}),null!=p&&(0,l.jsx)(ei.Z,{user:p,channel:t,guildId:s,entry:a,disableGameProfileLinks:i})]})}function eC(e){let{children:t,onClick:n}=e;return null==n?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(m.P3F,{className:ed.maybeClickable,onClick:n,children:t})}function ej(e){var t;let{title:n,subtitle:a,badges:i,children:o,onClickThumbnail:s,onClickTitle:c,onClickSubtitle:d,headerIcons:u,disableGameProfileLinks:x=!1,showCoverImage:h=!0,onUserPopoutClosed:p,trackRankingItemInteraction:g,...v}=e,{entry:C}=v,j=(0,X.dX)(C),I=(0,E.Z)({location:"ContentPopout",applicationId:j&&!x?null===(t=C.extra)||void 0===t?void 0:t.application_id:void 0,source:A.m1.ActivityCard,trackEntryPointImpression:!0,sourceUserId:C.author_id},{onOpened:()=>null==g?void 0:g(eo.xP.OPENED_GAME_PROFILE)}),{largeImage:f,smallImage:P}=(0,J.rv)({entry:C,showCoverImage:h}),y=j?I:void 0;return(0,l.jsxs)("div",{className:ed.popoutContentWrapper,children:[(0,l.jsx)(ev,{disableGameProfileLinks:x,...v,onUserPopoutClosed:p}),(0,l.jsxs)(em,{backgroundImgSrc:null==f?void 0:f.src,children:[(0,l.jsxs)("div",{className:ed.popoutHeroInner,children:[(0,l.jsx)("div",{className:ed.popoutThumbnailContainer,children:(0,l.jsx)($.E,{image:f,smallImage:P,aspectRatio:h?"none":void 0,onClick:null!=s?s:y,size:$.J.SIZE_72})}),(0,l.jsxs)("div",{className:ed.popoutHeroBody,children:[(0,l.jsx)(eC,{onClick:null!=c?c:y,children:(0,l.jsx)(m.X6q,{variant:"heading-md/medium",className:r()(ed.popoutHeroTextPrimary,{[ed.popoutHeroTextPrimaryShort]:null!=u}),lineClamp:3,children:n})}),null!=a?(0,l.jsx)(eC,{onClick:null!=d?d:y,children:(0,l.jsx)(m.Text,{variant:"text-sm/normal",className:ed.popoutHeroTextSecondary,children:a})}):null,(0,l.jsx)(m.LZC,{size:8}),i]}),(0,l.jsx)("div",{className:ed.popoutHeaderIcons,children:u})]}),o]})]})}function eI(e){var t;let{title:n,subtitle:i,badges:r,stream:o,onClickThumbnail:s,onClickTitle:d,onClickSubtitle:u,onUserPopoutClosed:x,trackRankingItemInteraction:h,...v}=e,C=(0,c.e7)([z.Z],()=>z.Z.getChannel(null==o?void 0:o.channelId)),[j]=a.useMemo(()=>(0,_.p9)(C,F.Z,B.Z,H.Z,T.Z),[C]),{entry:I}=v,f=(0,X.dX)(I),P=(0,E.Z)({location:"ContentPopout",applicationId:f?null===(t=I.extra)||void 0===t?void 0:t.application_id:void 0,source:A.m1.ActivityCard,trackEntryPointImpression:!0,sourceUserId:I.author_id},{onOpened:()=>null==h?void 0:h(eo.xP.OPENED_GAME_PROFILE)}),y=f?P:void 0,{activity:N,activityApplication:Z,fallbackApplication:R}=(0,ee.Z)(I),{largeImage:k,smallImage:w}=(0,J.YC)(N,null!=Z?Z:R),{largeImage:O}=(0,J.rv)({entry:I});return(0,l.jsxs)("div",{className:ed.popoutContentWrapper,children:[(0,l.jsx)(ev,{...v,onUserPopoutClosed:x}),(0,l.jsxs)(em,{backgroundImgSrc:null==O?void 0:O.src,className:ed.streamingPopoutHero,children:[(0,l.jsx)(eC,{onClick:j?()=>{p.default.selectVoiceChannel(o.channelId),(0,g.iV)(o)}:void 0,children:(0,l.jsxs)("div",{className:ed.streamingPopoutPreviewContainer,children:[(0,l.jsx)(S.Z,{className:ed.streamingPopoutImg,stream:o}),j&&(0,l.jsx)("div",{className:ed.streamCTA,children:(0,l.jsx)(m.Text,{variant:"text-md/normal",color:"always-white",children:ec.intl.string(ec.t["7Xq/nZ"])})})]})}),(0,l.jsxs)("div",{className:ed.streamingPopoutHeader,children:[null!=k&&(0,l.jsx)("div",{className:ed.popoutThumbnailContainer,children:(0,l.jsx)($.E,{image:k,smallImage:w,onClick:null!=s?s:y,size:$.J.SIZE_72})}),(0,l.jsxs)("div",{className:ed.streamingPopoutHeaderText,children:[(0,l.jsx)(eC,{onClick:null!=d?d:y,children:(0,l.jsx)(m.X6q,{variant:"heading-md/semibold",className:ed.popoutTextPrimary,lineClamp:3,children:n})}),null!=i?(0,l.jsx)(eC,{onClick:null!=u?u:y,children:(0,l.jsx)(m.Text,{variant:"text-sm/normal",className:ed.popoutTextSecondary,children:i})}):null,(0,l.jsx)(m.LZC,{size:8}),r]})]})]})]})}function ef(e){let{IconComponent:t,children:n,className:a,...i}=e;return(0,l.jsxs)(m.zxk,{...i,className:r()(a,ed.primaryButton),innerClassName:null!=t?ed.iconButton:void 0,size:m.zxk.Sizes.LARGE,children:[null!=t?(0,l.jsx)(t,{size:"custom",width:20,height:20,color:u.Z.colors.WHITE}):null,(0,l.jsx)(m.Text,{variant:"text-md/semibold",color:"always-white",children:n})]})}},896449:function(e,t,n){n.d(t,{Z:()=>p});var l=n(200651),a=n(192379),i=n(481060),r=n(239091),o=n(299206),s=n(810568),c=n(168524),d=n(37258),u=n(26033),m=n(178762),x=n(388032),h=n(818998);function p(e){var t;let{user:n,guildId:p,channel:g,entry:v,onSelect:C,disableGameProfileLinks:j}=e,I=a.useContext(m.Ir),f=(0,d.Z)({userId:n.id,guildId:p,channelId:null==g?void 0:g.id,onAction:I}),P=(0,o.Z)({id:n.id,label:x.intl.string(x.t["/AXYnJ"])}),y="application_id"in v.extra?v.extra.application_id:null,N=(0,o.Z)({id:y,label:x.intl.string(x.t["FfCL+/"])}),Z=(0,u.dX)(v),T=(0,c.Z)({location:"ContentPopoutContextMenu",applicationId:Z&&!0!==j?null===(t=v.extra)||void 0===t?void 0:t.application_id:void 0,source:s.m1.ActivityCardContextMenu,trackEntryPointImpression:!0,sourceUserId:v.author_id});return(0,l.jsx)(i.yRy,{align:"top",position:"right",disablePointerEvents:!1,renderPopout:e=>{let{closePopout:t}=e;return(0,l.jsx)(i.v2r,{navId:"content-inventory-context",onClose:()=>{(0,r.Zy)(),t()},"aria-label":x.intl.string(x.t.liqwPD),onSelect:C,children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.kSQ,{children:[f,null!=T&&(0,l.jsx)(i.sNh,{id:"game-profile",label:x.intl.string(x.t.f7aVGh),action:e=>{T(e),null==I||I()}})]}),(0,l.jsxs)(i.kSQ,{children:[P,N]})]})})},children:e=>(0,l.jsx)(i.ua7,{text:x.intl.string(x.t.UKOtz8),children:t=>(0,l.jsx)(i.P3F,{...t,className:h.menuIcon,...e,children:(0,l.jsx)(i.xhG,{color:"currentColor",size:"custom",width:16,height:16})})})})}},469153:function(e,t,n){n.d(t,{Z:()=>m});var l=n(200651);n(192379);var a=n(642128),i=n(442837),r=n(481060),o=n(607070),s=n(388032),c=n(906626),d=n(533386);let u=()=>(0,l.jsxs)("div",{className:d.toast,children:[(0,l.jsx)(r.$jN,{type:r.RAz.SPINNING_CIRCLE_SIMPLE,className:c.loadingSpinner}),(0,l.jsx)(r.Text,{color:"header-primary",variant:"text-md/normal",children:s.intl.string(s.t["5z/hlJ"])})]}),m=e=>{let{shown:t,sent:n,className:c}=e,d=(0,i.e7)([o.Z],()=>o.Z.useReducedMotion),m=(0,r.Yzy)(t,{from:{transform:d?"translateY(0)":"translateY(16px)",opacity:0},enter:{transform:"translateY(0)",opacity:1},leave:{transform:d?"translateY(0)":"translateY(16px)",opacity:0},config:{mass:1,tension:500,friction:18,clamp:!0},delay:200},"animate-always");return(0,l.jsx)(l.Fragment,{children:m((e,t)=>t&&(0,l.jsx)(a.animated.div,{className:c,style:e,children:n?(0,l.jsx)(r.FNi,{message:s.intl.string(s.t.fjcCk5),type:r.ToastType.SUCCESS,id:"success_message_toast"}):(0,l.jsx)(r.FNi,{message:"",type:r.ToastType.CUSTOM,id:"custom_loading_message_toast",options:{component:(0,l.jsx)(u,{})}})}))})}},12168:function(e,t,n){n.d(t,{Z:()=>E,u:()=>T}),n(47120);var l=n(200651),a=n(192379),i=n(120356),r=n.n(i),o=n(392711),s=n(642128),c=n(481060),d=n(596454),u=n(727637),m=n(313201),x=n(543241),h=n(318766),p=n(907040),g=n(633302),v=n(806966),C=n(176354),j=n(823379),I=n(354459),f=n(185923),P=n(420212),y=n(378935);let N=f.Hz.CHAT,Z=[g.ZP.getByName("thumbsup"),g.ZP.getByName("eyes"),g.ZP.getByName("laughing"),g.ZP.getByName("watermelon"),g.ZP.getByName("fork_and_knife"),g.ZP.getByName("yum")].filter(j.lm);function T(e){let{emoji:t,isDisabled:n=!1,onClick:i,className:o}=e,m=a.useRef(null),x=(0,u.Z)(m);return(0,l.jsx)("span",{ref:m,children:(0,l.jsx)(c.zxk,{onClick:i,look:c.zxk.Looks.BLANK,size:c.zxk.Sizes.NONE,focusProps:{enabled:!n},children:(0,l.jsx)(c.AMe,{config:h.u,from:{value:0},to:{value:x?1:0},children:e=>{let{value:a}=e;return(0,l.jsx)(s.animated.div,{style:{transform:a.to([0,1],[1,1.14]).to(e=>"scale(".concat(e,")"))},children:(0,l.jsx)(d.Z,{className:r()(y.emoji,o,{[y.emojiItemDisabled]:n}),emojiId:t.id,emojiName:null==t?void 0:t.surrogates,animated:t.animated})})}})})})}function A(e){let{otherAccessories:t,isEmojiPickerExpanded:n,onSetExpanded:a,onFocus:i}=e;return(0,l.jsxs)(l.Fragment,{children:[t,(0,l.jsx)(c.P3F,{className:y.dropDownContainer,onClick:()=>{a(!n),i()},children:(0,l.jsx)(c.CJ0,{size:"md",color:"currentColor",className:r()(y.dropDown,{[y.dropDownOpen]:n})})})]})}function E(e){let{channel:t,title:n,closePopout:i,onFocus:s,onSelectEmoji:d,onSelectDisabledEmoji:u,onExpandedToggle:h,emojiSearchProps:g,recentlyUsedEmojis:j,analyticsOverride:E}=e,_=(0,m.Dt)(),[S,R]=a.useState(!1),k=(0,x.wC)(t.guild_id),w=(0,o.uniqBy)([...k,...Z],"name").filter(e=>!C.ZP.isEmojiFilteredOrLocked({emoji:e,channel:t,intention:N})).slice(0,I.e5);null!=j&&j.length>0&&w.splice(w.length-1,1,j[0]);let O=e=>{R(e),null==h||h(e)},b=(e,t)=>{if(null==e&&t){i();return}null!=e&&d(e),O(!t),t&&v.kJ.setSearchPlaceholder(null)};return(0,l.jsxs)(c.VqE,{"aria-labelledby":_,children:[(0,l.jsx)(c.y5t,{forceLevel:2,children:(0,l.jsx)(c.nn4,{children:(0,l.jsx)(c.H,{id:_,children:n})})}),(0,l.jsxs)("div",{className:y.container,children:[(0,l.jsx)(p.Z,{analyticsOverride:E,channel:t,className:r()(y.animatedPicker,{[y.animatedPickerTall]:S}),headerClassName:r()(y.emojiPickerHeader,{[y.emojiPickerHeaderExpanded]:S}),closePopout:i,onSelectEmoji:S?b:()=>{},shouldHidePickerActions:!S,wrapper:"div",pickerIntention:N,searchProps:{...g,accessory:(0,l.jsx)(A,{otherAccessories:null==g?void 0:g.accessory,isEmojiPickerExpanded:S,onSetExpanded:O,onFocus:s}),onKeyDown:e=>{null!=e&&e.key!==P.vn.TAB&&(e.key!==P.vn.ENTER||e.shiftKey?O(!0):O(!S))}}}),(0,l.jsx)("div",{className:y.slotsContainer,children:(0,l.jsx)("div",{className:r()(y.slots,y.slotsWide),children:w.map(e=>{let n=C.ZP.isEmojiDisabled({emoji:e,channel:t,intention:f.Hz.CHAT});return(0,l.jsx)("div",{className:y.slot,children:(0,l.jsx)(c.DY3,{text:e.name,position:"top","aria-label":e.name,tooltipClassName:y.tooltipContainer,color:c.ua7.Colors.BRAND,children:(0,l.jsx)(T,{emoji:e,isDisabled:n,onClick:()=>{n?null==u||u(e):b(e,!0)}})})},e.name)})})})]})]})}}}]);
//# sourceMappingURL=addd37120e87c89d.js.map