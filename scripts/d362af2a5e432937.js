(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["83595"],{869469:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=869469,e.exports=t},132399:function(e){"use strict";e.exports="/assets/aa013155f3c2ecb0.svg"},208578:function(e){"use strict";e.exports="/assets/892bf2036797f905.svg"},325484:function(e){"use strict";e.exports="/assets/f86a4d3ee1fc9ef0.svg"},414575:function(e){"use strict";e.exports="/assets/817ce8d371c614b1.png"},807612:function(e){"use strict";e.exports="/assets/38e7678d40fd305b.png"},717881:function(e,t,n){"use strict";n.d(t,{P:()=>j,Z:()=>w});var l=n(200651);n(192379);var i=n(120356),r=n.n(i),a=n(442837),s=n(481060),o=n(620662),u=n(387903),c=n(850827),d=n(812206),m=n(202458),f=n(220779),h=n(142550),g=n(954017),p=n(314091),v=n(159244),S=n(952164),I=n(199902),x=n(592125),E=n(430824),T=n(979651),Z=n(626135),N=n(153066),y=n(981631),A=n(388032),C=n(965758);function P(e){let{type:t,source:n,activity:i,applicationStream:r,user:a,guildId:o,channelId:u,onAction:d,actionColor:m}=e;return(0,l.jsx)(c.Z,{className:(0,N.l)(C,"actions",t),type:t,source:n,activity:i,applicationStream:r,user:a,guildId:o,look:s.zxk.Looks.FILLED,color:null!=m?m:s.zxk.Colors.PRIMARY,channelId:u,onAction:d})}let j=u.Z.Types,w=function(e){let{activity:t,user:n,useStoreStream:i=!0,showActions:s=!0,hideHeader:c=!1,showChannelDetails:N=!1,analyticsParams:j,...w}=e,_=(0,a.e7)([T.Z,x.Z],()=>{var e;return x.Z.getChannel(null===(e=T.Z.getVoiceStateForUser(n.id))||void 0===e?void 0:e.channelId)}),b=(0,a.e7)([I.Z],()=>i?I.Z.getAnyStreamForUser(n.id):null),R=(0,a.e7)([E.Z,T.Z,x.Z],()=>{var e,l;return(0,o.Z)(t,y.xjy.EMBEDDED)?E.Z.getGuild(null===(e=x.Z.getChannel(null===(l=T.Z.getVoiceStateForSession(n.id,null==t?void 0:t.session_id))||void 0===l?void 0:l.channelId))||void 0===e?void 0:e.getGuildId()):null}),L=(0,a.e7)([E.Z],()=>null!=b?E.Z.getGuild(b.guildId):null),M=(0,a.e7)([d.Z],()=>null!=t?null!=t.application_id?d.Z.getApplication(t.application_id):d.Z.getApplicationByName(t.name):null),O=(0,m.Z)(),D=(0,v.Z)(n),U=O&&null!=t&&D;return(null==t?void 0:t.type)===y.IIU.HANG_STATUS?null:(0,l.jsx)(u.Z,{...w,activity:t,user:n,application:M,hideHeader:c,activityGuild:null!=R?R:L,showReactions:U,showChannelDetails:N,channel:N?_:void 0,renderActions:s?()=>(0,l.jsxs)("div",{className:r()(U&&C.actionsWrapper),children:[(0,l.jsx)(P,{...w,applicationStream:b,activity:t,user:n}),U&&(0,l.jsx)(f.ZP,{showReact:!0,showReply:!0,popoutProps:{replyHeaderText:A.intl.formatToPlainString(A.t["1JSA19"],{activity:t.name}),replyPlaceholder:A.intl.formatToPlainString(A.t["8lzR/f"],{channel:"@".concat(n.globalName)})},onInteraction:e=>{let{interactionType:l,emoji:i,reply:r}=e;Z.default.track(y.rMx.ACTIVITY_REACTOR_INTERACTED,{application_id:t.application_id,interaction_type:l,...j}),l===h.L.ReactSubmit&&null!=i&&(0,g.H)({reaction:i,user:n,activity:t,application:M,altText:(0,p.xC)(n,t),stream:b}),l===h.L.ReplySubmit&&null!=r&&(0,g.R)({reply:r,user:n,activity:t,application:M,altText:(0,p.xC)(n,t),stream:b})}})]}):null,onOpenSpotifyTrack:S.aG,onOpenSpotifyArtist:S.d$,onOpenSpotifyAlbum:S.Z5})}},144830:function(e,t,n){"use strict";n.d(t,{Z:()=>g}),n(411104),n(47120);var l,i,r=n(200651),a=n(192379),s=n(379649),o=n(846519),u=n(388032);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=((l=d||{}).ACTIVITY_FEED="ACTIVITY_FEED",l.ACTIVITY_FEED_NEW="ACTIVITY_FEED_NEW",l.USER_ACTIVITY="USER_ACTIVITY",l.GAME_LIBRARY_TIME_PLAYED="GAME_LIBRARY_TIME_PLAYED",l.GAME_LIBRARY_LAST_PLAYED="GAME_LIBRARY_LAST_PLAYED",l),m=((i=m||{}).START="START",i.END="END",i.TIME="TIME",i);let f=e=>(t,n)=>null==n?"":u.intl.format(e(),{time:t,...n}),h={ACTIVITY_FEED:{START:{[s.J6.SECONDS]:()=>u.intl.string(u.t.ahzZr6),[s.J6.MINUTES]:e=>u.intl.formatToPlainString(u.t["03mIHR"],{time:e}),[s.J6.HOURS]:e=>u.intl.formatToPlainString(u.t.eNoooa,{time:e}),[s.J6.DAYS]:e=>u.intl.formatToPlainString(u.t["2rUo/v"],{time:e})},END:{[s.J6.SECONDS]:()=>u.intl.string(u.t.EluAd3),[s.J6.MINUTES]:e=>u.intl.formatToPlainString(u.t.BZxG8f,{time:e}),[s.J6.HOURS]:e=>u.intl.formatToPlainString(u.t.cRMUp6,{time:e}),[s.J6.DAYS]:e=>u.intl.formatToPlainString(u.t["yP1T8/"],{time:e}),[s.J6.WEEKS]:e=>u.intl.formatToPlainString(u.t.AWkdqa,{time:e}),[s.J6.MONTHS]:e=>u.intl.formatToPlainString(u.t.upamAw,{time:e}),[s.J6.YEARS]:e=>u.intl.formatToPlainString(u.t.vfMC2t,{time:e})}},ACTIVITY_FEED_NEW:{START:{[s.J6.SECONDS]:f(()=>u.t.Bf3PRU),[s.J6.MINUTES]:f(()=>u.t["A9P+dX"]),[s.J6.HOURS]:f(()=>u.t.KwVzfn),[s.J6.DAYS]:f(()=>u.t.hbUpBA)},END:{[s.J6.SECONDS]:e=>u.intl.formatToPlainString(u.t.C3MTOD,{seconds:e}),[s.J6.MINUTES]:e=>u.intl.formatToPlainString(u.t["GqQ/Y2"],{minutes:e}),[s.J6.HOURS]:e=>u.intl.formatToPlainString(u.t.c5zfWV,{hours:e}),[s.J6.DAYS]:e=>u.intl.formatToPlainString(u.t.amjnaG,{days:e})}},USER_ACTIVITY:{START:{[s.J6.SECONDS]:()=>u.intl.string(u.t.ahzZr6),[s.J6.MINUTES]:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?u.intl.formatToPlainString(u.t["03mIHR"],{time:e}):u.intl.formatToPlainString(u.t["vQml+P"],{time:e})},[s.J6.HOURS]:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?u.intl.formatToPlainString(u.t.eNoooa,{time:e}):u.intl.formatToPlainString(u.t["4Wq+6+"],{time:e})},[s.J6.DAYS]:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?u.intl.formatToPlainString(u.t["2rUo/v"],{time:e}):u.intl.formatToPlainString(u.t["jN3/fX"],{time:e})}}},GAME_LIBRARY_TIME_PLAYED:{TIME:{[s.J6.NONE]:()=>u.intl.string(u.t.LqDiCg),[s.J6.SECONDS]:e=>u.intl.formatToPlainString(u.t.xDIDBA,{time:e}),[s.J6.MINUTES]:e=>u.intl.formatToPlainString(u.t.KGqJcX,{time:e}),[s.J6.HOURS]:e=>u.intl.formatToPlainString(u.t.OLchUF,{time:e})}},GAME_LIBRARY_LAST_PLAYED:{END:{[s.J6.NONE]:()=>u.intl.string(u.t.EoWLrq),[s.J6.SECONDS]:()=>u.intl.string(u.t.QTHa8f),[s.J6.MINUTES]:e=>u.intl.formatToPlainString(u.t.SVEfcX,{time:e}),[s.J6.HOURS]:e=>u.intl.formatToPlainString(u.t["0Gbusb"],{time:e}),[s.J6.DAYS]:e=>u.intl.formatToPlainString(u.t.hnPZZ2,{time:e}),[s.J6.WEEKS]:e=>u.intl.formatToPlainString(u.t.L3fTpK,{time:e}),[s.J6.MONTHS]:e=>u.intl.formatToPlainString(u.t.xAFWQU,{time:e}),[s.J6.YEARS]:e=>u.intl.formatToPlainString(u.t["9Yr3NT"],{time:e})}}};function g(e){var t,n;return n=class extends(t=a.PureComponent){componentDidMount(){this.timer.start(1e4,this.update)}componentDidUpdate(e){let{start:t,end:n,time:l}=this.props;(e.start!==t||e.end!==n||e.time!==l)&&this.update()}componentWillUnmount(){this.timer.stop()}getDiff(){let{start:e,end:t,time:n}=this.props;if(null!=n)return n/1e3/60;let l=Date.now(),i=0;return null!=e?i=l-e:null!=t&&(i=l-t),Math.abs(i)/1e3/60}getTimeUnit(e,t,n){let l=(0,s.jU)(e,e=>(function(e,t,n){let l=h[n];if(null!=l){let n=l[t];if(null!=n)return null!=n[e]}return!1})(e,n,t));if(null==l)throw Error("Could not get the time unit in PlayTime with time: ".concat(e," for type: ").concat(n," in location: ").concat(t));return l}getType(){let{start:e,end:t,time:n}=this.props;return null!=e?"START":null!=t?"END":null!=n?"TIME":null}render(){let{location:t,messageProps:n,isApplicationStreaming:l,...i}=this.props,{time:a}=this.state,o=this.getType();if(null==o)return null;let u=this.getTimeUnit(a,t,o),c=h[t][o];if(null==c)return null;let d=c[u],m=Math.floor((0,s.A3)(a,u));return(0,r.jsx)(e,{...i,children:null==d?void 0:d(m,n,l)})}constructor(...e){super(...e),c(this,"timer",new o.Xp),c(this,"state",{time:this.getDiff()}),c(this,"update",()=>{this.setState({time:this.getDiff()})})}},c(n,"Locations",d),c(n,"Types",m),n}},438139:function(e,t,n){"use strict";n.d(t,{Z:()=>o});var l=n(200651),i=n(192379),r=n(846519),a=n(388032);function s(e){return"".concat(e).length<13?1e3*e:e}function o(e){return class extends i.PureComponent{componentDidMount(){this._interval.start(1e3,()=>this.setState(this.getUpdatedTime()))}componentWillUnmount(){this._interval.stop()}componentDidUpdate(e){(e.timestamps.end!==this.props.timestamps.end||e.timestamps.start!==this.props.timestamps.start)&&this.setState(this.getUpdatedTime())}getUpdatedTime(){let{timestamps:e}=this.props,t=Date.now()/1e3;return null!=e.end?this.getDiff(t,s(e.end)/1e3):null!=e.start?this.getDiff(s(e.start)/1e3,t):{hours:0,minutes:0,seconds:0}}renderTime(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&e<=0?-1:e<10?"0".concat(e):e}getDiff(e,t){let n=Math.max(t-e,0),l=Math.floor(n)%60,i=Math.floor(n/60)%60;return{hours:Math.floor(n/3600)%24,minutes:i,seconds:l}}render(){let{timestamps:t,...n}=this.props,{hours:i,minutes:r,seconds:s}=this.state,o={hours:this.renderTime(i,!0),minutes:this.renderTime(r),seconds:this.renderTime(s)};return null!=t.end?(0,l.jsx)(e,{...n,message:a.intl.formatToPlainString(a.t["I/J7vL"],o)}):null!=t.start?(0,l.jsx)(e,{...n,message:a.intl.formatToPlainString(a.t.M9Fexc,o)}):null}constructor(e){var t,n;super(e),n=void 0,(t="_interval")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this._interval=new r.Xp,this.state={...this.getUpdatedTime()}}}}},448986:function(e,t,n){"use strict";n.d(t,{Z:()=>i}),n(47120);var l=n(192379);function i(e){let t=l.useRef(e);return l.useInsertionEffect(()=>{t.current=e}),l.useCallback(function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];return t.current(...n)},[])}},740265:function(e,t,n){"use strict";n.d(t,{Z:()=>s});var l=n(726542),i=n(603113),r=n(981631),a=n(388032);function s(e){var t;let n=null!==(t=(0,i.Z)(e))&&void 0!==t?t:"";switch(n){case r.M7m.PS4:case r.M7m.PS5:return a.intl.formatToPlainString(a.t.A17aMz,{platform:n.toUpperCase()});case r.M7m.XBOX:case r.M7m.SAMSUNG:return a.intl.formatToPlainString(a.t.A17aMz,{platform:l.Z.get(n).name});default:return a.intl.string(a.t["2TbM/P"])}}},778569:function(e,t,n){"use strict";n.d(t,{Z:()=>a}),n(47120);var l=n(192379),i=n(81063);let r=["embedded_cover","embedded_background"];function a(e){let{applicationId:t,size:n,names:a=r}=e,[s,o]=l.useState(null),[u,c]=l.useState(!0),d=(0,i.getAssetImage)(t,s,n),m=l.useRef(a);return l.useEffect(()=>{m.current=a}),l.useEffect(()=>{let{current:e}=m;null!=t&&(0,i.getAssets)(t).then(t=>{for(let[n,l]of(c(!1),Object.entries(t)))if(null!=l&&""!==l.id&&e.includes(l.name)){o(l.id);return}})},[t]),{url:d,state:u?"loading":null!=d?"fetched":"not-found"}}},39628:function(e,t,n){"use strict";n.d(t,{Z:()=>p}),n(47120);var l,i=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(846519),u=n(600164),c=n(29954);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){let{percentage:t,isSingleLine:n}=e;return(0,i.jsx)("div",{className:s()({[c.bar]:n,[c.barInMultiLine]:!n}),children:(0,i.jsx)("div",{className:c.barInner,style:{width:"".concat(100*Math.max(Math.min(t,1),0),"%")}})})}function f(e){return String(e).padStart(2,"0")}function h(e){let{time:t,padLargestUnit:n}=e,l=Math.floor(t)%60,i=Math.floor(t/60)%60,r=Math.floor(t/3600);return 0===r?n?"".concat(f(i),":").concat(f(l)):"".concat(i,":").concat(f(l)):n?"".concat(f(r),":").concat(f(i),":").concat(f(l)):"".concat(r,":").concat(f(i),":").concat(f(l))}class g extends(l=r.PureComponent){componentDidMount(){this.timer.start(500,()=>{this.setState({now:Date.now()})})}componentWillUnmount(){this.timer.stop()}render(){let{start:e,end:t,className:n,themed:l,singleLine:r=!1}=this.props,{now:a}=this.state,o=(t-e)/1e3,d=Math.max(Math.min((a-e)/1e3,o),0);return r?(0,i.jsxs)("div",{className:s()(n,{[c.themed]:l},c.singleLineContainer),children:[(0,i.jsx)("div",{className:c.textLeftInSingleLine,children:h({time:d,padLargestUnit:!0})}),(0,i.jsx)("div",{className:c.barInSingleLine,children:(0,i.jsx)(m,{percentage:d/o,isSingleLine:!0})}),(0,i.jsx)("div",{className:c.textRight,children:h({time:o,padLargestUnit:!0})})]}):(0,i.jsxs)("div",{className:s()(n,{[c.themed]:l}),children:[(0,i.jsx)(m,{percentage:d/o,isSingleLine:!1}),(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(u.Z.Child,{grow:1,className:c.textLeft,children:h({time:d,padLargestUnit:!1})}),(0,i.jsx)(u.Z.Child,{grow:0,className:c.textRight,children:h({time:o,padLargestUnit:!1})})]})]})}constructor(...e){super(...e),d(this,"timer",new o.Xp),d(this,"state",{now:Date.now()})}}d(g,"defaultProps",{themed:!1});let p=g},387903:function(e,t,n){"use strict";n.d(t,{Y:()=>B,Z:()=>J}),n(789020),n(47120);var l,i,r=n(200651),a=n(192379),s=n(120356),o=n.n(s),u=n(512722),c=n.n(u),d=n(780384),m=n(481060),f=n(438139),h=n(410030),g=n(726542),p=n(600164),v=n(686546),S=n(111028),I=n(925329),x=n(810568),E=n(168524),T=n(565138),Z=n(707409),N=n(424678),y=n(750154),A=n(768581),C=n(630388),P=n(153066),j=n(740265),w=n(122810),_=n(833664),b=n(503438),R=n(802856),L=n(420660),M=n(39628),O=n(701488),D=n(981631),U=n(388032),k=n(312472);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=((i={}).ACTIVITY_FEED="ActivityFeed",i.STREAM_PREVIEW="StreamPreview",i.VOICE_CHANNEL="VoiceChannel",i);let F={StreamPreview:[108,60],VoiceChannel:[108,60],ActivityFeed:[900,500]},{getAssetImage:Y}=n(81063),z=(0,f.Z)(class extends a.PureComponent{render(){return(0,r.jsx)("div",{className:k.timestamp,children:this.props.message})}});function V(e){let{activity:t}=e,n=(0,h.ZP)(),l=function(e){let{activity:t}=e,n=null;return(0,b.Z)(t)&&(n=D.ABu.SPOTIFY),null!=t.platform&&[D.M7m.PS4,D.M7m.PS5].includes(t.platform)&&(n=D.ABu.PLAYSTATION),n}({activity:t});if(null==l)return null;let i=g.Z.get(l);return(0,r.jsx)("img",{alt:"",src:(0,d.ap)(n)?i.icon.lightSVG:i.icon.darkSVG,className:k.platformIcon})}class W extends(l=a.PureComponent){get activity(){let{activity:e,activityGuild:t}=this.props;return null!=t&&(null==e?void 0:e.type)!==D.IIU.PLAYING&&(null==e?void 0:e.type)!==D.IIU.WATCHING&&(null==e?void 0:e.type)!==D.IIU.LISTENING&&(null==e?void 0:e.type)!==D.IIU.HANG_STATUS?{type:D.IIU.PLAYING,name:U.intl.string(U.t.eXan7O)}:e}getTypeClass(e,t){return(0,P.l)(k,e,this.props.type,t)}isStreamerOnTypeActivityFeed(){return(0,L.Z)(this.activity)&&"ActivityFeed"===this.props.type}renderHeader(e){let t;let{hideHeader:n,activityGuild:l,showChannelDetails:i,renderHeaderAccessory:a}=this.props,s=this.activity;if(n||null==s)return null;let{name:u}=s;switch(s.type){case D.IIU.STREAMING:t=U.intl.formatToPlainString(U.t.Dzgz4u,{platform:[D.ABu.TWITCH,D.ABu.YOUTUBE].includes(u.toLowerCase())?u:g.Z.get(D.ABu.TWITCH).name});break;case D.IIU.LISTENING:t=U.intl.formatToPlainString(U.t["5sYPnp"],{name:u});break;case D.IIU.WATCHING:t=U.intl.formatToPlainString(U.t.Ge29Z2,{name:u});break;case D.IIU.PLAYING:t=(0,j.Z)(s);break;case D.IIU.COMPETING:t=U.intl.formatToPlainString(U.t.SQCo6O,{name:u})}if(null!=l){var c;t=(0,C.yE)(null!==(c=null==s?void 0:s.flags)&&void 0!==c?c:0,D.xjy.EMBEDDED)?s.type===D.IIU.WATCHING?U.intl.formatToPlainString(U.t["M/L8oq"],{guildName:l.name}):U.intl.formatToPlainString(U.t["4chKQk"],{guildName:l.name}):U.intl.formatToPlainString(U.t.sddlGB,{server:l.name})}return(0,r.jsxs)("div",{className:k.headerContainer,children:[(0,r.jsx)(m.X6q,{className:o()((0,P.l)(k,"headerText",e?"EmptyBody":"Normal")),variant:i?"text-xs/semibold":"eyebrow",children:(0,r.jsx)(S.Z,{children:t})}),null==a?void 0:a()]})}renderXboxImage(){return(0,r.jsx)("div",{className:k.assets,children:(0,r.jsx)("img",{alt:"",src:g.Z.get(D.ABu.XBOX).icon.customPNG,className:o()(this.getTypeClass("assetsLargeImage","Xbox"))})})}renderImage(e){var t,n,l;let i,s;let{type:u}=this.props,{assets:c,application_id:d}=e;if(null==c||null==c.large_image&&null==c.small_image)return null;(0,L.Z)(e)&&(i=F[u]);let f=(0,b.Z)(e),h=null!=c.large_image?(0,r.jsx)("img",{alt:null!==(t=c.large_text)&&void 0!==t?t:"",src:Y(d,c.large_image,null!=i?i:[O.Si.LARGE,O.Si.LARGE]),className:o()(this.getTypeClass("assetsLargeImage",this.isStreamerOnTypeActivityFeed()?D.ABu.TWITCH:""),{[null!==(n=this.getTypeClass("assetsLargeMask"))&&void 0!==n?n:""]:null!=c.small_image,[k.assetsLargeImageSpotify]:f})}):null;if(f)h=(0,r.jsx)(m.eee,{onClick:this.handleOpenSpotifyAlbum,children:h});else if((0,y.dS)(e)){let t=(0,y.rq)(e);if(null==t)return null;h=(0,r.jsx)(v.ZP,{mask:v.ZP.Masks.SQUIRCLE,width:O.Si.SMALL,height:O.Si.SMALL,children:(0,r.jsx)("img",{src:null!==(l=A.ZP.getGuildIconURL({id:t.guildId,icon:c.small_image,size:O.Si.SMALL}))&&void 0!==l?l:void 0,className:k.assetsLargeImageVoiceChannel,alt:""})})}return(this.isStreamerOnTypeActivityFeed()&&null!=e.url&&""!==e.url&&(h=(0,r.jsxs)("div",{className:k.twitchImageContainer,children:[(0,r.jsxs)("div",{className:k.twitchImageOverlay,children:[(0,r.jsx)(m.H,{className:k.streamName,children:e.name}),(0,r.jsx)("div",{className:k.streamGame,children:U.intl.format(U.t.gmCZRU,{game:e.details})})]}),(0,r.jsx)(m.eee,{className:k.twitchBackgroundImage,href:e.url,children:h})]})),(0,y.dS)(e)||null==c.small_image||(s=(0,r.jsx)(m.ua7,{text:""!==c.small_text?c.small_text:null,position:"top",children:e=>{var t;return(0,r.jsx)("img",{alt:null!==(t=c.small_text)&&void 0!==t?t:"",src:Y(d,c.small_image,[O.Si.SMALL,O.Si.SMALL]),className:this.getTypeClass("assetsSmallImage",null==h?"WithoutLargeImage":void 0),...e})}})),null==h)?(0,r.jsx)("div",{className:k.assets,children:s}):(0,r.jsxs)("div",{className:k.assets,children:[(0,r.jsx)(m.ua7,{text:null!=c.large_text?c.large_text:null,position:"top",children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return null!=h?a.cloneElement(h,{onMouseEnter:t,onMouseLeave:n}):null}}),s]})}renderGameImage(e){let{user:t,type:n,application:l,activityGuild:i}=this.props;return null!=e.assets||(0,w.Z)(e)||e.type!==D.IIU.PLAYING||"ActivityFeed"===n||t.bot?null:null==l&&null!=i?(0,r.jsx)("div",{className:o()(k.gameIcon,k.screenshareIcon)}):(0,r.jsx)(I.Z,{className:k.gameIcon,game:l})}renderName(e){let{user:t,application:n,hideName:l}=this.props;if(l)return null;let{details:i,type:a}=e;if(a===D.IIU.CUSTOM_STATUS)return null;let s=(0,_.Z)(e),u=e.name,c=u;return(s&&null!=n?c=(0,r.jsx)("span",{className:k.activityName,children:c}):!s&&(u=i,c=i,(0,b.Z)(e)&&null!=e.sync_id&&null!=i?c=(0,r.jsx)(m.eee,{className:k.bodyLink,onClick:this.handleOpenSpotifyTrack,children:i}):(0,y.dS)(e)&&(c=e.name)),null==c)?null:(0,r.jsx)(m.Text,{title:u,variant:"text-sm/semibold",className:o()((0,P.l)(k,"name",t.bot?"wrap":"normal")),children:c})}renderDetails(e){let t;let{details:n,state:l}=e,i=n,a=n;if(e.type===D.IIU.CUSTOM_STATUS)i=l;else if(!(0,_.Z)(e)){if(i=l,a=l,(0,b.Z)(e)&&null!=l)i=U.intl.format(U.t.uU9le3,{artists:a,artistsHook:(t,n)=>(0,r.jsx)(N.Z,{artists:l,linkClassName:k.bodyLink,canOpen:null!=e.sync_id,onOpenSpotifyArtist:this.handleOpenSpotifyArtist},n)});else if((0,y.dS)(e)){var s;i=null===(s=e.assets)||void 0===s?void 0:s.small_text}}return null==i||""===i?null:((0,L.Z)(e)&&(i=U.intl.formatToPlainString(U.t.gmCZRU,{game:i})),null!=t)?(0,r.jsx)(m.P3F,{onClick:t,title:null!=a?a:void 0,className:k.clickableDetails,children:i}):(0,r.jsx)("div",{title:null!=a?a:void 0,className:(0,L.Z)(e)||(0,b.Z)(e)?k.detailsWrap:k.details,children:i})}renderChannelDetails(e){let{activityGuild:t,showChannelDetails:n,channel:l}=this.props;return n&&null!=t?null==l?(0,r.jsx)("div",{className:(0,L.Z)(e)||(0,b.Z)(e)?k.detailsWrap:k.details,children:U.intl.format(U.t["hq/Qzc"],{guildName:t.name})}):(0,r.jsxs)("div",{className:o()((0,L.Z)(e)||(0,b.Z)(e)?k.detailsWrap:k.details,k.guildDetails),children:[(0,r.jsx)(T.Z,{guild:t,size:T.Z.Sizes.SMOL,className:k.guildIcon}),(0,r.jsx)(m.Fbu,{size:"xxs",color:"currentColor"}),(0,r.jsxs)("div",{className:k.voiceChannelInfo,children:[(0,r.jsx)(m.gj8,{size:"xxs",color:"currentColor"}),(0,r.jsx)(m.Text,{variant:"text-xs/normal",children:null==l?void 0:l.name})]})]}):null}renderTimePlayed(e){let{activityGuild:t}=this.props;if(!(0,_.Z)(e)||(0,b.Z)(e))return null;let{timestamps:n}=e;return null==n?null:(0,w.Z)(e)?(0,r.jsx)(z,{timestamps:n}):(0,r.jsx)(Z.ZP,{start:n.start,location:Z.ZP.Locations.USER_ACTIVITY,className:k.playTime,isApplicationStreaming:null!=t})}renderTimeBar(e){if(!(0,b.Z)(e))return null;let{timestamps:t}=e;if(null==t)return null;let{start:n,end:l}=t;return null==n||null==l?null:(0,r.jsx)(M.Z,{start:n,end:l,className:this.getTypeClass("timeBar"),themed:"VoiceChannel"===this.props.type})}renderState(e,t){var n,l;let i;let{state:a,party:s,assets:o}=e,u=a,c=a;return(!(0,_.Z)(e)&&(u=null==o?void 0:o.large_text,c=null==o?void 0:o.large_text,(0,b.Z)(e)&&null!=u&&(u=U.intl.format(U.t.vOLBEx,{album:c,albumHook:(t,n)=>null!=e.sync_id&&null!=c?(0,r.jsx)(m.eee,{className:k.bodyLink,onClick:this.handleOpenSpotifyAlbum,children:c},n):c}))),null!=u&&""!==u&&e.type!==D.IIU.CUSTOM_STATUS||(0,y.dS)(e))?((null==s?void 0:s.size)==null&&[O.Zc].includes(null!==(n=e.application_id)&&void 0!==n?n:"")?i=U.intl.formatToPlainString(U.t["u//9Bw"],{count:"0",max:null!==(l=null==t?void 0:t.getMaxParticipants())&&void 0!==l?l:0}):(0,y.dS)(e)&&(null==s?void 0:s.size)!=null?i=U.intl.formatToPlainString(U.t["JC/3x8"],{numSpeakers:s.size[0],numListeners:s.size[1]-s.size[0]}):(null==s?void 0:s.size)!=null&&s.size.length>=2&&(i=0===s.size[1]?U.intl.formatToPlainString(U.t.IM4J4e,{count:s.size[0]}):U.intl.formatToPlainString(U.t["u//9Bw"],{count:s.size[0],max:s.size[1]})),(0,r.jsxs)("div",{className:k.state,children:[(0,r.jsx)("span",{title:c,children:u}),null!=i?(0,r.jsxs)("span",{children:[" ",i]}):null]})):null}render(){let e;let{type:t,renderActions:n,className:l,application:i,showReactions:a,onClose:s,onOpenGameProfileModal:u}=this.props,c=this.activity;if(null==c||c.type===D.IIU.CUSTOM_STATUS)return null;let d="ActivityFeed"===t,f="StreamPreview"===t,h=!1;(0,R.Z)(c)?(e=this.renderXboxImage(),h=!0):null==(e=this.renderImage(c))&&(h=null!=(e=this.renderGameImage(c)));let g=this.renderName(c),v=this.renderDetails(c),S=this.renderState(c,i),I=this.renderTimePlayed(c),x=this.renderChannelDetails(c),E=null!=n?n():null,T=this.renderTimeBar(c),Z=![e,g,v,S,I,T,E].some(e=>null!=e);return(0,r.jsxs)("div",{className:o()(this.getTypeClass("activity"),l),children:[this.renderHeader(Z),(0,r.jsx)("div",{className:o()(h?k.bodyAlignCenter:k.bodyNormal,a&&!f&&k.wrap),children:(0,r.jsxs)("div",{className:k.activityDetails,children:[e,this.isStreamerOnTypeActivityFeed()?null:(0,r.jsxs)(p.Z.Child,{className:o()((0,P.l)(k,"content",h?"GameImage":null!=e?"Images":"NoImages",t)),children:[(0,r.jsxs)(m.P3F,{className:o()(null!=u&&k.openGameProfile),onClick:null!=u?e=>{u(e),null==s||s()}:void 0,children:[g,v,S,I]}),x,f?null:T,d?E:null]})]})}),f?E:null,(0,r.jsx)(V,{activity:c})]})}constructor(...e){super(...e),G(this,"handleOpenSpotifyTrack",()=>{let{activity:e,onOpenSpotifyTrack:t}=this.props;c()(null!=e,"Spotify activity was null"),null==t||t(e)}),G(this,"handleOpenSpotifyArtist",e=>{let{activity:t,onOpenSpotifyArtist:n,user:l}=this.props;c()(null!=t,"Spotify activity was null"),null==n||n(t,l.id,e)}),G(this,"handleOpenSpotifyAlbum",()=>{let{activity:e,onOpenSpotifyAlbum:t,user:n}=this.props;c()(null!=e,"Spotify activity was null"),null==t||t(e,n.id)})}}G(W,"Types",B);let H=e=>{var t,n,l;let i=(0,E.Z)({location:"UserActivity",applicationId:null!==(l=null===(t=e.application)||void 0===t?void 0:t.id)&&void 0!==l?l:null===(n=e.activity)||void 0===n?void 0:n.application_id,source:x.m1.UserProfile,sourceUserId:e.user.id,trackEntryPointImpression:!0});return(0,r.jsx)(W,{...e,onOpenGameProfileModal:i})};H.Types=B;let J=H},850827:function(e,t,n){"use strict";n.d(t,{Z:()=>_});var l=n(200651);n(192379);var i=n(120356),r=n.n(i),a=n(512722),s=n.n(a),o=n(442837),u=n(481060),c=n(730749),d=n(726542),m=n(600164),f=n(750154),h=n(594174),g=n(374129),p=n(639351),v=n(503438),S=n(802856),I=n(387903),x=n(606925),E=n(719216),T=n(429589),Z=n(636245),N=n(697761),y=n(611459),A=n(544671),C=n(757182),P=n(910424),j=n(981631),w=n(701491);let _=(0,c.Z)(e=>{let{activity:t,embeddedActivity:n,user:i,applicationStream:a,className:c,guildId:_,channelId:b,source:R,color:L=u.zxk.Colors.WHITE,look:M=u.zxk.Looks.OUTLINED,type:O,onAction:D}=e,U=(0,o.e7)([h.default],()=>{let e=h.default.getCurrentUser();return s()(null!=e,"UserActivityActions: currentUser cannot be undefined"),e}),k=O===I.Y.STREAM_PREVIEW||null!=a,G=(0,v.Z)(t),B=G||k?m.Z.Direction.HORIZONTAL:m.Z.Direction.VERTICAL,F=B===m.Z.Direction.VERTICAL;return(0,l.jsx)(m.Z,{grow:0,align:m.Z.Align.STRETCH,direction:B,wrap:F?m.Z.Wrap.WRAP:m.Z.Wrap.NO_WRAP,className:r()(c,w.buttonsWrapper,F?w.vertical:w.horizontal),children:(()=>{if((0,S.Z)(t))return(0,l.jsx)(x.Z,{platform:d.Z.get(j.ABu.XBOX),look:M,color:L,onAction:D,Icon:p.Z},"ConnectPlatformActivityButton");if((null==t?void 0:t.platform)===j.M7m.PS4||(null==t?void 0:t.platform)===j.M7m.PS5)return(0,l.jsx)(x.Z,{look:M,color:L,platform:d.Z.get(j.ABu.PLAYSTATION),onAction:D,Icon:g.Z},"ConnectPlatformActivityButton");if(G){let e=(0,l.jsx)(A.Z,{activity:t,user:i,guildId:_,channelId:b,source:R,look:M,color:L,onAction:D},"spotify-activity-sync-button"),n=(0,l.jsx)(y.Z,{activity:t,user:i,source:R,look:M,color:L,onAction:D},"spotify-activity-play-button");return(0,l.jsxs)(l.Fragment,{children:[n,e]})}if((0,f.dS)(t)){let e=(0,f.rq)(t);return null==e?null:(0,l.jsx)(Z.Z,{guildId:e.guildId,channelId:e.channelId,color:L,look:M,onAction:D},e.channelId)}return k?(0,l.jsx)(P.Z,{isCurrentUser:U.id===i.id,color:L,look:M,applicationStream:a,onAction:D},"watch-button"):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C.Z,{activity:t,color:L,look:M,onAction:D},"watch-button"),(0,l.jsx)(T.Z,{activity:t,embeddedActivity:n,user:i,color:L,look:M,onAction:D},"join-activity-button"),(0,l.jsx)(N.Z,{activity:t,user:i,color:L,look:M,onAction:D},"notify-button"),(0,l.jsx)(E.Z,{user:i,color:L,look:M,activity:t,onAction:D},"custom-activity-button")]})})()})})},606925:function(e,t,n){"use strict";n.d(t,{Z:()=>c});var l=n(200651);n(192379);var i=n(442837),r=n(231757),a=n(553795),s=n(915863),o=n(388032),u=n(770662);function c(e){let{platform:t,color:n,look:c,onAction:d,Icon:m}=e;if((0,i.e7)([a.Z],()=>a.Z.getAccounts().some(e=>e.type===t.type)))return null;let f=null!=m?(0,l.jsx)(m,{className:u.platformIcon}):(0,l.jsx)("img",{alt:"",className:u.platformIcon,src:t.icon.whiteSVG});return(0,l.jsx)(s.Z,{onClick:()=>{null==d||d(),(0,r.Z)({platformType:t.type,location:"Activity Action"})},color:n,look:c,fullWidth:!0,children:(0,l.jsxs)("div",{className:u.flex,children:[f,o.intl.format(o.t.XWSHTU,{platform:t.name})]})},"connect-platform-activity")}},719216:function(e,t,n){"use strict";n.d(t,{Z:()=>o});var l=n(200651);n(192379);var i=n(763472),r=n(49012),a=n(591759),s=n(915863);function o(e){let{activity:t,color:n,user:o,look:u,onAction:c}=e;if((null==t?void 0:t.buttons)==null||t.buttons.length<1)return null;async function d(e,t,n){try{let l=await (0,i.sd)(e,t);if(l.button_urls.length<=n)return;let s=l.button_urls[n];if("string"!=typeof s)return;let o=a.Z.safeParseWithQuery(s);if(null==o||null==o.protocol||null==o.hostname)return;(0,r.q)({href:a.Z.format(o),trusted:!1})}catch(e){}}return(0,l.jsx)(l.Fragment,{children:t.buttons.map((e,i)=>(0,l.jsx)(s.Z,{color:n,look:u,onClick:()=>{null==c||c(),d(t,o.id,i)},children:e},"customButton-".concat(i)))})}},636245:function(e,t,n){"use strict";n.d(t,{Z:()=>c});var l=n(200651);n(192379);var i=n(442837),r=n(922482),a=n(979651),s=n(915863),o=n(388032),u=n(27314);let c=e=>{let{guildId:t,channelId:n,color:c,look:d,onAction:m}=e,f=(0,i.e7)([a.Z],()=>a.Z.isInChannel(n),[n]);return(0,l.jsx)(s.Z,{className:u.button,color:c,look:d,disabled:f,onClick:()=>{null==m||m(),r.AC(t,n)},fullWidth:!0,children:o.intl.string(o.t.ZYO5OD)},"stage")}},697761:function(e,t,n){"use strict";n.d(t,{Z:()=>u});var l=n(200651);n(192379);var i=n(710845),r=n(620662),a=n(915863),s=n(981631),o=n(388032);function u(e){let{activity:t,user:n,look:u,color:c,onAction:d}=e;return(0,r.Z)(t,s.xjy.INSTANCE)?(0,l.jsx)(a.Z,{look:u,color:c,onClick:()=>{null==d||d(),new i.Z("UserActivityActions").log("notify",n.id,t)},fullWidth:!0,children:o.intl.string(o.t.vwl1PD)},"notify"):null}},611459:function(e,t,n){"use strict";n.d(t,{Z:()=>u});var l=n(200651);n(192379);var i=n(246841),r=n(620662),a=n(503438),s=n(981631),o=n(514190);function u(e){let{activity:t,user:n,source:u,look:c,color:d,onAction:m}=e;return null!=t&&(0,r.Z)(t,s.xjy.PLAY)&&(0,a.Z)(t)?(0,l.jsx)(i.Z,{className:o.button,size:o.buttonSize,look:c,color:d,fullWidth:!0,activity:t,user:n,source:u,onAction:m},"play"):null}},544671:function(e,t,n){"use strict";n.d(t,{Z:()=>u});var l=n(200651);n(192379);var i=n(557711),r=n(620662),a=n(503438),s=n(981631),o=n(514190);function u(e){let{activity:t,user:n,guildId:u,channelId:c,source:d,look:m,color:f,onAction:h}=e;return null!=t&&(0,r.Z)(t,s.xjy.SYNC)&&(0,a.Z)(t)?(0,l.jsx)(i.Z,{className:o.button,size:o.buttonSize,look:m,color:f,user:n,activity:t,guildId:null!=u?u:void 0,channelId:c,source:d,onAction:h},"sync"):null}},910424:function(e,t,n){"use strict";n.d(t,{Z:()=>S}),n(47120);var l=n(200651);n(192379);var i=n(442837),r=n(481060),a=n(572691),s=n(287734),o=n(872810),u=n(40851),c=n(102172),d=n(199902),m=n(592125),f=n(585483),h=n(915863),g=n(981631),p=n(388032),v=n(259860);function S(e){let{isCurrentUser:t,color:n,look:S,applicationStream:I,onAction:x}=e,{activeStream:E,watchingOtherStream:T}=(0,i.cj)([d.Z],()=>({activeStream:d.Z.getActiveStreamForApplicationStream(I),watchingOtherStream:null!=I&&d.Z.getAllActiveStreamsForChannel(I.channelId).filter(e=>{let{ownerId:t}=e;return t!==I.ownerId}).length>0})),Z=(0,i.e7)([m.Z],()=>m.Z.getChannel(null==I?void 0:I.channelId)),[N,y]=(0,c.wq)(Z),A=(0,u.Aq)(),C=null!=E&&null!=I&&E.state!==g.jm8.ENDED&&E.ownerId===I.ownerId,P=e=>{null!=I&&(null==x||x(),s.default.selectVoiceChannel(I.channelId),C||(0,o.iV)(I,{forceMultiple:e}),A.dispatch(g.CkL.POPOUT_CLOSE),f.S.dispatch(g.CkL.MODAL_CLOSE),a.Z.popAll())};if(null==I)return null;let j=(0,c.P9)(y);t?j=p.intl.string(p.t.XvBdeX):C&&(j=p.intl.string(p.t.JH1SJy));let w={color:n,look:S};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Z,{disabled:t||C||!N,onClick:()=>P(!1),...w,fullWidth:!0,children:[(0,l.jsx)(r.hGI,{size:"md",color:"currentColor",className:v.streamIcon}),j]},"play"),T&&!C?(0,l.jsx)(r.ua7,{text:p.intl.string(p.t.wCrzur),children:e=>(0,l.jsx)(h.Z,{...e,onClick:()=>{var t;null===(t=e.onClick)||void 0===t||t.call(e),P(!0)},...w,className:v.iconButton,size:v.iconButtonSize,children:(0,l.jsx)(r.OgY,{size:"xs",color:"currentColor",className:v.iconSize})})}):null]})}},202458:function(e,t,n){"use strict";n.d(t,{Z:()=>i});let l=(0,n(818083).B)({kind:"user",id:"2024-02_activity_react_reply",label:"Activity React Reply",defaultConfig:{enableActivityReactReply:!1},treatments:[{id:1,label:"Enable Activity React / Reply Buttons",config:{enableActivityReactReply:!0}}]}),i=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return l.useExperiment({location:"useIsEligibleForActivityReactReply"},{autoTrackExposure:e}).enableActivityReactReply}},954017:function(e,t,n){"use strict";n.d(t,{H:()=>S,R:()=>I});var l=n(512722),i=n.n(l),r=n(493683),a=n(726542),s=n(122810),o=n(503438),u=n(693824),c=n(690725),d=n(90712),m=n(592125),f=n(81063),h=n(201133),g=n(55e3),p=n(314091),v=n(981631);let S=async e=>{let{reaction:t,altText:n,...l}=e,i=await E(l);(0,h.a)({file:i,altText:n,user:l.user,reaction:t})},I=async e=>{let{reply:t,altText:n,...l}=e,a=await E(l),s=await r.Z.openPrivateChannel(l.user.id,!1,!1),o=m.Z.getChannel(s);i()(null!=o,"Channel cannot be null"),(0,h.B)({file:a,altText:n,channel:o,reply:t})},x=e=>{let{activity:t,application:l,user:i}=e,{theme:r}=(0,p.j3)(i,"black"),a="dark"===r,s=(0,d.Z)(t),{assets:o,application_id:u}=t,c=(0,f.getAssetImage)(u,null==o?void 0:o.large_image,64),m=null==l?void 0:l.getIconURL(64),h=null!=s?a?s.icon.darkPNG:s.icon.lightPNG:t.type===v.IIU.PLAYING?a?n(414575):n(807612):null;return{...null!=h&&{Platform:h},...null!=c&&{AssetImage:c.includes("http")?c:n(869469)(c)},...null!=m&&{ApplicationImage:m}}},E=async e=>{let{user:t,activity:n,application:l,stream:i}=e,d=await r.Z.openPrivateChannel(t.id,!1,!1),m=x({activity:n,application:l,user:t});return await (0,c.f)({assetsToLoad:m,drawImage:e=>{var l;e.setFont({truncate:u.GX.Truncate}),null!=i?A(e,n,t):(0,o.Z)(n)?N(e,n,t):(0,s.Z)(n)&&n.name===a.Z.get(v.ABu.LEAGUE_OF_LEGENDS).name?y(e,n,t):Z(e,n,t),(null===(l=e.assetMap)||void 0===l?void 0:l.has("Platform"))&&e.drawImage("Platform",{x:g.En-g.o3-g.ez,y:g.o3},{w:g.ez,h:g.ez})},exportConfigs:{format:u.kH.CloudUpload,quality:1,fileName:"user-reacting-to-".concat(n.name,".png").toLowerCase(),fileType:"png",channelId:d}})},T=(e,t)=>{e.setColor("dark"===t?"white":"black"),e.drawPath(g.Cv,{x:g.o3,y:g.o3},!0,2+2/3)},Z=(e,t,n)=>{var l,i,r;e.setSize({w:g.En,h:g.dI});let{color:a,theme:s}=(0,p.j3)(n,"black");e.setColor(a),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),e.setColor("dark"===s?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.7)"),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),(null===(l=e.assetMap)||void 0===l?void 0:l.has("AssetImage"))?e.drawRoundedImage("AssetImage",{x:g.o3,y:g.o3},{w:g.vS,h:g.vS},8):(null===(i=e.assetMap)||void 0===i?void 0:i.has("ApplicationImage"))?e.drawRoundedImage("ApplicationImage",{x:g.o3,y:g.o3},{w:g.vS,h:g.vS},8):T(e,s);let o=g.vS+g.o3+g.sB;e.setColor("dark"===s?"white":"rgb(6, 6, 7)"),e.setFont({size:16,family:["gg sans","sans-serif"],weight:700}),e.drawText("".concat(t.name),{x:o,y:g.SG+1*g.Nv,w:(null===(r=e.assetMap)||void 0===r?void 0:r.has(g.W3.Platform))?g.ee:g.sp},!0),null!=t.timestamps&&(e.setFont({size:14,weight:400}),e.drawText("for ".concat((0,p.b6)(t.timestamps)),{x:o,y:g.SG+2*g.Nv},!0))},N=(e,t,n)=>{var l,i;e.setSize({w:g.En,h:g.dI});let{color:r,theme:a}=(0,p.j3)(n,"black");e.setColor(r),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),e.setColor("dark"===a?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.7)"),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),(null===(l=e.assetMap)||void 0===l?void 0:l.has("AssetImage"))&&e.drawRoundedImage("AssetImage",{x:g.o3,y:g.o3},{w:g.vS,h:g.vS},8);let s=g.vS+g.o3+g.sB;e.setColor("dark"===a?"white":"rgb(6, 6, 7)"),e.setFont({size:14,family:["gg sans","sans-serif"],weight:700}),e.drawText("".concat(t.details),{x:s,y:g.SG+1*g.Nv,w:(null===(i=e.assetMap)||void 0===i?void 0:i.has(g.W3.Platform))?g.ee:g.sp},!0),e.setFont({size:14,weight:400}),e.drawText("by ".concat(t.state),{x:s,y:g.SG+2*g.Nv},!0)},y=(e,t,n)=>{var l;e.setSize({w:g.En,h:g.dI});let{color:i,theme:r}=(0,p.j3)(n,"black");e.setColor(i),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),e.setColor("dark"===r?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.7)"),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),e.setColor("dark"===r?"white":"black"),e.drawRoundedImage("AssetImage",{x:g.o3,y:g.o3},{w:g.vS,h:g.vS},8)===u.vP.Failure&&e.drawPath(g.Cv,{x:g.o3,y:g.o3},!0,2+2/3);let a=g.vS+g.o3+g.sB;e.setColor("dark"===r?"white":"rgb(6, 6, 7)"),e.setFont({size:14,family:["gg sans","sans-serif"],weight:700}),e.drawText("".concat(t.details),{x:a,y:g.SG+1*g.Nv,w:(null===(l=e.assetMap)||void 0===l?void 0:l.has("Platform"))?g.ee:g.sp},!0),e.setFont({size:14,weight:400}),e.drawText("".concat(t.state),{x:a,y:g.SG+2*g.Nv},!0)},A=(e,t,n)=>{var l,i,r;e.setSize({w:g.En,h:g.dI});let{color:a,theme:s}=(0,p.j3)(n,"black");e.setColor(a),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),e.setColor("dark"===s?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.7)"),e.drawRoundedRect({x:0,y:0,h:g.dI,w:g.En},8,!0),(null===(l=e.assetMap)||void 0===l?void 0:l.has("AssetImage"))?e.drawRoundedImage("AssetImage",{x:g.o3,y:g.o3},{w:g.vS,h:g.vS},8):(null===(i=e.assetMap)||void 0===i?void 0:i.has("ApplicationImage"))?e.drawRoundedImage("ApplicationImage",{x:g.o3,y:g.o3},{w:g.vS,h:g.vS},8):T(e,s);let o=g.vS+g.o3+g.sB;e.setColor("dark"===s?"white":"rgb(6, 6, 7)"),e.setFont({size:16,family:["gg sans","sans-serif"],weight:700}),e.drawText("Streaming ".concat(t.name),{x:o,y:g.SG+g.Nv*(null!=t.timestamps?1:1.5),w:(null===(r=e.assetMap)||void 0===r?void 0:r.has(g.W3.Platform))?g.ee:g.sp},!0),null!=t.timestamps&&(e.setFont({size:14,weight:500}),e.drawText("for ".concat((0,p.b6)(t.timestamps)),{x:o,y:g.SG+2*g.Nv},!0))}},314091:function(e,t,n){"use strict";n.d(t,{b6:()=>f,j3:()=>h,xC:()=>g}),n(47120);var l=n(866442),i=n(503438),r=n(420660),a=n(168631),s=n(621853),o=n(981631),u=n(388032);let c=e=>"".concat(e).length<13?1e3*e:e,d=e=>{let t=Date.now()/1e3;return null!=e.end?m(t,c(e.end)/1e3):null!=e.start?m(c(e.start)/1e3,t):{hours:0,minutes:0,seconds:0}},m=(e,t)=>{let n=Math.max(t-e,0),l=Math.floor(n)%60,i=Math.floor(n/60)%60;return{hours:Math.floor(n/3600)%24,minutes:i,seconds:l}},f=e=>{let t=d(e);return t.hours>0?"".concat(t.hours," hours"):t.minutes>0?"".concat(t.minutes," minutes"):"".concat(t.seconds," seconds")},h=(e,t)=>{var n;let i=s.Z.getUserProfile(e.id),[r,o]=null!==(n=null==i?void 0:i.themeColors)&&void 0!==n?n:[],u=(0,a.V3)(r),c=null!=o?(0,l.Rf)(o):t;return{color:c,theme:c===t?"dark":u}},g=(e,t)=>(0,i.Z)(t)?u.intl.formatToPlainString(u.t.Xuqn4e,{username:e.username,song:t.details,artist:t.state}):t.type===o.IIU.PLAYING?u.intl.formatToPlainString(u.t.tAwI1t,{username:e.username,activity:t.name}):t.type===o.IIU.WATCHING?u.intl.formatToPlainString(u.t.kCbfbG,{username:e.username,activity:t.name}):t.type===o.IIU.LISTENING?u.intl.formatToPlainString(u.t.h2yWWV,{username:e.username,activity:t.name}):(0,r.Z)(t)||t.type===o.IIU.STREAMING?u.intl.formatToPlainString(u.t.wqU7Wl,{username:e.username,activity:t.name}):u.intl.formatToPlainString(u.t["75iW6e"],{username:e.username,activity:t.name})},159244:function(e,t,n){"use strict";n.d(t,{Z:()=>s});var l=n(442837),i=n(699516),r=n(594174),a=n(981631);let s=e=>{let t=(0,l.e7)([r.default],()=>r.default.getCurrentUser()),n=(0,l.e7)([i.Z],()=>i.Z.getRelationshipType(e.id)),s=e.isNonUserBot();return e.id!==(null==t?void 0:t.id)&&n!==a.OGo.BLOCKED&&!s}},415635:function(e,t,n){"use strict";n.d(t,{Z:()=>p}),n(47120);var l=n(200651),i=n(192379),r=n(772848),a=n(442837),s=n(570140),o=n(607070),u=n(367907),c=n(37091),d=n(721264),m=n(963838),f=n(39127),h=n(981631),g=n(893904);function p(e){let{channelId:t,guildId:n,userId:p,containerDimensions:v}=e,S=(0,a.e7)([o.Z],()=>o.Z.useReducedMotion),[I,x]=i.useState([]),E=I.length<50;i.useEffect(()=>{function e(e){var l;let{channelId:i,userId:a,emoji:s,animationType:o,animationId:f}=e;if(null!=p&&p!==a||c.Z.getEnabled()&&(0,d.Z)(null!==(l=null==s?void 0:s.name)&&void 0!==l?l:""))return;let g=null!=s&&null!=o&&null!=f;if(i===t&&!S&&E&&g){let e=(0,m._r)(s),l=null!=s.id&&!s.animated,i={id:(0,r.Z)(),animationType:o,animationId:f,shouldResize:l,url:e,userId:a};x(e=>[...e,i]),u.ZP.trackWithMetadata(h.rMx.VOICE_CHANNEL_EFFECT_VIEWED,{channel_id:t,guild_id:n})}}return s.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e),()=>{s.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}},[t,n,p,S,E]);let T=i.useCallback(e=>{x(t=>{let n=[...t],l=n.findIndex(t=>t.id===e);return n.splice(l,1),n})},[]);return S?null:(0,l.jsx)("div",{className:g.effectsWrapper,style:{width:v.width},children:(0,l.jsx)("div",{className:g.effects,children:I.map(e=>(0,l.jsx)(f.Z,{containerDimensions:v,effect:e,onComplete:T},e.id))})})}},282256:function(e,t,n){"use strict";n.d(t,{Z:()=>f}),n(47120);var l=n(200651),i=n(192379),r=n(120356),a=n.n(r),s=n(434650),o=n(393903),u=n(448986),c=n(353093),d=n(979264),m=n(972594);let f=i.memo(function(e){let{children:t,isOverlay:n,contextGuildId:r,...f}=e,h=i.useRef(null),[g,p]=i.useState({maskImage:"none"}),v=(0,u.Z)(()=>{var e,t;if(n){p({maskImage:"none"});return}let l=null===(e=S.current)||void 0===e?void 0:e.getBoundingClientRect(),i=null===(t=h.current)||void 0===t?void 0:t.getBoundingClientRect();if(null==l||null==i){p({maskImage:"none"});return}let r=i.right-l.right,a=i.width-r;if(a>i.width){p({maskImage:"none"});return}p({maskImage:"linear-gradient(to right, rgba(0, 0, 0, 1) 0, rgba(0, 0, 0, 0) ".concat(a,"px)")})}),S=(0,o.y)(v),I=(0,c.p0)(f.userId,r),x={handleResize:v,positionTrackerRef:S},E=i.useRef(x);i.useEffect(()=>{E.current=x}),i.useEffect(()=>{let{handleResize:e,positionTrackerRef:t}=E.current;null!=t.current&&e()},[I]);let T=(0,s.O)(v);return(0,l.jsxs)("div",{className:a()(m.container,n&&m.isOverlayContainer),ref:S,children:[(0,l.jsx)("div",{className:m.usernameContainer,children:t}),(0,l.jsx)("div",{className:m.chipletParent,ref:T,children:(0,l.jsx)("span",{className:a()(m.chipletContainer,!I&&n&&m.noPadding),ref:h,style:g,children:(0,l.jsx)(d.ZP,{...f,contextGuildId:r,className:a()(f.className,n&&m.isOverlayTag)})})})]})})},175470:function(e,t,n){"use strict";n.d(t,{n:()=>l});let l=(0,n(15729).U)(e=>({clipsButtonRef:null,setClipsButtonRef:t=>e({clipsButtonRef:t})}))},576855:function(e,t,n){"use strict";n.d(t,{Z:()=>h});var l,i,r=n(200651),a=n(192379),s=n(120356),o=n.n(s),u=n(481060),c=n(388032),d=n(593878);let m={BLOCK:d.block,INLINE:d.inline};class f extends(i=a.PureComponent){render(){let{children:e,className:t,textClassName:n,type:l=m.BLOCK,style:i}=this.props;return(0,r.jsxs)("div",{className:o()(t,l),style:i,children:[(0,r.jsxs)(u.Text,{variant:"text-sm/bold",tag:"div",color:"text-positive",className:d.pro,children:[c.intl.string(c.t["8tvIiI"]),":"]}),(0,r.jsx)(u.Text,{className:o()(d.tip,n),variant:"text-sm/normal",children:e})]})}}(l="Types")in f?Object.defineProperty(f,l,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[l]=m;let h=f},718805:function(e,t,n){"use strict";n.d(t,{Z:()=>s});var l=n(569545),i=n(102172),r=n(981631),a=n(388032);function s(e,t,n,s){return null==t||t.state===r.jm8.ENDED||(0,l.V9)(t)!==(0,l.V9)(e)?(0,i.P9)(s):t.ownerId===n?a.intl.string(a.t.XvBdeX):a.intl.string(a.t.JH1SJy)}},701362:function(e,t,n){"use strict";n.d(t,{Z:()=>j}),n(47120);var l=n(200651),i=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),u=n(717881),c=n(616780),d=n(850827),m=n(576855),f=n(258609),h=n(199902),g=n(314897),p=n(430824),v=n(496675),S=n(158776),I=n(979651),x=n(626135),E=n(102172),T=n(687516),Z=n(718805),N=n(871118),y=n(981631),A=n(388032),C=n(343430);class P extends i.PureComponent{componentDidMount(){let{user:e,streamApplication:t}=this.props;x.default.track(y.rMx.OPEN_POPOUT,{type:"Stream Preview",other_user_id:e.id,application_id:null!=t?t.id:null,application_name:null!=t?t.name:null,game_id:null!=t?t.id:null,is_streaming:!0})}renderPreview(e){let{onWatch:t,activeStream:n,currentUserId:i,canWatch:r,unavailableReason:a}=this.props;return(0,l.jsxs)(o.P3F,{onClick:t,className:C.previewContainer,children:[(0,l.jsx)(N.Z,{className:C.previewImage,stream:e}),r?(0,l.jsx)("div",{className:C.previewHover,children:(0,l.jsx)(o.Text,{variant:"text-sm/normal",color:"none",className:C.white,children:(0,Z.Z)(e,n,i,a)})}):null]})}render(){let{activity:e,user:t,stream:n,previewIsOpen:i,onAction:r,hideTip:s}=this.props;return null==n?null:(0,l.jsx)("div",{className:a()(C.streamPreviewWrapper,{[C.mounted]:i}),children:(0,l.jsxs)("div",{className:C.streamPreview,children:[this.renderPreview(n),(0,l.jsxs)("div",{className:C.body,children:[null!=e?(0,l.jsx)(u.Z,{hideHeader:!0,type:u.P.STREAM_PREVIEW,activity:e,user:t,guildId:n.guildId,channelId:n.channelId,analyticsParams:{location:{page:y.ZY5.GO_LIVE_MODAL,section:y.jXE.STREAM_VIEWER_POPOUT}},onAction:r}):(0,l.jsx)(d.Z,{type:u.P.STREAM_PREVIEW,applicationStream:n,user:t,guildId:n.guildId,channelId:n.channelId,className:C.activityActions,color:C.watchButton,onAction:r}),!s&&(0,l.jsx)(m.Z,{type:m.Z.Types.INLINE,className:C.protip,children:__OVERLAY__?A.intl.string(A.t["YRdw7+"]):A.intl.string(A.t.CCTgbG)})]})]})})}}function j(e){let{user:t,channel:n,...r}=e,[a,o]=(0,s.Wu)([I.Z,p.Z,v.Z,f.Z],()=>(0,E.p9)(n,I.Z,p.Z,v.Z,f.Z)),u=(0,s.e7)([h.Z],()=>h.Z.getStreamForUser(t.id,n.getGuildId())),d=(0,s.e7)([h.Z],()=>h.Z.getActiveStreamForApplicationStream(u)),m=(0,s.e7)([g.default],()=>g.default.getId()),x=(0,T.Cf)(u),Z=(0,s.e7)([S.Z],()=>(0,T.Um)(u,S.Z)),N=i.useMemo(()=>({[n.guild_id]:[t.id]}),[n.guild_id,t.id]);return(0,c.$)(N),(0,l.jsx)(P,{...r,canWatch:a,unavailableReason:o,user:t,streamApplication:x,stream:u,activeStream:d,currentUserId:m,activity:Z})}},707409:function(e,t,n){"use strict";n.d(t,{CI:()=>r.CI,J6:()=>r.J6,ZP:()=>a});var l=n(200651);n(192379);var i=n(144830),r=n(379649);let a=(0,i.Z)(function(e){let{children:t,className:n}=e;return(0,l.jsx)("span",{className:n,children:t})})},687058:function(e,t,n){"use strict";n.d(t,{Z:()=>u}),n(757143);var l=n(192379),i=n(442837),r=n(131951),a=n(65154),s=n(388032);let o=/^Default/;function u(){let e=(0,i.e7)([r.Z],()=>r.Z.getInputDevices());return l.useMemo(()=>{let t={...e},n=t[a.w5];return null==n||(t[a.w5]={...n,name:n.disabled?s.intl.string(s.t["/QIjDA"]):n.name.replace(o,s.intl.string(s.t.bBvAEB))}),t},[e])}},253052:function(e,t,n){"use strict";n.d(t,{Z:()=>u}),n(757143);var l=n(192379),i=n(442837),r=n(131951),a=n(65154),s=n(388032);let o=/^Default/;function u(){let e=(0,i.e7)([r.Z],()=>r.Z.getOutputDevices());return l.useMemo(()=>{let t={...e},n=t[a.w5];return null==n||(t[a.w5]={...n,name:n.disabled?s.intl.string(s.t.xlUg0t):n.name.replace(o,s.intl.string(s.t.bBvAEB))}),t},[e])}},809357:function(e,t,n){"use strict";n.d(t,{Z:()=>s,o:()=>o});var l=n(442837),i=n(522474),r=n(658785),a=n(981631);function s(e){let{location:t,options:n}=e,l=o(),{showKeybindIndicators:i}=r.Z.useExperiment({location:t},n);return i&&l}function o(){return!(0,l.e7)([i.Z],()=>i.Z.getWindowVisible(a.KJ3.ACTIVITY_POPOUT))}},651941:function(e,t,n){"use strict";n.d(t,{Z:()=>d}),n(518263),n(970173),n(520712),n(268111),n(941497),n(32026),n(480839),n(744285),n(492257),n(873817),n(47120);var l,i=n(442837),r=n(253135),a=n(570140),s=n(709054);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u={};class c extends(l=i.ZP.PersistedStore){initialize(e){var t;u=null!==(t=null==e?void 0:e.users)&&void 0!==t?t:{}}getState(){return{users:u}}getKeyTrustedAt(e,t){var n;let l=(0,r.MK)(t);return null===(n=u[e])||void 0===n?void 0:n[l]}isKeyVerified(e,t){return null!=this.getKeyTrustedAt(e,t)}getUserIds(){return s.default.keys(u)}getUserVerifiedKeys(e){return u[e]}}o(c,"displayName","VerifiedKeyStore"),o(c,"persistKey","VerifiedKeyStore");let d=new c(a.Z,{SECURE_FRAMES_VERIFIED_KEY_CREATE:function(e){let{userId:t,key:n}=e,l=function(e){var t;let n=null!==(t=u[e])&&void 0!==t?t:{};return u[e]=n,n}(t),i=new Uint8Array(n);l[(0,r.MK)(i)]=Date.now()},SECURE_FRAMES_VERIFIED_KEY_DELETE:function(e){let{userId:t,serializedKey:n}=e,l=u[t];if(null==l)return!1;let i=delete l[n],r=!1;return 0===Object.keys(l).length&&(delete u[t],r=!0),i||r},SECURE_FRAMES_USER_VERIFIED_KEYS_DELETE:function(e){let{userId:t}=e;return null!=u[t]&&delete u[t]}})},246841:function(e,t,n){"use strict";n.d(t,{Z:()=>o});var l=n(200651);n(192379);var i=n(481060),r=n(395361),a=n(829820),s=n(836716);function o(e){let{activity:t,user:n,source:o,className:u,size:c,look:d,color:m,fullWidth:f,onAction:h}=e,{label:g,tooltip:p,loading:v,disabled:S,onClick:I}=(0,a.Ih)(t,n,o),x=()=>{null==h||h(),I()};return(0,l.jsx)(i.ua7,{text:p,children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,l.jsxs)(i.zxk,{className:u,innerClassName:s.playButtonInner,size:c,look:d,color:m,fullWidth:f,onClick:x,onMouseEnter:t,onMouseLeave:n,disabled:S,submitting:v,children:[(0,l.jsx)(r.Z,{width:16,height:16}),g]})}})}},557711:function(e,t,n){"use strict";n.d(t,{Z:()=>c});var l=n(200651);n(192379);var i=n(120356),r=n.n(i),a=n(481060),s=n(5192),o=n(829820),u=n(836716);function c(e){let{activity:t,user:n,channelId:i,guildId:c,source:d,size:m,look:f,color:h,className:g,onAction:p}=e,{tooltip:v,loading:S,disabled:I,onClick:x}=(0,o.Fe)(t,n,d,s.ZP.getNickname(c,i,n)),E=()=>{null==p||p(),x()};return(0,l.jsx)(a.ua7,{text:v,children:e=>{let{onMouseEnter:n,onMouseLeave:i}=e;return(0,l.jsx)(a.zxk,{size:m,className:r()(u.syncButton,g),innerClassName:u.syncButtonInner,look:f,color:h,onClick:E,onMouseEnter:n,onMouseLeave:i,disabled:I,submitting:S,"aria-label":null!=v?v:t.name,children:(0,l.jsx)(a.iOO,{size:"xs",color:"currentColor"})})}})}},880395:function(e,t,n){"use strict";n.d(t,{D:()=>r});var l=n(200651);n(192379);var i=n(239091);function r(e,t,r,a){let s=r.getGuildId();return null!=s?(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("80125"),n.e("15799")]).then(n.bind(n,357823));return n=>(0,l.jsx)(e,{...n,user:t,channel:r,guildId:s})},a):(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("80125"),n.e("45078")]).then(n.bind(n,238296));return n=>(0,l.jsx)(e,{...n,user:t,channel:r})},a)}},470956:function(e,t,n){"use strict";n.d(t,{Es:()=>v,Eu:()=>I,bt:()=>S}),n(47120),n(653041);var l=n(192379),i=n(392711),r=n(442837),a=n(413523),s=n(358221),o=n(189786),u=n(314897),c=n(592125),d=n(271383),m=n(878884),f=n(19780),h=n(594174),g=n(979651),p=n(823379);function v(e,t){let n=(0,r.e7)([m.Z,f.Z],()=>e===f.Z.getChannelId()?m.Z.getDesyncedVoiceStates():null),a=(0,r.Wu)([s.Z],()=>null==e?[]:[...s.Z.getGuildRingingUsers(e)]),u=(0,r.Wu)([h.default],()=>a.map(e=>h.default.getUser(e)).filter(p.lm)),g=(0,r.e7)([c.Z],()=>c.Z.getBasicChannel(e)),v=l.useMemo(()=>u.map(e=>({voiceState:new o.Z(e.id),user:e,member:(null==g?void 0:g.guild_id)!=null?d.ZP.getMember(null==g?void 0:g.guild_id,e.id):null,nick:e.globalName,comparator:e.globalName,_isPlaceholder:!1})),[u,null==g?void 0:g.guild_id]);return l.useMemo(()=>(function(e,t,n){if((null==e||0===e.length)&&0===n.length)return t;let l=[],r=new Set;for(let e of t)l.push(e),r.add(e.user.id);return(null==e||e.forEach(e=>{l.splice((0,i.sortedIndexBy)(l,e,e=>{let{comparator:t}=e;return t}),0,e)}),n.length>0)?[...l,...n]:l})(n,t,v),[n,t,v])}function S(e,t){let n=(0,r.e7)([m.Z,f.Z],()=>e===f.Z.getChannelId()?m.Z.getDesyncedParticipants():null);return l.useMemo(()=>(function(e,t){if(null==e||0===e.length)return t;let n=[...t];return e.forEach(e=>{n.splice((0,i.sortedIndexBy)(n,e,e=>(0,a.Yr)(e)),0,e)}),n})(n,t),[n,t])}function I(e,t){let n=(0,r.e7)([u.default],()=>u.default.getId()===t),i=(0,r.e7)([f.Z],()=>f.Z.getChannelId()),a=l.useRef(null),[s,o]=l.useState(!1),[c,d]=l.useState(!1),m=(0,r.e7)([f.Z,g.Z],()=>null!=t&&null!=e&&f.Z.getChannelId()===e&&null!=g.Z.isInChannel(e,t)&&f.Z.isUserConnected(t)),h=(0,r.e7)([f.Z,g.Z],()=>null!=t&&null!=e&&f.Z.getChannelId()===e&&null!=g.Z.isInChannel(e,t)&&!f.Z.isUserConnected(t));return l.useEffect(()=>{m&&d(!0)},[m]),l.useEffect(()=>{i!==e&&d(!1)},[e,i]),l.useEffect(()=>(h&&null==a.current?a.current=setTimeout(()=>{a.current=null,o(!0)},250):(clearTimeout(a.current),a.current=null,o(!1)),()=>{clearTimeout(a.current),a.current=null}),[h]),!n&&c&&s}},597998:function(e,t,n){"use strict";n.d(t,{ZP:()=>w,eJ:()=>P,nm:()=>j}),n(653041),n(789020),n(47120);var l=n(200651),i=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(434650),u=n(40851),c=n(657305),d=n(367907),m=n(682901),f=n(194082),h=n(282256),g=n(925329),p=n(880395),v=n(592125),S=n(574254),I=n(374129),x=n(639351),E=n(630388),T=n(51144),Z=n(981631),N=n(354459),y=n(927923),A=n(388032),C=n(868396);let P=e=>{let{children:t,collapsed:n=!1,className:i}=e;return(0,l.jsx)("div",{className:a()(i,C.list,n?C.listCollapse:C.listDefault),role:"group",children:t})};function j(e){let{className:t,mute:n,localMute:i,localVideoDisabled:r,serverMute:o,deaf:u,serverDeaf:d,collapsed:m,video:h,isStreaming:g,disabled:p,isWatching:v,iconClassName:S,embeddedApplication:T,otherClientSessionType:P,voicePlatform:j,application:w,guildId:R,channelId:L,user:M,disconnected:O}=e;if(m||p)return null;let D=[],U=(0,l.jsx)(b,{iconClassName:S,mute:n,localMute:i,serverMute:o,deaf:u,serverDeaf:d});h&&(r?D.push((0,l.jsx)(s.DY3,{className:C.iconSpacing,text:A.intl.string(A.t["PXMZ//"]),children:(0,l.jsx)(s.Amn,{size:"md",color:"currentColor",className:a()(C.icon,S),colorClass:C.strikethrough})},"video")):D.push((0,l.jsx)(s.DY3,{className:C.iconSpacing,text:A.intl.string(A.t.FlNoSU),children:(0,l.jsx)(s.Odl,{size:"md",color:"currentColor",className:a()(C.icon,S)})},"video"))),O&&D.push((0,l.jsx)(s.DY3,{className:C.iconSpacing,text:A.intl.string(A.t.HFwRpq),children:(0,l.jsx)(s.P4T,{className:a()(C.icon,S),color:s.TVs.colors.STATUS_WARNING_BACKGROUND})},"disconnected")),null!=T&&D.push((0,l.jsx)(s.DY3,{text:(0,c.Z)(T.name),className:C.iconSpacing,children:(0,l.jsx)(s.nG3,{size:"md",color:"currentColor",className:a()(C.icon,S)})},"activity")),P===y.YE.XBOX||j===N.wR.XBOX?D.push((0,l.jsx)("div",{className:a()(C.iconSpacing),children:(0,l.jsx)(x.Z,{className:a()(C.icon,S)})},"xbox")):(P===y.YE.PLAYSTATION||j===N.wR.PLAYSTATION)&&D.push((0,l.jsx)("div",{className:a()(C.iconSpacing),children:(0,l.jsx)(I.Z,{className:a()(C.icon,S)})},"playstation")),v&&D.push((0,l.jsx)(s.DY3,{className:C.iconSpacing,text:A.intl.string(A.t.JH1SJy),children:(0,l.jsx)(s.tEF,{size:"xs",color:"currentColor",className:a()(C.icon,S)})},"watch")),g&&D.push((0,l.jsx)("div",{className:a()(C.iconSpacing,C.liveIconSpacing),children:(0,l.jsx)(f.ZP,{size:f.ZP.Sizes.SMALL})},"stream"));let k=null!=w&&!(0,E.yE)(w.flags,Z.udG.EMBEDDED);return 0!==D.length||null!=U||k?(0,l.jsxs)("div",{className:a()(C.icons,t),children:[(0,l.jsxs)("div",{className:C.iconGroup,children:[U,D]}),k&&(0,l.jsx)("div",{className:C.iconGroup,children:(0,l.jsx)(_,{application:w,iconClassName:S,guildId:R,channelId:L,userId:M.id},"".concat(M.id,"-game"))})]}):null}let w=function(e){let{avatarContainerClass:t=C.avatarContainer,userNameClassName:n=C.usernameFont,size:r=Z.ipw.SMALL,selected:o=!1,disabled:c=!1,isOverlay:d=!1,...f}=e,{onClick:g,onKeyDown:I,onDoubleClick:x,onContextMenu:E,onMouseEnter:N,onMouseLeave:y,onMouseDown:P,priority:w,speaking:_,collapsed:b,mute:R,serverMute:L,guildId:M,nick:O,isGuest:D,flipped:U,className:k,overlap:G,"aria-label":B,tabIndex:F,ringing:Y,user:z,channelId:V}=f,W=(0,u.bp)(),H=null!=V?v.Z.getChannel(V):null,{enabled:J}=(0,m.Z)({location:"VoiceUser"}),[X,K]=i.useState(!1),[q,Q]=i.useState(!1);return i.useEffect(()=>{let e=!1,t=()=>{e===S.Z.isOpen()||(e=S.Z.isOpen())||Q(!1)};return S.Z.addChangeListener(t),()=>S.Z.removeChangeListener(t)},[]),(0,l.jsx)(s.P3F,{className:a()(k,{[C.voiceUser]:!0,[C.overlap]:G,[C.selected]:o,[C.clickable]:null!=g,[C.userSmall]:r===Z.ipw.SMALL,[C.userLarge]:r===Z.ipw.LARGE,[C.disabled]:!o&&c,[C.ringing]:Y}),onClick:e=>{null==g||g(e,z)},onDoubleClick:e=>{null==x||x(e,z)},onContextMenu:e=>{null==E||E(e,z)},onMouseEnter:e=>{K(!0),null==N||N(e,z)},onMouseLeave:e=>{K(!1),null==y||y(e,z)},onMouseDown:e=>{null==P||P(e,z)},onKeyDown:I,"aria-label":B,tabIndex:F,children:(0,l.jsxs)("div",{className:a()(C.content,{[C.flipped]:U}),children:[w&&!b?(0,l.jsx)(s.ua7,{text:A.intl.string(A.t.BVK71t),children:e=>(0,l.jsx)("div",{className:a()(C.iconPriortySpeaker,{[C.iconPriortySpeakerSpeaking]:!R&&!L&&_}),...e})}):null,(0,l.jsx)("div",{className:a()(t,C.avatar,{[C.avatarLarge]:r===Z.ipw.LARGE,[C.avatarSmall]:r===Z.ipw.SMALL,[C.avatarSpeaking]:_}),style:{backgroundImage:"url(".concat(z.getAvatarURL(M,r===Z.ipw.LARGE?38:24),")")}}),function(){let e=(0,l.jsxs)("div",{className:a()(n,{[C.username]:!0,[C.usernameSpeaking]:!R&&!L&&_}),children:[null!=O?O:T.ZP.getName(z),D?(0,l.jsxs)("span",{className:C.guestSuffix,children:["\xa0",A.intl.string(A.t["pFO/Pj"])]}):""]}),t={primaryGuild:z.primaryGuild,userId:z.id,contextGuildId:M,isOverlay:d,disableTooltip:!0,className:a()(C.clanTag,d&&C.isOverlay),profileViewedAnalytics:{source:d?Z.jXE.OVERLAY:Z.Sbl.VOICE_PANEL}};return!b||d?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h.Z,{...t,children:e})}):null}(),(0,l.jsx)(j,{disabled:c,...f}),J&&((X||q)&&!b?(0,l.jsx)(s.P3F,{className:a()(C.moreClickable,q&&C.moreActive),onClick:function(e){null!=M&&null!=H&&(Q(!0),(0,p.D)(e,z,H,{context:W}))},children:(0,l.jsx)(s.xhG,{size:"md",className:a()(C.icon)})}):null)]})})};function _(e){let{application:t,iconClassName:n,guildId:r,channelId:u,userId:c}=e,[m,f]=i.useState(!1),h=(0,o.O)(e=>f(e));return i.useEffect(()=>{m&&d.ZP.trackWithMetadata(Z.rMx.VOICE_CHANNEL_GAME_ACTIVITY_INDICATOR_VIEWED,{channel_id:u,guild_id:r,user_id:c})},[t.id,u,r,c,m]),(0,l.jsx)(s.DY3,{text:A.intl.formatToPlainString(A.t.Sq9xJy,{game:t.name}),"aria-label":A.intl.formatToPlainString(A.t.Sq9xJy,{game:t.name}),className:C.iconSpacing,children:(0,l.jsx)("div",{ref:h,children:(0,l.jsx)(g.Z,{className:a()(C.icon,n),game:t,size:g.Z.Sizes.XSMALL,onMouseEnter:()=>{d.ZP.trackWithMetadata(Z.rMx.VOICE_CHANNEL_GAME_ACTIVITY_INDICATOR_HOVERED,{channel_id:u,guild_id:r,game_name:t.name,user_id:c})}})})})}function b(e){let{iconClassName:t,mute:n,localMute:i,serverMute:r,deaf:o,serverDeaf:u}=e,c=(0,s.bWb)().enabled,d=[];if(n){let e;if(c){let n;n=r?s.v0G:i?s.v0G:s.nRN,e=(0,l.jsx)(n,{className:a()(C.icon,t,{[C.iconServer]:r}),color:"currentColor"})}else e=(0,l.jsx)(s.nRN,{size:"md",color:"currentColor",className:a()(C.icon,t,{[C.iconServer]:r}),colorClass:i?C.strikethrough:void 0});d.push((0,l.jsx)(s.DY3,{text:i?A.intl.string(A.t.Q8Uzoa):r?A.intl.string(A.t.uLddbW):A.intl.string(A.t.tjtv3N),className:C.iconSpacing,children:e},"mute"))}if(u||o){let e;if(c){let n=u?s.Vm4:s.wE8;e=(0,l.jsx)(n,{className:a()(C.icon,t,{[C.iconServer]:u}),color:"currentColor"})}else e=(0,l.jsx)(s.wE8,{size:"md",color:"currentColor",className:a()(C.icon,t,{[C.iconServer]:u})});d.push((0,l.jsx)(s.DY3,{className:C.iconSpacing,text:u?A.intl.string(A.t.btxSdH):A.intl.string(A.t.NjmiOD),children:e},"deaf"))}return 0===d.length?null:(0,l.jsx)(l.Fragment,{children:d})}},789407:function(e,t,n){"use strict";n.d(t,{XB:()=>r,ZP:()=>s,r9:()=>o});var l=n(726542),i=n(973616);let r="spotify",a=l.Z.get(r);class s extends i.ZP{getIconURL(e){return a.icon.lightPNG}constructor(){super({}),this.id=r,this.name=a.name}}let o=new s},831506:function(e,t,n){"use strict";n.d(t,{Z:()=>N}),n(47120);var l,i,r,a=n(392711),s=n.n(a),o=n(442837),u=n(570140),c=n(314897),d=n(699516),m=n(885110),f=n(981631);let h={},g={};function p(e,t){var n;return(null!==(n=h[e])&&void 0!==n?n:{})[t]}function v(e,t){let n=p(e,t);if(null==n)return;let l=h[e];delete l[t],s().isEmpty(l)&&delete h[e];let i=g[n];null!=i&&(i.delete(e),0===i.size&&delete g[n])}function S(e,t,n,l){let i=n.find(e=>null!=e.party&&e.party.id),r=null!=i&&null!=i.party?i.party.id:null,a=p(t,e);if(null==r||l===f.Skl.OFFLINE)return null!=a&&void v(t,e);if(null!=a){if(a===r)return!1;v(t,e)}!function(e,t,n){var l;let i=h[e];if(null==i&&(i=h[e]={}),i[t]=n,d.Z.isBlocked(e)||d.Z.isIgnored(e))return;let r=null!==(l=g[n])&&void 0!==l?l:new Set;g[n]=r,r.add(e)}(t,e,r)}function I(e){let{guild:t}=e,n=!1;for(let{user:e,status:l,activities:i}of t.presences)!1!==S(t.id,e.id,i,l)&&(n=!0);return n}function x(e,t){let n=!1;return t.forEach(t=>{null!=t&&S(e,t.user.id,t.activities,t.status)&&(n=!0)}),n}function E(){let e=c.default.getId(),t=m.Z.getActivities();return S(f.ME,e,t)}function T(e){let{relationship:t}=e;if(!d.Z.isBlocked(t.id)&&!d.Z.isIgnored(t.id))return!1;let n=h[t.id];if(null==n)return!1;for(let e of s().values(n)){let n=g[e];null!=n&&n.delete(t.id)}}class Z extends(l=o.ZP.Store){initialize(){this.syncWith([m.Z],E),this.waitFor(m.Z,d.Z)}getParty(e){return null!=e&&null!=g[e]?g[e]:null}getUserParties(){return h}getParties(){return g}}r="GamePartyStore",(i="displayName")in Z?Object.defineProperty(Z,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):Z[i]=r;let N=new Z(u.Z,{CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{guilds:t,presences:n}=e,l=!1;for(let{user:e,status:t,activities:i}of n)null!=e&&!1!==S(f.ME,e.id,i,t)&&(l=!0);for(let e of t)!1!==I({guild:e})&&(l=!0);return l},OVERLAY_INITIALIZE:function(e){let{parties:t,userParties:n}=e;g={},h={...n},Object.keys(t).forEach(e=>g[e]=new Set(t[e]))},GUILD_CREATE:I,PRESENCES_REPLACE:function(e){let{presences:t}=e,n=!1;for(let{user:e,activities:l}of t)null!=e&&!1!==S(f.ME,e.id,l)&&(n=!0);return n},PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>{let{guildId:t,user:n,status:l,activities:i}=e;return S(null!=t?t:f.ME,n.id,i,l)}).some(e=>e)},THREAD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,members:n}=e;return x(t,n.map(e=>e.presence))},THREAD_MEMBERS_UPDATE:function(e){let{guildId:t,addedMembers:n}=e;return null!=n&&x(t,n.map(e=>e.presence))},RELATIONSHIP_ADD:T,RELATIONSHIP_UPDATE:T,RELATIONSHIP_REMOVE:function(e){let{relationship:t}=e,n=h[t.id];if(null==n)return!1;for(let e of s().values(n)){let n=g[e];null!=n&&n.add(t.id)}}})},878884:function(e,t,n){"use strict";n.d(t,{Z:()=>C}),n(47120),n(724458);var l,i,r,a=n(442837),s=n(46973),o=n(570140),u=n(642047),c=n(189786),d=n(5192),m=n(592125),f=n(19780),h=n(594174),g=n(979651),p=n(938475),v=n(981631),S=n(354459);let I=new u.Z,x=new u.Z,E=new Set;function T(e,t,n){let l=new c.Z({userId:e.id,channelId:n}),i=(0,p.PH)(l,null!=t?t:v.ME,e.id);I.set(e.id,i);let r={type:S.fO.USER,user:e,id:e.id,streamId:null,voiceState:l,voicePlatform:null,speaking:!1,lastSpoke:0,soundsharing:!1,ringing:!1,userNick:d.ZP.getName(t,n,e),localVideoDisabled:!1};x.set(e.id,r)}function Z(e){let t=I.delete(e),n=x.delete(e),l=E.delete(e);return t||n||l}function N(){var e;let t=f.Z.getChannelId();if(null==t)return!1;let n=null===(e=m.Z.getChannel(t))||void 0===e?void 0:e.getGuildId(),l=!1;return E.forEach(e=>{if(null!=g.Z.getVoiceStateForChannel(t,e)){E.delete(e);return}let i=h.default.getUser(e);null!=i&&(l=!0,E.delete(e),T(i,n,t))}),l}function y(){I.clear(),x.clear(),E.clear()}class A extends(l=a.ZP.Store){initialize(){this.waitFor(g.Z,h.default,m.Z,f.Z),this.syncWith([h.default],N)}get desyncedVoiceStatesCount(){return I.size()}getDesyncedUserIds(){return I.keys()}getDesyncedVoiceStates(){return I.values()}getDesyncedParticipants(){return x.values()}}r="RTCConnectionDesyncStore",(i="displayName")in A?Object.defineProperty(A,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):A[i]=r;let C=new A(o.Z,{CONNECTION_OPEN:function(){y()},VOICE_CHANNEL_SELECT:y,RTC_CONNECTION_STATE:function(e){let{state:t,context:n}=e;if(n!==s.Yn.DEFAULT||t!==v.hes.DISCONNECTED)return!1;y()},VOICE_STATE_UPDATES:function(e){let{voiceStates:t}=e,n=f.Z.getChannelId();return null!=n&&t.reduce((e,t)=>{let{userId:l,channelId:i}=t;return i===n&&!!Z(l)||e},!1)},RTC_CONNECTION_CLIENT_CONNECT:function(e){let{userIds:t,guildId:n,channelId:l,context:i}=e;return i===s.Yn.DEFAULT&&t.reduce((e,t)=>{if(null!=g.Z.getVoiceStateForChannel(l,t))return e;let i=h.default.getUser(t);return null==i?(E.add(t),e):(T(i,n,l),!0)},!1)},RTC_CONNECTION_CLIENT_DISCONNECT:function(e){let{userId:t,context:n}=e;return n===s.Yn.DEFAULT&&Z(t)}})}}]);
//# sourceMappingURL=d362af2a5e432937.js.map