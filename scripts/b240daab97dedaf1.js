"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["16114"],{11265:function(e,n,t){t.d(n,{Z:()=>x}),t(47120);var i=t(200651),l=t(192379),s=t(120356),a=t.n(s),r=t(642128),o=t(481060),c=t(393238),d=t(388032),u=t(915674);let x=l.memo(function(e){let{renderHeader:n,children:t,isExpanded:s,isStuck:x,onExpand:m,disableAnimation:h,disableBackground:f}=e,[v,g]=l.useState(!0),[j,C]=l.useState(!1),{ref:p,height:N=0}=(0,c.Z)(),{ref:R,height:y=0}=(0,c.Z)(),[w,E]=l.useState(s),T=(0,o.q_F)({height:w?y+N:N,config:{...r.config.stiff,clamp:!0},onStart:()=>{C(!1)},onRest:()=>{C(!0)}},v||h?"animate-never":"respect-motion-settings");return l.useLayoutEffect(()=>{C(!1),E(s)},[s]),l.useLayoutEffect(()=>{let e=setTimeout(()=>{g(!1)},100);return()=>clearTimeout(e)},[]),(0,i.jsx)(o.P3F,{className:a()(u.editCard,{[u.toggled]:s,[u.noBackground]:f}),children:(0,i.jsxs)(r.animated.div,{className:a()(u.contentExpandContainer,{[u.showOverflow]:s&&j}),style:T,children:[(0,i.jsx)(o.P3F,{innerRef:p,onClick:x?void 0:m,className:a()(u.innerHeader,{[u.toggled]:s&&x}),"aria-label":d.intl.string(d.t.dcl9MT),children:n}),(0,i.jsx)("div",{ref:R,children:t})]})})})},5056:function(e,n,t){t.d(n,{Z:()=>h});var i=t(200651),l=t(192379),s=t(120356),a=t.n(s),r=t(481060),o=t(838221),c=t(246364),d=t(700833),u=t(388032),x=t(42497);function m(e){let{onClick:n,text:t,icon:l}=e;return(0,i.jsx)("div",{className:x.addFormFieldContainer,children:(0,i.jsxs)(r.P3F,{className:x.addFormField,onClick:n,children:[(0,i.jsx)(l,{className:x.icon,size:"xs",color:"currentColor"}),(0,i.jsx)(r.R94,{className:x.addFormFieldText,children:t})]})})}let h=function(e){let{addFormField:n,showManualApprovalWarning:s,guild:h,showHeader:f}=e,v=l.useCallback(e=>{(0,d.Md)(e,n,h)},[n,h]),g=l.useCallback(e=>{s?(0,r.ZDy)(async()=>{let{default:n}=await t.e("54845").then(t.bind(t,199836));return t=>(0,i.jsx)(n,{...t,onSubmit:()=>v(e)})}):v(e)},[s,v]);return(0,i.jsxs)("div",{className:a()(x.spacingContainer,x.backgroundContainer),children:[f&&(0,i.jsx)("div",{className:x.containerTopHat,children:(0,i.jsx)(r.Text,{className:x.containerTopHatText,variant:"text-xs/bold",color:"header-secondary",children:u.intl.string(u.t.neG9U1)})}),(0,i.jsxs)("div",{className:x.leftRailIconContainer,children:[(0,i.jsx)("div",{className:x.iconContainer,children:(0,i.jsx)(r.qJs,{size:"custom",color:"currentColor",width:18,height:20,className:x.icon})}),(0,i.jsxs)(r.hjN,{children:[(0,i.jsx)(r.vwX,{tag:"h3",className:x.leftRailIconContainerTitle,children:u.intl.string(u.t["7v2xvr"])}),(0,i.jsx)(r.R94,{className:x.leftRailIconContainerDescription,type:r.R94.Types.DESCRIPTION,children:u.intl.string(u.t.DyARHR)}),(0,i.jsx)(m,{formFieldType:c.QJ.TEXT_INPUT,addFormField:n,icon:(0,r.GSL)(o.Z),text:u.intl.string(u.t.w6Q9w8),onClick:()=>g(c.QJ.TEXT_INPUT)}),(0,i.jsx)(m,{formFieldType:c.QJ.PARAGRAPH,addFormField:n,icon:r.OvV,text:u.intl.string(u.t.gG0JBA),onClick:()=>g(c.QJ.PARAGRAPH)}),(0,i.jsx)(m,{formFieldType:c.QJ.MULTIPLE_CHOICE,addFormField:n,icon:r.jE$,text:u.intl.string(u.t.ooKh3t),onClick:()=>g(c.QJ.MULTIPLE_CHOICE)})]})]})]})}},565321:function(e,n,t){t.d(n,{Z:()=>u}),t(47120);var i=t(200651),l=t(192379),s=t(481060),a=t(881052),r=t(484455),o=t(592286),c=t(388032),d=t(42497);let u=function(e){let{guildId:n,onSave:t,formDescription:u,disable:x}=e,[m,h]=l.useState(null),[f,v]=l.useState(u),g=l.useRef(!1),j=l.useRef(!1);l.useEffect(()=>()=>{j.current=!0},[]);let C=l.useCallback(async()=>{if(!g.current){h(null);try{await t(n,f)}catch(e){if(j.current)return;h(new a.Hx(e).getAnyErrorMessage())}finally{if(j.current)return;g.current=!1}}},[f,n,t]);return(0,i.jsxs)(r.Z,{title:c.intl.string(c.t.aDJAfn),children:[(0,i.jsx)(s.Kx8,{className:d.fieldBackground,maxLength:o.Us,value:null!=f?f:"",placeholder:c.intl.string(c.t.AJfv3d),onChange:e=>{v(e)},onBlur:C,autosize:!0,disabled:x}),null!=m&&""!==m?(0,i.jsx)(s.Text,{className:d.errorText,variant:"text-xs/normal",color:"text-danger",children:m}):null]})}},297619:function(e,n,t){t.d(n,{Z:()=>u});var i=t(200651);t(192379);var l=t(120356),s=t.n(l),a=t(481060),r=t(246364),o=t(700833),c=t(388032),d=t(42497);let u=function(e){let{addFormField:n,guild:t}=e;return(0,i.jsxs)("div",{className:s()(d.spacingContainer,d.leftRailIconContainer,d.backgroundContainer),children:[(0,i.jsx)("div",{className:d.iconContainer,children:(0,i.jsx)(a.snC,{size:"custom",color:"currentColor",width:18,height:20,className:d.icon})}),(0,i.jsxs)(a.hjN,{children:[(0,i.jsx)(a.vwX,{tag:"h3",className:d.leftRailIconContainerTitle,children:c.intl.string(c.t.qWqnws)}),(0,i.jsx)(a.R94,{className:d.leftRailIconContainerDescription,type:a.R94.Types.DESCRIPTION,children:c.intl.string(c.t["3+rPkp"])}),(0,i.jsx)(a.zxk,{onClick:()=>(0,o.Md)(r.QJ.TERMS,n,t),children:c.intl.string(c.t["5AelkZ"])})]})]})}},405545:function(e,n,t){t.d(n,{Z:()=>c});var i=t(200651);t(192379);var l=t(120356),s=t.n(l),a=t(186078),r=t(137158),o=t(42497);let c=function(e){let{formField:n,index:t,isDragEnabled:l,isDropHovered:c,onDrop:d,onEdit:u,onRemove:x,canRemove:m,actionsLocation:h,fieldStyle:f}=e,{label:v}=n;return(0,i.jsx)(r.Z,{field:n,index:t,isDragEnabled:l,isDropHovered:c,onDrop:d,onEdit:u,onRemove:x,title:v,canRemove:m,actionsLocation:h,fieldStyle:f,children:(0,i.jsx)(a.BO,{field:n,value:void 0,radioItemClassName:s()(o.fieldBackground,o.multipleChoiceFixedTextColor),disabled:!1})})}},137158:function(e,n,t){t.d(n,{Z:()=>N}),t(47120);var i=t(200651),l=t(192379),s=t(120356),a=t.n(s),r=t(392711),o=t(999153),c=t(584922),d=t(793030),u=t(692547),x=t(481060),m=t(838221),h=t(246364),f=t(388032),v=t(42497);function g(e){let{type:n}=e,t=l.useMemo(()=>{switch(n){case h.QJ.MULTIPLE_CHOICE:return{icon:x.jE$,text:f.intl.string(f.t.ooKh3t)};case h.QJ.PARAGRAPH:return{icon:x.OvV,text:f.intl.string(f.t.gG0JBA)};case h.QJ.TEXT_INPUT:return{icon:(0,x.GSL)(m.Z),text:f.intl.string(f.t.w6Q9w8)};case h.QJ.TERMS:return{icon:x.snC,text:f.intl.string(f.t["3pz9t7"])};default:return null}},[n]);return null==t?null:(0,i.jsxs)("div",{className:v.typeTag,children:[(0,i.jsx)(t.icon,{size:"xs",color:"currentColor"}),(0,i.jsx)(d.xv,{variant:"text-sm/medium",tag:"span",children:t.text})]})}function j(e){let{title:n,children:t,onEdit:l,onRemove:s,canRemove:r,actionsLocation:o,fieldStyle:c,field:d}=e;return(0,i.jsxs)("div",{className:v.backgroundContainer,children:[c===h.it.REGULAR?(0,i.jsxs)("div",{className:v.containerPadding,children:[(0,i.jsx)(x.vwX,{tag:"h3",className:v.containerTitle,children:n}),t]}):(0,i.jsxs)("div",{className:v.compactContainer,children:[(0,i.jsx)(x.vwX,{tag:"h3",className:v.compactTitle,children:n}),(0,i.jsx)(g,{type:d.field_type})]}),"footer"===o&&(0,i.jsxs)(x.hjN,{className:v.containerFooter,children:[(0,i.jsx)(x.ua7,{text:f.intl.string(f.t.B3Jj1N),shouldShow:!r,children:e=>(0,i.jsx)(x.zxk,{...e,className:a()(v.removeButton,v.button),size:x.zxk.Sizes.SMALL,look:x.zxk.Looks.BLANK,onClick:s,disabled:!r,children:f.intl.string(f.t.N86XcH)})}),(0,i.jsx)(x.zxk,{className:v.button,size:x.zxk.Sizes.SMALL,color:x.zxk.Colors.PRIMARY,onClick:l,children:f.intl.string(f.t.bt75u7)})]})]})}let C="FORM_FIELD";function p(e){let{index:n,field:t,isDropHovered:s,onDrop:d,fieldStyle:m}=e,f=(0,r.debounce)(async(e,n,t)=>{await d(e,n,t)}),g=l.useRef(null),[,p]=(0,o.c)({type:C,item:{index:n,field:t},end:(e,n)=>{null==e||n.didDrop()||f(e.field,null,!0)}}),[,N]=(0,c.L)({accept:C,hover:(e,t)=>{var i;let{index:l}=e,s=null===(i=g.current)||void 0===i?void 0:i.getBoundingClientRect(),a=t.getClientOffset();if(null==s||null==a)return;let r=(s.bottom-s.top)/2,o=a.y-s.top;l<n&&o<r||l>n&&o<r||l===n||f(e.field,n,!1)},drop:e=>{f(e.field,n,!0)}});return l.useLayoutEffect(()=>(p(N(g)),()=>{N(null),p(null)}),[p,N]),(0,i.jsxs)("div",{ref:g,"data-dnd-name":"field-".concat(n),className:a()(v.dragContainer,{[v.dropHovered]:s}),children:[(0,i.jsx)("div",{className:a()(v.dragIconContainer,{[v.compact]:m===h.it.COMPACT}),children:(0,i.jsx)(x.Vni,{size:"xs",className:v.dragIcon,color:u.Z.unsafe_rawColors.PRIMARY_400.css})}),(0,i.jsx)(j,{...e})]})}function N(e){return(0,i.jsxs)("div",{className:a()(v.formFieldContainer,{[v.compact]:e.fieldStyle===h.it.COMPACT}),children:[(0,i.jsx)("div",{className:v.spacingContainer,children:e.isDragEnabled?(0,i.jsx)(p,{...e}):(0,i.jsx)(j,{...e})}),"side"===e.actionsLocation&&(0,i.jsxs)("div",{className:a()(v.actionButtonsContainer,{[v.compact]:e.fieldStyle===h.it.COMPACT,[v.canRemove]:e.canRemove}),children:[(0,i.jsx)(x.P3F,{className:v.actionButton,onClick:e.onEdit,"aria-label":f.intl.string(f.t.bt75u7),children:(0,i.jsx)(x.vdY,{size:"xs"})}),e.canRemove&&(0,i.jsx)(x.P3F,{className:v.actionButton,onClick:e.onRemove,"aria-label":f.intl.string(f.t.N86XcH),children:(0,i.jsx)(x.XHJ,{size:"xs"})})]})]})}},382574:function(e,n,t){t.d(n,{Z:()=>o});var i=t(200651);t(192379);var l=t(73880),s=t(137158),a=t(388032),r=t(42497);let o=function(e){let{formField:n,index:t,isDragEnabled:o,isDropHovered:c,onDrop:d,onEdit:u,onRemove:x,canRemove:m,actionsLocation:h,fieldStyle:f}=e,{label:v,placeholder:g}=n;return(0,i.jsx)(s.Z,{field:n,index:t,isDragEnabled:o,isDropHovered:c,onDrop:d,onEdit:u,onRemove:x,title:v,canRemove:m,actionsLocation:h,fieldStyle:f,children:(0,i.jsx)(l.Q8,{className:r.fieldBackground,placeholder:null!=g?g:a.intl.string(a.t["Sqn+Wl"]),disabled:!0})})}},484455:function(e,n,t){t.d(n,{Z:()=>o});var i=t(200651);t(192379);var l=t(120356),s=t.n(l),a=t(481060),r=t(42497);function o(e){let{title:n,children:t}=e;return(0,i.jsxs)(a.hjN,{className:s()(r.backgroundContainer,r.spacingContainer,r.containerPadding),children:[(0,i.jsx)(a.vwX,{tag:"h3",className:r.containerTitle,children:n}),t]})}},279988:function(e,n,t){t.d(n,{Z:()=>m}),t(47120);var i=t(200651);t(192379);var l=t(120356),s=t.n(l),a=t(692547),r=t(481060),o=t(259580),c=t(196345),d=t(137158),u=t(388032),x=t(42497);let m=function(e){let{channelId:n,formField:t,index:l,isDragEnabled:m,isDropHovered:h,onDrop:f,onEdit:v,onRemove:g,canRemove:j,title:C,actionsLocation:p,fieldStyle:N}=e,R=t.values,y=R.slice(0,1),w=R.length-y.length;return(0,i.jsxs)(d.Z,{field:t,index:l,isDragEnabled:m,isDropHovered:h,onDrop:f,onEdit:v,onRemove:g,title:C,canRemove:j,actionsLocation:p,fieldStyle:N,children:[(0,i.jsx)(c.EK,{className:s()(x.fieldBackground,{[x.withFooter]:0!==w}),terms:y,channelId:n}),0!==w&&(0,i.jsxs)(r.P3F,{className:s()(x.fieldFooterContainer,x.clickable),onClick:v,children:[(0,i.jsx)(r.R94,{className:x.clickable,children:u.intl.format(u.t.jnhD0d,{count:w})}),(0,i.jsx)(o.Z,{className:x.termsFieldCaretIcon,height:14,width:14,color:a.Z.unsafe_rawColors.WHITE_500.css})]}),(0,i.jsx)(c.G0,{disabled:!0,checked:!1})]})}},786127:function(e,n,t){t.d(n,{Z:()=>o});var i=t(200651);t(192379);var l=t(707592),s=t(137158),a=t(388032),r=t(42497);let o=function(e){let{formField:n,index:t,isDragEnabled:o,isDropHovered:c,onDrop:d,onEdit:u,onRemove:x,canRemove:m,actionsLocation:h,fieldStyle:f}=e,{label:v,placeholder:g}=n;return(0,i.jsx)(s.Z,{field:n,index:t,isDragEnabled:o,isDropHovered:c,onDrop:d,onEdit:u,onRemove:x,title:v,canRemove:m,actionsLocation:h,fieldStyle:f,children:(0,i.jsx)(l.Gi,{className:r.fieldBackground,placeholder:null!=g?g:a.intl.string(a.t["Sqn+Wl"]),disabled:!0})})}},456935:function(e,n,t){t.d(n,{I9:()=>x,ZP:()=>h});var i=t(200651),l=t(192379),s=t(692547),a=t(481060),r=t(496675),o=t(484455),c=t(981631),d=t(388032),u=t(42497);function x(e){switch(e){case c.sFg.LOW:return d.intl.string(d.t.SsCK8P);case c.sFg.MEDIUM:return d.intl.string(d.t.WwNoR0);case c.sFg.HIGH:return d.intl.string(d.t.I2jMUF);case c.sFg.VERY_HIGH:return d.intl.string(d.t.cJY8w8);default:return""}}let m={[c.sFg.NONE]:"",[c.sFg.LOW]:s.Z.unsafe_rawColors.GREEN_360.css,[c.sFg.MEDIUM]:s.Z.unsafe_rawColors.YELLOW_300.css,[c.sFg.HIGH]:s.Z.unsafe_rawColors.ORANGE_345.css,[c.sFg.VERY_HIGH]:s.Z.unsafe_rawColors.RED_400.css},h=function(e){let{guild:n}=e,s=r.Z.can(c.Plq.MANAGE_GUILD,n),h=n.verificationLevel,f=h===c.sFg.VERY_HIGH?a.AtH:a._XJ,v=l.useMemo(()=>x(h),[h]),g=m[h],j=(0,i.jsx)("div",{className:u.verificationLevelTitle,children:d.intl.format(d.t.OpV87e,{verificationLevelHook:function(){return(0,i.jsx)(a.Text,{className:u.verificationLevelHook,style:{color:g},variant:"text-sm/semibold",children:v},"hook")}})}),C=h===c.sFg.VERY_HIGH?d.intl.string(d.t.IlXyd3):d.intl.string(d.t.JlzMPj);return(0,i.jsx)(o.Z,{title:j,children:(0,i.jsxs)("div",{className:u.verificationContainer,children:[(0,i.jsx)(f,{size:"custom",color:"currentColor",width:20,height:20,className:u.icon}),(0,i.jsx)(a.Text,{className:u.guildVerificationText,variant:"text-sm/normal",children:C}),s&&(0,i.jsx)(a.P3F,{className:u.iconInteractiveContainer,onClick:()=>(0,a.ZDy)(async()=>{let{default:e}=await t.e("72458").then(t.bind(t,694278));return t=>(0,i.jsx)(e,{...t,guild:n})}),children:(0,i.jsx)(a.vdY,{size:"custom",color:"currentColor",width:20,height:20,className:u.iconInteractive})})]})})}},540457:function(e,n,t){t.d(n,{A:()=>a});var i=t(200651);t(192379);var l=t(481060),s=t(373175);function a(e){let{text:n,tooltipText:t,onClick:a}=e;return(0,i.jsx)(l.ua7,{text:t,shouldShow:null!=t,children:e=>(0,i.jsxs)(l.P3F,{...e,className:s.container,onClick:a,children:[(0,i.jsx)(l.qJs,{size:"md",color:"currentColor",className:s.icon}),(0,i.jsx)(l.Text,{color:"interactive-active",variant:"text-md/semibold",children:n})]})})}},446945:function(e,n,t){t.d(n,{Z:()=>m});var i=t(200651);t(192379);var l=t(481060),s=t(239091),a=t(838221),r=t(246364),o=t(540457),c=t(700833),d=t(388032),u=t(439341);function x(e){let{addFormField:n,onSelect:t,guild:o,allowTerms:x}=e;return(0,i.jsx)(l.v2r,{navId:"add-questions",className:u.menu,onClose:s.Zy,"aria-label":d.intl.string(d.t.liqwPD),onSelect:t,children:(0,i.jsxs)(l.kSQ,{children:[(0,i.jsx)(l.sNh,{id:"text-input",icon:(0,l.GSL)(a.Z),label:d.intl.string(d.t.w6Q9w8),action:()=>(0,c.Md)(r.QJ.TEXT_INPUT,n,o)}),(0,i.jsx)(l.sNh,{id:"paragraph",icon:l.OvV,label:d.intl.string(d.t.gG0JBA),action:()=>(0,c.Md)(r.QJ.PARAGRAPH,n,o)}),(0,i.jsx)(l.sNh,{id:"multiple-choice",icon:l.jE$,label:d.intl.string(d.t.ooKh3t),action:()=>(0,c.Md)(r.QJ.MULTIPLE_CHOICE,n,o)}),x&&(0,i.jsx)(l.sNh,{id:"terms",icon:l.snC,label:d.intl.string(d.t["3pz9t7"]),action:()=>(0,c.Md)(r.QJ.TERMS,n,o)})]})})}let m=function(e){let{addFormField:n,guild:t,allowTerms:l}=e;return(0,i.jsx)(o.A,{text:d.intl.string(d.t.CoHdoK),tooltipText:d.intl.string(d.t.nsI4dX),onClick:e=>{(0,s.vq)(e,e=>(0,i.jsx)(x,{...e,addFormField:n,guild:t,allowTerms:l}),{position:"top",align:"center"})}})}},700833:function(e,n,t){t.d(n,{Md:()=>m,a0:()=>x});var i=t(200651);t(192379);var l=t(392711),s=t(481060),a=t(246364),r=t(405545),o=t(382574),c=t(279988),d=t(786127),u=t(388032);function x(e){let{dropHoveredIndex:n,formField:x,guild:m,index:f,isDragEnabled:v,submittedGuildJoinRequestsCount:g,removeFormField:j,updateFormField:C,updateFormFieldOrder:p,canRemove:N,actionsLocation:R,fieldStyle:y}=e,w=async()=>{await j(f)},E=async e=>{await C(f,e)},T=async(e,n,t)=>{await p(e,n,t)},F=(0,l.uniqueId)(),b=n===f,Z={key:F,index:f,isDragEnabled:v,isDropHovered:b,onEdit:()=>{0===g?h(x,E,m):(0,s.ZDy)(async()=>{let{default:e}=await t.e("74673").then(t.bind(t,394045));return n=>(0,i.jsx)(e,{...n,guildId:m.id,submittedGuildJoinRequestsCount:g,onConfirm:()=>h(x,E,m)})})},onRemove:w,onDrop:T,canRemove:N,actionsLocation:R,fieldStyle:y};switch(x.field_type){case a.QJ.TERMS:return(0,i.jsx)(c.Z,{channelId:m.rulesChannelId,title:y===a.it.COMPACT?u.intl.string(u.t["55+giY"]):u.intl.string(u.t["53vNcH"]),formField:x,...Z});case a.QJ.PARAGRAPH:return(0,i.jsx)(o.Z,{formField:x,...Z});case a.QJ.TEXT_INPUT:return(0,i.jsx)(d.Z,{formField:x,...Z});case a.QJ.MULTIPLE_CHOICE:return(0,i.jsx)(r.Z,{formField:x,...Z});default:return null}}function m(e,n,l){switch(e){case a.QJ.TERMS:return(0,s.ZDy)(async()=>{let{default:e}=await t.e("5945").then(t.bind(t,92451));return t=>(0,i.jsx)(e,{...t,field:void 0,onSave:n,guild:l})});case a.QJ.PARAGRAPH:return(0,s.ZDy)(async()=>{let{ParagraphFormFieldModal:e}=await t.e("6595").then(t.bind(t,457042));return t=>(0,i.jsx)(e,{...t,field:void 0,onSave:n})});case a.QJ.TEXT_INPUT:return(0,s.ZDy)(async()=>{let{TextInputFormFieldModal:e}=await t.e("6595").then(t.bind(t,457042));return t=>(0,i.jsx)(e,{...t,field:void 0,onSave:n})});case a.QJ.MULTIPLE_CHOICE:return(0,s.ZDy)(async()=>{let{default:e}=await t.e("94064").then(t.bind(t,607569));return t=>(0,i.jsx)(e,{...t,field:void 0,onSave:n})})}}function h(e,n,l){switch(e.field_type){case a.QJ.TERMS:return(0,s.ZDy)(async()=>{let{default:s}=await t.e("5945").then(t.bind(t,92451));return t=>(0,i.jsx)(s,{...t,field:e,onSave:n,guild:l})});case a.QJ.PARAGRAPH:return(0,s.ZDy)(async()=>{let{ParagraphFormFieldModal:l}=await t.e("6595").then(t.bind(t,457042));return t=>(0,i.jsx)(l,{...t,field:e,onSave:n})});case a.QJ.TEXT_INPUT:return(0,s.ZDy)(async()=>{let{TextInputFormFieldModal:l}=await t.e("6595").then(t.bind(t,457042));return t=>(0,i.jsx)(l,{...t,field:e,onSave:n})});case a.QJ.MULTIPLE_CHOICE:return(0,s.ZDy)(async()=>{let{default:l}=await t.e("94064").then(t.bind(t,607569));return t=>(0,i.jsx)(l,{...t,field:e,onSave:n})})}}},755340:function(e,n,t){t.d(n,{Z:()=>p}),t(47120);var i=t(200651),l=t(192379),s=t(442837),a=t(481060),r=t(496675),o=t(246364),c=t(983736),d=t(5056),u=t(565321),x=t(297619),m=t(456935),h=t(446945),f=t(700833),v=t(592286),g=t(981631),j=t(388032),C=t(977346);let p=function(e){let{guild:n,submittedGuildJoinRequestsCount:t,onFormFieldUpdate:p,hideVerificationLevelField:N,isClanContext:R,formDescription:y,onFieldsSave:w,onDescriptionSave:E}=e,T=l.useRef(!1),[F,b]=l.useState(null),[Z,I]=l.useState(e.formFields);l.useEffect(()=>I(e.formFields),[e.formFields]);let P=l.useRef(e.formFields),k=l.useMemo(()=>Z.filter(c.kT),[Z]),A=l.useMemo(()=>Z.filter(c._C),[Z]),S=A.length,M=l.useMemo(()=>Z.length===v.nx,[Z]),D=l.useMemo(()=>Z.some(o.J),[Z]),L=l.useMemo(()=>Z.some(e=>!(0,o.J)(e)),[Z]),_=S>0,H=n.hasFeature(g.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL)||R,J=l.useCallback(()=>{(0,a.showToast)((0,a.createToast)(j.intl.string(j.t.R0RpRU),a.ToastType.FAILURE))},[]),Q=(0,s.e7)([r.Z],()=>r.Z.can(g.Plq.MANAGE_GUILD,n)),G=l.useCallback(async e=>{if(!T.current){T.current=!0,R&&(e=e.filter(e=>e.field_type!==o.QJ.TERMS));try{await w(n.id,e),p(),I(e),P.current=e}catch(e){throw I(P.current),e}finally{null!=F&&b(null),T.current=!1}}},[F,n.id,p,w,R]),z=l.useCallback(async e=>{let n=e.field_type===o.QJ.TERMS?[e,...Z]:[...Z,e];await G(n)},[Z,G]),O=l.useCallback(async(e,n)=>{if(Z[e]===n)return;let t=[...Z];t[e]=n,await G(t)},[Z,G]),U=l.useCallback(async(e,n,t)=>{let i=Z.indexOf(e),l=[...Z];if(null!=n&&n!==i&&(l.splice(i,1),l.splice(n,0,e),I(l)),t)try{await G(l),null!==F&&b(null)}catch(e){J()}else F!==n&&b(n)},[F,Z,G,J]),B=l.useCallback(async e=>{try{await G([...Z.slice(0,e),...Z.slice(e+1)])}catch(e){J()}},[Z,G,J]),X=Q?R?"side":"footer":"none",q=(0,i.jsxs)(i.Fragment,{children:[!N&&(0,i.jsx)(m.ZP,{guild:n}),(0,i.jsx)(u.Z,{formDescription:y,guildId:n.id,onSave:E,disable:!Q}),Q&&!D&&!M&&(0,i.jsx)(x.Z,{addFormField:z,guild:n}),k.map(e=>(0,f.a0)({dropHoveredIndex:F,formField:e,guild:n,index:Z.indexOf(e),isDragEnabled:!1,submittedGuildJoinRequestsCount:t,removeFormField:B,updateFormField:O,updateFormFieldOrder:U,canRemove:!0,actionsLocation:X,fieldStyle:o.it.REGULAR}))]});return H?(0,i.jsxs)(i.Fragment,{children:[!R&&q,!L&&(0,i.jsx)(d.Z,{addFormField:z,showManualApprovalWarning:!R&&!_,guild:n,showHeader:!R}),A.map(e=>(0,f.a0)({dropHoveredIndex:F,formField:e,guild:n,index:Z.indexOf(e),isDragEnabled:_&&Q,submittedGuildJoinRequestsCount:t,removeFormField:B,updateFormField:O,updateFormFieldOrder:U,canRemove:!(R&&A.length<=1)&&Q,actionsLocation:X,fieldStyle:o.it.REGULAR})),L&&!M&&Q&&(0,i.jsx)("div",{className:C.addQuestionsContainer,children:(0,i.jsx)(h.Z,{addFormField:z,guild:n})})]}):q}},449226:function(e,n,t){t.d(n,{Z:()=>o});var i=t(200651);t(192379);var l=t(120356),s=t.n(l),a=t(481060),r=t(45596);function o(e){let{checked:n,onChange:t,disabled:l,className:o,tooltipProps:c}=e,d=e=>{e.stopPropagation(),e.preventDefault()};return(0,i.jsx)(a.P3F,{onClick:d,onMouseDown:d,onMouseUp:d,className:s()(r.switch,o),...c,children:(0,i.jsx)(a.rsf,{checked:n,onChange:t,disabled:l})})}},122051:function(e,n,t){t.d(n,{Z:()=>y}),t(47120);var i=t(200651),l=t(192379),s=t(120356),a=t.n(s),r=t(442837),o=t(481060),c=t(11265),d=t(863249),u=t(944163),x=t(246364),m=t(983736),h=t(571728),f=t(755340),v=t(449226),g=t(388032),j=t(45596),C=t(966745);function p(e){let{guild:n,isExpanded:s,emptyFormFields:a,hasTermsField:r}=e,c=(0,m.Dc)(n),[u,x]=l.useState(c),h=e=>{e.preventDefault(),e.stopPropagation()},f=async e=>{try{x(e),await d.ZP.enableVerificationForm(n.id,e)}catch{x(u)}},p=e=>{e&&a?(0,o.ZDy)(async()=>{let{ConfirmModal:n}=await Promise.resolve().then(t.bind(t,481060));return t=>(0,i.jsx)(n,{...t,header:g.intl.string(g.t.eSlxe3),cancelText:g.intl.string(g.t.BvmRe3),confirmText:g.intl.string(g.t.PYcfmp),onConfirm:()=>f(e),children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:g.intl.string(g.t.uknrnp)})})}):f(e)},N=()=>{(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([t.e("99916"),t.e("81038"),t.e("98077")]).then(t.bind(t,645264));return t=>(0,i.jsx)(e,{...t,guildId:n.id,isPreview:!0})})};return(0,i.jsxs)("div",{className:j.itemWrapper,children:[(0,i.jsxs)("div",{className:j.itemContent,children:[(0,i.jsx)(o.X6q,{variant:"text-md/semibold",color:"header-primary",children:g.intl.string(g.t.NEXim5)}),(s||a&&!u)&&(0,i.jsx)(o.Text,{variant:"text-sm/medium",color:"header-secondary",children:g.intl.string(g.t["7W5uVl"])}),!s&&(0,i.jsx)("div",{className:C.pillRow,children:r&&(0,i.jsxs)(o.Text,{color:"interactive-normal",variant:"text-xs/medium",className:j.valuePill,children:[(0,i.jsx)(o.snC,{size:"custom",color:"currentColor",width:16,height:16}),g.intl.string(g.t.A2v22t)]})})]}),(0,i.jsx)("div",{className:C.previewAndEnable,children:s||u||!a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.P3F,{onMouseDown:h,onMouseUp:h,onClick:e=>{h(e),N()},children:(0,i.jsx)(o.ua7,{tooltipContentClassName:C.__invalid_tooltip,text:g.intl.string(g.t.SKNnqq),children:e=>(0,i.jsx)(o.tEF,{size:"md",color:"currentColor",className:C.previewIcon,...e})})}),(0,i.jsx)(v.Z,{checked:u,onChange:()=>p(!u)})]}):(0,i.jsx)(o.zxk,{size:o.zxk.Sizes.SMALL,children:g.intl.string(g.t.oRs6mJ)})})]})}async function N(e,n){await d.ZP.updateVerificationForm(e,n)}async function R(e,n){await d.ZP.updateVerificationFormDescription(e,n)}function y(e){var n,t,s;let{guild:o,isClanContext:m=!1,onFieldsSave:v,onDescriptionSave:g,verificationForm:y}=e,[w,E]=l.useState(m),T=l.useRef(!1),F=l.useCallback(()=>{T.current=!0},[]),b=null!==(n=(0,h.A)({guildId:o.id}))&&void 0!==n?n:0,Z=(0,r.e7)([u.Z],()=>null!=y?y:u.Z.get(o.id)),I=null!==(t=null==Z?void 0:Z.formFields)&&void 0!==t?t:[];l.useEffect(()=>{d.ZP.fetchVerificationForm(o.id)},[o.id]);let P=null!=Z,k=!m;return(0,i.jsx)(c.Z,{renderHeader:k?(0,i.jsx)(p,{guild:o,isExpanded:w,emptyFormFields:(null==I?void 0:I.length)==null||(null==I?void 0:I.length)===0,hasTermsField:null==I?void 0:I.some(e=>e.field_type===x.QJ.TERMS)}):null,isExpanded:w,onExpand:()=>E(!w),disableAnimation:m,disableBackground:!k,children:(0,i.jsx)("div",{className:a()(j.itemBodyContainer,{[j.noPadding]:!k,[C.rulesScreeningItemsNoBorder]:!k}),children:P&&(0,i.jsx)(f.Z,{guild:o,submittedGuildJoinRequestsCount:b,formFields:I,onFormFieldUpdate:F,hideVerificationLevelField:!0,isClanContext:m,onFieldsSave:null!=v?v:N,onDescriptionSave:null!=g?g:R,formDescription:null!==(s=null==Z?void 0:Z.description)&&void 0!==s?s:""})})})}},838221:function(e,n,t){t.d(n,{Z:()=>s});var i=t(200651);t(192379);var l=t(325767);function s(e){let{width:n=17,height:t=16,color:s="currentColor",foreground:a,...r}=e;return(0,i.jsxs)("svg",{...(0,l.Z)(r),width:n,height:t,viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{className:a,y:"5",width:"16",height:"2",rx:"1",fill:s}),(0,i.jsx)("rect",{className:a,y:"9",width:"8",height:"2",rx:"1",fill:s})]})}}}]);
//# sourceMappingURL=b240daab97dedaf1.js.map