"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["10472"],{658041:function(t,n,e){e.d(n,{M:()=>d});var l=e(913527),i=e.n(l),r=e(709054),u=e(765305);function d(t,n,e,l){let d=i()(),a=new Date(t.scheduled_start_time).getTime(),s={start:a-u.VF,end:a};if(d.isBetween(s.start,s.end)){if(null!=n){let t=i()(n),e=t.isBetween(s.start,s.end),r=t.isBetween(i()(a).subtract(u.zV,"days"),a);return e||r&&!l?void 0:u.X_.EVENT_STARTING_SOON}return u.X_.EVENT_STARTING_SOON}let o=r.default.extractTimestamp(t.id),c=Math.min((null!=e?e:o)+u.Fc,a);if(d.isBetween(o,c)&&null==n&&!l)return u.X_.NEW_EVENT}},835184:function(t,n,e){e.d(n,{Z:()=>h});var l,i=e(442837),r=e(570140),u=e(314897),d=e(924301),a=e(658041),s=e(765305);function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}let c={},E={};function g(t){let n={...c};delete n[t],c=n;let e={...E};delete e[t],E=e}class v extends(l=i.ZP.PersistedStore){initialize(t){if(null!=t){var n,e;c=null!==(n=t.upcomingEventDismissals)&&void 0!==n?n:{},E=null!==(e=t.upcomingEventSeenTimestamps)&&void 0!==e?e:{}}}getGuildEventNoticeDismissalTime(t){return c[t]}getAllEventDismissals(){return c}getUpcomingNoticeSeenTime(t){return E[t]}getAllUpcomingNoticeSeenTimes(){return E}getState(){return{upcomingEventDismissals:c,upcomingEventSeenTimestamps:E}}}o(v,"displayName","UpcomingEventNoticesStore"),o(v,"persistKey","UpcomingEventNotices");let h=new v(r.Z,{UPCOMING_GUILD_EVENT_NOTICE_HIDE:function(t){let{eventId:n}=t,e={...c};e[n]=Date.now(),c=e},GUILD_SCHEDULED_EVENT_UPDATE:function(t){let{guildScheduledEvent:n}=t;(n.status===s.p1.CANCELED||n.status===s.p1.COMPLETED)&&g(n.id)},GUILD_SCHEDULED_EVENT_DELETE:function(t){let{guildScheduledEvent:n}=t;g(n.id)},GUILD_SCHEDULED_EVENT_USER_ADD:function(t){let{userId:n,guildEventId:e}=t;if(n!==u.default.getId())return;let l=d.ZP.getGuildScheduledEvent(e);if(null==l||l.status!==s.p1.SCHEDULED||null!=c[e])return;let i=E[e];if((0,a.M)(l,void 0,i,!1)===s.X_.NEW_EVENT){let t={...c};t[e]=Date.now(),c=t}},UPCOMING_GUILD_EVENT_NOTICE_SEEN:function(t){let{guildEventId:n}=t,e={...E};e[n]=Date.now(),E=e}})},495279:function(t,n,e){e.d(n,{Z:()=>i});var l=e(482241);function i(t,n,e,i){let{scheduled_start_time:r,scheduled_end_time:u}=t;return null==r&&null==u?l.Z.deleteGuildEventException(n,e,i):l.Z.updateGuildEventException({scheduled_start_time:r,scheduled_end_time:u,is_canceled:!1},n,e,i)}},554747:function(t,n,e){e.d(n,{Vm:()=>I,ZP:()=>m,eF:()=>b,gM:()=>S,k5:()=>P,qY:()=>p,sz:()=>C,u1:()=>D}),e(47120),e(724458);var l=e(192379),i=e(442837),r=e(241155),u=e(592125),d=e(984933),a=e(430824),s=e(496675),o=e(70956),c=e(823379),E=e(924301),g=e(658041),v=e(835184),h=e(79874),_=e(854698),f=e(765305),Z=e(981631);let N=[],T=15*o.Z.Millis.MINUTE;function m(t,n){return(0,i.Wu)([a.Z,r.Z,E.ZP,s.Z,u.Z,d.ZP],()=>{let e=a.Z.getGuild(t);if(null==e)return N;if(e.hasFeature(Z.oNc.HUB)){var l,i;let t=null===(l=d.ZP.getDefaultChannel(e.id))||void 0===l?void 0:l.id;return(null!==(i=r.Z.getEventDirectoryEntries(t))&&void 0!==i?i:[]).map(t=>{let n=t.scheduledEventId,e=E.ZP.getGuildScheduledEvent(n);return null!=e?e:r.Z.getCachedGuildScheduledEventById(n)}).filter(c.lm)}return E.ZP.getGuildScheduledEventsByIndex(null!=n?n:E.bN.GUILD_EVENT_UPCOMING(e.id)).filter(t=>{let n=t.channel_id;if(null==n)return!0;let e=u.Z.getChannel(n);return s.Z.can(Z.Plq.VIEW_CHANNEL,e)})},[n,t])}function p(t){return(0,i.e7)([E.ZP,u.Z,s.Z],()=>{let n=u.Z.getChannel(t);if(!s.Z.can(Z.Plq.VIEW_CHANNEL,n)||null==(null==n?void 0:n.guild_id))return null;let e=E.ZP.getGuildScheduledEventsByIndex(E.bN.CHANNEL_EVENT_ACTIVE(t));return e.length>0?e[0]:null},[t])}function S(t){let n=(0,i.Wu)([E.ZP],()=>E.ZP.getGuildScheduledEventsForGuild(t),[t]);return l.useMemo(()=>{let t=new Map;return n.forEach(n=>{let e=n.channel_id;null!=e&&t.set(e,n)}),t},[n])}function I(t){var n;let e=(0,i.Wu)([E.ZP,u.Z,s.Z],()=>E.ZP.getGuildScheduledEventsByIndex(E.bN.GUILD_EVENT_UPCOMING(t)).filter(t=>{if(t.entity_type===f.WX.NONE||t.status!==f.p1.SCHEDULED)return!1;if(null==t.channel_id)return!0;let n=u.Z.getChannel(t.channel_id);return s.Z.can(Z.Plq.VIEW_CHANNEL,n)}),[t]),l=(0,i.cj)([v.Z],()=>v.Z.getAllEventDismissals()),r=(0,i.cj)([v.Z],()=>v.Z.getAllUpcomingNoticeSeenTimes()),d=(0,i.cj)([E.ZP],()=>null==e?{}:e.reduce((t,n)=>{let e=(0,_.DK)(n);return{...t,[n.id]:E.ZP.isInterestedInEventRecurrence(n.id,e)}},{}),[e]),o=(0,i.e7)([a.Z],()=>a.Z.getGuild(t)),c=null!=o&&!o.hasFeature(Z.oNc.COMMUNITY)&&o.hasFeature(Z.oNc.INTERNAL_EMPLOYEE_ONLY);if(null!=e&&null!=d&&c)for(let t=0;t<e.length;t++){let i=e[t],u=l[i.id],a=r[i.id],s=null!==(n=d[i.id])&&void 0!==n&&n,o=(0,g.M)(i,u,a,s);if(null!=o)return{upcomingEvent:i,noticeType:o}}}function P(t){return(0,i.e7)([E.ZP,u.Z,s.Z],()=>E.ZP.getGuildScheduledEventsByIndex(E.bN.GUILD_EVENT_ACTIVE(t)).find(t=>{if(t.entity_type===f.WX.NONE||!(0,E.xt)(t))return!1;if(null==t.channel_id)return!0;let n=u.Z.getChannel(t.channel_id);return s.Z.can(Z.Plq.VIEW_CHANNEL,n)}),[t])}function D(t){return(0,i.e7)([E.ZP],()=>E.ZP.getGuildScheduledEventsByIndex(E.bN.CHANNEL_EVENT_UPCOMING(t)),[t])}function b(t){return(0,i.e7)([u.Z,E.ZP],()=>{let n=E.ZP.getGuildScheduledEventsByIndex(E.bN.GUILD_EVENT_ACTIVE(t)).find(t=>null!=u.Z.getChannel(t.channel_id));return u.Z.getChannel(null==n?void 0:n.channel_id)},[t])}function C(t){let[n,e]=l.useState(()=>Date.now());l.useEffect(()=>{let t=setInterval(()=>{e(Date.now())},T);return()=>clearInterval(t)},[]);let r=(0,i.e7)([E.ZP],()=>null==t?[]:E.ZP.getGuildScheduledEventsByIndex(E.bN.CHANNEL_EVENT_UPCOMING(t)),[t,n]);return l.useMemo(()=>r.filter(t=>{let{startTime:n,endTime:e}=(0,h.Kq)(t),{withinStartWindow:l,diffMinutes:i}=(0,_.ub)(n.toISOString(),null==e?void 0:e.toISOString());return t.status!==f.p1.ACTIVE&&l&&i<15}),[r])}},334877:function(t,n,e){e.d(n,{l:()=>r});var l=e(15729),i=e(731965);let r=(0,l.U)(t=>({canCloseModal:!0,onUpdateCanCloseModal(n){(0,i.j)(()=>t({canCloseModal:n}))}}))},215269:function(t,n,e){e.d(n,{default:()=>N});var l=e(200651);e(192379);var i=e(481060),r=e(239091),u=e(410575),d=e(299206),a=e(70877),s=e(572427),o=e(231259),c=e(159233),E=e(924952),g=e(99528),v=e(830394),h=e(473545),_=e(124422),f=e(981631),Z=e(388032);function N(t){let{guildEventId:n,recurrenceId:e,channel:N,guild:T,analyticsContext:m,isRecurrenceItem:p=!1,onSelect:S}=t,I=(0,v.Z)({guildEventId:n,recurrenceId:e,guild:T,channel:N}),P=(0,o.Z)({guildEventId:n,recurrenceId:e,guild:T,channel:N}),D=(0,c.Z)({guildEventId:n,guild:T,channel:N,recurrenceId:e,isRecurrenceItem:p}),b=(0,E.Z)(n,T,N),C=(0,_.Z)(n,T,N),x=(0,s.Z)(n,T.id,e),A=(0,g.Z)(n),y=(0,d.Z)({id:n,label:Z.intl.string(Z.t.WZwPOz)}),G=(0,d.Z)({id:e,label:Z.intl.string(Z.t.NZRGQk)}),w=(0,a.Z)(n,T.id,N,e),j=(0,h.Z)({guildEventId:n,guildId:T.id,recurrenceId:e});return(0,l.jsx)(u.Z,{context:m,object:f.qAy.CONTEXT_MENU,children:(0,l.jsxs)(i.v2r,{navId:"user-context",onClose:r.Zy,"aria-label":Z.intl.string(Z.t.liqwPD),onSelect:S,children:[(0,l.jsxs)(i.kSQ,{children:[w,!p&&C,D,!p&&b,P,I,x,p&&j]}),!p&&(0,l.jsx)(i.kSQ,{children:A}),(0,l.jsxs)(i.kSQ,{children:[y,G]})]})})}},70877:function(t,n,e){e.d(n,{Z:()=>P});var l=e(200651);e(192379);var i=e(916376),r=e.n(i),u=e(913527),d=e.n(u),a=e(593473),s=e(442837),o=e(481060),c=e(579806),E=e(957730),g=e(430824),v=e(358085),h=e(924301),_=e(79874),f=e(236373),Z=e(854698),N=e(765305),T=e(981631),m=e(388032);let p="YYYYMMDDTHHmmss",S="YYYY-MM-DDTHH:mm:ss",I=/RRULE:.*/;function P(t,n,e,i){var u,P,D;let b;let C=(0,s.e7)([h.ZP],()=>h.ZP.isActive(t)),x=(0,_.zI)(null!=t?t:"",i),A=(0,s.e7)([h.ZP],()=>h.ZP.getGuildScheduledEvent(t),[t]),y=(0,s.e7)([g.Z],()=>g.Z.getGuild(n),[n]);if(C||null==x||null==A)return null;b=A.entity_type===N.WX.EXTERNAL?A.entity_metadata.location:null!=e&&null!=y?m.intl.formatToPlainString(m.t["2t8L09"],{channelName:e.name,guildName:y.name}):m.intl.string(m.t.VSgOVl);let G=d()(A.scheduled_start_time),w=null!=A.scheduled_end_time?d()(A.scheduled_end_time):G,j=null!=A.description&&""!==A.description?E.ZP.unparse(A.description,null!==(u=null==e?void 0:e.id)&&void 0!==u?u:T.lds,!0):"",M=(0,f.KV)(A.recurrence_rule),O=null!=M?(0,Z.Ho)(M):null,{startTime:U,endTime:L}=x,R=null!==(P=d()(U))&&void 0!==P?P:G,V=null!==(D=d()(null!=L?L:U))&&void 0!==D?D:G,W=()=>{let t=r()();t.createEvent({start:G,end:w,summary:A.name,description:j,location:b,repeating:O}),v.isPlatformEmbedded?c.Z.fileManager.saveWithDialog(t.toString(),"discord-event.ics"):window.open(t.toURL(),"_blank")};return(0,l.jsxs)(o.sNh,{id:m.intl.string(m.t.k5pvjo),label:m.intl.string(m.t.k5pvjo),action:W,children:[(0,l.jsx)(o.sNh,{id:m.intl.string(m.t.JKSLRE),label:m.intl.string(m.t.JKSLRE),action:()=>{var t;let n=null==O?void 0:O.toString(),e={text:A.name,dates:"".concat(G.format(p),"/").concat(w.format(p)),details:j,action:"TEMPLATE",location:b,recur:null!=n?null===(t=I.exec(n))||void 0===t?void 0:t[0]:void 0},l="https://calendar.google.com/calendar/render?".concat((0,a.stringify)(e));window.open(l,"_blank")}}),(0,l.jsx)(o.sNh,{id:m.intl.string(m.t.nrBYSU),label:m.intl.string(m.t.nrBYSU),action:W}),(0,l.jsx)(o.sNh,{id:m.intl.string(m.t.odzaCQ),label:m.intl.string(m.t.odzaCQ),action:()=>{let t={v:60,title:A.name,st:R.format(p),et:V.format(p),desc:j,in_loc:b},n="https://calendar.yahoo.com/?".concat((0,a.stringify)(t));window.open(n,"_blank")}}),(0,l.jsx)(o.sNh,{id:m.intl.string(m.t.rQe8EB),label:m.intl.string(m.t.rQe8EB),action:()=>{let t={path:"/calendar/action/compose",rru:"addevent",startdt:R.format(S),enddt:V.format(S),subject:A.name,body:j,location:b,allday:!1},n="https://outlook.live.com/calendar/0/deeplink/compose?".concat((0,a.stringify)(t));window.open(n,"_blank")}})]})}},572427:function(t,n,e){e.d(n,{Z:()=>s});var l=e(200651);e(192379);var i=e(481060),r=e(572004),u=e(592126),d=e(981631),a=e(388032);function s(t,n,e){let s=null!=e,{isMember:o}=(0,u.Z)(n,t);if(!o)return null;function c(){let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,r.JG)("".concat(location.protocol,"//").concat(location.host).concat(d.Z5c.GUILD_EVENT_DETAILS(n,t,l?null:e))),(0,i.showToast)((0,i.createToast)(a.intl.string(a.t["L/PwZW"]),i.ToastType.SUCCESS))}return(0,l.jsx)(i.sNh,{id:a.intl.string(a.t["9o+VKy"]),label:a.intl.string(a.t["9o+VKy"]),action:s?void 0:()=>c(!0),children:s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.sNh,{id:a.intl.string(a.t.QLtDqK),label:a.intl.string(a.t.QLtDqK),action:()=>c(!1)}),(0,l.jsx)(i.sNh,{id:a.intl.string(a.t.AYnhBw),label:a.intl.string(a.t.AYnhBw),action:()=>c(!0)})]})})}},231259:function(t,n,e){e.d(n,{Z:()=>E}),e(47120);var l=e(200651);e(192379);var i=e(442837),r=e(481060),u=e(357156),d=e(924301),a=e(482241),s=e(894017),o=e(79874),c=e(388032);function E(t){let{guildEventId:n,recurrenceId:e,guild:E,channel:g}=t,v=null!=e,{canManageGuildEvent:h}=(0,u.XJ)(null!=g?g:E),[_,f]=(0,i.Wu)([d.ZP],()=>[d.ZP.isActive(n),d.ZP.getGuildScheduledEvent(n)]),Z=(0,s.Z)(e,null==f?void 0:f.id),N=null!=f&&h(f),T=(null==f?void 0:f.recurrence_rule)!=null&&!v,m=(0,o.zI)(n,e);if(!N||_&&!T&&!v||v&&!v||null==f||null==m)return null;let{startTime:p}=m;if(_&&v){var S;if(null==p)return null;let t=new Date(null!==(S=null==Z?void 0:Z.scheduled_start_time)&&void 0!==S?S:p);if(new Date>t)return null}let I=t=>{(0,r.h7j)(i=>(0,l.jsxs)(r.ConfirmModal,{...i,header:c.intl.string(c.t.R5bpio),confirmText:T||t?c.intl.string(c.t["8ZsNv7"]):c.intl.string(c.t.B9sJLS),cancelText:c.intl.string(c.t.oEAioK),onConfirm:()=>v&&!t?a.Z.deleteRecurrence(E.id,n,e,Z):a.Z.deleteGuildEvent(n,E.id),children:[(0,l.jsx)(r.Text,{variant:"text-md/normal",children:c.intl.string(c.t.v2GWNT)}),(0,l.jsx)("br",{}),(T||t)&&(0,l.jsx)(r.Text,{variant:"text-md/normal",children:c.intl.format(c.t.ZcpcyM,{})})]}))};return(0,l.jsx)(r.sNh,{id:c.intl.string(c.t.B9sJLS),label:c.intl.string(c.t.B9sJLS),action:v?void 0:()=>I(),color:"danger",children:v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.sNh,{id:c.intl.string(c.t.tqCll5),label:c.intl.string(c.t.tqCll5),action:()=>I(),disabled:null==Z?void 0:Z.is_canceled,color:"danger"}),(0,l.jsx)(r.sNh,{id:c.intl.string(c.t.wr33ra),label:c.intl.string(c.t.wr33ra),action:()=>I(!0),color:"danger"})]})})}},159233:function(t,n,e){e.d(n,{Z:()=>E});var l=e(200651);e(192379);var i=e(442837),r=e(481060),u=e(357156),d=e(924301),a=e(894017),s=e(79874),o=e(576749),c=e(388032);function E(t){let{guildEventId:n,guild:E,channel:g,recurrenceId:v,isRecurrenceItem:h}=t,{canManageGuildEvent:_}=(0,u.XJ)(null!=g?g:E),f=(0,i.e7)([d.ZP],()=>d.ZP.getGuildScheduledEvent(n)),Z=_(f),N=(0,o.Z)(),T=(0,a.Z)(v,null==f?void 0:f.id),m=(0,s.zI)(n,v);if(!Z||null==m||null==f)return null;let p=null!=f.recurrence_rule&&!h,S=t=>{(null==v||t)&&!h?(0,r.ZDy)(async()=>{let{default:t}=await Promise.all([e.e("58023"),e.e("858")]).then(e.bind(e,779250));return e=>(0,l.jsx)(t,{...e,guildScheduledEventId:n,guildId:E.id})},N):null!=v&&(0,r.ZDy)(async()=>{let{default:t}=await e.e("27919").then(e.bind(e,379038));return n=>(0,l.jsx)(t,{...n,guildEvent:f,recurrenceId:v})},N)};return(0,l.jsx)(r.sNh,{id:c.intl.string(c.t.Rgy2dX),label:c.intl.string(c.t.Rgy2dX),action:p?void 0:()=>S(!0),children:p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.sNh,{id:c.intl.string(c.t.wmVmXF),label:c.intl.string(c.t.wmVmXF),action:()=>S(!1),disabled:(null==T?void 0:T.is_canceled)||m.startTime.getTime()<Date.now()}),(0,l.jsx)(r.sNh,{id:c.intl.string(c.t.BW1Qoq),label:c.intl.string(c.t.BW1Qoq),action:()=>S(!0),disabled:new Date(f.scheduled_start_time).getTime()<Date.now()})]})})}},924952:function(t,n,e){e.d(n,{Z:()=>E});var l=e(200651);e(192379);var i=e(442837),r=e(481060),u=e(357156),d=e(471253),a=e(924301),s=e(482241),o=e(765305),c=e(388032);function E(t,n,e){let{canManageGuildEvent:E}=(0,u.XJ)(null!=e?e:n),g=(0,i.e7)([a.ZP],()=>a.ZP.isActive(t)),v=(0,i.e7)([a.ZP],()=>a.ZP.getGuildScheduledEvent(t),[t]),h=E(v);if(null==t||!h||!g||(null==v?void 0:v.entity_type)===o.WX.EXTERNAL)return null;let _=()=>{if(null==e?void 0:e.isGuildStageVoice()){(0,d.NZ)(e);return}null!=t&&s.Z.endEvent(t,n.id),(0,r.pTH)()};return(0,l.jsx)(r.sNh,{id:c.intl.string(c.t.qaYzPD),label:c.intl.string(c.t.qaYzPD),action:function(){(0,r.h7j)(t=>(0,l.jsx)(r.ConfirmModal,{...t,header:c.intl.string(c.t.qaYzPD),confirmText:c.intl.string(c.t.mjB9pa),cancelText:c.intl.string(c.t["ETE/oK"]),onConfirm:_,children:(0,l.jsx)(r.Text,{variant:"text-md/normal",children:c.intl.string(c.t.bnDQ7O)})}))},color:"danger"})}},99528:function(t,n,e){e.d(n,{Z:()=>s});var l=e(200651);e(192379);var i=e(442837),r=e(481060),u=e(726521),d=e(924301),a=e(388032);function s(t){let n=(0,i.e7)([d.ZP],()=>d.ZP.getGuildScheduledEvent(t),[t]);return null==t||null==n?null:(0,l.jsx)(r.sNh,{id:"report-event",label:a.intl.string(a.t.IBA5wc),action:()=>(0,u.d$)(n),icon:r.U65,color:"danger"})}},830394:function(t,n,e){e.d(n,{Z:()=>c}),e(47120);var l=e(200651);e(192379);var i=e(442837),r=e(481060),u=e(357156),d=e(924301),a=e(495279),s=e(894017),o=e(388032);function c(t){let{guildEventId:n,recurrenceId:e,guild:c,channel:E}=t,g=null!=e,{canManageGuildEvent:v}=(0,u.XJ)(null!=E?E:c),[h,_]=(0,i.Wu)([d.ZP],()=>[d.ZP.isActive(n),d.ZP.getGuildScheduledEvent(n)]),f=(0,s.Z)(e,null==_?void 0:_.id),Z=null!=_&&v(_);return g&&(null==f?void 0:f.is_canceled)&&Z&&(!h||g)?(0,l.jsx)(r.sNh,{id:o.intl.string(o.t.b8606O),label:o.intl.string(o.t.b8606O),action:()=>{null!=e&&null!=f&&(0,a.Z)(f,c.id,n,e)}}):null}},473545:function(t,n,e){e.d(n,{Z:()=>g});var l=e(200651);e(192379);var i=e(442837),r=e(481060),u=e(41776),d=e(314897),a=e(924301),s=e(482241),o=e(894017),c=e(765305),E=e(388032);function g(t){let{guildEventId:n,guildId:e,recurrenceId:g}=t,v=(0,i.e7)([u.Z],()=>u.Z.isLurking(e),[e]),h=(0,i.e7)([d.default],()=>d.default.getId()),{rsvped:_,baseRsvp:f,recurrenceRsvp:Z}=(0,i.cj)([a.ZP],()=>({rsvped:a.ZP.isInterestedInEventRecurrence(n,g),baseRsvp:a.ZP.getRsvp(n,null,h),recurrenceRsvp:a.ZP.getRsvp(n,g,h)}),[g,n,h]),N=(0,o.Z)(g,n);if(v||(null==N?void 0:N.is_canceled))return null;let T=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=(null==f?void 0:f.response)===c.gv.INTERESTED?c.gv.UNINTERESTED:c.gv.INTERESTED,i=t?null:g;s.Z.updateRsvp(n,i,e,l)};return(0,l.jsxs)(r.sNh,{id:_?E.intl.string(E.t["7M5gaG"]):E.intl.string(E.t.FXixvL),label:_?E.intl.string(E.t["7M5gaG"]):E.intl.string(E.t.FXixvL),action:void 0,children:[(0,l.jsx)(r.sNh,{id:E.intl.string(E.t.lwZCFR),label:E.intl.string(E.t.lwZCFR),action:()=>T(!1)}),(0,l.jsx)(r.sNh,{id:E.intl.string(E.t.uoorxs),label:E.intl.string(E.t.uoorxs),action:()=>T(!0),disabled:null!=Z})]})}},124422:function(t,n,e){e.d(n,{Z:()=>c});var l=e(200651);e(192379);var i=e(442837),r=e(481060),u=e(357156),d=e(924301),a=e(554747),s=e(981631),o=e(388032);function c(t,n,c){var E;let{canManageGuildEvent:g}=(0,u.XJ)(null!=c?c:n),v=(0,i.e7)([d.ZP],()=>d.ZP.getGuildScheduledEvent(t),[t]),h=g(v),_=null!=(0,a.qY)(null!==(E=null==c?void 0:c.id)&&void 0!==E?E:s.lds),f=null!=v&&(0,d.xt)(v);return!h||f||_?null:(0,l.jsx)(r.sNh,{id:o.intl.string(o.t.cK1GGR),label:o.intl.string(o.t.cK1GGR),action:function(){null!=v&&(0,r.ZDy)(async()=>{let{default:t}=await Promise.all([e.e("84722"),e.e("47200")]).then(e.bind(e,296864));return n=>(0,l.jsx)(t,{...n,event:v})})}})}},576749:function(t,n,e){e.d(n,{Z:()=>a});var l=e(481060),i=e(40851),r=e(334877),u=e(981631);let d="guild-event-modal",a=()=>{let t=(0,i.bp)()===u.IlC.POPOUT?l.u1M:l.z1l;return{modalKey:d,contextKey:t,onCloseRequest:()=>{r.l.getState().canCloseModal&&(0,l.Mr3)(d,t)}}}},471253:function(t,n,e){e.d(n,{DT:()=>p,Ef:()=>D,HO:()=>P,NZ:()=>b,Pq:()=>I,Q1:()=>Z,RK:()=>T,_0:()=>N,hz:()=>S,yi:()=>m});var l=e(512722),i=e.n(l),r=e(149765),u=e(544891),d=e(493683);e(749210);var a=e(911969),s=e(367907),o=e(944486),c=e(979651),E=e(700785),g=e(922482),v=e(192079),h=e(706058),_=e(590415),f=e(981631);function Z(t,n){let e=t.getGuildId();return i()(null!=e,"This channel cannot be guildless."),n&&(0,s.yw)(f.rMx.REQUEST_TO_SPEAK_INITIATED,{...(0,v.s$)(t)}),u.tn.patch({url:f.ANM.UPDATE_VOICE_STATE(e),body:{request_to_speak_timestamp:n?new Date().toISOString():null,channel_id:t.id},rejectWithError:!1})}function N(t,n){let e=t.getGuildId();return i()(null!=e,"This channel cannot be guildless."),u.tn.patch({url:f.ANM.UPDATE_VOICE_STATE(e,n),body:{suppress:!1,request_to_speak_timestamp:new Date().toISOString(),channel_id:t.id},rejectWithError:!1})}function T(t,n){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=null==t?void 0:t.getGuildId();i()(null!=l,"This channel cannot be guildless.");let r=c.Z.getVoiceStateForChannel(t.id);return(0,_.gf)(r)!==_.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||n||(0,s.yw)(f.rMx.PROMOTED_TO_SPEAKER,{...(0,v.s$)(t)}),u.tn.patch({url:f.ANM.UPDATE_VOICE_STATE(l),body:{suppress:n,request_to_speak_timestamp:null,channel_id:t.id,...e?{silent:e}:{}},rejectWithError:!1})}function m(t){let n=null==t?void 0:t.getGuildId();return i()(null!=n,"This channel cannot be guildless."),u.tn.patch({url:f.ANM.UPDATE_VOICE_STATE(n),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1},rejectWithError:!1})}function p(t,n,e){let l=t.getGuildId();return i()(null!=l,"This channel cannot be guildless."),u.tn.patch({url:f.ANM.UPDATE_VOICE_STATE(l,n),body:{suppress:e,channel_id:t.id},rejectWithError:!1})}function S(t,n){if(null==n||null==t)return;let e=n.getGuildId();return i()(null!=e,"This channel cannot be guildless."),p(n,t.id,!0),u.tn.patch({url:f.ANM.UPDATE_VOICE_STATE(e,t.id),body:{suppress:!0,channel_id:n.id,self_video:!1,self_stream:!1},rejectWithError:!1})}function I(t,n,e){let l=t.getGuildId();i()(null!=l,"Channel cannot be guildless");let u=t.permissionOverwrites[l],s={id:l,type:a.BN.ROLE,allow:E.Hn,deny:E.Hn,...u};e?(s.allow=r.IH(s.allow,n),s.deny=r.Od(s.deny,n)):(s.allow=r.Od(s.allow,n),s.deny=r.IH(s.deny,n)),d.Z.updatePermissionOverwrite(t.id,s)}async function P(t,n,e,l){if(""===n)return;o.Z.getVoiceChannelId()!==t.id&&(0,g.TM)(t);let i=await (0,h.me)(t.id,n,e,l);return T(t,!1,!0),i}async function D(t,n,e){if(""!==n)return await (0,h.Dk)(t.id,n,e)}async function b(t){await (0,h.Ix)(t.id)}},192079:function(t,n,e){e.d(n,{ER:()=>c,kk:()=>E,s$:()=>g}),e(724458),e(47120),e(392711);var l=e(19780),i=e(5192),r=e(700785),u=e(427679),d=e(157925),a=e(981631),s=e(71080),o=e(388032);function c(t,n,e,l){let r=n[0],u=i.ZP.getName(t,e,r),d=null!=l?l:n.length;return 1===d&&null!=r?u:null==r?o.intl.formatToPlainString(o.t.chmM9P,{count:d}):o.intl.formatToPlainString(o.t.GhkJ29,{name:u,count:d-1})}function E(t,n){switch(t){case s.aC.OWNER:return o.intl.string(o.t.icuNBA);case s.aC.ADMINISTRATOR:return o.intl.string(o.t.eTmN5e);case s.aC.MEMBER:case s.aC.ROLE:return n?o.intl.string(o.t.Hw3XW1):o.intl.string(o.t.YieyPj);case s.aC.EMPTY_STATE:}return null}function g(t){let n=u.Z.getStageInstanceByChannel(t.id);return{channel_id:t.id,guild_id:t.guild_id,topic:null==n?void 0:n.topic,media_session_id:l.Z.getMediaSessionId(),request_to_speak_state:r.Uu(a.Plq.REQUEST_TO_SPEAK,t)?d.BM.EVERYONE:d.BM.NO_ONE,stage_instance_id:null==n?void 0:n.id}}},706058:function(t,n,e){e.d(n,{Dk:()=>u,Ix:()=>d,me:()=>r});var l=e(544891),i=e(981631);async function r(t,n,e,r,u){return(await l.tn.post({url:i.ANM.STAGE_INSTANCES,body:{channel_id:t,topic:n,privacy_level:e,guild_scheduled_event_id:u,send_start_notification:r},rejectWithError:!1})).body}async function u(t,n,e){return(await l.tn.patch({url:i.ANM.STAGE_INSTANCE(t),body:{topic:n,privacy_level:e},rejectWithError:!1})).body}function d(t){return l.tn.del({url:i.ANM.STAGE_INSTANCE(t),rejectWithError:!1})}},997412:function(){},636463:function(){}}]);
//# sourceMappingURL=2b438f71960c2d09.js.map