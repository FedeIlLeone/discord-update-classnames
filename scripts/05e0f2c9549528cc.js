"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["5863"],{650455:function(e){e.exports="/assets/011da80ab82e472d.png"},751212:function(e,t,n){n.d(t,{default:()=>B}),n(47120),n(653041);var i=n(200651),s=n(192379),l=n(392711),a=n.n(l),r=n(913527),o=n.n(r),d=n(995295),c=n(374470),u=n(442837),h=n(692547),g=n(481060),m=n(87051),x=n(798140),p=n(740504),v=n(933557),N=n(471445),S=n(600164),j=n(423589),C=n(74888),f=n(444899),E=n(11352),Z=n(610617),b=n(777861),_=n(131704),T=n(592125),L=n(324067),O=n(650774),M=n(430824),I=n(699516),A=n(9156),R=n(594174),P=n(823379),G=n(63063),U=n(621600),w=n(981631),y=n(969943),D=n(388032),k=n(938693);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends s.PureComponent{static getDerivedStateFromProps(e,t){let{overrides:n,channelOverridesProp:i}=t;return e.channelOverrides!==i?(n=new Set(n),(0,j.OD)(e.channelOverrides).forEach(e=>n.add(e)),{overrides:n,channelOverridesProp:e.channelOverrides}):null}componentDidUpdate(e,t){let{lastSelected:n}=this.state,i=null!=n?this._channelRefs[n]:null;if(null!=this._scroller&&null!=i&&n!==t.lastSelected){let e=(0,d.findDOMNode)(i);if(null!=this._scroller&&(0,c.k)(e,HTMLElement)){var s;null===(s=this._scroller)||void 0===s||s.scrollIntoViewNode({node:e,animate:!0,padding:20,callback:()=>this.setState({lastSelected:null})}),i.highlight()}}if(this.props.channelOverrides!==e.channelOverrides){let{overrides:e}=this.state;e=new Set(e),(0,j.OD)(this.props.channelOverrides).forEach(t=>e.add(t)),this.setState({overrides:e})}}handleCheckboxChange(e,t,n){m.Z.updateGuildNotificationSettings(this.props.guildId,{[e]:t},n)}handleRadioChange(e,t,n){let{value:i}=t;m.Z.updateGuildNotificationSettings(this.props.guildId,{[e]:i},n)}renderHeader(){let{guild:e}=this.props;return null==e?null:(0,i.jsxs)(g.xBx,{className:k.modalHeader,children:[(0,i.jsxs)(S.Z.Child,{children:[(0,i.jsx)(g.X6q,{variant:"heading-lg/semibold",children:D.intl.string(D.t.h850Sk)}),(0,i.jsx)(g.Text,{variant:"text-md/normal",className:k.guildName,children:e.name})]}),(0,i.jsx)(S.Z.Child,{grow:0,children:(0,i.jsx)(g.olH,{onClick:this.props.onClose})})]})}renderFooter(){return(0,i.jsx)(g.mzw,{children:(0,i.jsx)(g.zxk,{onClick:this.props.onClose,children:D.intl.string(D.t.i4jeWV)})})}renderMute(){var e;let{muted:t,muteConfig:n,guild:s}=this.props,l=null!==(e=null==n?void 0:n.selected_time_window)&&void 0!==e?e:y.Oe.ALWAYS;return null==s?null:(0,i.jsxs)(g.xJW,{className:k.largeSpacing,children:[(0,i.jsx)(g.j7V,{hideBorder:!0,value:t,onChange:e=>this.handleCheckboxChange("muted",e,U.UE.muted(e)),note:D.intl.string(D.t["8wbTQ0"]),children:D.intl.format(D.t["J+7D9P"],{name:s.name})}),t?(0,i.jsxs)(S.Z,{className:k.spacing,align:S.Z.Align.CENTER,children:[(0,i.jsxs)(S.Z,{direction:S.Z.Direction.VERTICAL,className:k.__invalid_muteUntilTextWrapper,children:[(0,i.jsx)(g.vwX,{tag:"h3",className:k.muteUntilTitle,children:D.intl.string(D.t.Ztu2Ym)}),(0,i.jsx)(b.Z,{className:k.muteUntilText,muteConfig:n})]}),(0,i.jsx)(g.q4e,{className:k.muteTimeSelector,options:(0,j.W9)(),value:l,onChange:this.handleSelectMuteTime})]}):null,(0,i.jsx)(g.$i$,{})]})}renderServerSettings(){let{messageNotifications:e,muted:t,memberCount:n}=this.props;return(0,i.jsxs)("div",{className:k.spacing,children:[(0,i.jsx)(g.xJW,{title:D.intl.string(D.t.lprV7e),className:k.largeSpacing,children:(0,i.jsx)(g.FXm,{disabled:t,value:e,onChange:e=>this.handleRadioChange("message_notifications",e,U.UE.notifications(e.value)),options:[{name:D.intl.string(D.t["n/bTaW"]),value:w.bL.ALL_MESSAGES,desc:null!=n&&n>=w.qWG?D.intl.string(D.t.Dh5p5u):null},{name:D.intl.format(D.t.L2hmY2,{}),value:w.bL.ONLY_MENTIONS},{name:D.intl.string(D.t.CtVGyc),value:w.bL.NO_MESSAGES}]})}),(0,i.jsx)(g.$i$,{})]})}renderNotificationOptions(){let{suppressEveryone:e,suppressRoles:t,mobilePush:n,muted:s,muteEvents:l,notifyHighlights:a,guildId:r}=this.props;return(0,i.jsxs)(g.xJW,{className:k.largeSpacing,children:[(0,i.jsx)(g.j7V,{onChange:e=>this.handleCheckboxChange("suppress_everyone",e,U.UE.suppressEveryone(e)),value:e,children:D.intl.format(D.t.OWiWAg,{})}),(0,i.jsx)(g.j7V,{onChange:e=>this.handleCheckboxChange("suppress_roles",e,U.UE.suppressRoles(e)),value:t,children:D.intl.string(D.t["O/QdoK"])}),(0,i.jsx)(g.j7V,{onChange:e=>{m.Z.updateGuildNotificationSettings(r,{notify_highlights:e?w.gLR.DISABLED:w.gLR.ENABLED},U.UE.highlights(!e))},value:s||a===w.gLR.DISABLED,disabled:s,note:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Text,{variant:"text-sm/normal",children:D.intl.string(D.t["Vw/Xn5"])}),(0,i.jsx)("div",{className:k.highlightsLink,children:(0,i.jsx)(g.eee,{href:G.Z.getArticleURL(w.BhN.HIGHLIGHTS),children:D.intl.string(D.t.PRBn9P)})})]}),children:(0,i.jsx)(i.Fragment,{children:D.intl.string(D.t.gPuteH)})}),(0,i.jsx)(g.j7V,{value:l,onChange:e=>this.handleCheckboxChange("mute_scheduled_events",e,U.UE.mutedEvents(e)),children:D.intl.string(D.t.ONG3Y2)}),(0,i.jsx)(g.j7V,{value:!s&&n,disabled:s,onChange:e=>this.handleCheckboxChange("mobile_push",e,U.UE.mobilePush(e)),children:D.intl.string(D.t["h1DL6+"])})]})}renderCustomNotificationSoundOptions(){let{shouldShowCustomNotificationSounds:e,guildId:t,onClose:n}=this.props;if(e)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.Z,{guildId:t,onClose:n}),(0,i.jsx)(g.$i$,{className:k.customNotificationSoundsDivider})]})}renderOverrideSelect(){let{channels:e,categories:t}=this.props,n=a()(e).filter(e=>{let{channel:n}=e;return n.type!==w.d4z.GUILD_CATEGORY||null!=t[n.id]&&t[n.id].length>0}).map(e=>{let{channel:t}=e;return{value:t.id,label:(0,v.F6)(t,R.default,I.Z)}}).value();return(0,i.jsxs)(g.xJW,{title:D.intl.string(D.t.O4TIvr),className:k.largeSpacing,children:[(0,i.jsx)(g.R94,{type:g.R94.Types.DESCRIPTION,className:k.smallSpacing,children:D.intl.string(D.t["2Y9ZfH"])}),(0,i.jsx)(g.VcW,{value:w.lds,placeholder:D.intl.string(D.t["Z+oF8v"]),renderOptionLabel:this.renderOptionLabel,options:n,onChange:this.handleSelectChange})]})}renderChannelNotifications(){let{channelOverrides:e,muted:t,channels:n,messageNotifications:s,categories:l,checkboxColor:a}=this.props,{overrides:r}=this.state,o=n.map(n=>{let{channel:o}=n;if(!r.has(o.id)||null!=l[o.id]&&0===l[o.id].length)return null;let d=e[o.id];return(0,i.jsx)(f.f,{ref:e=>{this._channelRefs[o.id]=e},channel:o,guildMuted:t,muted:null!=d&&(0,x.m$)(d),messageNotifications:null!=d?d.message_notifications:null,guildMessageNotifications:s,onDelete:this.handleDeleteOverride,checkboxColor:a},o.id)}).filter(P.lm);return(0===r.size||0===o.length)&&o.push((0,i.jsx)("div",{className:k.overridePlaceholder,children:(0,i.jsx)(g.Text,{className:k.overrideHeader,variant:"text-sm/semibold",children:D.intl.string(D.t["2Y9ZfH"])})},"placeholder")),(0,i.jsxs)("div",{className:k.overrideList,children:[(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(g.X6q,{variant:"eyebrow",className:k.headerName,children:D.intl.string(D.t.uShwWl)}),(0,i.jsx)(g.X6q,{variant:"eyebrow",className:k.headerOption,children:D.intl.string(D.t.e29Z19)}),(0,i.jsx)(g.X6q,{variant:"eyebrow",className:k.headerOption,children:D.intl.string(D.t.DD6gNT)}),(0,i.jsx)(g.X6q,{variant:"eyebrow",className:k.headerOption,children:D.intl.string(D.t.CtVGyc)}),(0,i.jsx)(g.X6q,{variant:"eyebrow",className:k.headerOption,children:(0,i.jsx)(g.ua7,{text:D.intl.string(D.t["8wbTQ0"]),position:"bottom",children:e=>(0,i.jsx)("span",{...e,children:D.intl.string(D.t.sWmtIy)})})})]}),o]})}render(){return(0,i.jsxs)(g.Y0X,{"aria-label":D.intl.string(D.t.h850Sk),size:g.CgR.MEDIUM,transitionState:this.props.transitionState,children:[this.renderHeader(),(0,i.jsxs)(g.hzk,{scrollerRef:this.setScrollerRef,children:[this.renderMute(),this.renderServerSettings(),this.renderCustomNotificationSoundOptions(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()]}),this.renderFooter()]})}constructor(...e){super(...e),X(this,"_scroller",null),X(this,"_channelRefs",{}),X(this,"state",{overrides:new Set((0,j.OD)(this.props.channelOverrides)),channelOverridesProp:this.props.channelOverrides,lastSelected:null}),X(this,"setScrollerRef",e=>{this._scroller=e}),X(this,"handleSelectChange",e=>{if(null==e)return;let{overrides:t}=this.state;(t=new Set(t)).add(e),this.setState({overrides:t,lastSelected:e})}),X(this,"handleSelectMuteTime",e=>{let t=e>0?o()().add(e,"second").toISOString():null;m.Z.updateGuildNotificationSettings(this.props.guildId,{muted:!0,mute_config:{selected_time_window:e,end_time:t}},U.ZB.Muted)}),X(this,"handleDeleteOverride",e=>{let{overrides:t}=this.state;(t=new Set(t)).delete(e),this.setState({overrides:t})}),X(this,"renderOptionLabel",e=>{let t=T.Z.getChannel(e.value);if(null==t)return e.label;let n=T.Z.getChannel(t.parent_id),s=null!=n?n.name:null;return(0,i.jsx)(g.ZZ$,{icon:(0,N.KS)(t),title:e.label,subtitle:s})})}}function W(e){let{guildId:t,...n}=e,s=(0,u.cj)([L.Z,M.Z,O.Z,A.ZP],()=>{let e=L.Z.getCategories(t);return{guildId:t,categories:e,guild:M.Z.getGuild(t),memberCount:O.Z.getMemberCount(t),suppressEveryone:A.ZP.isSuppressEveryoneEnabled(t),suppressRoles:A.ZP.isSuppressRolesEnabled(t),muteEvents:A.ZP.isMuteScheduledEventsEnabled(t),mobilePush:A.ZP.isMobilePushEnabled(t),muted:A.ZP.isMuted(t),muteConfig:A.ZP.getMuteConfig(t),messageNotifications:A.ZP.getMessageNotifications(t),channelOverrides:A.ZP.getChannelOverrides(t),notifyHighlights:A.ZP.getNotifyHighlights(t)}}),l=(0,p.Z)(s.categories._categories,s.categories,e=>{let{channel:{type:t}}=e;return(0,_.r8)(t)||t===w.d4z.GUILD_CATEGORY}),a=E.Y.useExperiment({location:"connected_notification_settings"},{autoTrackExposure:!0}).enabled,r=(0,g.dQu)(h.Z.unsafe_rawColors.GREEN_360).hex();return(0,i.jsx)(V,{...s,channels:l,...n,shouldShowCustomNotificationSounds:a,checkboxColor:r})}function B(e){let{scrollToChannels:t,...n}=e;return(0,j.Mn)("NotificationSettingsModal")?(0,i.jsx)(C.Z,{...n,scrollToChannels:t}):(0,i.jsx)(W,{...n})}},732760:function(e,t,n){n.d(t,{d:()=>a,y:()=>r});var i=n(981631),s=n(490897),l=n(388032);let a=e=>[{label:l.intl.string(l.t["HVah//"]),value:i.bL.ALL_MESSAGES},{label:l.intl.string(l.t["tu+ZWF"]),value:i.bL.ONLY_MENTIONS},{label:l.intl.string(l.t.X4wWUl),value:i.bL.NO_MESSAGES}],r=e=>[{label:l.intl.string(l.t["HVah//"]),value:s.i.ALL_MESSAGES},{value:s.i.ONLY_MENTIONS,label:l.intl.string(l.t["tu+ZWF"]),disabled:(null==e?void 0:e.notificationSetting)===i.bL.ALL_MESSAGES}]},958648:function(e,t,n){n.d(t,{Z:()=>s});var i=n(192379);function s(e,t){let n=i.useRef(e);i.useEffect(()=>{e.length>n.current.length&&t(),n.current=e},[e,t])}},413684:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var s=n(442837),l=n(481060),a=n(87051),r=n(9156),o=n(621600),d=n(981631),c=n(388032),u=n(123240);function h(e){let{guildId:t}=e,n=(0,s.cj)([r.ZP],()=>({highligths:r.ZP.getNotifyHighlights(t),mobilePush:r.ZP.isMobilePushEnabled(t),suppressRoles:r.ZP.isSuppressRolesEnabled(t),suppressEveryone:r.ZP.isSuppressEveryoneEnabled(t),muteScheduledEvents:r.ZP.isMuteScheduledEventsEnabled(t)})),h=a.Z.updateGuildNotificationSettings;return(0,i.jsxs)("div",{children:[(0,i.jsx)(g,{value:n.suppressEveryone,title:c.intl.format(c.t.OWiWAg,{}),onChange:e=>h(t,{suppress_everyone:e},o.UE.suppressEveryone(e))}),(0,i.jsx)(g,{value:n.suppressRoles,title:c.intl.string(c.t["O/QdoK"]),onChange:e=>h(t,{suppress_roles:e},o.UE.suppressRoles(e))}),(0,i.jsx)(g,{title:(0,i.jsxs)("div",{className:u.advanceSettingTitle,children:[c.intl.string(c.t.gPuteH),(0,i.jsx)(l.ua7,{text:c.intl.string(c.t["Vw/Xn5"]),children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsx)(l.d3s,{size:"custom",width:14,height:14,onMouseEnter:t,onMouseLeave:n,color:l.TVs.colors.ICON_MUTED,className:u.settingTitleIcon})}})]}),value:n.highligths===d.gLR.ENABLED,onChange:e=>h(t,{notify_highlights:e?d.gLR.ENABLED:d.gLR.DISABLED},o.UE.highlights(e))}),(0,i.jsx)(g,{value:n.muteScheduledEvents,title:c.intl.string(c.t.ONG3Y2),onChange:e=>h(t,{mute_scheduled_events:e},o.UE.mutedEvents(e))}),(0,i.jsx)(g,{value:n.mobilePush,title:c.intl.string(c.t["h1DL6+"]),onChange:e=>h(t,{mobile_push:e},o.UE.mobilePush(e))})]})}function g(e){return(0,i.jsx)(l.j7V,{hideBorder:!0,className:u.advanceSetting,value:e.value,onChange:e.onChange,note:e.subtitle,children:e.title})}},298812:function(e,t,n){n.d(t,{Z:()=>A}),n(47120);var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),r=n(442837),o=n(692547),d=n(481060),c=n(239091),u=n(87051),h=n(225433),g=n(933557),m=n(775666),x=n(471445),p=n(592125),v=n(324067),N=n(699516),S=n(9156),j=n(594174),C=n(823379),f=n(621600),E=n(423589),Z=n(221259),b=n(113449),_=n(686660),T=n(958648),L=n(569658),O=n(981631),M=n(388032),I=n(749021);let A=s.forwardRef(function(e,t){let{guildId:n,requestScrollToBottom:s}=e,l=(0,r.Wu)([p.Z,S.ZP],()=>(0,E.OD)(S.ZP.getChannelOverrides(n),{ignoreMute:!0,ignoreUnreadSetting:!1,ignoreNotificationSetting:!1}).map(e=>p.Z.getChannel(e)).filter(C.lm));(0,T.Z)(l,()=>s());let a=(0,r.e7)([v.Z],()=>v.Z.getCategories(n)),o=l.map((e,t)=>(0,i.jsxs)("div",{className:I.channelRow,children:[(0,i.jsx)(R,{channel:e,categories:a},e.id),t<l.length-1&&(0,i.jsx)("div",{className:I.separator})]},e.id));return(0,i.jsxs)("div",{ref:t,children:[(0,i.jsx)(L.Z,{guildId:n,onSelected:e=>{if(null!=l.find(t=>t.id===e))return;let t=p.Z.getChannel(e);null!=t&&u.Z.updateChannelOverrideSettings(n,e,{muted:!1,message_notifications:S.ZP.resolvedMessageNotifications(t),flags:(0,b.pq)(S.ZP.getChannelIdFlags(t.guild_id,t.id),S.ZP.resolveUnreadSetting(t))},f.ZB.OverrideCreated)}}),o.length>0&&(0,i.jsxs)("div",{className:I.table,children:[(0,i.jsxs)("div",{className:I.row,children:[(0,i.jsx)(d.Text,{variant:"text-xs/bold",color:"text-muted",className:I.rowName,children:M.intl.string(M.t.uShwWl)}),(0,i.jsx)(d.Text,{variant:"text-xs/bold",color:"text-muted",className:I.rowOption,children:M.intl.string(M.t.hZrr6u)}),(0,i.jsx)(d.Text,{variant:"text-xs/bold",color:"text-muted",className:I.rowOption,children:M.intl.string(M.t.y59NJi)}),(0,i.jsx)(d.Text,{variant:"text-xs/bold",color:"text-muted",className:I.rowOption,children:M.intl.string(M.t["pGn/bG"])}),(0,i.jsx)(d.Text,{variant:"text-xs/bold",color:"text-muted",className:I.rowOption,children:M.intl.string(M.t["32yow8"])})]}),o.length>0&&(0,i.jsx)("div",{className:I.channels,children:o})]})]})});function R(e){let{channel:t,categories:n}=e,l=(0,d.dQu)(o.Z.unsafe_rawColors.GREEN_360).hex(),u=(0,r.e7)([p.Z],()=>p.Z.getChannel(null==t?void 0:t.parent_id)),v=(0,Z.ZA)(t),[S,C]=s.useState(!1);if(null==t)return null;let f=M.intl.string(M.t.uIzfCA),E=(0,x.KS)(t);t.type===O.d4z.GUILD_CATEGORY&&null!=t.guild_id&&""!==t.guild_id?f=M.intl.formatToPlainString(M.t["2KzH8/"],{num:null!=n[t.id]?n[t.id].length:0}):null!=u&&(f=M.intl.formatToPlainString(M.t.L1zJgY,{categoryName:(0,g.F6)(u,j.default,N.Z)}));let b=S?_.s8.CUSTOM:v.preset;return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:a()(I.row,I.channel),children:[(0,i.jsxs)("div",{className:a()(I.rowName,I.modColor),children:[null!=E?(0,i.jsx)(E,{size:"custom",color:"currentColor",height:20,width:20,className:I.icon}):null,(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Text,{variant:"text-md/semibold",className:I.modColor,children:(0,g.F6)(t,j.default,N.Z)}),(0,i.jsx)(d.Text,{variant:"text-xs/medium",className:I.modColor,children:f})]})]}),(0,i.jsx)("div",{className:I.rowOption,children:(0,i.jsx)("div",{children:(0,i.jsx)(d.XZJ,{color:l,shape:d.XZJ.Shapes.ROUND,type:d.XZJ.Types.INVERTED,value:b===_.s8.ALL_MESSAGES,onChange:()=>((0,Z._m)(t.guild_id,t.id,_.s8.ALL_MESSAGES),C(!1))})})}),(0,i.jsx)("div",{className:I.rowOption,children:(0,i.jsx)("div",{children:(0,i.jsx)(d.XZJ,{color:l,shape:d.XZJ.Shapes.ROUND,type:d.XZJ.Types.INVERTED,value:b===_.s8.MENTIONS,onChange:()=>((0,Z._m)(t.guild_id,t.id,_.s8.MENTIONS),C(!1))})})}),(0,i.jsx)("div",{className:I.rowOption,children:(0,i.jsx)("div",{children:(0,i.jsx)(d.XZJ,{color:l,shape:d.XZJ.Shapes.ROUND,type:d.XZJ.Types.INVERTED,value:b===_.s8.NOTHING,onChange:()=>((0,Z._m)(t.guild_id,t.id,_.s8.NOTHING),C(!1))})})}),(0,i.jsx)("div",{className:I.rowOption,children:(0,i.jsx)("div",{children:(0,i.jsx)(d.XZJ,{onClick:e=>{(0,c.vq)(e,()=>(0,i.jsx)(d.v2r,{navId:"ChannelNotificationCustomSettingsItems","aria-label":M.intl.string(M.t.kMdneX),onClose:()=>{},onSelect:()=>{},children:(0,m.T5)(t,()=>C(!1))}))},color:l,shape:d.XZJ.Shapes.ROUND,type:d.XZJ.Types.INVERTED,value:b===_.s8.CUSTOM,onChange:()=>C(!0)})})}),(0,i.jsx)(h.Z,{onClick:()=>(0,Z.JK)(t.guild_id,t.id),className:I.removeButton})]})})}},569658:function(e,t,n){n.d(t,{Z:()=>j});var i=n(200651);n(192379);var s=n(392711),l=n.n(s),a=n(442837),r=n(481060),o=n(740504),d=n(933557),c=n(471445),u=n(131704),h=n(592125),g=n(324067),m=n(699516),x=n(594174),p=n(981631),v=n(388032),N=n(913655);let S=e=>{let{channel:{type:t}}=e;return(0,u.r8)(t)||t===p.d4z.GUILD_CATEGORY};function j(e){let{guildId:t,onSelected:n}=e,{channels:s,categories:u}=(0,a.cj)([g.Z],()=>{let e=g.Z.getCategories(t);return{channels:(0,o.Z)(e._categories,e,S),categories:e}}),j=l()(s).filter(e=>{let{channel:t}=e;return t.type!==p.d4z.GUILD_CATEGORY||null!=u[t.id]&&u[t.id].length>0}).map(e=>{let{channel:t}=e;return{value:t.id,label:(0,d.F6)(t,x.default,m.Z)}}).value();return(0,i.jsxs)(r.xJW,{children:[(0,i.jsx)(r.R94,{type:r.R94.Types.DESCRIPTION,children:v.intl.string(v.t["2Y9ZfH"])}),(0,i.jsx)("div",{className:N.input,children:(0,i.jsx)(r.VcW,{value:p.lds,onChange:n,options:j,renderOptionLabel:e=>{let t=h.Z.getChannel(e.value);if(null==t)return e.label;let n=h.Z.getChannel(t.parent_id),s=null!=n?n.name:null;return(0,i.jsx)(r.ZZ$,{icon:(0,c.KS)(t),title:e.label,subtitle:s})},placeholder:v.intl.string(v.t["Z+oF8v"])})})]})}},74888:function(e,t,n){n.d(t,{Z:()=>j});var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),r=n(481060),o=n(493773),d=n(11352),c=n(610617),u=n(413684),h=n(298812),g=n(200115),m=n(406205),x=n(388032),p=n(666401);function v(e){return(0,i.jsx)("div",{className:p.sectionHeader,children:(0,i.jsx)(r.X6q,{variant:"text-xs/bold",className:p.sectionHeaderTitle,color:"text-muted",children:e.title})})}function N(e){return(0,i.jsxs)("div",{children:[null!=e.title&&(0,i.jsx)(v,{title:e.title}),(0,i.jsx)("div",{className:a()(p.sectionContent,{[p.sectionContentPadding]:!0!==e.noPadding}),children:e.children})]})}function S(e){let{onClose:t}=e;return(0,i.jsxs)(r.xBx,{className:p.header,children:[(0,i.jsxs)("div",{className:p.headerLeft,children:[(0,i.jsx)(r.Dkj,{size:"md",color:"currentColor",className:p.headerBell}),(0,i.jsx)(r.X6q,{variant:"heading-lg/semibold",children:x.intl.string(x.t.h850Sk)})]}),(0,i.jsx)(r.olH,{onClick:t})]})}function j(e){let t=s.useRef(null),n=d.Y.useExperiment({location:"notification_settings_modal_redesign"},{autoTrackExposure:!0}).enabled,l=s.useRef(null);return(0,o.Ng)(()=>{let n=setTimeout(()=>{e.scrollToChannels&&null!=t.current&&null!=l.current&&t.current.scrollIntoViewNode({node:l.current,shouldScrollToStart:!0,padding:40})},1e3);return()=>clearTimeout(n)}),(0,i.jsxs)(r.Y0X,{size:r.CgR.MEDIUM,transitionState:e.transitionState,"aria-label":x.intl.string(x.t.h850Sk),children:[(0,i.jsx)(S,{onClose:e.onClose}),(0,i.jsxs)(r.hzk,{className:p.content,scrollerRef:t,children:[(0,i.jsx)(N,{children:(0,i.jsx)(g.Z,{guildId:e.guildId})}),(0,i.jsx)(N,{title:x.intl.string(x.t["R9Ej9/"]),noPadding:!0,children:(0,i.jsx)(m.Z,{guildId:e.guildId})}),n&&(0,i.jsx)(N,{children:(0,i.jsx)(c.Z,{onClose:e.onClose,guildId:e.guildId,isRedesign:!0})}),(0,i.jsx)(N,{title:x.intl.string(x.t["31DySk"]),children:(0,i.jsx)(u.Z,{guildId:e.guildId})}),(0,i.jsx)(v,{title:x.intl.string(x.t.JrySi4)}),(0,i.jsx)(h.Z,{guildId:e.guildId,requestScrollToBottom:()=>{null!=t&&null!=t.current&&t.current.scrollToBottom({animate:!0})},ref:l})]})]})}},200115:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var s=n(913527),l=n.n(s),a=n(399606),r=n(481060),o=n(87051),d=n(430824),c=n(9156),u=n(621600),h=n(423589),g=n(969943),m=n(388032),x=n(496228);function p(e){var t,n;let{guildId:s}=e,p=(0,a.e7)([d.Z],()=>d.Z.getGuild(s)),v=(0,a.e7)([c.ZP],()=>c.ZP.isMuted(s)),N=(0,a.e7)([c.ZP],()=>c.ZP.getMuteConfig(s));return null==p?null:(0,i.jsxs)(r.xJW,{children:[(0,i.jsx)(r.j7V,{hideBorder:!0,value:v,onChange:e=>{o.Z.updateGuildNotificationSettings(s,{muted:e},u.UE.muted(e))},style:{marginBottom:0},note:m.intl.string(m.t.IngcUl),children:m.intl.format(m.t["J+7D9P"],{name:p.name})}),v&&(0,i.jsxs)("div",{className:x.mutedConfig,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(r.vwX,{tag:"h3",children:m.intl.string(m.t.Ztu2Ym)}),(0,i.jsx)(r.Text,{variant:"text-xs/normal",color:"text-muted",children:null==(n=N)||null==n.end_time?null:m.intl.formatToPlainString(m.t.j7h4AA,{endTime:new Date(n.end_time).toLocaleString(m.intl.currentLocale,{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})})})]}),(0,i.jsx)(r.q4e,{onChange:e=>{let t=e>0?l()().add(e,"second").toISOString():null;o.Z.updateGuildNotificationSettings(s,{mute_config:{selected_time_window:e,end_time:t},muted:!0},u.ZB.Muted)},options:(0,h.W9)(),value:null!==(t=null==N?void 0:N.selected_time_window)&&void 0!==t?t:g.Oe.ALWAYS})]})]})}},406205:function(e,t,n){n.d(t,{Z:()=>E}),n(47120),n(789020);var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),r=n(399606),o=n(481060),d=n(87051),c=n(9156),u=n(621600),h=n(113449),g=n(748756),m=n(732760),x=n(686660),p=n(981631),v=n(490897),N=n(526761),S=n(388032),j=n(243251),C=n(650455);let f=()=>[{value:x.s8.ALL_MESSAGES,name:S.intl.string(S.t.hZrr6u)},{value:x.s8.MENTIONS,name:S.intl.string(S.t.y59NJi)},{value:x.s8.NOTHING,name:S.intl.string(S.t["pGn/bG"])},{value:x.s8.CUSTOM,name:S.intl.string(S.t["32yow8"])}];function E(e){let{guildId:t}=e,n=(0,r.e7)([c.ZP],()=>c.ZP.getGuildFlags(t)),l=(0,r.e7)([c.ZP],()=>{let e=c.ZP.getGuildUnreadSetting(t),n=c.ZP.getMessageNotifications(t);return e===v.i.UNSET?n===p.bL.ALL_MESSAGES?v.i.ALL_MESSAGES:v.i.ONLY_MENTIONS:e}),a=(0,r.e7)([c.ZP],()=>c.ZP.getMessageNotifications(t)),[C,E]=(0,s.useState)(!1),_=C?x.s8.CUSTOM:(0,x.gs)(l,a),T=e=>{if(e===x.s8.CUSTOM){E(!0);return}E(!1),(0,g.V)(t,e)};return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:j.segmentedControlsContainer,children:(0,i.jsx)(o.sY7,{value:_,options:f(),onChange:e=>{let{value:t}=e;return T(t)},className:j.segmentedControl,look:"pill"})}),(0,i.jsx)("div",{className:j.presetSeparator}),(0,i.jsxs)("div",{className:j.customPresetsContainer,children:[(0,i.jsxs)("div",{className:j.grid,children:[(0,i.jsx)(Z,{unreadSetting:l}),(0,i.jsx)(b,{notificationSetting:a})]}),(0,i.jsxs)("div",{className:j.grid,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Text,{variant:"text-sm/semibold",color:"header-primary",children:S.intl.string(S.t.Tqd1AQ)}),(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"text-muted",children:S.intl.string(S.t.RpQgm5)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Text,{variant:"text-sm/semibold",color:"header-primary",children:S.intl.string(S.t["1m22ZG"])}),(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"text-muted",children:S.intl.string(S.t["4bP2ZW"])})]})]}),(0,i.jsxs)("div",{className:j.grid,children:[(0,i.jsx)(o.q4e,{value:l,className:j.input,onChange:e=>{E(!1),d.Z.updateGuildNotificationSettings(t,{flags:(0,h.Q4)(n,e===v.i.ALL_MESSAGES?N.vc.UNREADS_ALL_MESSAGES:N.vc.UNREADS_ONLY_MENTIONS)},u.UE.unreads(e))},options:(0,m.y)({notificationSetting:a}),renderOptionLabel:e=>{let t=e.disabled&&e.value===v.i.ONLY_MENTIONS&&l!==v.i.ONLY_MENTIONS;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(o.Text,{variant:"text-md/normal",color:e.disabled?"text-muted":void 0,children:e.label})}),t&&(0,i.jsx)(o.ua7,{text:S.intl.string(S.t.eP8yWV),children:e=>(0,i.jsx)(o.t6m,{size:"custom",...e,width:20,height:20,className:j.muted})})]})}}),(0,i.jsx)(o.q4e,{className:j.input,value:a,onChange:e=>{E(!1);let n={message_notifications:e};e===p.bL.ALL_MESSAGES&&l!==v.i.ALL_MESSAGES&&(n.flags=(0,h.Q4)(c.ZP.getGuildFlags(t),N.vc.UNREADS_ALL_MESSAGES)),d.Z.updateGuildNotificationSettings(t,n,u.UE.notifications(e))},options:(0,m.d)({notificationSetting:a}),renderOptionLabel:e=>{let t=e.value===p.bL.ALL_MESSAGES&&l!==v.i.ALL_MESSAGES&&a!==p.bL.ALL_MESSAGES;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Text,{variant:"text-md/normal",children:e.label}),t&&(0,i.jsx)(o.ua7,{text:S.intl.string(S.t.idXSbG),children:e=>(0,i.jsx)(o.d3s,{size:"custom",...e,width:20,height:20,className:j.muted})})]})}})]})]})]})}function Z(e){let{unreadSetting:t}=e,n=[{badged:!0,unread:!0,muted:!1,name:S.intl.string(S.t.EjLobG)},{badged:!1,unread:!0,muted:!0,name:S.intl.string(S.t.Wgpwpq)},{badged:!1,unread:!1,muted:!0,name:S.intl.string(S.t.g9VImp)}];return t===v.i.ALL_MESSAGES&&(n[1].muted=!1),(0,i.jsx)("div",{className:j.channeList,children:n.map(e=>(0,i.jsxs)("div",{className:j.channelListChannel,children:[(0,i.jsxs)("div",{className:j.channelListChannelName,children:[(0,i.jsx)("div",{className:a()(j.unread,{[j.hidden]:!e.unread,[j.unreadMuted]:e.muted})}),(0,i.jsx)(o.VL1,{size:"xxs",color:"currentColor",className:a()(j.channelListChannelIcon,{[j.muted]:e.muted})}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",color:e.muted?"text-muted":void 0,children:e.name})]}),(0,i.jsx)("div",{className:a()(j.badge,{[j.hidden]:!e.badged}),children:(0,i.jsx)(o.mAB,{count:1})})]},e.name))})}function b(e){return(0,i.jsxs)("div",{className:j.mockMessage,children:[e.notificationSetting===p.bL.NO_MESSAGES&&(0,i.jsx)("div",{className:j.mockMessageDisabled}),(0,i.jsx)("div",{children:(0,i.jsx)("img",{className:j.mockMessageAvatar,src:C,alt:""})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Text,{variant:"text-xs/medium",children:S.intl.string(S.t.qSq0tL)}),e.notificationSetting===p.bL.ALL_MESSAGES&&(0,i.jsx)(o.Text,{variant:"text-xs/normal",color:"text-muted",children:S.intl.string(S.t.WYyzIy)}),e.notificationSetting!==p.bL.ALL_MESSAGES&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Text,{variant:"text-xs/normal",color:"text-link",tag:"span",children:["@Roka"," "]}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",color:"text-muted",tag:"span",children:S.intl.string(S.t.WYyzIy)})]})]})]})}},444899:function(e,t,n){n.d(t,{f:()=>j}),n(47120);var i=n(200651),s=n(192379),l=n(481060),a=n(87051),r=n(225433),o=n(933557),d=n(471445),c=n(600164),u=n(592125),h=n(324067),g=n(699516),m=n(594174),x=n(621600),p=n(981631),v=n(388032),N=n(938693);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends s.PureComponent{highlight(){this.setState({highlight:!0},()=>{null!=this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this.unhighlight,1e3)})}componentWillUnmount(){null!=this._timeout&&clearTimeout(this._timeout)}setMessageNotification(e,t,n){let{channel:i}=this.props,s=i.getGuildId();null!=s&&a.Z.updateChannelOverrideSettings(s,i.id,{message_notifications:e,muted:null!=t&&t},n)}handleRadioChange(e){this.setMessageNotification(e,void 0,x.UE.notifications(e))}renderMessageNotificationsRadioOption(e){let{messageNotifications:t,guildMuted:n,muted:s,guildMessageNotifications:a,checkboxColor:r}=this.props,o=t===e;(null==t||t===p.bL.NULL)&&e===a&&(o=!0);let d=l.XZJ.Types.INVERTED;return(s||t===p.bL.NULL||null==t)&&(d=l.XZJ.Types.GHOST),(0,i.jsx)(l.XZJ,{value:!n&&o,disabled:n,shape:l.XZJ.Shapes.ROUND,color:r,type:d,onChange:this.handleRadioChange.bind(this,e)})}renderName(){let e,t;let{channel:n}=this.props;null!=n.parent_id&&(e=u.Z.getChannel(n.parent_id));let s=(0,d.KS)(n);if(n.type===p.d4z.GUILD_CATEGORY&&null!=n.guild_id&&""!==n.guild_id){let e=h.Z.getCategories(n.guild_id);t=v.intl.formatToPlainString(v.t["2KzH8/"],{num:null!=e[n.id]?e[n.id].length:0})}else t=null!=e?v.intl.formatToPlainString(v.t.L1zJgY,{categoryName:(0,o.F6)(e,m.default,g.Z)}):v.intl.string(v.t.uIzfCA);return(0,i.jsxs)(c.Z,{grow:1,className:N.nameContainer,children:[null!=s?(0,i.jsx)(s,{className:N.icon}):null,(0,i.jsxs)("div",{className:N.channelNameContainer,children:[(0,i.jsx)(l.Text,{variant:"text-md/semibold",className:N.channelName,children:(0,o.F6)(n,m.default,g.Z)}),(0,i.jsx)(l.Text,{variant:"text-xs/normal",className:N.channelNameByline,children:t})]})]})}renderOptions(){let{muted:e,guildMuted:t}=this.props;return(0,i.jsxs)(c.Z,{grow:0,shrink:0,className:N.checkboxGroup,justify:c.Z.Justify.AROUND,align:c.Z.Align.CENTER,children:[(0,i.jsx)(c.Z.Child,{wrap:!0,grow:0,shrink:0,className:t?N.checkboxContainerMuted:N.checkboxContainer,children:this.renderMessageNotificationsRadioOption(p.bL.ALL_MESSAGES)}),(0,i.jsx)(c.Z.Child,{wrap:!0,grow:0,shrink:0,className:t?N.checkboxContainerMuted:N.checkboxContainer,children:this.renderMessageNotificationsRadioOption(p.bL.ONLY_MENTIONS)}),(0,i.jsx)(c.Z.Child,{wrap:!0,grow:0,shrink:0,className:t?N.checkboxContainerMuted:N.checkboxContainer,children:this.renderMessageNotificationsRadioOption(p.bL.NO_MESSAGES)}),(0,i.jsx)(c.Z.Child,{wrap:!0,grow:0,shrink:0,className:N.checkboxMute,children:(0,i.jsx)(l.XZJ,{value:e,shape:l.XZJ.Shapes.BOX,type:l.XZJ.Types.INVERTED,onChange:this.handleMute})})]})}render(){let{highlight:e}=this.state;return(0,i.jsxs)(l.Zbd,{outline:!0,editable:!0,className:e?N.overrideHighlight:N.override,children:[this.renderName(),this.renderOptions(),(0,i.jsx)(r.Z,{className:N.removeOverride,onClick:this.handleDelete})]})}constructor(...e){super(...e),S(this,"_timeout",void 0),S(this,"state",{highlight:!1}),S(this,"unhighlight",()=>{this.setState({highlight:!1})}),S(this,"handleMute",(e,t)=>{let{messageNotifications:n}=this.props;this.setMessageNotification(null!=n?n:p.bL.NULL,t,x.UE.muted(t))}),S(this,"handleDelete",()=>{let{onDelete:e,channel:t}=this.props;this.setMessageNotification(p.bL.NULL,!1,x.ZB.OverrideDeleted),null!=e&&e(t.id)})}}},610617:function(e,t,n){n.d(t,{Z:()=>L}),n(47120);var i=n(200651),s=n(192379),l=n(120356),a=n.n(l),r=n(392711),o=n.n(r),d=n(831209),c=n(442837),u=n(704215),h=n(433517),g=n(481060),m=n(243778),x=n(430824),p=n(9156),v=n(594174),N=n(74538),S=n(671105),j=n(552958),C=n(213931),f=n(940165),E=n(820408),Z=n(921944),b=n(871465),_=n(388032),T=n(661532);function L(e){let{guildId:t,onClose:n,isRedesign:l=!1}=e,r=(0,c.e7)([x.Z],()=>x.Z.getGuild(t)),L=(0,c.e7)([v.default],()=>v.default.getCurrentUser()),{playSound:O,isPlaying:M,soundpackPlaying:I}=(0,j.Z)(),A=(0,S.OR)(t),R=N.ZP.canUseCustomNotificationSounds(L),P=R?A:b.YC.CLASSIC,G=s.useRef(0),U=s.useRef(-1),[w,y]=s.useState(!1),D=(0,b.LB)(),k=s.useCallback(()=>{clearTimeout(U.current),G.current+=1,G.current>10&&(y(!0),h.K.set(b.CZ,!0)),U.current=setTimeout(()=>{G.current=0},1e3)},[]),[X,V]=o().partition(D,e=>!e.requirePremium||e.requirePremium&&R),W=X.map(e=>{var t;return{name:e.label,value:e.value,desc:e.description,radioBarClassName:(t=e.value,a()(T.option,{[T.optionRedesign]:l,[T.optionPlaying]:t===I&&M}))}}),[B,J]=(0,m.US)([u.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_GUILD_BADGE]),Y=B===u.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_GUILD_BADGE;s.useEffect(()=>()=>{J(Z.L.AUTO_DISMISS)},[J]);let z=N.ZP.canUseCustomNotificationSounds(L),F=(0,c.e7)([p.ZP],()=>p.ZP.isMuted(t),[t]);return null==L?null:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:T.header,children:[(0,i.jsx)(g.X6q,{variant:"heading-md/semibold",children:_.intl.string(_.t.mrqSOj)}),(0,i.jsx)(g.P3F,{onClick:k,className:T.nitroWheelContainer,children:(0,i.jsx)(g.SrA,{size:"md",color:"currentColor",className:T.nitroWheel})}),Y&&(0,i.jsx)(g.IGR,{className:T.newBadge,text:_.intl.string(_.t.y2b7CA)})]}),(0,i.jsx)(g.Text,{className:T.subheader,variant:"text-sm/normal",children:_.intl.format(_.t.LuYDy8,{guildName:(e,t)=>(0,i.jsx)(g.Text,{tag:"span",variant:"text-sm/medium",children:null==r?void 0:r.name},t)})}),F&&(0,i.jsxs)("div",{className:T.warningContainer,children:[(0,i.jsx)(g.P4T,{size:"custom",width:20,height:20,color:d.Z.STATUS_WARNING}),(0,i.jsx)(g.Text,{className:T.warningLabel,variant:"text-sm/medium",children:_.intl.string(_.t["a9G/ER"])})]}),(0,i.jsx)(g.xJW,{className:T.optionsContainer,title:_.intl.string(_.t.xxvoAg),children:(0,i.jsxs)("div",{className:a()({[T.options]:!z}),children:[(0,i.jsx)(g.FXm,{className:a()({[T.options]:z}),value:null!=P?P:b.YC.CLASSIC,onChange:e=>{O(e.value),R&&(0,C.t)(t,P,e.value,"notificationSettings")},options:W,radioItemClassName:T.option}),V.map((e,t)=>(0,i.jsx)(f.Z,{className:T.playableOption,label:e.label,description:e.description,soundpack:e.value,location:"notificationSettings"},"sound_option_".concat(t)))]})}),!z&&(0,i.jsx)(E.Z,{onClose:n})]})}},940165:function(e,t,n){n.d(t,{Z:()=>g});var i=n(200651);n(192379);var s=n(120356),l=n.n(s),a=n(793030),r=n(481060),o=n(759198),d=n(552958),c=n(767157),u=n(388032),h=n(163698);function g(e){let{label:t,className:n,description:s,soundpack:g,location:m}=e,{playSound:x,isPlaying:p}=(0,d.Z)();return(0,i.jsxs)(r.P3F,{"aria-label":u.intl.string(u.t.RscU7O),className:l()(h.container,n,{[h.containerActive]:p}),onClick:()=>{(0,c.Z)(g,m),x(g)},children:[(0,i.jsx)(r.g8d,{className:h.playButton,color:p?r.TVs.colors.INTERACTIVE_ACTIVE:r.TVs.colors.INTERACTIVE_NORMAL}),(0,i.jsxs)("div",{className:h.textContainer,children:[(0,i.jsx)(o.Z,{variant:"text-md/medium",children:t}),(0,i.jsx)(a.xv,{variant:"text-sm/normal",children:s})]})]})}},820408:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i=n(200651),s=n(192379),l=n(481060),a=n(230711),r=n(2052),o=n(434650),d=n(906732),c=n(436774),u=n(690221),h=n(626135),g=n(197115),m=n(474936),x=n(981631),p=n(388032),v=n(117760);function N(e){let{onClose:t}=e,n=(0,r.O)(),{analyticsLocations:N}=(0,d.ZP)(),[S,j]=s.useState(!1),C=s.useCallback(e=>{!S&&e&&(h.default.track(x.rMx.PREMIUM_UPSELL_VIEWED,{type:m.cd.CUSTOM_NOTIFICATION_SOUNDS_SETTINGS_UPSELL,location:n.location,location_stack:N}),j(!0))},[n.location,N,S]),f=(0,o.O)(C,.8,!0);return(0,i.jsxs)("div",{ref:f,className:v.container,children:[(0,i.jsx)(l.SrA,{size:"md",color:c.JX.PREMIUM_TIER_2,className:v.nitroWheel}),(0,i.jsxs)(l.Text,{className:v.text,variant:"text-sm/normal",children:[p.intl.string(p.t["Pb0O6+"])," ",(0,i.jsx)(u.Z,{onClick:()=>{t(),a.Z.open(x.oAB.PREMIUM)},children:p.intl.string(p.t.hvVgAQ)})]}),(0,i.jsx)("div",{className:v.nitroButton,children:(0,i.jsx)(g.Z,{showGradient:!0,buttonText:p.intl.string(p.t.pj0XBA),size:l.zxk.Sizes.SMALL,shinyButtonClassName:v.nitroButton,subscriptionTier:m.Si.TIER_2,premiumModalAnalyticsLocation:{section:x.jXE.PREMIUM_CUSTOM_NOTIFICATION_SOUND_SETTINGS_UPSELL}})})]})}}}]);
//# sourceMappingURL=05e0f2c9549528cc.js.map