"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["85342"],{733469:function(e){e.exports="/assets/8dafd3650572f507.png"},849399:function(e){e.exports="/assets/36d26a7617d9cfb0.png"},551556:function(e,t,n){n.d(t,{Z:()=>l});var i=n(200651);n(192379);var s=n(692547),a=n(325767);function l(e){let{width:t=24,height:n=24,color:l=s.Z.unsafe_rawColors.WHITE_500.css,backgroundColor:r=s.Z.unsafe_rawColors.BRAND_500.css,...o}=e;return(0,i.jsxs)("svg",{...(0,a.Z)(o),width:t,height:n,viewBox:"0 0 14 14",children:[(0,i.jsx)("path",{fill:r,d:"M7.02799 0.333252C3.346 0.333252 0.361328 3.31792 0.361328 6.99992C0.361328 10.6819 3.346 13.6666 7.02799 13.6666C10.71 13.6666 13.6947 10.6819 13.6947 6.99992C13.6947 3.31792 10.7093 0.333252 7.02799 0.333252ZM10.166"}),(0,i.jsx)("path",{d:"M6.5,10.3L3.4,8l0.9-1.2l1.8,1.4l3.3-4.3l1.2,0.9L6.5,10.3z",fill:l})]})}},986197:function(e,t,n){n.d(t,{Z:()=>E});var i=n(990547),s=n(544891),a=n(570140),l=n(881052),r=n(626135),o=n(573261),u=n(545851),d=n(109488),c=n(794099),m=n(981631);n(135200);var g=n(388032);let E={resetSuggestions:()=>a.Z.dispatch({type:"POMELO_SUGGESTIONS_RESET"}),async fetchSuggestionsRegistration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;if((0,c.vc)()){a.Z.dispatch({type:"POMELO_SUGGESTIONS_RESET"});try{var n;let i=await s.tn.get({url:m.ANM.POMELO_SUGGESTIONS_UNAUTHED,query:null==e?void 0:{global_name:e},timeout:t,rejectWithError:!0});if(i.ok&&(null===(n=i.body)||void 0===n?void 0:n.username)!=null)return a.Z.dispatch({type:"POMELO_REGISTRATION_SUGGESTIONS_SUCCESS",suggestion:i.body,source:e})}catch(e){return}}},async fetchSuggestions(e){if((0,d.P)())try{var t;a.Z.dispatch({type:"POMELO_SUGGESTIONS_FETCH",usernameSuggestionLoading:!0});let n=await s.tn.get({url:m.ANM.POMELO_SUGGESTIONS,timeout:e,rejectWithError:!0});if(n.ok&&(null===(t=n.body)||void 0===t?void 0:t.username)!=null)return a.Z.dispatch({type:"POMELO_SUGGESTIONS_SUCCESS",suggestion:n.body})}catch(e){return}},async attemptPomelo(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"modal",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=!1===/^[A-Za-z0-9_.]*$/.test(e)?g.intl.string(g.t.z7c4bG):e.includes("..")?g.intl.string(g.t["C7G+go"]):e.length<2||e.length>32?g.intl.formatToPlainString(g.t.IpijXF,{maxNum:32,minNum:2}):void 0;if(null!=c)return r.default.track(m.rMx.POMELO_ERRORS,{reason:c,username_error:!0,location:n,one_click_flow:d}),a.Z.dispatch({type:"POMELO_ATTEMPT_FAILURE",username:e,error:c});if((0,u.E)())try{let t=await o.Z.post({url:s?m.ANM.POMELO_ATTEMPT_UNAUTHED:m.ANM.POMELO_ATTEMPT,body:{username:e},trackedActionData:{event:i.NetworkActionNames.POMELO_ATTEMPT,properties:{requested_username:e}},rejectWithError:!1});t.body.taken&&r.default.track(m.rMx.POMELO_ERRORS,{reason:"already_taken",username_error:!0,location:n,one_click_flow:d}),a.Z.dispatch({type:"POMELO_ATTEMPT_SUCCESS",username:e,taken:t.body.taken})}catch(o){let i=new l.Hx(o),s=null!==(t=i.getAnyErrorMessage())&&void 0!==t?t:void 0;r.default.track(m.rMx.POMELO_ERRORS,{reason:s,username_error:!0,location:n,one_click_flow:d}),a.Z.dispatch({username:e,type:"POMELO_ATTEMPT_FAILURE",error:null!=i.status&&i.status<500&&401!==i.status?s:void 0,statusCode:i.status,retryAfter:i.retryAfter})}},async createPomelo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=await o.Z.post({body:e,url:m.ANM.POMELO_CREATE,trackedActionData:{event:i.NetworkActionNames.POMELO_CREATE,properties:{one_click_flow:t}},rejectWithError:!1});return a.Z.dispatch({type:"CURRENT_USER_UPDATE",user:n.body}),n.body}}},545851:function(e,t,n){n.d(t,{E:()=>s});let i=(0,n(818083).B)({kind:"user",label:"Pomelo Attempt",id:"2023-04_pomelo_attempt",defaultConfig:{enabled:!1},treatments:[{id:1,label:"enabled",config:{enabled:!0}}]}),s=()=>i.getCurrentConfig({location:"c22166_1"},{autoTrackExposure:!1}).enabled},654344:function(e,t,n){n.d(t,{c:()=>s});let i=(0,n(818083).B)({kind:"user",label:"Pomelo Debounce Delay",id:"2023-03_pomelo_debounce_delay",defaultConfig:{delay:600},treatments:[{id:1,label:"600ms",config:{delay:600}},{id:2,label:"700ms",config:{delay:700}},{id:3,label:"800ms",config:{delay:800}},{id:4,label:"900ms",config:{delay:900}},{id:5,label:"1000ms",config:{delay:1e3}}]}),s=()=>i.useExperiment({location:"52560d_1"},{autoTrackExposure:!1}).delay},135200:function(e,t,n){n.d(t,{Z:()=>E});var i,s,a,l=n(31775),r=n.n(l),o=n(442837),u=n(570140),d=n(70956);let c={taken:null,error:void 0,rateLimited:!0},m={validations:new(r())({max:100,maxAge:6e4}),currentUsernameInvalid:!1,retryAfterTime:null,suggestions:{migration:{suggestion:{username:void 0},fetched:!1,usernameSuggestionLoading:!1},registration:{suggestion:{username:void 0},source:void 0,fetched:!1}}};class g extends(a=o.ZP.Store){isRateLimited(){return null!=m.retryAfterTime&&Date.now()<m.retryAfterTime}validate(e){let t=m.validations.get(e);return this.isRateLimited()&&(null==t||t.rateLimited)?c:this.isRateLimited()||null==t||!t.rateLimited?t:void 0}registrationUsernameSuggestion(){return m.suggestions.registration.suggestion.username}usernameSuggestion(){return m.suggestions.migration.suggestion.username}usernameSuggestionLoading(){return m.suggestions.migration.usernameSuggestionLoading}isCurrentUsernameInvalid(){return m.currentUsernameInvalid}wasRegistrationSuggestionFetched(e){return m.suggestions.registration.source===e&&m.suggestions.registration.fetched}wasSuggestionsFetched(){return m.suggestions.migration.fetched}}s="PomeloStore",(i="displayName")in g?Object.defineProperty(g,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):g[i]=s;let E=new g(u.Z,{POMELO_ATTEMPT_SUCCESS:function(e){let{username:t,taken:n}=e;m.validations.set(t,{taken:n})},POMELO_ATTEMPT_FAILURE:function(e){let{username:t,error:n,statusCode:i,retryAfter:s}=e;429===i?m.validations.set(t,{taken:null,error:n,rateLimited:!0},(null!=s?s:7)*d.Z.Millis.SECOND):m.validations.set(t,{taken:null,error:n}),null!=s&&(m.retryAfterTime=Date.now()+s*d.Z.Millis.SECOND)},POMELO_SUGGESTIONS_RESET:function(){m.suggestions.migration={suggestion:{username:void 0},fetched:!1,usernameSuggestionLoading:!1},m.suggestions.registration={suggestion:{username:void 0},source:void 0,fetched:!1}},POMELO_SUGGESTIONS_SUCCESS:function(e){let{suggestion:t}=e;m.suggestions.migration={suggestion:t,fetched:!0,usernameSuggestionLoading:!1},(null==t?void 0:t.invalid_current_username)===!0&&(m.currentUsernameInvalid=!0)},POMELO_SUGGESTIONS_FETCH:function(e){let{usernameSuggestionLoading:t}=e;m.suggestions.migration.usernameSuggestionLoading=t},POMELO_REGISTRATION_SUGGESTIONS_SUCCESS:function(e){let{suggestion:t,source:n}=e;m.suggestions.registration={suggestion:t,source:n,fetched:!0},(null==t?void 0:t.username)!=null&&m.validations.set(t.username,{taken:!1})}})},109488:function(e,t,n){n.d(t,{P:()=>s});let i=(0,n(818083).B)({kind:"user",label:"Pomelo Suggestions",id:"2023-04_pomelo_suggestions",defaultConfig:{enabled:!1},treatments:[{id:1,label:"enabled",config:{enabled:!0}}]}),s=()=>i.getCurrentConfig({location:"1907ae_1"},{autoTrackExposure:!1}).enabled},794099:function(e,t,n){n.d(t,{F4:()=>s,vc:()=>a});let i=(0,n(818083).B)({kind:"user",id:"2023-06_unique_username_registration",label:"Unique Username Registration",defaultConfig:{livecheckEnabled:!0,suggestions:!0},treatments:[{id:1,label:"Unique Username Registration enabled -livecheck -suggestions",config:{livecheckEnabled:!1,suggestions:!1}},{id:2,label:"Unique Username Registration enabled -livecheck +suggestions",config:{livecheckEnabled:!1,suggestions:!0}},{id:3,label:"Unique Username Registration enabled +livecheck -suggestions",config:{livecheckEnabled:!0,suggestions:!1}},{id:4,label:"Unique Username Registration enabled +livecheck +suggestions",config:{livecheckEnabled:!0,suggestions:!0}}]}),s=()=>i.useExperiment({location:"83ca1a_3"},{autoTrackExposure:!1}),a=()=>i.getCurrentConfig({location:"83ca1a_4"},{autoTrackExposure:!1}).suggestions},363577:function(e,t,n){n.d(t,{M:()=>d});var i=n(192379),s=n(392711),a=n(399606),l=n(986197),r=n(654344),o=n(135200),u=n(346585);let d=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,a.e7)([o.Z],()=>o.Z.validate(e),[e]),m=(0,a.e7)([o.Z],()=>o.Z.isRateLimited()),g=(0,r.c)(),E=i.useMemo(()=>(0,s.debounce)(e=>l.Z.attemptPomelo(e,n?"registration":"modal",n,d),g),[g,n,d]);return i.useEffect(()=>{t&&!m&&null==c&&""!==e&&E(e)},[t,m,c,e,E]),i.useMemo(()=>null!=c?(0,u.ti)(c):void 0,[c])}},361117:function(e,t,n){n.d(t,{G:()=>o}),n(47120),n(773603);var i=n(399606),s=n(570140),a=n(493773),l=n(986197),r=n(135200);let o=e=>{let[t,n]=(0,i.Wu)([r.Z],()=>[r.Z.usernameSuggestion(),r.Z.usernameSuggestionLoading()]);return(0,a.ZP)(()=>(r.Z.wasSuggestionsFetched()?s.Z.dispatch({type:"POMELO_SUGGESTIONS_FETCH",usernameSuggestionLoading:!1}):l.Z.fetchSuggestions(e).finally(()=>{s.Z.dispatch({type:"POMELO_SUGGESTIONS_FETCH",usernameSuggestionLoading:!1})}),()=>{l.Z.resetSuggestions()})),{usernameSuggestion:t,usernameSuggestionLoading:n}}},773446:function(e,t,n){n.d(t,{Z:()=>a});var i=n(200651);n(192379);var s=n(325767);function a(e){let{width:t=16,height:n=16,color:a="currentColor",foreground:l,...r}=e;return(0,i.jsxs)("svg",{...(0,s.Z)(r),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_3283_145261)",children:(0,i.jsx)("path",{d:"M3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3H5C3.89 3 3 3.9 3 5ZM15 9C15 10.66 13.66 12 12 12C10.34 12 9 10.66 9 9C9 7.34 10.34 6 12 6C13.66 6 15 7.34 15 9ZM6 17C6 15 10 13.9 12 13.9C14 13.9 18 15 18 17V18H6V17Z",fill:a,className:l})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_3283_145261",children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})}},572264:function(e,t,n){n.d(t,{Z:()=>a});var i=n(200651);n(192379);var s=n(325767);function a(e){let{width:t=16,height:n=16,color:a="currentColor",foreground:l,...r}=e;return(0,i.jsx)("svg",{...(0,s.Z)(r),width:t,height:n,viewBox:"0 0 23 23",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 23C17.8513 23 23 17.8513 23 11.5C23 5.14873 17.8513 0 11.5 0C5.14873 0 0 5.14873 0 11.5C0 17.8513 5.14873 23 11.5 23ZM10.0284 5.58634C10.5187 5.66805 10.8499 6.13176 10.7682 6.62205L10.4697 8.41282H13.7544L14.1022 6.32613C14.1839 5.83584 14.6476 5.50462 15.1379 5.58634C15.6282 5.66805 15.9594 6.13176 15.8777 6.62205L15.5792 8.41282H16.6933C17.1903 8.41282 17.5933 8.81577 17.5933 9.31282C17.5933 9.80988 17.1903 10.2128 16.6933 10.2128H15.2792L14.8223 12.9547H16.1256C16.6226 12.9547 17.0256 13.3577 17.0256 13.8547C17.0256 14.3518 16.6226 14.7547 16.1256 14.7547H14.5223L14.1745 16.8414C14.0928 17.3317 13.6291 17.6629 13.1388 17.5812C12.6485 17.4995 12.3173 17.0358 12.399 16.5455L12.6974 14.7547H9.41273L9.06495 16.8414C8.98324 17.3317 8.51953 17.6629 8.02924 17.5812C7.53895 17.4995 7.20773 17.0358 7.28944 16.5455L7.5879 14.7547H6.47395C5.97689 14.7547 5.57395 14.3518 5.57395 13.8547C5.57395 13.3577 5.97689 12.9547 6.47395 12.9547H7.8879L8.34489 10.2128H7.04168C6.54462 10.2128 6.14168 9.80988 6.14168 9.31282C6.14168 8.81577 6.54462 8.41282 7.04168 8.41282H8.64489L8.99267 6.32613C9.07438 5.83584 9.53809 5.50462 10.0284 5.58634ZM13.4544 10.2128L12.9974 12.9547H9.71273L10.1697 10.2128H13.4544Z",fill:a,className:l})})}},193049:function(e,t,n){n.d(t,{default:()=>L}),n(47120);var i=n(200651),s=n(192379),a=n(512722),l=n.n(a),r=n(990547),o=n(399606),u=n(481060),d=n(232567),c=n(809206),m=n(479531),g=n(484459),E=n(594174),h=n(626135),S=n(51144),f=n(986197),x=n(135200),N=n(346585),T=n(347649),_=n(361117),I=n(108793),C=n(635774),v=n(387955),p=n(801461),A=n(448624),y=n(981631),M=n(388032),O=n(199896);function L(e){let t,{source:n,transitionState:a,onClose:L,oneClickFlow:k=!1}=e,[P,b]=s.useState(k?A.A.SUGGESTIONS:A.A.INFO),[j,U]=s.useState(!1),[Z,G]=s.useState(null),[D,W]=s.useState(k?p.Wq.SUGGESTION:p.Wq.NONE),[w,q]=s.useState(!1),[z,F]=s.useState(!1),H=s.useRef(null),B=(0,o.e7)([x.Z],()=>x.Z.isCurrentUsernameInvalid()),V=(0,o.e7)([E.default],()=>{let e=E.default.getCurrentUser();return l()(null!=e,"PomeloModal: user cannot be undefined"),e}),X=(0,T.CC)(),{usernameSuggestion:K,usernameSuggestionLoading:Y}=(0,_.G)(k?p.en:void 0);s.useEffect(()=>{D===p.Wq.EDIT_USERNAME&&F(!0),h.default.track(y.rMx.POMELO_EDIT_STEP_VIEWED,{source:n,step:D})},[D,n]),s.useEffect(()=>{z||w||null==K||!(K.length>0)||J(e=>({...e,username:K}))},[K,z,w]);let[Q,J]=s.useState({username:(0,N.e$)(V),globalName:S.ZP.getName(V)}),$=e=>{G(null),null!=e.username&&q(!0),J(t=>({...t,...e}))},ee=s.useMemo(()=>[{slideId:A.A.INFO,next:A.A.EDIT_SCREEN,footerButtons:["REMIND_ME_LATER","GET_STARTED"]},{slideId:A.A.EDIT_SCREEN,next:A.A.FINISH_LATER,back:A.A.INFO,footerButtons:[D===p.Wq.PREVIEW?"GOT_IT":"BACK",D===p.Wq.PREVIEW?"GOT_IT":D===p.Wq.EDIT_USERNAME?"SUBMIT":"NEXT"]},{slideId:A.A.FINISH_LATER,back:A.A.EDIT_SCREEN},{slideId:A.A.SUGGESTIONS,footerButtons:[D===p.Wq.PREVIEW?"GOT_IT":"UPDATE"]},{slideId:A.A.FINISH_LATER}],[D]),et=ee.length,en=s.useCallback(async()=>{if(Q.globalName.length<=0){let e=M.intl.formatToPlainString(M.t.IpijXF,{minNum:1,maxNum:32});G(e),h.default.track(y.rMx.POMELO_ERRORS,{reason:e,display_name_error:!0,location:"modal"});return}if(S.ZP.getGlobalName(V)===Q.globalName){W(p.Wq.EDIT_USERNAME);return}try{G(null),U(!0),await (0,c.S2)({global_name:Q.globalName}),W(p.Wq.EDIT_USERNAME)}catch(t){let e=new m.Z(t).getAnyErrorMessage();h.default.track(y.rMx.POMELO_ERRORS,{reason:e,display_name_error:!0,location:"modal"}),G(e)}finally{U(!1)}},[V,Q]),ei=s.useCallback(async()=>{try{G(null),U(!0),await f.Z.createPomelo({username:(0,N.R_)(Q.username)},k),await (0,d.In)(V.id),W(p.Wq.PREVIEW)}catch(n){let e=new m.Z(n),t=(null==e?void 0:e.status)!=null&&e.status>=400&&e.status<500?e.getAnyErrorMessage():M.intl.string(M.t.R0RpRU);G(t),h.default.track(y.rMx.POMELO_ERRORS,{reason:t,username_error:!0,location:"modal",one_click_flow:k})}finally{U(!1)}},[Q,V.id,k]),es=B||(0,N.NX)(V),ea=s.useCallback(()=>{W(es?p.Wq.EDIT_USERNAME:p.Wq.EDIT_DISPLAY_NAME),b(ee[Math.min(et-1,P+1)].slideId)},[P,ee,et,es]),el=s.useCallback(()=>{G(null),P===A.A.EDIT_SCREEN?D===p.Wq.EDIT_USERNAME?es?(W(p.Wq.NONE),b(ee[Math.max(0,P-1)].slideId)):W(p.Wq.EDIT_DISPLAY_NAME):D===p.Wq.EDIT_DISPLAY_NAME?(W(p.Wq.NONE),b(ee[Math.max(0,P-1)].slideId)):D===p.Wq.PREVIEW&&W(p.Wq.EDIT_USERNAME):b(ee[Math.max(0,P-1)].slideId)},[ee,P,D,es]),er=s.useCallback(()=>{b(A.A.FINISH_LATER)},[]),eo=s.useCallback(()=>{k?(b(A.A.SUGGESTIONS),W(p.Wq.SUGGESTION)):(b(A.A.INFO),W(p.Wq.NONE))},[k]),eu=s.useMemo(()=>P===A.A.EDIT_SCREEN&&D===p.Wq.EDIT_DISPLAY_NAME?en:P===A.A.EDIT_SCREEN&&D===p.Wq.EDIT_USERNAME?ei:P===A.A.SUGGESTIONS&&D===p.Wq.SUGGESTION?ei:ea,[P,D,en,ei,ea]),ed=s.useMemo(()=>{var e,t;return R(null!==(t=null===(e=ee.find(e=>e.slideId===P))||void 0===e?void 0:e.footerButtons)&&void 0!==t?t:[],{handleNext:eu,handleBack:el,handleRemindMeLater:er,onClose:L},j,Y,w)},[el,er,eu,L,ee,P,j,Y,w]),ec=s.useMemo(()=>(0,N.zV)(V),[V]);return s.useLayoutEffect(()=>{(0,g.Z)(V.id,ec)},[V,ec]),s.useEffect(()=>{var e,t;switch(D){case p.Wq.EDIT_DISPLAY_NAME:null===(e=H.current)||void 0===e||e.focusDisplayName();break;case p.Wq.EDIT_USERNAME:case p.Wq.SUGGESTION:null===(t=H.current)||void 0===t||t.focusUsername()}},[D]),!w&&null==Z&&(D===p.Wq.EDIT_USERNAME?t=M.intl.formatToPlainString(M.t.AJh8BQ,{source:V.username}):D===p.Wq.SUGGESTION&&(Y||null!=K)&&(t=M.intl.string(M.t["i/2SgI"]))),(0,i.jsxs)(u.Y0X,{className:O.modalRoot,impression:{impressionName:r.ImpressionNames.POMELO_LANDING,impressionProperties:{source:n,impression_group:r.ImpressionGroups.POMELO_FLOW,one_click_flow:k}},transitionState:a,size:u.CgR.DYNAMIC,children:[(0,i.jsx)(u.zxk,{onClick:()=>{X&&(P===A.A.SUGGESTIONS||P===A.A.EDIT_SCREEN)?b(A.A.FINISH_LATER):L()},size:u.zxk.Sizes.MIN,look:u.zxk.Looks.BLANK,className:O.closeContainer,"aria-label":M.intl.string(M.t.cpT0Cg),children:(0,i.jsx)(u.Dio,{size:"custom",color:"currentColor",width:15,height:15,className:O.close})}),(0,i.jsx)(u.hzk,{className:O.contentContainer,children:(0,i.jsxs)(u.MyZ,{activeSlide:P,width:480,children:[(0,i.jsx)(u.Mi4,{id:A.A.INFO,children:(0,i.jsx)(v.Z,{user:V})}),(0,i.jsx)(u.Mi4,{id:A.A.EDIT_SCREEN,children:(0,i.jsx)(I.Z,{user:V,error:Z,editState:D,userRef:H,formValues:Q,footerNotice:t,onChangeFormValue:$,onFocusUsername:()=>W(p.Wq.EDIT_USERNAME),onFocusDisplayName:()=>W(p.Wq.EDIT_DISPLAY_NAME),onClose:L})}),(0,i.jsx)(u.Mi4,{id:A.A.FINISH_LATER,children:(0,i.jsx)(C.Z,{onClose:L,handleStartFlow:eo})}),(0,i.jsx)(u.Mi4,{id:A.A.SUGGESTIONS,children:(0,i.jsx)(I.Z,{user:V,error:Z,editState:D,userRef:H,formValues:Q,footerNotice:t,onChangeFormValue:$,onFocusUsername:()=>W(p.Wq.SUGGESTION),onFocusDisplayName:()=>W(p.Wq.EDIT_DISPLAY_NAME),onClose:L,usernameSuggestionLoading:Y,oneClickFlow:k})})]})}),ed]})}let R=(e,t,n,s,a)=>0===e.length?null:(0,i.jsxs)(u.mzw,{className:O.footer,children:[(0,i.jsxs)("div",{className:O.inline,children:[e.includes("REMIND_ME_LATER")&&(0,i.jsx)(u.zxk,{className:O.unfilledButton,type:"button",size:u.zxk.Sizes.SMALL,look:u.zxk.Looks.BLANK,color:u.zxk.Colors.CUSTOM,onClick:t.handleRemindMeLater,children:M.intl.string(M.t["1mGbXF"])}),e.includes("NEXT")&&(0,i.jsx)(u.zxk,{type:"button",size:u.zxk.Sizes.SMALL,submitting:n,onClick:t.handleNext,children:M.intl.string(M.t.PDTjLC)}),e.includes("SUBMIT")&&(0,i.jsx)(u.zxk,{type:"button",size:u.zxk.Sizes.SMALL,submitting:n,onClick:t.handleNext,children:M.intl.string(M.t.geKm7u)}),e.includes("GET_STARTED")&&(0,i.jsx)(u.zxk,{type:"button",size:u.zxk.Sizes.SMALL,onClick:t.handleNext,children:M.intl.string(M.t.LhlgY2)}),e.includes("GOT_IT")&&(0,i.jsx)(u.zxk,{type:"button",size:u.zxk.Sizes.SMALL,onClick:t.onClose,children:M.intl.string(M.t["NX+WJC"])}),e.includes("UPDATE")&&(0,i.jsx)(u.zxk,{type:"button",size:u.zxk.Sizes.SMALL,disabled:s&&!a,submitting:n,onClick:t.handleNext,children:M.intl.string(M.t.VZANAA)})]}),e.includes("BACK")&&(0,i.jsx)(u.zxk,{className:O.unfilledButton,type:"button",size:u.zxk.Sizes.SMALL,look:u.zxk.Looks.BLANK,color:u.zxk.Colors.CUSTOM,onClick:t.handleBack,children:M.intl.string(M.t["13/7kZ"])})]})},81259:function(e,t,n){n.d(t,{Z:()=>E}),n(627341);var i=n(200651);n(192379);var s=n(120356),a=n.n(s),l=n(278074),r=n(692547),o=n(481060),u=n(551556),d=n(983928);let c=()=>(0,i.jsx)(u.Z,{width:13,height:13,backgroundColor:r.Z.colors.TEXT_POSITIVE.css}),m=()=>(0,i.jsx)(o.k$p,{size:"custom",width:13,height:13,color:r.Z.colors.TEXT_DANGER.css}),g=()=>(0,i.jsx)(o.k$p,{size:"custom",width:13,height:13,color:r.Z.colors.TEXT_WARNING.css});function E(e){let t=(0,l.EQ)(e.type).with("info",()=>(0,i.jsx)(g,{})).with("error",()=>(0,i.jsx)(m,{})).with("success",()=>(0,i.jsx)(c,{})).otherwise(()=>null);return(0,i.jsxs)(i.Fragment,{children:[t,(0,i.jsx)(o.Text,{variant:"text-sm/medium",className:a()(d.formMessage,{[d.formMessageNegative]:"error"===e.type,[d.formMessagePositive]:"success"===e.type}),children:e.children})]})}},108793:function(e,t,n){n.d(t,{Z:()=>S}),n(47120);var i=n(200651),s=n(192379),a=n(642128),l=n(481060),r=n(230711),o=n(687158),u=n(63063),d=n(51144),c=n(544508),m=n(801461),g=n(981631),E=n(388032),h=n(983928);function S(e){let{userRef:t,usernameSuggestionLoading:n=!1,oneClickFlow:S=!1,...f}=e,{user:x,editState:N,onClose:T}=f,_=(0,o.ZP)(x.id),I=function(e,t,n){switch(e){case m.Wq.EDIT_USERNAME:return{header:E.intl.string(E.t["a/zCWl"]),subtitle:E.intl.string(E.t.gGz0sb)};case m.Wq.EDIT_DISPLAY_NAME:return{header:E.intl.string(E.t.SRDNcH),subtitle:E.intl.string(E.t["940AS0"])};case m.Wq.PREVIEW:return{header:E.intl.formatToPlainString(E.t.XDHrcn,{displayName:t}),subtitle:E.intl.format(E.t.bWE0ZG,{onClick:()=>{n(),r.Z.open(g.oAB.ACCOUNT)}})};case m.Wq.SUGGESTION:return{header:E.intl.string(E.t.F7T4dX),subtitle:E.intl.formatToPlainString(E.t.Z8F83d,{}),link:E.intl.format(E.t["i2vB8/"],{helpdeskArticle:u.Z.getArticleURL(g.BhN.POMELO_FAQ)})};default:return{header:E.intl.string(E.t["a/zCWl"]),subtitle:E.intl.string(E.t.gGz0sb)}}}(N,d.ZP.getName(x),T),[C,v]=(0,l.q_F)(()=>({opacity:0,y:10}));return s.useEffect(()=>{v({y:0,opacity:1,from:{y:10,opacity:0}})},[v,N]),(0,i.jsxs)("div",{className:h.displayNameContainer,children:[(0,i.jsxs)(a.animated.div,{style:{opacity:C.opacity,y:C.y},children:[(0,i.jsx)(l.X6q,{className:h.title,color:"header-primary",variant:"heading-xl/extrabold",children:I.header}),(0,i.jsxs)("div",{className:h.subtitle,children:[(0,i.jsx)(l.X6q,{color:"header-secondary",variant:"heading-sm/medium",children:I.subtitle}),null!=I.link&&(0,i.jsx)(l.Text,{className:h.link,color:"header-secondary",variant:"text-sm/medium",children:I.link})]})]}),(0,i.jsx)(c.Z,{...f,displayProfile:_,ref:t,usernameSuggestionLoading:n,oneClickFlow:S})]})}},544508:function(e,t,n){n.d(t,{Z:()=>v}),n(47120),n(757143);var i=n(200651),s=n(192379),a=n(120356),l=n.n(a),r=n(642128),o=n(399606),u=n(481060),d=n(607070),c=n(745510),m=n(899007),g=n(867176),E=n(51144),h=n(346585),S=n(81259),f=n(119848),x=n(801461),N=n(228168),T=n(388032),_=n(983928),I=n(733469);let C=s.forwardRef(function(e,t){let{style:n,value:s,placeholder:a,maxLength:r,onFocus:o,onChange:d}=e;return(0,i.jsx)(u.Kx8,{className:l()(_.userCardInput,n),autosize:!0,error:null,showCharacterCount:!1,spellCheck:!1,showRemainingCharacterCount:!1,value:s,placeholder:a,rows:1,maxLength:r,onChange:d,onFocus:o,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},inputRef:t})}),v=s.forwardRef(function(e,t){let{user:n,error:a,formValues:v,displayProfile:p,onChangeFormValue:A,onFocusDisplayName:y,onFocusUsername:M,editState:O,footerNotice:L,usernameSuggestionLoading:R,oneClickFlow:k}=e,{username:P,globalName:b}=v,j=s.useRef(null),U=s.useRef(null),Z=s.useMemo(()=>n.merge({discriminator:"0000"}),[n]),[G,D]=(0,u.q_F)(()=>({opacity:0,y:5}));s.useEffect(()=>{D({y:0,opacity:1,from:{y:5,opacity:0}})},[D,O]),s.useImperativeHandle(t,()=>({focusDisplayName:()=>{var e,t,n;null===(t=U.current)||void 0===t||t.setSelection(0,null===(e=U.current)||void 0===e?void 0:e.value.length),null===(n=U.current)||void 0===n||n.focus()},focusUsername:()=>{var e,t,n;null===(t=j.current)||void 0===t||t.setSelection(0,null===(e=j.current)||void 0===e?void 0:e.value.length),null===(n=j.current)||void 0===n||n.focus()}}),[]);let W=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion),{createMultipleConfettiAt:w}=s.useContext(c.h),q=null==p?void 0:p.getLegacyUsername();return s.useEffect(()=>{!W&&O===x.Wq.PREVIEW&&n.username.includes(x.nA)&&(w(window.innerWidth/2+150,0,{velocity:{type:"static-random",minValue:{x:0,y:-180},maxValue:{x:500,y:180}}},15),w(window.innerWidth/2-150,0,{velocity:{type:"static-random",minValue:{x:-500,y:-180},maxValue:{x:0,y:180}}},15))},[w,O,n,W]),(0,i.jsxs)("div",{className:l()(_.userCardContainer,{[_.shinyCard]:O===x.Wq.PREVIEW}),children:[(0,i.jsxs)("div",{className:_.profileCard,children:[(0,i.jsx)(g.Z,{user:Z,displayProfile:p,profileType:N.y0.PANEL}),(0,i.jsx)(m.Z,{user:Z,displayProfile:p,profileType:N.y0.PANEL}),O===x.Wq.PREVIEW&&null!=q&&(0,i.jsx)("div",{className:_.legacyUsernameBadgeContainer,children:(0,i.jsx)(u.ua7,{position:"top",text:T.intl.formatToPlainString(T.t.bhrgkJ,{legacyUsername:q}),spacing:12,children:e=>(0,i.jsx)(u.eee,{...e,onClick:e.onClick,children:(0,i.jsx)("img",{className:_.legacyUsernameBadge,alt:"",src:I})})})})]}),O!==x.Wq.PREVIEW&&(0,i.jsxs)(r.animated.div,{style:{opacity:G.opacity,y:G.y},className:_.inputContainer,children:[O===x.Wq.EDIT_DISPLAY_NAME&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Text,{className:_.textPadding,color:"text-muted",variant:"text-sm/semibold",children:T.intl.string(T.t["9AjdkJ"])}),(0,i.jsx)(C,{style:l()(_.displayNameHeight,_["heading-xl/bold"]),value:null!=b?b:"",placeholder:E.ZP.getName(n),maxLength:x.hy,onChange:e=>A({globalName:e}),onFocus:y,ref:U})]}),(O===x.Wq.EDIT_USERNAME||O===x.Wq.SUGGESTION)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Text,{className:_.textPadding,color:"text-muted",variant:"text-sm/semibold",children:T.intl.string(T.t.IEpCBQ)}),(0,i.jsx)(C,{style:l()(_.userCardHeight,_.lowercaseUsername,_["heading-lg/medium"]),value:null!=P?P:"",placeholder:n.username,maxLength:x.hy,onChange:e=>A({username:e.replace("@","")}),onFocus:M,ref:j})]}),(0,i.jsx)("div",{className:_.messageContainer,children:(()=>{if(null!=a)return(0,i.jsx)(S.Z,{type:"error",children:a});if(null!=L){if(O!==x.Wq.SUGGESTION)return(0,i.jsx)(u.Text,{variant:"text-sm/normal",children:L});if(!R)return(0,i.jsx)(S.Z,{type:"success",children:L})}return null==L&&null==a&&(O===x.Wq.EDIT_USERNAME||O===x.Wq.SUGGESTION)?(0,i.jsx)(f.Z,{username:P,oneClickFlow:k}):null})()})]}),O===x.Wq.PREVIEW&&(0,i.jsxs)("div",{className:_.userCard,children:[(0,i.jsx)(u.X6q,{color:"header-primary",variant:"heading-xl/bold",children:E.ZP.getName(n)}),(0,i.jsx)(u.X6q,{color:"text-normal",variant:"heading-lg/medium",children:n.username}),(0,i.jsx)(u.Text,{className:_.memberText,color:"text-muted",variant:"text-sm/medium",children:T.intl.format(T.t["9rfonp"],{date:(0,h.K9)(n.id)})})]})]})})},635774:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var s=n(120356),a=n.n(s),l=n(442837),r=n(481060),o=n(230711),u=n(706454),d=n(346585),c=n(347649),m=n(981631),g=n(388032),E=n(983928);function h(e){let{onClose:t,handleStartFlow:n}=e,s=(0,c.CC)(),h=(0,l.e7)([u.default],()=>u.default.locale);return(0,i.jsxs)("div",{className:E.infoContainer,children:[(0,i.jsx)(r.X6q,{className:a()(E.finishTitle,{[E.finishTitlePadding]:s}),color:"header-primary",variant:"heading-xl/bold",children:s?g.intl.formatToPlainString(g.t.XOWfNj,{date:(0,d.IE)(h)}):g.intl.string(g.t["3C+rbG"])}),(0,i.jsx)(r.Text,{className:E.subtitleFinish,color:"header-secondary",variant:"text-md/medium",children:s?g.intl.formatToPlainString(g.t["g/gkAw"],{date:(0,d.IE)(h)}):g.intl.string(g.t.TS1L09)}),(0,i.jsx)(r.Text,{className:E.promptFinish,color:"header-secondary",variant:"text-md/medium",children:g.intl.format(g.t.bWE0ZG,{onClick:()=>{t(),o.Z.open(m.oAB.ACCOUNT)}})}),(0,i.jsx)(r.zxk,{className:E.button,type:"button",size:r.zxk.Sizes.SMALL,onClick:s?n:t,children:s?g.intl.string(g.t["Zpd+Ym"]):g.intl.string(g.t["yD/zkp"])})]})}},387955:function(e,t,n){n.d(t,{Z:()=>E});var i=n(200651);n(192379);var s=n(120356),a=n.n(s),l=n(481060),r=n(63063),o=n(773446),u=n(572264),d=n(981631),c=n(388032),m=n(983928),g=n(849399);function E(e){let{user:t}=e;return(0,i.jsxs)("div",{className:m.infoContainer,children:[(0,i.jsx)("img",{className:m.infoPicture,alt:"",src:g}),(0,i.jsx)(l.X6q,{className:m.title,color:"header-primary",variant:"heading-xl/bold",children:c.intl.format(c.t["au+lPj"],{n:t.tag})}),(0,i.jsx)(l.Text,{className:m.subtitleInfo,color:"header-secondary",variant:"text-md/medium",children:c.intl.format(c.t["5fwX5+"],{})}),(0,i.jsx)(l.Text,{className:m.prompt,color:"header-secondary",variant:"text-sm/medium",children:c.intl.format(c.t["i2vB8/"],{helpdeskArticle:r.Z.getArticleURL(d.BhN.POMELO_FAQ)})}),(0,i.jsxs)("div",{className:a()([m.infoItem,m.infoItemSpacing]),children:[(0,i.jsx)("div",{className:m.infoIcon,children:(0,i.jsx)(l.iFz,{size:"custom",color:"currentColor",width:20,height:20})}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/medium",children:c.intl.format(c.t.SzUaZ2,{})})]}),(0,i.jsxs)("div",{className:a()([m.infoItem,m.infoItemSpacing]),children:[(0,i.jsx)("div",{className:m.infoIcon,children:(0,i.jsx)(o.Z,{width:20,height:20})}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/medium",children:c.intl.format(c.t["UwPc+P"],{})})]}),(0,i.jsxs)("div",{className:m.infoItem,children:[(0,i.jsx)("div",{className:m.infoIcon,children:(0,i.jsx)(u.Z,{width:20,height:20})}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/medium",children:c.intl.format(c.t.okLjjo,{username:t.tag})})]})]})}},448624:function(e,t,n){n.d(t,{A:()=>s});var i,s=((i={})[i.INFO=0]="INFO",i[i.EDIT_SCREEN=1]="EDIT_SCREEN",i[i.FINISH_LATER=2]="FINISH_LATER",i[i.SUGGESTIONS=3]="SUGGESTIONS",i)},119848:function(e,t,n){n.d(t,{Z:()=>u}),n(627341);var i=n(200651);n(192379);var s=n(278074),a=n(219496),l=n(346585),r=n(363577),o=n(81259);function u(e){let{username:t,oneClickFlow:n=!1}=e,u=(0,r.M)((0,l.R_)(t),!0,!1,n);if(null==u)return null;let d=(0,s.EQ)(u.type).with(a.K.RATE_LIMIT,()=>"info").with(a.K.ERROR,()=>"error").with(a.K.AVAILABLE,()=>"success").with(a.K.INTERNAL_ERROR,()=>null).exhaustive();return null==d?null:(0,i.jsx)(o.Z,{type:d,children:u.message})}}}]);
//# sourceMappingURL=b99bd9a81802a7a6.js.map