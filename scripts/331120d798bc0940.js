"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["75878"],{605984:function(e,n,t){t.d(n,{k:()=>d});var i=t(385956),l=t(15701),a=t(359119),r=t(897769),u=t(403485),o=t(88101);function d(e){let n=(0,l.G)(e),t=(0,i.v)(e),d=(0,r.S)(e,a.pj.LIKELY_ATO),s=(0,u.h)(e).length>0,c=null!=(0,o.P)(e);if(!n&&!t&&!s&&!c)return d}},441061:function(e,n,t){t.d(n,{Z:()=>d});var i=t(200651);t(192379);var l=t(442837),a=t(481060),r=t(475179),u=t(358221),o=t(388032);function d(e){let n=(0,l.e7)([u.Z],()=>u.Z.getVoiceParticipantsHidden(e));return(0,i.jsx)(a.S89,{id:"no-video-hide",label:o.intl.string(o.t.BL8ss7),checked:!n,action:()=>r.Z.toggleVoiceParticipantsHidden(e,!n)})}},117984:function(e,n,t){t.d(n,{CM:()=>h,UT:()=>p,_Z:()=>I,kj:()=>f,oC:()=>v,s3:()=>E,uA:()=>m,xh:()=>A}),t(47120);var i=t(524437),l=t(675478),a=t(592125),r=t(496675),u=t(709054),o=t(853856),d=t(231338);function s(){let e=o.Z.getFavoriteChannels(),n=1;for(let t in e)n=Math.max(n,e[t].order);return n+1}function c(e){for(let n in e){let t=e[n];if(null==t){delete e[n];continue}if(t.type===i.Dd.CATEGORY)continue;let l=a.Z.getChannel(n);if(null==l||!l.isPrivate()&&!r.Z.can(d.Pl.VIEW_CHANNEL,l)){delete e[n];continue}}}function f(e,n){!o.Z.isFavorite(e)&&l.hW.updateAsync("favorites",t=>{t.favoriteChannels[e]=i.aV.create({nickname:"",type:i.Dd.REFERENCE_ORIGINAL,position:s(),parentId:null!=n?n:"0"}),c(t.favoriteChannels)},l.fy.FREQUENT_USER_ACTION)}function v(e){let n=o.Z.getFavorite(e);null!=n&&l.hW.updateAsync("favorites",t=>{if(delete t.favoriteChannels[e],n.type===i.Dd.CATEGORY)for(let n in t.favoriteChannels)t.favoriteChannels[n].parentId===e&&(t.favoriteChannels[n].parentId="0");c(t.favoriteChannels)},l.fy.INFREQUENT_USER_ACTION)}function p(e,n){o.Z.isFavorite(e)&&l.hW.updateAsync("favorites",t=>{t.favoriteChannels[e].nickname=null!=n?n:""},l.fy.INFREQUENT_USER_ACTION)}function h(e){let n=u.default.fromTimestamp(Date.now());l.hW.updateAsync("favorites",t=>{t.favoriteChannels[n]=i.aV.create({nickname:e,type:i.Dd.CATEGORY,position:s(),parentId:"0"})},l.fy.FREQUENT_USER_ACTION)}function A(e){v(e)}function E(e){l.hW.updateAsync("favorites",n=>{for(let i of e)if(null!=i.position&&(n.favoriteChannels[i.id].position=i.position),void 0!==i.parent_id){var t;n.favoriteChannels[i.id].parentId=null!==(t=i.parent_id)&&void 0!==t?t:"0"}},l.fy.FREQUENT_USER_ACTION)}function m(e,n){l.hW.updateAsync("favorites",t=>{t.favoriteChannels[e].parentId=null!=n?n:"0"},l.fy.FREQUENT_USER_ACTION)}function I(){l.hW.updateAsync("favorites",e=>{e.muted=!e.muted},l.fy.INFREQUENT_USER_ACTION)}},593214:function(e,n,t){t.d(n,{Mt:()=>h,li:()=>f,s4:()=>v,up:()=>A,zv:()=>p}),t(47120),t(653041);var i=t(192379),l=t(106351),a=t(442837);t(592125);var r=t(984933),u=t(914010);t(709054);var o=t(853856),d=t(362658),s=t(434065),c=t(981631);function f(e){let{favoritesEnabled:n,hasStaffPrivileges:t}=(0,d.z)("useCanFavoriteChannel"),i=(0,a.e7)([o.Z],()=>o.Z.isFavorite(e.id)),l=e.isDM()||e.isThread();return n&&!__OVERLAY__&&!i&&(!l||t)}function v(e){return(0,a.e7)([o.Z],()=>o.Z.getFavorite(e))}function p(){return(0,a.e7)([r.ZP],()=>r.ZP.getChannels(c.I_8))[l.d.GUILD_CATEGORY].map(e=>({id:"null"===e.channel.id?null:e.channel.id,name:e.channel.name}))}function h(){return(0,a.e7)([u.Z],()=>u.Z.getGuildId())===c.I_8}function A(){let{isFavoritesPerk:e}=(0,d.z)("useFavoriteAdded"),n=(0,s.r)(),t=i.useCallback(()=>{e&&n.notifyFavoriteAdded()},[n,e]),l=i.useCallback(()=>{e&&n.clearFavoriteAdded()},[n,e]);return{favoriteAdded:n.favoriteAdded,notifyFavoriteAdded:t,clearFavoriteAdded:l}}},434065:function(e,n,t){t.d(n,{r:()=>a});var i=t(15729),l=t(731965);let a=(0,i.U)(e=>({favoriteAdded:!1,notifyFavoriteAdded:()=>(0,l.j)(()=>e({favoriteAdded:!0})),clearFavoriteAdded:()=>(0,l.j)(()=>e({favoriteAdded:!1}))}))},276022:function(e,n,t){t.d(n,{Z:()=>A}),t(653041);var i=t(200651),l=t(192379),a=t(442837),r=t(481060),u=t(139387),o=t(230711),d=t(213459),s=t(434404),c=t(795594),f=t(430824),v=t(496675),p=t(981631),h=t(388032);function A(e){var n;let{user:A,application:E,guildId:m,context:I,onItemClick:C}=e,N=null!==(n=null==E?void 0:E.id)&&void 0!==n?n:null==A?void 0:A.id,R=f.Z.getGuild(m),Z=(0,a.e7)([v.Z],()=>null!=R?v.Z.can(p.Plq.MANAGE_GUILD,R):null),_=(0,d.LD)(m,!0),T=(0,d.PL)(!0,!0),{isUserApp:g,isGuildApp:y}=l.useMemo(()=>{var e,n,t,i;if(null==N)return{isGuildApp:!1,isUserApp:!1};let l=Object.values(null!==(t=null===(e=_.result)||void 0===e?void 0:e.sections)&&void 0!==t?t:{}),a=Object.values(null!==(i=null===(n=T.result)||void 0===n?void 0:n.sections)&&void 0!==i?i:{});return{isGuildApp:l.some(e=>{var n;return(null===(n=e.descriptor.application)||void 0===n?void 0:n.id)===N}),isUserApp:a.some(e=>{var n;return(null===(n=e.descriptor.application)||void 0===n?void 0:n.id)===N})}},[_,T,N]);l.useEffect(()=>{t(360606)},[]);let P=l.useCallback(()=>{(null==R?void 0:R.id)!=null&&(s.Z.open(R.id,p.pNK.INTEGRATIONS),u.Z.setSection(p.b4C.APPLICATION,N),null==C||C())},[N,null==R?void 0:R.id,C]),O=l.useCallback(()=>{o.Z.open(p.oAB.AUTHORIZED_APPS);let e="";null!=E?e=E.name:null!=A&&(e=A.username),""!==e&&c.J.setState({searchQuery:e}),null==C||C()},[E,C,A]);if(I===p.IlC.POPOUT)return null;let S=[];return y&&Z&&S.push((0,i.jsx)(r.sNh,{id:"manage-server-integration",label:h.intl.string(h.t.IuSJT0),action:P},"manage-server-integration")),g&&S.push((0,i.jsx)(r.sNh,{id:"manage-authorized-app",label:h.intl.string(h.t.V8ruv7),action:O},"manage-authorized-app")),S}},385956:function(e,n,t){t.d(n,{T:()=>u,v:()=>r});var i=t(442837),l=t(355298),a=t(333984);function r(e){return(0,i.e7)([l.Z],()=>l.Z.isMessageRequest(e),[e])}function u(e){return(0,i.e7)([l.Z,a.Z],()=>null!=e&&(l.Z.isMessageRequest(e)||a.Z.isSpam(e)))}},15701:function(e,n,t){t.d(n,{G:()=>a});var i=t(442837),l=t(333984);function a(e){return(0,i.e7)([l.Z],()=>l.Z.isSpam(e),[e])}},441894:function(e,n,t){t.d(n,{J:()=>o}),t(47120);var i=t(442837),l=t(592125),a=t(19780),r=t(977059),u=t(760373);function o(e){let{channelId:n,location:t}=e,{enabled:o}=(0,r.S)({location:t});return(0,i.e7)([a.Z,l.Z],()=>(function(e,n){var t;let[i,r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[a.Z,l.Z];if(!n||null==e||i.getChannelId()!==e)return!1;let o=r.getChannel(e);if(null==o||o.isGuildStageVoice())return!1;let d=null===(t=i.getSecureFramesState())||void 0===t?void 0:t.version;return null!=d&&d!==u.Eg})(n,o,[a.Z,l.Z]),[n,o])}},897769:function(e,n,t){t.d(n,{S:()=>a});var i=t(442837),l=t(359119);function a(e,n){return(0,i.e7)([l.ZP],()=>l.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===n).find(e=>null==e.dismiss_timestamp&&((null==e?void 0:e.expiry)==null||Date.parse(e.expiry)>Date.now()))}},13279:function(e,n,t){t.d(n,{z:()=>o});var i=t(359119),l=t(897769),a=t(237292),r=t(403485),u=t(604849);function o(e,n){let t=(0,a.y0)({location:n}),o=(0,u.c)(),d=(0,r.h)(e),s=(0,l.S)(e,i.pj.INAPPROPRIATE_CONVERSATION_TIER_2);if(!(!t||!o||0===d.length||d.some(e=>e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_2&&null!=e.dismiss_timestamp)))return s}},403485:function(e,n,t){t.d(n,{h:()=>a});var i=t(442837),l=t(359119);function a(e){return(0,i.e7)([l.ZP],()=>l.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===l.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===l.pj.INAPPROPRIATE_CONVERSATION_TIER_2)}},88101:function(e,n,t){t.d(n,{P:()=>c});var i=t(442837),l=t(385956),a=t(15701),r=t(594174),u=t(359119),o=t(897769),d=t(981312),s=t(403485);function c(e){let n=(0,i.e7)([r.default],()=>r.default.getCurrentUser()),t=(0,a.G)(e),c=(0,l.v)(e),f=(0,o.S)(e,u.pj.STRANGER_DANGER),v=(0,d.U)(),p=(null==n?void 0:n.isStaff())!==!0,h=(0,s.h)(e).length>0;if((v||!p)&&!t&&!c&&!h)return f}},570870:function(e,n,t){t.d(n,{Z:()=>C});var i=t(200651),l=t(192379),a=t(512722),r=t.n(a),u=t(442837),o=t(481060),d=t(10718),s=t(667204),c=t(826298),f=t(276022),v=t(978983),p=t(430824),h=t(594174),A=t(981631),E=t(689079),m=t(388032),I=t(913887);let C=e=>{let n,{commandType:t,commandTargetId:a,channel:C,guildId:N,onHeightUpdate:R,context:Z}=e,_=(0,u.e7)([p.Z],()=>p.Z.getGuild(null!=N?N:C.guild_id)),T=(0,u.e7)([h.default],()=>h.default.getUser(a)),g=(0,f.Z)({user:T,guildId:null==_?void 0:_.id,context:Z}),y=l.useMemo(()=>({channel:C,type:"channel"}),[C]),{commands:P,sectionDescriptors:O,loading:S}=d.wi({context:y,filters:{commandTypes:[t]},options:{limit:E.lr},allowFetch:!0}),{sections:U}=l.useMemo(()=>{let e={};return O.forEach(n=>{e[n.id]=n}),{sections:e}},[O]),j=l.useRef(S);l.useEffect(()=>{S!==j.current&&(j.current=S,null==R||R())},[S,R]);let F=l.useCallback(e=>{r()(null!=C,"menu item should not show if channel is null");let n=U[e.applicationId],t=null!=n?(0,c.ky)(n):void 0;return(0,i.jsx)(o.sNh,{id:e.id,label:e.displayName,iconLeft:()=>null!=t?(0,i.jsx)(t,{channel:C,section:n,width:18,height:18,selectable:!1}):null,action:()=>{(0,s.Z)({command:e,optionValues:{},context:{channel:C,guild:_},commandTargetId:a})}},e.id)},[C,_,a,U]);if(S?n=(0,i.jsx)(o.sNh,{id:"menu-commands-placeholder",render:()=>(0,i.jsx)(v.Z,{}),disabled:!0},"menu-commands-placeholder"):(n=0===P.length?(0,i.jsx)(o.sNh,{id:"menu-commands-empty",label:m.intl.string(m.t.YSNlV1),disabled:!0},"menu-commands-empty"):P.map(F),null!=g&&g.length>0&&(n=(0,i.jsxs)(i.Fragment,{children:[n,(0,i.jsx)(o.Clw,{},"separator"),g]}))),!A.TPd.TEXTUAL.has(C.type)){if(null==g)return null;n=g}return(0,i.jsx)(o.sNh,{id:"apps",label:m.intl.string(m.t.PHjkRE),listClassName:I.list,children:n})}}}]);
//# sourceMappingURL=331120d798bc0940.js.map