"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["22347"],{7697:function(t,n,l){l.d(n,{Z:()=>k}),l(47120);var e=l(192379),i=l(392711),s=l.n(i),r=l(442837),o=l(699682),a=l(70956),u=l(709054),c=l(897285),d=l(924301),x=l(854698);function k(t,n,l){let i=(0,r.e7)([d.ZP],()=>d.ZP.getGuildScheduledEvent(t)),k=(0,o.Z)(l),[h,m]=e.useState(null!=l&&null!=i?(0,x.PJ)(4,(0,x.Ho)(l),new Date(i.scheduled_start_time)):[]);e.useEffect(()=>{if(null==k||null==l||null==i||s().isEqual(k,l))return;let t=(0,x.Ho)(l);m((0,x.PJ)(h.length,t,new Date(i.scheduled_start_time)))},[l,h.length,i,k]),e.useEffect(()=>{if(null==n)return;let l=h.map(t=>u.default.fromTimestamp(Math.floor(t.getTime()/a.Z.Millis.SECOND)*a.Z.Millis.SECOND));c.Z.getGuildEventUserCounts(n,t,l)},[t,n,h]);let z=e.useMemo(()=>{if(null==l||0===h.length||(null==i?void 0:i.scheduled_start_time)==null)return!1;let t=new Date;t.setFullYear(t.getFullYear()+x.hn);let n=h[h.length-1],e=(0,x.Ho)(l).after(n);return null!=e&&e<=t},[l,h,null==i?void 0:i.scheduled_start_time]);return{recurrenceStartTimes:h,canViewMoreRecurrences:z,updateRecurrenceStartTimes:()=>{if(null==l||null==i)return;let t=(0,x.Ho)(l),n=h[h.length-1];m([...h,...(0,x.PJ)(4,t,n,!0)])}}}},274311:function(t,n,l){l.d(n,{Q:()=>u,T:()=>c});var e=l(442837),i=l(592125),s=l(700785),r=l(924301),o=l(765305),a=l(981631);function u(t,n){return s.Uu(a.Plq.VIEW_CHANNEL,t)||n===o.WX.EXTERNAL}function c(t,n){return(0,e.e7)([i.Z,r.ZP],()=>{let l=i.Z.getChannel(t),e=r.ZP.getGuildScheduledEvent(n);return u(l,null==e?void 0:e.entity_type)},[t,n])}},285784:function(t,n,l){l.d(n,{Lh:()=>h,S0:()=>k,ZP:()=>g,ku:()=>x}),l(47120);var e=l(200651),i=l(192379),s=l(846519),r=l(481060),o=l(493773),a=l(765305),u=l(388032),c=l(499199);function d(t){let{text:n,disabled:l,onJoinClick:i}=t;return(0,e.jsx)(r.zxk,{className:c.__invalid_button,size:r.zxk.Sizes.SMALL,onClick:i,color:r.zxk.Colors.GREEN,disabled:l,children:n})}function x(t){let{onInviteClick:n,canInvite:l,isChannelPublic:a}=t,d=new s.V7,[x,k]=i.useState(!1);(0,o.ZP)(()=>()=>{d.stop()});let h=t=>{null!=n&&n(t),k(!0),d.start(1e3,()=>k(!1))};return null==n?null:(0,e.jsx)(r.ua7,{text:z(l,a),position:"top",tooltipClassName:c.tooltips,"aria-label":u.intl.string(u.t.Ej3B3d),children:t=>l&&a?(0,e.jsxs)(r.zxk,{...t,className:c.__invalid_button,innerClassName:c.innerButton,color:r.zxk.Colors.PRIMARY,size:r.zxk.Sizes.SMALL,onClick:n,children:[(0,e.jsx)(r.aAc,{size:"xs",color:"currentColor"}),u.intl.string(u.t.RDE0SU)]}):(0,e.jsxs)(r.zxk,{...t,className:c.__invalid_button,innerClassName:c.innerButton,color:r.zxk.Colors.PRIMARY,size:r.zxk.Sizes.SMALL,disabled:x,look:x?r.zxk.Looks.OUTLINED:r.zxk.Looks.FILLED,onClick:h,children:[x?(0,e.jsx)(r.dz2,{size:"xs",color:"currentColor"}):(0,e.jsx)(r.xPt,{size:"xs",color:"currentColor"}),x?u.intl.string(u.t["t5VZ8/"]):u.intl.string(u.t.RDE0SU)]})})}function k(t){let{isUserRsvped:n,isUserLurking:l,onRsvpClick:i,...s}=t,o=n&&!l;return(0,e.jsxs)(r.zxk,{...s,className:c.__invalid_button,innerClassName:c.innerButton,size:r.zxk.Sizes.SMALL,onClick:i,color:r.zxk.Colors.PRIMARY,look:o?r.zxk.Looks.OUTLINED:r.zxk.Looks.FILLED,disabled:l,children:[o?(0,e.jsx)(r.dz2,{size:"xs",color:"currentColor"}):(0,e.jsx)(r.Dkj,{size:"xs",color:"currentColor"}),u.intl.string(u.t.DlcqlZ)]})}function h(t){return(0,e.jsx)(r.ua7,{text:u.intl.string(u.t["26dTyc"]),position:"top",tooltipClassName:c.tooltips,"aria-label":u.intl.string(u.t.Ej3B3d),children:n=>(0,e.jsx)(k,{...n,...t})})}let m=t=>null==t||t,z=(t,n)=>m(t)?u.intl.string(u.t.vk5Xw8):m(n)?u.intl.string(u.t.FFLWGR):u.intl.string(u.t.k9KGYm);function g(t){let{isActive:n,isUserLurking:l,rsvped:i,canInvite:s,isChannelPublic:o=!0,entityType:m,onContextMenu:z,onJoinClick:g,onRsvpClick:C,onStartClick:v,onInviteClick:j,onEndClick:N,isJoined:p=!1}=t,L=void 0!==g;return(0,e.jsxs)("div",{className:c.container,children:[null!=z?(0,e.jsx)(r.ua7,{text:u.intl.string(u.t.UKOtz8),position:"top","aria-label":u.intl.string(u.t.bt75u7),children:t=>(0,e.jsx)(r.P3F,{...t,onClick:z,className:c.iconButton,children:(0,e.jsx)(r.xhG,{size:"custom",color:"currentColor",width:20,height:20,className:c.icon})})}):null,(0,e.jsx)(x,{onInviteClick:j,canInvite:s,isChannelPublic:o}),n&&m!==a.WX.EXTERNAL?(0,e.jsx)(d,{text:function(t){let{isJoined:n,canJoin:l,isVoiceChannel:e}=t;return l?n?u.intl.string(u.t.aW2YlJ):e?u.intl.string(u.t.nxUtoa):u.intl.string(u.t.ZYO5OD):u.intl.string(u.t.TVBCKS)}({isJoined:p,canJoin:L,isVoiceChannel:m===a.WX.VOICE}),disabled:!L,onJoinClick:g}):null,l&&!n&&(0,e.jsx)(h,{isUserRsvped:i,isUserLurking:l}),!l&&!n&&null!=C&&(0,e.jsx)(k,{isUserRsvped:i,isUserLurking:l,onRsvpClick:C}),n||null==v?null:(0,e.jsx)(r.zxk,{className:c.__invalid_button,innerClassName:c.innerButton,size:r.zxk.Sizes.SMALL,onClick:v,color:r.zxk.Colors.GREEN,children:u.intl.string(u.t.I0v0Qk)}),n&&null!=N?(0,e.jsx)(r.zxk,{className:c.__invalid_button,innerClassName:c.innerButton,size:r.zxk.Sizes.SMALL,onClick:N,color:r.zxk.Colors.PRIMARY,children:u.intl.string(u.t.qaYzPD)}):null]})}},421032:function(t,n,l){l.d(n,{Z:()=>C});var e=l(200651);l(192379);var i=l(120356),s=l.n(i),r=l(442837),o=l(481060),a=l(239091),u=l(592125),c=l(430824),d=l(924301),x=l(894017),k=l(854698),h=l(390966),m=l(765305),z=l(388032),g=l(766145);function C(t){let{recurrenceId:n,originalScheduledStartTime:i,guildEventId:C,onClick:v,isActive:j}=t,N=(0,r.e7)([d.ZP],()=>d.ZP.getGuildScheduledEvent(C)),p=(0,x.Z)(n,null==N?void 0:N.id),L=(0,r.e7)([c.Z],()=>c.Z.getGuild(null==N?void 0:N.guild_id)),_=(0,r.e7)([u.Z],()=>u.Z.getChannel(null==N?void 0:N.channel_id));if(null==N)return null;let{is_canceled:E=!1}=null!=p?p:{},S=(null==p?void 0:p.scheduled_start_time)!=null?new Date(null==p?void 0:p.scheduled_start_time):i,f=(0,k.DK)(N),b=E?m.p1.CANCELED:m.p1.SCHEDULED;f===n&&(b=N.status);let Z=(null==N?void 0:N.scheduled_start_time)!=null?(0,k.lh)(p,S,new Date(null==N?void 0:N.scheduled_start_time)):null,P=t=>{t.stopPropagation(),null!=L&&(0,a.jW)(t,async()=>{let{default:t}=await Promise.all([l.e("99272"),l.e("10472"),l.e("62318")]).then(l.bind(l,215269));return l=>(0,e.jsx)(t,{guildEventId:N.id,recurrenceId:n,channel:_,guild:L,isRecurrenceItem:!0,...l})})};return(0,e.jsxs)(o.kL8,{className:s()(g.container,{[g.canceled]:E,[g.clickable]:null!=v,[g.active]:j}),onClick:t=>{t.stopPropagation(),E||null==v||v(n)},onContextMenu:P,"aria-label":"",children:[(0,e.jsx)(h.z,{startTime:S.toISOString(),status:null!=Z?Z:b,eventType:N.entity_type,guildEventId:N.id,recurrenceId:n,className:g.timeStatus}),E&&(0,e.jsx)(o.Text,{variant:"text-sm/semibold",color:"text-danger",className:g.canceledStatus,children:z.intl.string(z.t.fyBVRk)}),(0,e.jsx)(o.ua7,{text:z.intl.string(z.t.UKOtz8),position:"top","aria-label":z.intl.string(z.t.bt75u7),children:t=>(0,e.jsx)(o.P3F,{...t,onClick:P,className:g.iconButton,children:(0,e.jsx)(o.xhG,{size:"custom",color:"currentColor",width:20,height:20,className:g.icon})})})]})}},810561:function(t,n,l){l.d(n,{Z:()=>x});var e=l(200651);l(192379);var i=l(120356),s=l.n(i),r=l(481060),o=l(709054),a=l(7697),u=l(421032),c=l(388032),d=l(560425);function x(t){let{guildId:n,recurrenceRule:l,guildEventId:i,onRecurrenceClick:x,hideScroller:k=!1,activeRecurrenceId:h}=t,{recurrenceStartTimes:m,canViewMoreRecurrences:z,updateRecurrenceStartTimes:g}=(0,a.Z)(i,n,l);return(0,e.jsxs)("div",{className:d.recurrences,children:[(0,e.jsx)(r.X6q,{variant:"heading-sm/medium",className:d.heading,children:c.intl.string(c.t["D/jjoa"])}),(0,e.jsxs)(r.Ttm,{className:s()(d.scroller,{[d.showScroller]:!k}),children:[m.map(t=>{let n=o.default.fromTimestamp(t.getTime());return(0,e.jsx)(u.Z,{recurrenceId:n,originalScheduledStartTime:t,guildEventId:i,onClick:x,isActive:n===h},n)}),z&&(0,e.jsx)(r.zxk,{grow:!1,onClick:t=>{t.stopPropagation(),g()},look:r.zxk.Looks.LINK,size:r.zxk.Sizes.MIN,color:r.zxk.Colors.LINK,className:d.button,children:c.intl.string(c.t["8O7Hp6"])})]})]})}},187443:function(t,n,l){l.d(n,{Z:()=>a});var e=l(200651);l(192379);var i=l(481060),s=l(285784),r=l(388032),o=l(25646);function a(t){let{isActive:n,isUserLurking:l,rsvped:a,onContextMenu:u,onRsvpClick:c,onGoToGuildClick:d,isDetailsView:x=!1,isMember:k,onJoinGuildClick:h,guildName:m,onInviteClick:z,canInvite:g,isChannelPublic:C}=t;return(0,e.jsxs)("div",{className:o.container,children:[null!=u?(0,e.jsx)(i.ua7,{text:r.intl.string(r.t.UKOtz8),position:"top","aria-label":r.intl.string(r.t.bt75u7),children:t=>(0,e.jsx)(i.P3F,{...t,onClick:u,className:o.iconButton,children:(0,e.jsx)(i.xhG,{size:"custom",color:"currentColor",width:20,height:20,className:o.icon})})}):null,k&&(0,e.jsx)(s.ku,{onInviteClick:z,canInvite:g,isChannelPublic:C}),l&&!n&&(0,e.jsx)(s.Lh,{isUserRsvped:a,isUserLurking:l}),k&&!l&&!n&&null!=c&&(0,e.jsx)(s.S0,{isUserRsvped:a,isUserLurking:l,onRsvpClick:c}),k&&!l&&(!x||n)?(0,e.jsx)(i.zxk,{className:o.button,innerClassName:o.innerButton,size:i.zxk.Sizes.SMALL,onClick:d,color:i.zxk.Colors.GREEN,children:r.intl.string(r.t["N+TB5u"])}):null,k?null:(0,e.jsx)(i.zxk,{className:o.button,innerClassName:o.innerButton,size:i.zxk.Sizes.SMALL,onClick:h,color:i.zxk.Colors.GREEN,children:r.intl.format(r.t["4BiO8f"],{guildName:m})})]})}}}]);
//# sourceMappingURL=656bb28957ccdffb.js.map