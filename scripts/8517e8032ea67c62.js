"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["41984"],{295866:function(t,e,n){n.d(e,{D0:()=>s,kY:()=>l,lE:()=>c});var i=n(570140);function l(){i.Z.dispatch({type:"SPELLCHECK_TOGGLE"})}function s(t){i.Z.dispatch({type:"SPELLCHECK_LEARN_WORD",word:t})}function c(t){i.Z.dispatch({type:"SPELLCHECK_UNLEARN_WORD",word:t})}},343602:function(t,e,n){n.d(e,{default:()=>v}),n(47120);var i=n(200651),l=n(192379),s=n(270445),c=n(442837),a=n(481060),o=n(239091),u=n(857595),r=n(607070),d=n(886036),h=n(877794),b=n(695346),p=n(626135),E=n(358085),S=n(998502),g=n(887490),f=n(981631),k=n(388032);function v(t){var e,n,v,x,N,C,m,T,j;let{text:L,editor:Z,target:y,onHeightUpdate:_,onSelect:G}=t,A=l.useCallback(()=>{(0,o.Zy)(()=>{s.F3.focus(Z),setTimeout(()=>g.bN.focus(Z),0)})},[Z]),[O,D]=(0,h.Z)({text:L,target:y,onHeightUpdate:_}),M=(0,c.e7)([r.Z],()=>r.Z.isSubmitButtonEnabled),P=(0,d.Z)(),R=b.Xk.useSetting();if(!E.isPlatformEmbedded)return null;let I=null!==(m=null===(n=Z.chatInputType)||void 0===n?void 0:null===(e=n.commands)||void 0===e?void 0:e.enabled)&&void 0!==m&&m,H=null!==(T=null===(x=Z.chatInputType)||void 0===x?void 0:null===(v=x.stickers)||void 0===v?void 0:v.autoSuggest)&&void 0!==T&&T,X=null!==(j=null===(C=Z.chatInputType)||void 0===C?void 0:null===(N=C.submit)||void 0===N?void 0:N.button)&&void 0!==j&&j,K=I||H,U=""!==L?[(0,i.jsx)(a.sNh,{id:"copy",label:k.intl.string(k.t.OpuAlJ),hint:(0,E.isMac)()?"⌘C":"Ctrl+C",action:()=>setTimeout(()=>S.ZP.copy(),0)},"copy"),(0,i.jsx)(a.sNh,{id:"cut",label:k.intl.string(k.t.pNPVhY),hint:(0,E.isMac)()?"⌘X":"Ctrl+X",action:()=>setTimeout(()=>S.ZP.cut(),0)},"cut")]:null,W=(0,i.jsx)(a.S89,{id:"command-suggestions",label:k.intl.string(k.t["9rJKFx"]),checked:R,action:()=>{let t=!R;b.Xk.updateSetting(t),p.default.track(f.rMx.SLASH_COMMAND_SUGGESTIONS_TOGGLED,{enabled:t,location:{object:f.qAy.CONTEXT_MENU}})}});return(0,i.jsxs)(a.v2r,{navId:"textarea-context",onClose:A,"aria-label":k.intl.string(k.t.NWlDSE),onSelect:G,children:[K&&(0,i.jsxs)(a.sNh,{id:"suggestions",label:k.intl.string(k.t.zgxg7u),children:[H&&P,I&&W]}),X&&(0,i.jsx)(a.S89,{id:"submit-button",label:k.intl.string(k.t.G8XDys),checked:M,action:()=>{(0,u.eN)()}}),(0,i.jsx)(a.kSQ,{children:O}),(0,i.jsx)(a.kSQ,{children:D}),(0,i.jsxs)(a.kSQ,{children:[U,(0,i.jsx)(a.sNh,{id:"paste",label:k.intl.string(k.t.lMUxVl),hint:(0,E.isMac)()?"⌘V":"Ctrl+V",action:()=>setTimeout(()=>S.ZP.paste(),0)})]})]})}},886036:function(t,e,n){n.d(e,{Z:()=>r});var i=n(200651);n(192379);var l=n(481060),s=n(906732),c=n(278754),a=n(626135),o=n(981631),u=n(388032);function r(){let t=(0,c.pR)(),{analyticsLocations:e}=(0,s.ZP)();return(0,i.jsx)(l.S89,{id:"sticker-suggestions",label:u.intl.string(u.t.rIzKh4),checked:t,action:()=>{a.default.track(o.rMx.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!t,location:{object:o.qAy.CONTEXT_MENU},location_stack:e}),(0,c.AW)(!t)}})}},877794:function(t,e,n){n.d(e,{Z:()=>p}),n(47120);var i=n(200651),l=n(192379),s=n(374470),c=n(442837),a=n(481060),o=n(295866),u=n(398327),r=n(63063),d=n(601993),h=n(981631),b=n(388032);function p(t){let{text:e="",target:n}=t,p=(0,c.e7)([u.Z],()=>u.Z.isEnabled()),E=(0,c.e7)([u.Z],()=>u.Z.hasLearnedWord(e),[e]),S=l.useRef({...t,spellcheckEnabled:p});S.current={...t,spellcheckEnabled:p};let g=l.useRef(!1),[f,k]=l.useState(!1),[v,x]=l.useState([]),N=l.useCallback(()=>{let{spellcheckEnabled:t,text:e,onHeightUpdate:n}=S.current;t&&(0,d.Gb)()&&Promise.all([(0,d.f5)(e,!0),(0,d.WA)(e,!0)]).then(t=>{let[e,i]=t;g.current&&(k(e),x(i),n())})},[]),C=l.useCallback(()=>{if((0,s.k)(n,HTMLInputElement)||(0,s.k)(n,HTMLTextAreaElement)){let{selectionStart:t,selectionEnd:e,value:i}=n;n.value="",n.value=i,"email"!==n.type&&(n.selectionStart=t,n.selectionEnd=e)}},[n]);return(l.useEffect(()=>{let t=(0,d.RD)(N);return g.current=!0,()=>{g.current=!1,t()}},[N]),l.useEffect(()=>{N()},[e,p,N]),(0,d.Gb)())?[v.map((t,e)=>(0,i.jsx)(a.sNh,{id:"correction-".concat(e),label:t,action:()=>{(0,d.Rs)(t),n.focus()}},"correction-".concat(e))),(0,i.jsxs)(i.Fragment,{children:[f?(0,i.jsx)(a.sNh,{id:"add-to-dictionary",label:b.intl.string(b.t.HJmG1N),action:()=>{(0,o.D0)(e),C()}}):null,E&&(0,i.jsx)(a.sNh,{id:"remove-from-dictionary",label:b.intl.string(b.t.xXqIX1),action:()=>{(0,o.lE)(e),C()}}),(0,i.jsx)(a.S89,{id:"spellcheck",label:b.intl.string(b.t.TKkotb),checked:p,action:()=>{(0,o.kY)(),C()}}),p?(0,i.jsx)(a.sNh,{id:"languages",label:b.intl.string(b.t.OlOHDA),action:()=>window.open(r.Z.getArticleURL(h.BhN.SPELLCHECK))}):null]})]:[null,null]}}}]);
//# sourceMappingURL=8517e8032ea67c62.js.map