"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["48189"],{211739:function(e,t,n){n.d(t,{N5:()=>r,c4:()=>a,lc:()=>d,mJ:()=>l});var i=n(570140);function a(e){i.Z.dispatch({type:"CATEGORY_COLLAPSE",id:e})}function l(e){i.Z.dispatch({type:"CATEGORY_EXPAND",id:e})}function r(e){i.Z.dispatch({type:"CATEGORY_COLLAPSE_ALL",guildId:e})}function d(e){i.Z.dispatch({type:"CATEGORY_EXPAND_ALL",guildId:e})}},776568:function(e,t,n){n.d(t,{ZP:()=>C,k:()=>T}),n(47120);var i=n(200651);n(192379);var a=n(913527),l=n.n(a),r=n(442837),d=n(481060),o=n(211739),u=n(87051),c=n(496729),s=n(777861),_=n(9156),f=n(621600),E=n(933557),h=n(981631),A=n(969943),p=n(388032);let T=()=>[{value:A.Oe.MINUTES_15,label:p.intl.string(p.t["8ot6go"])},{value:A.Oe.HOURS_1,label:p.intl.string(p.t.UMWBZm)},{value:A.Oe.HOURS_3,label:p.intl.string(p.t.QmYWtr)},{value:A.Oe.HOURS_8,label:p.intl.string(p.t.EpAXPD)},{value:A.Oe.HOURS_24,label:p.intl.string(p.t["755t4u"])},{value:A.Oe.ALWAYS,label:p.intl.string(p.t.r3LawM)}],v=e=>{let t=e>0?l()().add(e,"second").toISOString():null;return{muted:!0,mute_config:{selected_time_window:e,end_time:t}}};function C(e,t){let[n,a]=(0,r.Wu)([_.ZP],()=>[_.ZP.isChannelMuted(e.guild_id,e.id),_.ZP.getChannelMuteConfig(e.guild_id,e.id)]),l=(0,s.U)(a),A=(0,E.ZP)(e,!0);function C(t){t&&e.type===h.d4z.GUILD_CATEGORY&&(0,o.c4)(e.id),u.Z.updateChannelOverrideSettings(e.guild_id,e.id,{muted:t},f.UE.muted(t))}let g=p.intl.string(p.t.tbeRRE),O=p.intl.string(p.t.OYefmZ);switch(e.type){case h.d4z.GUILD_CATEGORY:g=p.intl.string(p.t.pNMCg4),O=p.intl.string(p.t.olaBeH);break;case h.d4z.GROUP_DM:g=p.intl.string(p.t.LO3kaG),O=p.intl.string(p.t["s5/5fn"]);break;case h.d4z.DM:g=p.intl.format(p.t.byjuJi,{name:A}),O=p.intl.format(p.t["eC+9rq"],{name:A});break;default:g=p.intl.string(p.t.tbeRRE),O=p.intl.string(p.t.OYefmZ)}return n?(0,i.jsx)(d.sNh,{id:"unmute-channel",label:O,subtext:l,action:()=>C(!1)}):(0,i.jsx)(d.sNh,{id:"mute-channel",label:g,action:()=>{C(!0),(0,c.s)({channelId:e.id,location:"channel_context_menu"})},children:T().map(n=>{let{value:a,label:l}=n;return(0,i.jsx)(d.sNh,{id:"".concat(a),label:l,action:()=>(function(n){e.type===h.d4z.GUILD_CATEGORY&&(0,o.c4)(e.id);let i=v(n);u.Z.updateChannelOverrideSettings(e.guild_id,e.id,i,f.ZB.Muted,t)})(a)},a)})})}},117984:function(e,t,n){n.d(t,{CM:()=>h,UT:()=>E,_Z:()=>v,kj:()=>_,oC:()=>f,s3:()=>p,uA:()=>T,xh:()=>A}),n(47120);var i=n(524437),a=n(675478),l=n(592125),r=n(496675),d=n(709054),o=n(853856),u=n(231338);function c(){let e=o.Z.getFavoriteChannels(),t=1;for(let n in e)t=Math.max(t,e[n].order);return t+1}function s(e){for(let t in e){let n=e[t];if(null==n){delete e[t];continue}if(n.type===i.Dd.CATEGORY)continue;let a=l.Z.getChannel(t);if(null==a||!a.isPrivate()&&!r.Z.can(u.Pl.VIEW_CHANNEL,a)){delete e[t];continue}}}function _(e,t){!o.Z.isFavorite(e)&&a.hW.updateAsync("favorites",n=>{n.favoriteChannels[e]=i.aV.create({nickname:"",type:i.Dd.REFERENCE_ORIGINAL,position:c(),parentId:null!=t?t:"0"}),s(n.favoriteChannels)},a.fy.FREQUENT_USER_ACTION)}function f(e){let t=o.Z.getFavorite(e);null!=t&&a.hW.updateAsync("favorites",n=>{if(delete n.favoriteChannels[e],t.type===i.Dd.CATEGORY)for(let t in n.favoriteChannels)n.favoriteChannels[t].parentId===e&&(n.favoriteChannels[t].parentId="0");s(n.favoriteChannels)},a.fy.INFREQUENT_USER_ACTION)}function E(e,t){o.Z.isFavorite(e)&&a.hW.updateAsync("favorites",n=>{n.favoriteChannels[e].nickname=null!=t?t:""},a.fy.INFREQUENT_USER_ACTION)}function h(e){let t=d.default.fromTimestamp(Date.now());a.hW.updateAsync("favorites",n=>{n.favoriteChannels[t]=i.aV.create({nickname:e,type:i.Dd.CATEGORY,position:c(),parentId:"0"})},a.fy.FREQUENT_USER_ACTION)}function A(e){f(e)}function p(e){a.hW.updateAsync("favorites",t=>{for(let i of e)if(null!=i.position&&(t.favoriteChannels[i.id].position=i.position),void 0!==i.parent_id){var n;t.favoriteChannels[i.id].parentId=null!==(n=i.parent_id)&&void 0!==n?n:"0"}},a.fy.FREQUENT_USER_ACTION)}function T(e,t){a.hW.updateAsync("favorites",n=>{n.favoriteChannels[e].parentId=null!=t?t:"0"},a.fy.FREQUENT_USER_ACTION)}function v(){a.hW.updateAsync("favorites",e=>{e.muted=!e.muted},a.fy.INFREQUENT_USER_ACTION)}},593214:function(e,t,n){n.d(t,{Mt:()=>h,li:()=>_,s4:()=>f,up:()=>A,zv:()=>E}),n(47120),n(653041);var i=n(192379),a=n(106351),l=n(442837);n(592125);var r=n(984933),d=n(914010);n(709054);var o=n(853856),u=n(362658),c=n(434065),s=n(981631);function _(e){let{favoritesEnabled:t,hasStaffPrivileges:n}=(0,u.z)("useCanFavoriteChannel"),i=(0,l.e7)([o.Z],()=>o.Z.isFavorite(e.id)),a=e.isDM()||e.isThread();return t&&!__OVERLAY__&&!i&&(!a||n)}function f(e){return(0,l.e7)([o.Z],()=>o.Z.getFavorite(e))}function E(){return(0,l.e7)([r.ZP],()=>r.ZP.getChannels(s.I_8))[a.d.GUILD_CATEGORY].map(e=>({id:"null"===e.channel.id?null:e.channel.id,name:e.channel.name}))}function h(){return(0,l.e7)([d.Z],()=>d.Z.getGuildId())===s.I_8}function A(){let{isFavoritesPerk:e}=(0,u.z)("useFavoriteAdded"),t=(0,c.r)(),n=i.useCallback(()=>{e&&t.notifyFavoriteAdded()},[t,e]),a=i.useCallback(()=>{e&&t.clearFavoriteAdded()},[t,e]);return{favoriteAdded:t.favoriteAdded,notifyFavoriteAdded:n,clearFavoriteAdded:a}}},434065:function(e,t,n){n.d(t,{r:()=>l});var i=n(15729),a=n(731965);let l=(0,i.U)(e=>({favoriteAdded:!1,notifyFavoriteAdded:()=>(0,a.j)(()=>e({favoriteAdded:!0})),clearFavoriteAdded:()=>(0,a.j)(()=>e({favoriteAdded:!1}))}))},305587:function(e,t,n){n.d(t,{Xs:()=>a});let i=(0,n(818083).B)({kind:"user",id:"2024-09_dm_mute_feedback",label:"DM Mute Feedback Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable DM Mute Feedback Survey",config:{enabled:!0}}]});function a(e){let{enabled:t}=i.getCurrentConfig({location:e},{autoTrackExposure:!0});return t}},496729:function(e,t,n){n.d(t,{Z:()=>s,s:()=>c});var i=n(200651),a=n(704215),l=n(481060),r=n(570140),d=n(605236),o=n(592125),u=n(305587);function c(e){let{channelId:t,location:n}=e,i=o.Z.getChannel(t),l=(0,d.un)(a.z.USER_DM_MUTE_FEEDBACK);null!=i&&i.isDM()&&!l&&(0,u.Xs)(n)&&r.Z.dispatch({type:"USER_DM_MUTE_SHOW_FEEDBACK",channel:i})}function s(){(0,l.ZDy)(async()=>{let{default:e}=await n.e("87995").then(n.bind(n,180970));return t=>(0,i.jsx)(e,{...t})})}},471253:function(e,t,n){n.d(t,{DT:()=>O,Ef:()=>y,HO:()=>I,NZ:()=>N,Pq:()=>m,Q1:()=>T,RK:()=>C,_0:()=>v,hz:()=>b,yi:()=>g});var i=n(512722),a=n.n(i),l=n(149765),r=n(544891),d=n(493683);n(749210);var o=n(911969),u=n(367907),c=n(944486),s=n(979651),_=n(700785),f=n(922482),E=n(192079),h=n(706058),A=n(590415),p=n(981631);function T(e,t){let n=e.getGuildId();return a()(null!=n,"This channel cannot be guildless."),t&&(0,u.yw)(p.rMx.REQUEST_TO_SPEAK_INITIATED,{...(0,E.s$)(e)}),r.tn.patch({url:p.ANM.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?new Date().toISOString():null,channel_id:e.id},rejectWithError:!1})}function v(e,t){let n=e.getGuildId();return a()(null!=n,"This channel cannot be guildless."),r.tn.patch({url:p.ANM.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:new Date().toISOString(),channel_id:e.id},rejectWithError:!1})}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null==e?void 0:e.getGuildId();a()(null!=i,"This channel cannot be guildless.");let l=s.Z.getVoiceStateForChannel(e.id);return(0,A.gf)(l)!==A.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,u.yw)(p.rMx.PROMOTED_TO_SPEAKER,{...(0,E.s$)(e)}),r.tn.patch({url:p.ANM.UPDATE_VOICE_STATE(i),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id,...n?{silent:n}:{}},rejectWithError:!1})}function g(e){let t=null==e?void 0:e.getGuildId();return a()(null!=t,"This channel cannot be guildless."),r.tn.patch({url:p.ANM.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1},rejectWithError:!1})}function O(e,t,n){let i=e.getGuildId();return a()(null!=i,"This channel cannot be guildless."),r.tn.patch({url:p.ANM.UPDATE_VOICE_STATE(i,t),body:{suppress:n,channel_id:e.id},rejectWithError:!1})}function b(e,t){if(null==t||null==e)return;let n=t.getGuildId();return a()(null!=n,"This channel cannot be guildless."),O(t,e.id,!0),r.tn.patch({url:p.ANM.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1},rejectWithError:!1})}function m(e,t,n){let i=e.getGuildId();a()(null!=i,"Channel cannot be guildless");let r=e.permissionOverwrites[i],u={id:i,type:o.BN.ROLE,allow:_.Hn,deny:_.Hn,...r};n?(u.allow=l.IH(u.allow,t),u.deny=l.Od(u.deny,t)):(u.allow=l.Od(u.allow,t),u.deny=l.IH(u.deny,t)),d.Z.updatePermissionOverwrite(e.id,u)}async function I(e,t,n,i){if(""===t)return;c.Z.getVoiceChannelId()!==e.id&&(0,f.TM)(e);let a=await (0,h.me)(e.id,t,n,i);return C(e,!1,!0),a}async function y(e,t,n){if(""!==t)return await (0,h.Dk)(e.id,t,n)}async function N(e){await (0,h.Ix)(e.id)}},192079:function(e,t,n){n.d(t,{ER:()=>s,kk:()=>_,s$:()=>f}),n(724458),n(47120),n(392711);var i=n(19780),a=n(5192),l=n(700785),r=n(427679),d=n(157925),o=n(981631),u=n(71080),c=n(388032);function s(e,t,n,i){let l=t[0],r=a.ZP.getName(e,n,l),d=null!=i?i:t.length;return 1===d&&null!=l?r:null==l?c.intl.formatToPlainString(c.t.chmM9P,{count:d}):c.intl.formatToPlainString(c.t.GhkJ29,{name:r,count:d-1})}function _(e,t){switch(e){case u.aC.OWNER:return c.intl.string(c.t.icuNBA);case u.aC.ADMINISTRATOR:return c.intl.string(c.t.eTmN5e);case u.aC.MEMBER:case u.aC.ROLE:return t?c.intl.string(c.t.Hw3XW1):c.intl.string(c.t.YieyPj);case u.aC.EMPTY_STATE:}return null}function f(e){let t=r.Z.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:i.Z.getMediaSessionId(),request_to_speak_state:l.Uu(o.Plq.REQUEST_TO_SPEAK,e)?d.BM.EVERYONE:d.BM.NO_ONE,stage_instance_id:null==t?void 0:t.id}}},706058:function(e,t,n){n.d(t,{Dk:()=>r,Ix:()=>d,me:()=>l});var i=n(544891),a=n(981631);async function l(e,t,n,l,r){return(await i.tn.post({url:a.ANM.STAGE_INSTANCES,body:{channel_id:e,topic:t,privacy_level:n,guild_scheduled_event_id:r,send_start_notification:l},rejectWithError:!1})).body}async function r(e,t,n){return(await i.tn.patch({url:a.ANM.STAGE_INSTANCE(e),body:{topic:t,privacy_level:n},rejectWithError:!1})).body}function d(e){return i.tn.del({url:a.ANM.STAGE_INSTANCE(e),rejectWithError:!1})}},137046:function(e,t,n){e.exports={form:"form__08bd2",modalHeader:"modalHeader__08bd2",closeButton:"closeButton__08bd2",headerImage:"headerImage__08bd2",inputSection:"inputSection__08bd2",title:"title__08bd2",textArea:"textArea__08bd2",error:"error__08bd2",button:"button__08bd2",modal:"modal__08bd2",gradientBorder:"gradientBorder__08bd2",container:"container__08bd2",cancelButton:"cancelButton__08bd2",modalFooter:"modalFooter__08bd2"}}}]);
//# sourceMappingURL=96991b5f3b9a45d2.js.map