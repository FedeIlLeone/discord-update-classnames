"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["18831"],{170143:function(e){e.exports="/assets/710ec967e1de5fc4.png"},331692:function(e,i,t){t.d(i,{Z:()=>s});var n=t(200651);t(192379);var a=t(481060),l=t(570140);let s={open(e){(0,a.ZDy)(async()=>{l.Z.dispatch({type:"SAFETY_HUB_AUTOMATED_UNDERAGE_APPEAL_MODAL_OPEN"});let{default:e}=await t.e("82961").then(t.bind(t,751744));return i=>(0,n.jsx)(e,{...i})},{onCloseCallback:e})}}},384725:function(e,i,t){t.d(i,{Z:()=>s});var n=t(200651);t(192379);var a=t(481060),l=t(570140);let s={open(e){l.Z.dispatch({type:"SAFETY_HUB_APPEAL_OPEN",classificationId:e}),(0,a.ZDy)(async()=>{let{default:i}=await t.e("65652").then(t.bind(t,208265));return t=>(0,n.jsx)(i,{classificationId:e,...t})})},close(){l.Z.dispatch({type:"SAFETY_HUB_APPEAL_CLOSE"})}}},188879:function(e,i,t){t.d(i,{Z:()=>Z});var n=t(200651),a=t(192379),l=t(286379),s=t(692547),o=t(481060),r=t(442837),c=t(797614),d=t(706454),m=t(626135),u=t(331692),h=t(531441),p=t(236289),x=t(788080),f=t(451284),g=t(613734),v=t(846488),j=t(384725),E=t(97568),_=t(800530),C=t(981631),N=t(388032),y=t(514836);let A=e=>{let{classificationTypeText:i,guildMetadata:t}=e,l=a.useMemo(()=>{let e={classification_type:i,classificationHook:(e,i)=>(0,n.jsx)("strong",{children:e},i)};return null==t?N.intl.format(N.t.HpvELi,e):(null==t?void 0:t.member_type)===h.wO.OWNER?N.intl.format(N.t.X1ngSU,{...e,guildName:null==t?void 0:t.name}):N.intl.format(N.t.rmpEPD,{...e,guildName:null==t?void 0:t.name})},[i,t]);return(0,n.jsx)("div",{className:y.classificationHeader,children:(0,n.jsx)(o.X6q,{variant:"heading-xl/normal",children:l})})},T=e=>{let{actions:i,classificationExpiration:t}=e,a=(0,r.e7)([d.default],()=>d.default.locale);return 0===i.filter(e=>e.descriptions.length>0).length&&null==t?null:(0,n.jsxs)("div",{className:y.classificationActionsTakenContainer,children:[(0,n.jsx)(o.Text,{variant:"eyebrow",color:"text-muted",children:N.intl.string(N.t.O2nYk5)}),(0,n.jsxs)("ul",{className:y.classificationActionsTakenList,children:[i.map(e=>(0,n.jsx)(w,{action:e},e.id)),null!=t?(0,n.jsx)("li",{className:y.classificationActionsTakenRow,children:(0,n.jsx)(o.Text,{tag:"span",variant:"heading-md/normal",color:"text-normal",children:N.intl.format(N.t.TByIjY,{expirationDate:t.toLocaleDateString(a,{dateStyle:"medium"})})})},"expiration"):null]})]})},w=e=>{let{action:i}=e;return(0,n.jsx)(n.Fragment,{children:i.descriptions.map((e,i)=>(0,n.jsx)("li",{className:y.classificationActionsTakenRow,children:(0,n.jsx)(o.Text,{tag:"span",variant:"heading-md/normal",color:"text-normal",children:e})},i))})},I=e=>{let{classificationTypeText:i,policyExplainerLink:t}=e;return(0,n.jsxs)(o.eee,{href:t,className:y.classificationPolicyCard,useDefaultUnderlineStyles:!1,children:[(0,n.jsx)("div",{className:y.classificationPolicyCardIcon,children:(0,n.jsx)(o.b7C,{size:"md",color:s.Z.colors.FOCUS_PRIMARY})}),(0,n.jsx)("div",{className:y.classificationPolicyDescriptionContainer,children:(0,n.jsx)(o.Text,{variant:"text-md/normal",children:N.intl.format(N.t.zxUdpq,{classificationDescription:i})})}),(0,n.jsx)("div",{className:y.classificationPolicyLinkIcon,children:(0,n.jsx)(o.Fbu,{size:"md",color:s.Z.colors.INTERACTIVE_NORMAL})})]})},k=()=>(0,n.jsx)(o.Text,{variant:"text-md/normal",color:"text-muted",children:N.intl.string(N.t["I2H0/P"])}),L=e=>(0,n.jsx)(o.Text,{variant:"text-md/normal",color:"text-muted",children:N.intl.format(N.t.IFxUaW,{letUsKnowHook:(i,t)=>(0,n.jsx)(o.eee,{href:e.isAppealEligible?void 0:e.appealLink,onClick:e.letUsKnowClick,children:i},t)})}),S=e=>(0,n.jsx)("div",{className:y.classificationLetUsKnowContainer,children:e.hasBeenAppealed?(0,n.jsx)(k,{}):(0,n.jsx)(L,{appealLink:_.sQ.APPEALS_LINK,letUsKnowClick:e.onLetUsKnowClick,isAppealEligible:e.isAppealEligible})}),P=e=>{let{tosLink:i,communityGuidelinesLink:t,classificationTypeText:a,policyExplainerLink:l,appealComponent:s}=e;return(0,n.jsxs)("div",{className:y.classificationActionExplanationContainer,children:[(0,n.jsx)(o.Text,{variant:"eyebrow",color:"text-muted",children:N.intl.string(N.t["977ien"])}),(0,n.jsx)(o.Text,{className:y.guidelinesExplanation,variant:"text-sm/normal",children:N.intl.format(N.t["1Z/+aG"],{tosLink:i,communityGuidelinesLink:t})}),(0,n.jsx)(I,{classificationTypeText:a,policyExplainerLink:l}),s]})},Z=e=>{var i;let{classificationId:t,source:s,onError:o,onClose:d}=e,{classification:N,classificationRequestState:w,isAppealEligible:I,isDsaEligible:k,violationType:L}=(0,g.YG)(t),Z=(0,r.e7)([p.Z],()=>p.Z.getAppealEligibility()),U=(0,f.P)(),b=null!=N&&null!=N.flagged_content&&N.flagged_content.length>0,O=(0,v.e)(),M=!!(null==N?void 0:N.is_coppa)&&Z.includes(h.tG.AGE_VERIFY_ELIGIBLE),D={accountStanding:U,classificationId:t,hasFlaggedContent:b,isDsaEligible:k,source:s,violationType:L},Y=a.useRef(D);return(a.useEffect(()=>{Y.current=D}),a.useEffect(()=>{let{accountStanding:e,classificationId:i,hasFlaggedContent:t,isDsaEligible:n,source:a,violationType:l}=Y.current;O&&m.default.track(C.rMx.SAFETY_HUB_ACTION,{action:_.n0.ViewViolationDetail,account_standing:e.state,classification_ids:[Number(i)],source:a,is_violative_content_shown:t,is_dsa_eligible:n,violation_type:l})},[O]),null==N&&w===h.OY.FAILED)?(o(),null):null==N?null:(0,n.jsxs)("div",{className:y.classificationContainer,children:[(0,n.jsx)(A,{classificationTypeText:N.description,guildMetadata:null==N?void 0:N.guild_metadata}),(0,n.jsx)(E.s,{flaggedContent:null!==(i=N.flagged_content)&&void 0!==i?i:[]}),(0,n.jsx)(T,{actions:N.actions,classificationExpiration:(0,x.Pu)(N)}),(0,n.jsx)(P,{classificationTypeText:N.description,tosLink:_.sQ.TOS_LINK,communityGuidelinesLink:_.sQ.COMMUNITY_GUIDELINES,policyExplainerLink:N.explainer_link,appealComponent:(0,n.jsx)(S,{hasBeenAppealed:null!=N.appeal_status,onLetUsKnowClick:()=>{m.default.track(C.rMx.SAFETY_HUB_ACTION,{action:_.n0.ClickLetUsKnow,account_standing:U.state,classification_ids:[Number(t)],source:s,is_violative_content_shown:b,is_dsa_eligible:k,violation_type:L}),M?u.Z.open(d):I&&(c.Z.increment({name:l.V.APPEAL_INGESTION_VIEW}),j.Z.open(t))},isAppealEligible:I||M})})]})}},41164:function(e,i,t){t.d(i,{default:()=>h});var n=t(200651);t(192379);var a=t(481060),l=t(230711),s=t(181211),o=t(188879),r=t(981631),c=t(726985),d=t(388032),m=t(293927),u=t(170143);let h=e=>{let{transitionState:i,onClose:t,classificationId:h,source:p}=e,x=(0,s.Z)(),f=()=>{t(),l.Z.open(r.oAB.ACCOUNT,c.s6.PRIVACY_AND_SAFETY_STANDING)};return(0,n.jsxs)(a.Y0X,{className:m.modalRoot,transitionState:i,children:[(0,n.jsxs)("div",{className:m.modalHeader,children:[(0,n.jsx)("img",{className:m.image,src:u,alt:""}),(0,n.jsx)(a.olH,{className:m.modalClose,onClick:t})]}),(0,n.jsx)(a.hzk,{className:m.modalContent,children:x?(0,n.jsx)(a.$jN,{}):(0,n.jsx)(o.Z,{classificationId:h,source:p,onError:f,onClose:f})}),(0,n.jsx)(a.mzw,{children:(0,n.jsx)(a.zxk,{className:m.__invalid_button,type:"button",color:a.zxk.Colors.BRAND,onClick:f,children:d.intl.string(d.t.elrEjI)})})]})}},97568:function(e,i,t){t.d(i,{s:()=>r});var n=t(200651);t(192379);var a=t(481060),l=t(621145),s=t(388032),o=t(951447);let r=e=>{let{flaggedContent:i}=e;return 0===i.length?null:(0,n.jsxs)("div",{className:o.classificationEvidenceContainer,children:[(0,n.jsx)(a.Text,{variant:"eyebrow",color:"text-muted",children:s.intl.string(s.t.s64CMj)}),(0,n.jsx)(l.Z,{flaggedContent:i})]})}},621145:function(e,i,t){t.d(i,{Z:()=>P}),t(47120),t(773603);var n=t(200651),a=t(192379),l=t(392711),s=t(442837),o=t(481060),r=t(640108),c=t(406432),d=t(169525),m=t(786761),u=t(499376),h=t(3148),p=t(492593),x=t(219797),f=t(524444),g=t(884182),v=t(25015),j=t(963550),E=t(845080),_=t(594174),C=t(956664),N=t(709054),y=t(236289),A=t(788080),T=t(800530),w=t(981631),I=t(217702),k=t(979591);let L=(e,i,t,n)=>{let a=e.attachments.map(e=>{var t,n,a,l;let s={...e,filename:(0,A.eS)(e),size:0,proxy_url:e.url};return(0,c.CO)(e.filename)||(0,c.NU)(e.filename)?{...s,width:null!==(a=null===(t=i[e.id])||void 0===t?void 0:t.width)&&void 0!==a?a:T.Sv,height:null!==(l=null===(n=i[e.id])||void 0===n?void 0:n.height)&&void 0!==l?l:T.EY}:s});return(0,m.e5)({...(0,h.ZP)({author:null!=t?t:{id:"",avatar:void 0,discriminator:"0000",username:n},nonce:e.id,content:e.content,type:w.uaV.DEFAULT,channelId:w.lds}),timestamp:new Date(N.default.extractTimestamp(e.id)).toISOString(),attachments:a,state:w.yb.SENT})},S=e=>{let{message:i}=e,{attachments:t}=i;if(0===t.length)return null;let a=(e,i,t)=>{let a=T.Sv,s=T.EY;if(null!=i.width&&null!=i.height){let e=(0,C.Dc)({width:i.width,height:i.height,maxWidth:T.Sv,maxHeight:T.EY});a=(0,l.clamp)(Math.round(i.width*e),0,T.Sv),s=(0,l.clamp)(Math.round(i.height*e),0,T.EY)}return(0,n.jsx)("div",{style:{width:t?a:"100%",height:t?s:"100%"},children:(0,n.jsx)(r.ZP,{className:e.className,forceExternal:!1,src:i.url,width:t?a:"100%",height:t?s:"100%",responsive:!0,volume:e.volume,autoPlay:!1,autoMute:!1,type:r.ZP.Types.VIDEO,mediaLayoutType:e.mediaLayoutType,fileName:i.filename,fileSize:null==i.size?void 0:i.size.toString(),playable:!0,renderLinkComponent:f.iT,onClick:e.onClick,onPlay:e.onPlay,onEnded:e.onEnded,onVolumeChange:e.onVolumeChange,onMute:e.onMute,downloadable:!1})})},s=1===t.length;function o(e,i){return(0,d.dn)(e.originalItem,i)}return(0,n.jsx)("div",{className:k.classificationEvidenceMessageAttachment,children:(0,n.jsx)(g.Z,{items:t.map(e=>({item:{uniqueId:e.id,originalItem:e,type:(0,u.aw)(e,!0),downloadUrl:e.proxy_url,height:e.height,width:e.width,spoiler:e.spoiler,contentType:e.content_type},message:i,mediaLayoutType:I.hV.MOSAIC,autoPlayGif:!1,canRemoveItem:!1,isSingleMosaicItem:s,onRemoveItem:l.noop,renderVideoComponent:i=>a(i,e,s),renderImageComponent:e=>(0,n.jsx)(x.dS,{...e,hiddenSpoilers:!0,shouldHideMediaOptions:!0,shouldLink:!1}),renderAudioComponent:x.q7,renderPlaintextFilePreview:x.d4,renderGenericFileComponent:x.ZK,renderMosaicItemFooter:x.L9,getObscureReason:o,gifFavoriteButton:()=>null}))})})};function P(e){var i;let{flaggedContent:t}=e,l=(0,s.e7)([_.default],()=>_.default.getCurrentUser()),[r,d]=a.useState({}),[m,u]=a.useState(!0),h=(0,s.e7)([y.Z],()=>y.Z.getUsername()),x=t[0],f=L(x,r,l,h),g=(0,v.Z)(f,{hideSimpleEmbedContent:!1,allowList:!1,allowHeading:!1,allowLinks:!1,previewLinkTarget:!1});return(a.useEffect(()=>{Promise.all(x.attachments.filter(e=>{let{filename:i}=e;return(0,c.CO)(i)||(0,c.NU)(i)}).map(e=>new Promise((i,t)=>{if((0,c.CO)(e.filename)){let n=new Image;n.src=e.url,n.onload=()=>{i(n)},n.onerror=()=>{t()}}else if((0,c.NU)(e.filename)){let n=document.createElement("video");n.src=e.url,n.onloadedmetadata=()=>{i({width:n.videoWidth,height:n.videoHeight})},n.onerror=()=>{t()}}else i({width:0,height:0})}).then(i=>d(t=>({...t,[e.id]:i}))))).finally(()=>u(!1))},[x.attachments]),""===f.content&&0===f.attachments.length)?null:(0,n.jsx)("div",{className:k.classificationEvidenceCard,children:m?(0,n.jsx)(o.$jN,{}):(0,n.jsx)(p.Z,{compact:!1,childrenHeader:(0,E.Z)({author:{...l,colorString:"",nick:null!==(i=null==l?void 0:l.username)&&void 0!==i?i:h},message:f,channel:void 0,guildId:void 0,compact:!1,animateAvatar:!1,isGroupStart:!0,roleIcon:void 0,hideTimestamp:!1}),childrenAccessories:(0,n.jsx)(S,{message:f}),childrenMessageContent:(0,j.Z)({message:f},g.content),hasThread:!1,hasReply:!1})})}}}]);
//# sourceMappingURL=7ff45aeedb546e13.js.map