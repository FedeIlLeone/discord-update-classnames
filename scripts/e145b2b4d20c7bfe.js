"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["79521"],{207540:function(t,e,n){n.d(e,{default:()=>G}),n(47120);var i=n(200651),l=n(192379),d=n(442837),r=n(481060),a=n(933557),s=n(156699),u=n(734893),_=n(693196),E=n(66999),o=n(575830),c=n(554747),I=n(434404),T=n(144140),g=n(314897),p=n(430824),m=n(496675),U=n(981631),C=n(388032),D=n(202535);let G=t=>{let{channel:e,onClose:n,onConfirm:G,transitionState:L}=t,N=(0,a.ZP)(e,!0),S=e.id,f=e.isForumPost(),y=(0,d.e7)([p.Z],()=>p.Z.getGuild(e.getGuildId())),O=(0,c.u1)(S),{isSubscriptionGated:v}=(0,E.Z)(e.id),h=(0,o.Z)(y,e),[A,z]=l.useState(),Z=(0,d.e7)([g.default],()=>e.isOwner(g.default.getId()),[e]),P=(0,d.e7)([m.Z],()=>m.Z.can(e.isThread()?U.Plq.MANAGE_THREADS:U.Plq.MANAGE_CHANNELS,e),[e]),x=(0,d.e7)([T.Z],()=>{var t;return null!==(t=T.Z.getCount(e.id))&&void 0!==t?t:0},[e.id]),H=f&&(P||Z&&x<1),R=O.length>0&&(e.type===U.d4z.GUILD_VOICE||e.type===U.d4z.GUILD_STAGE_VOICE);if(l.useEffect(()=>{(async()=>{if(!await (0,s.C)(e.getGuildId(),S)){z(u.j.DEFAULT);return}let t=await (0,_.T)(e.getGuildId(),S);if(null!=t){z(t);return}})()},[e,S]),null!=A){let t;let e=C.intl.string(C.t.iWlB6u);return t=A===u.j.TODO?C.t["/rjozM"]:A===u.j.RESOURCE?C.t.Nf5pt7:C.t.ajiBwM,(0,i.jsxs)(r.Y0X,{transitionState:L,"aria-label":C.intl.string(C.t["TY/V+P"]),children:[(0,i.jsx)(r.xBx,{separator:!1,children:(0,i.jsx)(r.X6q,{variant:"heading-lg/semibold",children:C.intl.string(C.t["TY/V+P"])})}),(0,i.jsxs)(r.hzk,{className:D.modalContent,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",children:e}),(0,i.jsx)(r.Text,{variant:"text-md/normal",children:C.intl.format(t,{onClick:()=>{null!=y&&(I.Z.open(y.id,U.pNK.ONBOARDING),null==n||n())}})})]}),(0,i.jsx)(r.mzw,{children:(0,i.jsx)(r.zxk,{onClick:n,children:C.intl.string(C.t.BddRzc)})})]})}if(null==y)return null;if(y.hasFeature(U.oNc.COMMUNITY)&&(y.rulesChannelId===S||y.publicUpdatesChannelId===S)){let t=y.rulesChannelId===S?C.intl.string(C.t.yjrZPj):C.intl.string(C.t["1B1/ND"]);return(0,i.jsxs)(r.Y0X,{transitionState:L,"aria-label":C.intl.string(C.t["TY/V+P"]),children:[(0,i.jsx)(r.xBx,{separator:!1,children:(0,i.jsx)(r.X6q,{variant:"heading-lg/semibold",children:C.intl.string(C.t["TY/V+P"])})}),(0,i.jsxs)(r.hzk,{children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",className:D.__invalid_modalText,children:t}),(0,i.jsx)(r.Text,{variant:"text-md/normal",className:D.__invalid_modalText,children:C.intl.format(C.t["cg6U//"],{onClick:()=>{I.Z.open(y.id,U.pNK.COMMUNITY),null==n||n()}})})]}),(0,i.jsx)(r.mzw,{children:(0,i.jsx)(r.zxk,{onClick:n,children:C.intl.string(C.t.BddRzc)})})]})}{let{deleteText:t,deleteBody:l}=e.type===U.d4z.GUILD_CATEGORY?{deleteText:C.intl.string(C.t.ifbXnJ),deleteBody:C.intl.format(C.t.a6Gz9P,{channelName:N})}:e.isForumPost()?{deleteText:H?C.intl.string(C.t.nEOg1N):C.intl.string(C.t.xwMqDw),deleteBody:H&&Z&&!P?C.intl.format(C.t["6/pY29"],{postName:N}):H?C.intl.format(C.t.su3voK,{postName:N}):C.intl.string(C.t.RUHcys)}:e.isThread()?{deleteText:C.intl.string(C.t.H7vTe3),deleteBody:C.intl.format(C.t.a6Gz9P,{channelName:N})}:v&&h>0?{deleteText:C.intl.string(C.t["8D8Rsb"]),deleteBody:C.intl.format(C.t["+qkiT0"],{channelName:N,numGuildRoleSubscriptionMembers:h})}:{deleteText:C.intl.string(C.t["8D8Rsb"]),deleteBody:C.intl.format(C.t.a6Gz9P,{channelName:N})};return(0,i.jsxs)(r.Y0X,{transitionState:L,"aria-label":t,children:[(0,i.jsx)(r.xBx,{separator:!1,children:(0,i.jsx)(r.X6q,{variant:"heading-lg/semibold",children:t})}),(0,i.jsxs)(r.hzk,{className:D.modalContent,children:[(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"header-primary",children:l}),R?(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"header-secondary",className:D.warningText,children:C.intl.format(C.t.Ze005O,{count:O.length})}):null]}),(0,i.jsxs)(r.mzw,{children:[(0,i.jsx)(r.zxk,{onClick:G,color:r.zxk.Colors.RED,children:t}),(0,i.jsx)(r.zxk,{onClick:n,look:r.zxk.Looks.LINK,color:r.zxk.Colors.PRIMARY,children:C.intl.string(C.t["ETE/oK"])})]})]})}}},241155:function(t,e,n){n.d(e,{Z:()=>U}),n(47120);var i,l,d,r=n(392711),a=n.n(r),s=n(442837),u=n(570140),_=n(924301),E=n(601964),o=n(75666);let c=!1,I={},T={},g={},p=t=>(g[t.guild_scheduled_event.id]=new E.ZP(t.guild_scheduled_event.guild),T[t.guild_scheduled_event.id]=t.guild_scheduled_event,{channelId:t.directory_channel_id,scheduledEventId:t.entity_id,type:o.C2.GUILD_SCHEDULED_EVENT,authorId:t.author_id,createdAt:t.created_at});class m extends(i=s.ZP.Store){isFetching(){return c}getEventDirectoryEntries(t){if(null!=t)return I[t]}getCachedGuildByEventId(t){var e;return null!==(e=g[t])&&void 0!==e?e:void 0}getCachedGuildScheduledEventById(t){var e;return null!==(e=T[t])&&void 0!==e?e:void 0}}d="EventDirectoryStore",(l="displayName")in m?Object.defineProperty(m,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):m[l]=d;let U=new m(u.Z,{EVENT_DIRECTORY_FETCH_START:function(){c=!0},EVENT_DIRECTORY_FETCH_SUCCESS:function(t){let{channelId:e,entries:n}=t;c=!1;let i=a().sortBy([...n],[function(t){return(0,_.CQ)(t.guild_scheduled_event)}]),l=a().map(i,p);I[e]=l},EVENT_DIRECTORY_FETCH_FAILURE:function(){c=!1}})},75666:function(t,e,n){n.d(e,{AR:()=>I,C2:()=>E,Pp:()=>g,VX:()=>o,b7:()=>T,sE:()=>c});var i,l,d,r,a=n(149765),s=n(700785),u=n(981631),_=n(388032),E=((i={})[i.GUILD=0]="GUILD",i[i.GUILD_SCHEDULED_EVENT=1]="GUILD_SCHEDULED_EVENT",i),o=((l={}).GUILD_TEMPLATES="guild-templates",l.CUSTOMIZE_NEW_GUILD="customize-new-guild",l.CHOOSE_GUILD="choose-guild",l.CUSTOMIZE_EXISTING_GUILD="customize-existing-guild",l.CONFIRMATION="confirmation",l),c=((d={}).CREATE="CREATE",d.HUB_SCHOOL_CLUB="HUB_SCHOOL_CLUB",d.HUB_STUDY="HUB_STUDY",d.HUB_CLASS="HUB_CLASS",d.HUB_SOCIAL="HUB_SOCIAL",d.HUB_MAJOR="HUB_MAJOR",d.HUB_DORM="HUB_DORM",d),I=((r={})[r.ALL=-1]="ALL",r[r.UNCATEGORIZED=0]="UNCATEGORIZED",r[r.SCHOOL_CLUB=1]="SCHOOL_CLUB",r[r.CLASS=2]="CLASS",r[r.STUDY_SOCIAL=3]="STUDY_SOCIAL",r[r.MISC=5]="MISC",r);function T(t){return"883060064561299456"===t?[{value:1,label:_.intl.string(_.t["Z+MPNz"])},{value:2,label:_.intl.string(_.t.dV9uBg)},{value:3,label:_.intl.string(_.t.xoHQcn)},{value:5,label:_.intl.string(_.t.Ao41rq)}]:[{value:1,label:_.intl.string(_.t.oNHFUF),idealSize:100},{value:2,label:_.intl.string(_.t.V1i8nZ)},{value:3,label:_.intl.string(_.t.Z2ygQk),idealSize:50},{value:5,label:_.intl.string(_.t["0Bg9LS"])}]}function g(){return{CREATE:{id:"CREATE",code:"2TffvPucqHkN",label:_.intl.string(_.t["H3+6BA"]),channels:[],system_channel_id:null},HUB_SCHOOL_CLUB:{id:"HUB_SCHOOL_CLUB",code:"UMUbvRpRZhS6",label:_.intl.string(_.t["mmFA5+"]),channels:[{id:"00",parent_id:null,name:_.intl.string(_.t["VCAA/f"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:_.intl.string(_.t.GHQoER),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:_.intl.string(_.t.nSsoSE),type:u.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:_.intl.string(_.t.yZCzMT),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:_.intl.string(_.t.mobYpK),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:_.intl.string(_.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:_.intl.string(_.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:_.intl.string(_.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:_.intl.string(_.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:_.intl.string(_.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:_.intl.string(_.t.hi1Ykp),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:_.intl.string(_.t.vw8oaW),type:u.d4z.GUILD_VOICE}],roles:[{id:"00",name:"@everyone",permissions:s.TP},{id:"01",name:"officers (example)",mentionable:!0,hoist:!0,permissions:a.$e(s.TP,u.Plq.MANAGE_ROLES,u.Plq.MANAGE_CHANNELS,u.Plq.KICK_MEMBERS,u.Plq.BAN_MEMBERS,u.Plq.MANAGE_NICKNAMES,u.Plq.MANAGE_GUILD_EXPRESSIONS,u.Plq.MANAGE_MESSAGES,u.Plq.SEND_TTS_MESSAGES),color:3066993}],system_channel_id:"12"},HUB_STUDY:{id:"HUB_STUDY",code:"2JBhzzca2vfT",label:_.intl.string(_.t.fYwSi4),channels:[{id:"00",parent_id:null,name:_.intl.string(_.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:_.intl.string(_.t["3eM+Li"]),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:_.intl.string(_.t.Qi0D7e),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:_.intl.string(_.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:_.intl.string(_.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:_.intl.string(_.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:_.intl.string(_.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:_.intl.string(_.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:_.intl.string(_.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:_.intl.formatToPlainString(_.t.LuNsNT,{number:1}),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:_.intl.formatToPlainString(_.t.LuNsNT,{number:2}),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_CLASS:{id:"HUB_CLASS",code:"r86WWBwTGspb",label:_.intl.string(_.t.e5gFS0),channels:[{id:"00",parent_id:null,name:_.intl.string(_.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:_.intl.string(_.t["710tNj"]),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:_.intl.string(_.t.Qi0D7e),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:_.intl.string(_.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:_.intl.string(_.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:_.intl.string(_.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:_.intl.string(_.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:_.intl.string(_.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:_.intl.string(_.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:_.intl.formatToPlainString(_.t.LuNsNT,{number:1}),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:_.intl.formatToPlainString(_.t.LuNsNT,{number:2}),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_SOCIAL:{id:"HUB_SOCIAL",code:"AvvtXE3mfbCR",label:_.intl.string(_.t.oOj7Ii),channels:[{id:"00",parent_id:null,name:_.intl.string(_.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:_.intl.string(_.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:_.intl.string(_.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:_.intl.string(_.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"04",parent_id:"00",name:_.intl.string(_.t.d4F8gI),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:_.intl.string(_.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:_.intl.string(_.t.CLWKNj),type:u.d4z.GUILD_VOICE},{id:"12",parent_id:"10",name:_.intl.string(_.t.g3qPRk),type:u.d4z.GUILD_VOICE},{id:"13",parent_id:"10",name:_.intl.string(_.t.yQZpe3),type:u.d4z.GUILD_VOICE}],system_channel_id:"02"},HUB_MAJOR:{id:"HUB_MAJOR",code:"FhmfDR6Arvsc",label:_.intl.string(_.t["9kly4e"]),channels:[{id:"00",parent_id:null,name:_.intl.string(_.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:_.intl.string(_.t.yZCzMT),type:u.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:_.intl.string(_.t.Qi0D7e),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:_.intl.string(_.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:_.intl.string(_.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:_.intl.string(_.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:_.intl.string(_.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:_.intl.string(_.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:_.intl.string(_.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:_.intl.formatToPlainString(_.t.LuNsNT,{number:1}),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:_.intl.formatToPlainString(_.t.LuNsNT,{number:2}),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_DORM:{id:"HUB_DORM",code:"fkq8xHfrGE58",label:_.intl.string(_.t["ppGw/P"]),channels:[{id:"00",parent_id:null,name:_.intl.string(_.t["HY+vdH"]),type:u.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:_.intl.string(_.t["b2+FCQ"]),type:u.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:_.intl.string(_.t.yZIUV1),type:u.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:_.intl.string(_.t.pIOigI),type:u.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:_.intl.string(_.t.ao2wxs),type:u.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:_.intl.string(_.t.AIszv7),type:u.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:_.intl.string(_.t.vcKDMj),type:u.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:_.intl.string(_.t.XS6gcH),type:u.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:_.intl.string(_.t.g3qPRk),type:u.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:_.intl.string(_.t.CLWKNj),type:u.d4z.GUILD_VOICE}],system_channel_id:"12"}}}},693196:function(t,e,n){n.d(e,{T:()=>a});var i=n(526120),l=n(563534),d=n(734893),r=n(931261);async function a(t,e){if(null==t||!(0,r.s)(t))return;let n=l.Z.getSettings(t);return(n===l.P&&(await (0,i.cP)(t),n=l.Z.getSettings(t)),n===l.P||null==n)?void 0:null!=n.newMemberActions&&null!=n.newMemberActions.find(t=>t.channelId===e)?d.j.TODO:null!=n.resourceChannels&&null!=n.resourceChannels.find(t=>t.channelId===e)?d.j.RESOURCE:void 0}},637565:function(t,e,n){n.d(e,{T:()=>a}),n(47120);var i=n(149765),l=n(973542),d=n(790285),r=n(981631);function a(t,e,n){let a=new Set;for(let t of Object.keys(n.permissionOverwrites)){let i=e[t],r=n.permissionOverwrites[t];(0,l.Z)(i)&&(0,d.TG)(n,r)&&a.add(i)}let s=e[t.getEveryoneRoleId()],u=null!=s&&!i.e$(s.permissions,r.Plq.VIEW_CHANNEL),_=(0,d.wB)(n,n.permissionOverwrites[t.id]);if(u&&!_)for(let t of Object.values(e))(0,l.Z)(t)&&(0,d.MT)(t)&&a.add(t);return[...a]}},14263:function(t,e,n){n.d(e,{Z:()=>s});var i=n(192379),l=n(442837),d=n(480608),r=n(243730);let a={};function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,l.e7)([r.Z],()=>r.Z.getRoleMemberCount(t));return i.useEffect(()=>{if(null==t)return;let n=a[t];null!=n&&e>0&&Date.now()-n<e||(a[t]=Date.now(),d.E(t))},[t,e]),n}},575830:function(t,e,n){n.d(e,{Z:()=>s}),n(47120);var i=n(192379),l=n(442837),d=n(430824),r=n(637565),a=n(14263);function s(t,e){let n=(0,l.e7)([d.Z],()=>null!=t?d.Z.getRoles(t.id):void 0),s=(0,a.Z)(null==t?void 0:t.id);return i.useMemo(()=>{let i=null!=t&&null!=n?(0,r.T)(t,n,e):[],l=0;for(let t of i){let e=t.id;if(null!=e){let t=null==s?void 0:s[e];null!=t&&(l+=t)}}return l},[s,t,e,n])}},658041:function(t,e,n){n.d(e,{M:()=>a});var i=n(913527),l=n.n(i),d=n(709054),r=n(765305);function a(t,e,n,i){let a=l()(),s=new Date(t.scheduled_start_time).getTime(),u={start:s-r.VF,end:s};if(a.isBetween(u.start,u.end)){if(null!=e){let t=l()(e),n=t.isBetween(u.start,u.end),d=t.isBetween(l()(s).subtract(r.zV,"days"),s);return n||d&&!i?void 0:r.X_.EVENT_STARTING_SOON}return r.X_.EVENT_STARTING_SOON}let _=d.default.extractTimestamp(t.id),E=Math.min((null!=n?n:_)+r.Fc,s);if(a.isBetween(_,E)&&null==e&&!i)return r.X_.NEW_EVENT}},835184:function(t,e,n){n.d(e,{Z:()=>T});var i,l=n(442837),d=n(570140),r=n(314897),a=n(924301),s=n(658041),u=n(765305);function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let E={},o={};function c(t){let e={...E};delete e[t],E=e;let n={...o};delete n[t],o=n}class I extends(i=l.ZP.PersistedStore){initialize(t){if(null!=t){var e,n;E=null!==(e=t.upcomingEventDismissals)&&void 0!==e?e:{},o=null!==(n=t.upcomingEventSeenTimestamps)&&void 0!==n?n:{}}}getGuildEventNoticeDismissalTime(t){return E[t]}getAllEventDismissals(){return E}getUpcomingNoticeSeenTime(t){return o[t]}getAllUpcomingNoticeSeenTimes(){return o}getState(){return{upcomingEventDismissals:E,upcomingEventSeenTimestamps:o}}}_(I,"displayName","UpcomingEventNoticesStore"),_(I,"persistKey","UpcomingEventNotices");let T=new I(d.Z,{UPCOMING_GUILD_EVENT_NOTICE_HIDE:function(t){let{eventId:e}=t,n={...E};n[e]=Date.now(),E=n},GUILD_SCHEDULED_EVENT_UPDATE:function(t){let{guildScheduledEvent:e}=t;(e.status===u.p1.CANCELED||e.status===u.p1.COMPLETED)&&c(e.id)},GUILD_SCHEDULED_EVENT_DELETE:function(t){let{guildScheduledEvent:e}=t;c(e.id)},GUILD_SCHEDULED_EVENT_USER_ADD:function(t){let{userId:e,guildEventId:n}=t;if(e!==r.default.getId())return;let i=a.ZP.getGuildScheduledEvent(n);if(null==i||i.status!==u.p1.SCHEDULED||null!=E[n])return;let l=o[n];if((0,s.M)(i,void 0,l,!1)===u.X_.NEW_EVENT){let t={...E};t[n]=Date.now(),E=t}},UPCOMING_GUILD_EVENT_NOTICE_SEEN:function(t){let{guildEventId:e}=t,n={...o};n[e]=Date.now(),o=n}})},554747:function(t,e,n){n.d(e,{Vm:()=>N,ZP:()=>D,eF:()=>y,gM:()=>L,k5:()=>S,qY:()=>G,sz:()=>O,u1:()=>f}),n(47120),n(724458);var i=n(192379),l=n(442837),d=n(241155),r=n(592125),a=n(984933),s=n(430824),u=n(496675),_=n(70956),E=n(823379),o=n(924301),c=n(658041),I=n(835184),T=n(79874),g=n(854698),p=n(765305),m=n(981631);let U=[],C=15*_.Z.Millis.MINUTE;function D(t,e){return(0,l.Wu)([s.Z,d.Z,o.ZP,u.Z,r.Z,a.ZP],()=>{let n=s.Z.getGuild(t);if(null==n)return U;if(n.hasFeature(m.oNc.HUB)){var i,l;let t=null===(i=a.ZP.getDefaultChannel(n.id))||void 0===i?void 0:i.id;return(null!==(l=d.Z.getEventDirectoryEntries(t))&&void 0!==l?l:[]).map(t=>{let e=t.scheduledEventId,n=o.ZP.getGuildScheduledEvent(e);return null!=n?n:d.Z.getCachedGuildScheduledEventById(e)}).filter(E.lm)}return o.ZP.getGuildScheduledEventsByIndex(null!=e?e:o.bN.GUILD_EVENT_UPCOMING(n.id)).filter(t=>{let e=t.channel_id;if(null==e)return!0;let n=r.Z.getChannel(e);return u.Z.can(m.Plq.VIEW_CHANNEL,n)})},[e,t])}function G(t){return(0,l.e7)([o.ZP,r.Z,u.Z],()=>{let e=r.Z.getChannel(t);if(!u.Z.can(m.Plq.VIEW_CHANNEL,e)||null==(null==e?void 0:e.guild_id))return null;let n=o.ZP.getGuildScheduledEventsByIndex(o.bN.CHANNEL_EVENT_ACTIVE(t));return n.length>0?n[0]:null},[t])}function L(t){let e=(0,l.Wu)([o.ZP],()=>o.ZP.getGuildScheduledEventsForGuild(t),[t]);return i.useMemo(()=>{let t=new Map;return e.forEach(e=>{let n=e.channel_id;null!=n&&t.set(n,e)}),t},[e])}function N(t){var e;let n=(0,l.Wu)([o.ZP,r.Z,u.Z],()=>o.ZP.getGuildScheduledEventsByIndex(o.bN.GUILD_EVENT_UPCOMING(t)).filter(t=>{if(t.entity_type===p.WX.NONE||t.status!==p.p1.SCHEDULED)return!1;if(null==t.channel_id)return!0;let e=r.Z.getChannel(t.channel_id);return u.Z.can(m.Plq.VIEW_CHANNEL,e)}),[t]),i=(0,l.cj)([I.Z],()=>I.Z.getAllEventDismissals()),d=(0,l.cj)([I.Z],()=>I.Z.getAllUpcomingNoticeSeenTimes()),a=(0,l.cj)([o.ZP],()=>null==n?{}:n.reduce((t,e)=>{let n=(0,g.DK)(e);return{...t,[e.id]:o.ZP.isInterestedInEventRecurrence(e.id,n)}},{}),[n]),_=(0,l.e7)([s.Z],()=>s.Z.getGuild(t)),E=null!=_&&!_.hasFeature(m.oNc.COMMUNITY)&&_.hasFeature(m.oNc.INTERNAL_EMPLOYEE_ONLY);if(null!=n&&null!=a&&E)for(let t=0;t<n.length;t++){let l=n[t],r=i[l.id],s=d[l.id],u=null!==(e=a[l.id])&&void 0!==e&&e,_=(0,c.M)(l,r,s,u);if(null!=_)return{upcomingEvent:l,noticeType:_}}}function S(t){return(0,l.e7)([o.ZP,r.Z,u.Z],()=>o.ZP.getGuildScheduledEventsByIndex(o.bN.GUILD_EVENT_ACTIVE(t)).find(t=>{if(t.entity_type===p.WX.NONE||!(0,o.xt)(t))return!1;if(null==t.channel_id)return!0;let e=r.Z.getChannel(t.channel_id);return u.Z.can(m.Plq.VIEW_CHANNEL,e)}),[t])}function f(t){return(0,l.e7)([o.ZP],()=>o.ZP.getGuildScheduledEventsByIndex(o.bN.CHANNEL_EVENT_UPCOMING(t)),[t])}function y(t){return(0,l.e7)([r.Z,o.ZP],()=>{let e=o.ZP.getGuildScheduledEventsByIndex(o.bN.GUILD_EVENT_ACTIVE(t)).find(t=>null!=r.Z.getChannel(t.channel_id));return r.Z.getChannel(null==e?void 0:e.channel_id)},[t])}function O(t){let[e,n]=i.useState(()=>Date.now());i.useEffect(()=>{let t=setInterval(()=>{n(Date.now())},C);return()=>clearInterval(t)},[]);let d=(0,l.e7)([o.ZP],()=>null==t?[]:o.ZP.getGuildScheduledEventsByIndex(o.bN.CHANNEL_EVENT_UPCOMING(t)),[t,e]);return i.useMemo(()=>d.filter(t=>{let{startTime:e,endTime:n}=(0,T.Kq)(t),{withinStartWindow:i,diffMinutes:l}=(0,g.ub)(e.toISOString(),null==n?void 0:n.toISOString());return t.status!==p.p1.ACTIVE&&i&&l<15}),[d])}},202535:function(t,e,n){t.exports={modalContent:"modalContent__70657",warningText:"warningText__70657"}}}]);
//# sourceMappingURL=e145b2b4d20c7bfe.js.map