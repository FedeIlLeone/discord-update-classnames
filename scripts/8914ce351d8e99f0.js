"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["18824"],{467432:function(t,e,s){s.d(e,{e:()=>a});var i=s(709054);let a=t=>864e5>Math.abs(i.default.extractTimestamp(t.id)-new Date().getTime())},802429:function(t,e,s){s.d(e,{i:()=>n});var i=s(442837),a=s(236289);let n=()=>(0,i.e7)([a.Z],()=>a.Z.getFetchError())},811085:function(t,e,s){s.d(e,{Z:()=>j}),s(47120);var i=s(200651),a=s(192379),n=s(392711),l=s(442837),r=s(692547),c=s(481060),o=s(594174),d=s(531441),m=s(451284),u=s(959562),x=s(800530),h=s(388032),g=s(787425);function j(){let t=(0,m.P)(),e=(0,l.e7)([o.default],()=>o.default.getCurrentUser()),[s,j]=a.useState(36),v=a.useRef({[d.Sn.ALL_GOOD]:null,[d.Sn.LIMITED]:null,[d.Sn.VERY_LIMITED]:null,[d.Sn.AT_RISK]:null,[d.Sn.SUSPENDED]:null}),N=a.useCallback(()=>{j(Math.max(Math.max(...Object.values(v.current).map(t=>{var e;return null!==(e=null==t?void 0:t.getBoundingClientRect().height)&&void 0!==e?e:36})),36))},[]);a.useEffect(()=>{N();let t=(0,n.debounce)(N,100);window.addEventListener("resize",t)},[N]);let p={[d.Sn.ALL_GOOD]:{title:h.t.uaKrRk,description:h.intl.format(h.t.pEdBDw,{termsOfService:x.sQ.TOS_LINK,communityGuidelines:x.sQ.COMMUNITY_GUIDELINES}),status:h.t["/Idfam"],Icon:c.owK,color:r.Z.colors.STATUS_POSITIVE},[d.Sn.LIMITED]:{title:h.t.epkcmZ,description:h.intl.string(h.t["774jub"]),status:h.t.umleq6,Icon:c.P4T,color:r.Z.colors.STATUS_WARNING},[d.Sn.VERY_LIMITED]:{title:h.t.crzE2d,description:h.intl.string(h.t["T/Ufh4"]),status:h.t.WBtMHR,Icon:c.P4T,color:r.Z.unsafe_rawColors.ORANGE_345},[d.Sn.AT_RISK]:{title:h.t.XRNVzM,description:h.intl.string(h.t["hbH+9f"]),status:h.t["7f+4Li"],Icon:c.P4T,color:r.Z.colors.STATUS_DANGER},[d.Sn.SUSPENDED]:{title:h.t.MExFk5,description:h.intl.string(h.t["2liUvr"]),status:h.t["0OONGB"],Icon:c.k$p,color:r.Z.colors.ICON_MUTED}},{title:f,description:T,color:S,Icon:E}=p[t.state],I=Object.keys(p).length;return(0,i.jsxs)(c.Zbd,{className:g.container,outline:!1,children:[(0,i.jsx)("div",{className:g.profile,children:(0,i.jsx)(u.Z,{user:e,size:c.EFr.SIZE_80})}),(0,i.jsxs)("div",{className:g.status,children:[(0,i.jsxs)("div",{className:g.title,children:[(0,i.jsx)(c.X6q,{color:"header-primary",variant:"heading-lg/normal",children:h.intl.format(f,{hook:t=>(0,i.jsx)(c.Text,{style:{color:S.css},variant:"heading-lg/bold",tag:"span",children:t})})}),(0,i.jsx)(c.Text,{color:"text-normal",variant:"text-sm/normal",children:T})]}),(0,i.jsxs)("div",{className:g.health,style:{height:s},children:[(0,i.jsx)("div",{className:g.line}),Object.entries(p).map((e,s)=>{let[a,n]=e,l=parseInt(a)===t.state;return(0,i.jsxs)("div",{className:g.statusOption,ref:t=>v.current[parseInt(a)]=t,children:[l?(0,i.jsx)(E,{className:g.marker,color:n.color}):(0,i.jsx)("div",{className:g.marker,style:{marginLeft:0===s?-6:0,marginRight:s===I-1?-6:0},children:(0,i.jsx)("div",{className:g.empty})}),h.intl.format(n.status,{hook:t=>(0,i.jsx)(c.Text,{color:"text-normal",variant:"text-sm/normal",className:g.statusLabel,children:t})})]},s)})]})]})]})}},959562:function(t,e,s){s.d(e,{Z:()=>r});var i=s(200651);s(192379);var a=s(481060),n=s(726169),l=s(660097);function r(t){let{user:e,size:s}=t,r=(0,a.UCu)(s),c=null!=e?e.getAvatarURL(null,r.size):l;return(0,i.jsx)("div",{className:n.avatarBackground,children:(0,i.jsx)("div",{className:n.avatar,style:{width:r.size,height:r.size},children:(0,i.jsx)(a.qEK,{src:c,"aria-hidden":!0,size:s})})})}},518560:function(t,e,s){s.d(e,{Z:()=>f});var i=s(200651),a=s(192379),n=s(286379),l=s(481060),r=s(493773),c=s(797614),o=s(626135),d=s(103879),m=s(451284),u=s(802429),x=s(846488),h=s(181211),g=s(811085),j=s(967254),v=s(981631),N=s(388032),p=s(382661);function f(){let t=(0,h.Z)(),e=(0,x.e)(),s=(0,m.P)(),f=(0,u.i)();(0,r.ZP)(()=>{d.yq()});let T=a.useRef(s);return(a.useEffect(()=>{T.current=s}),a.useEffect(()=>{e&&(o.default.track(v.rMx.SAFETY_HUB_VIEWED,{account_standing:T.current.state}),c.Z.increment({name:n.V.SAFETY_HUB_VIEW}))},[e]),t)?(0,i.jsx)("div",{children:(0,i.jsx)(l.$jN,{})}):null!=f?(0,i.jsxs)(l.qXd,{color:l.DM8.DANGER,className:p.nagbar,children:[N.intl.string(N.t.TDRvqq),(0,i.jsx)(l.EyT,{onClick:()=>d.yq(),children:N.intl.string(N.t.R1AN4O)})]}):(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsx)(g.Z,{}),(0,i.jsx)(j.N,{})]})}},967254:function(t,e,s){s.d(e,{N:()=>R}),s(47120);var i=s(200651),a=s(192379),n=s(120356),l=s.n(n),r=s(442837),c=s(481060),o=s(259580),d=s(499033),m=s(626135),u=s(709054),x=s(531441),h=s(236289),g=s(788080),j=s(467432),v=s(451284),N=s(613734),p=s(800530),f=s(981631),T=s(388032),S=s(979565);let E=t=>{let{status:e,onClick:s,opened:a,count:n}=t;return(0,i.jsxs)(c.P3F,{className:S.header,onClick:s,children:[(0,i.jsx)("div",{className:S.headerIconWrapper,children:(0,i.jsx)(c.aNP,{size:"md",color:"active"===e?c.TVs.colors.INTERACTIVE_ACTIVE:c.TVs.colors.INTERACTIVE_MUTED})}),(0,i.jsxs)("div",{className:S.title,children:[(0,i.jsx)(c.X6q,{variant:"heading-md/semibold",color:"text-normal",children:"active"===e?T.intl.formatToPlainString(T.t.IeV2oa,{count:n.toString()}):T.intl.formatToPlainString(T.t.fZAHBQ,{count:n.toString()})}),(0,i.jsx)(c.X6q,{variant:"text-sm/normal",color:"text-muted",children:"active"===e?T.intl.string(T.t.XJ2YVV):T.intl.string(T.t.SzGV0t)})]}),(0,i.jsx)("div",{className:S.caret,children:(0,i.jsx)(o.Z,{width:18,height:18,direction:a?o.Z.Directions.UP:o.Z.Directions.DOWN})})]})},I=()=>(0,i.jsxs)("div",{className:S.emptyState,children:[(0,i.jsxs)("div",{className:S.iconContainer,children:[(0,i.jsx)("div",{className:S.iconBackground,children:(0,i.jsx)(c.rm8,{size:"md",color:"currentColor",className:S.icon})}),(0,i.jsx)(d.Z,{className:S.stars})]}),(0,i.jsx)(c.X6q,{variant:"heading-md/bold",className:S.emptyStateText,children:T.intl.string(T.t.reLFaW)}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",className:S.emptyStateSubtext,children:T.intl.string(T.t.ERdH1t)})]}),_=()=>(0,i.jsx)("div",{className:S.emptyState,children:(0,i.jsx)(c.Text,{variant:"text-xs/normal",className:S.emptyStateSubtext,children:T.intl.string(T.t.RV3AXV)})}),b=t=>{let{timestamp:e}=t;return(0,i.jsx)(c.Text,{variant:"text-xs/normal",className:S.timestamp,children:(0,g.XX)(e)})},D=()=>(0,i.jsx)(c.Text,{variant:"text-xs/bold",className:S.newBadge,children:T.intl.string(T.t.QKMRCw)}),k=t=>{let{classification:e}=t,{id:n,description:r}=e,o=u.default.extractTimestamp(n),d=(0,j.e)(e),m=a.useMemo(()=>{var t,s,a;let n={description:r,descriptionHook:t=>(0,i.jsx)(c.Text,{tag:"span",variant:"heading-lg/bold",children:t})};return(0,g.FB)(e)?(null==e?void 0:null===(t=e.guild_metadata)||void 0===t?void 0:t.member_type)===x.wO.OWNER?T.intl.format(T.t.Lb0HVl,{...n,guildName:null==e?void 0:null===(s=e.guild_metadata)||void 0===s?void 0:s.name}):T.intl.format(T.t.rmpEPD,{guildName:null==e?void 0:null===(a=e.guild_metadata)||void 0===a?void 0:a.name,classification_type:n.description,classificationHook:n.descriptionHook}):T.intl.format(T.t.QY4g5u,n)},[e,r]);return(0,i.jsx)(c.P3F,{onClick:()=>{(0,c.ZDy)(async()=>{let{default:t}=await Promise.all([s.e("25292"),s.e("22878"),s.e("95477"),s.e("11212"),s.e("40190"),s.e("46097"),s.e("25183"),s.e("18831"),s.e("87896")]).then(s.bind(s,41164));return e=>(0,i.jsx)(t,{classificationId:n,source:p.s.StandingTab,...e})})},className:l()(S.itemDetail,{[S.itemDetailNew]:d}),children:(0,i.jsxs)("div",{className:S.descriptionContainer,children:[d?(0,i.jsx)(D,{}):(0,i.jsx)(b,{timestamp:o}),(0,i.jsx)(c.X6q,{variant:"heading-lg/normal",children:m})]})},n)},Z=t=>{let{status:e,classifications:s}=t,[n,l]=a.useState(!1),[o,d]=a.useState(3),u=(0,v.P)(),x=(0,r.e7)([h.Z],()=>h.Z.getIsDsaEligible()),g=a.useMemo(()=>s.slice(0,o),[s,o]);a.useEffect(()=>{n&&m.default.track(f.rMx.SAFETY_HUB_ACTION,{action:p.n0.ViewViolationsDropdown,account_standing:u.state,classification_ids:g.map(t=>Number(t.id)),source:p.s.StandingTab,is_violative_content_shown:!1,is_dsa_eligible:x})},[n,u.state,g,x]);let j=s.length-g.length>3?3:s.length-g.length;return(0,i.jsxs)("div",{className:S.dropdown,children:[(0,i.jsx)(E,{status:e,onClick:()=>l(t=>!t),opened:n,count:s.length}),n&&(0,i.jsxs)("div",{className:S.items,children:[(0,i.jsx)(c.njP.Separator,{style:{height:"1px",width:"100%"}}),g.length>0&&g.map(t=>(0,i.jsx)(k,{classification:t},t.id)),g.length<s.length&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.njP.Separator,{style:{height:"1px",width:"100%"}}),(0,i.jsx)("button",{className:S.paginationButton,onClick:()=>d(t=>t+j),children:T.intl.format(T.t["9Ml56O"],{nextPageSize:j})})]}),0===g.length&&"active"===e&&(0,i.jsx)(I,{}),0===g.length&&"expired"===e&&(0,i.jsx)(_,{})]})]})},R=()=>{let t=(0,N.y9)(),e=(0,N.KM)();return 0===t.length&&0===e.length?null:(0,i.jsxs)("div",{children:[(0,i.jsx)(Z,{status:"active",classifications:t}),(0,i.jsx)(Z,{status:"expired",classifications:e})]})}}}]);
//# sourceMappingURL=8914ce351d8e99f0.js.map