"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["69773"],{515695:function(e){e.exports="/assets/dd05fd1ea37e7747.png"},387852:function(e){e.exports="/assets/a37490430fba083d.png"},412998:function(e){e.exports="/assets/acb0ef3d64b1e7b6.png"},575703:function(e){e.exports="/assets/d8680b1c1576ecc8.svg"},497350:function(e,t,n){n.d(t,{B:()=>o});var a=n(159277),r=n(981631);function o(e){let t=null;return e===a.t.PLAYSTATION_APPLICATION_ID?t=r.ABu.PLAYSTATION:e===a.t.PLAYSTATION_STAGING_APPLICATION_ID&&(t=r.ABu.PLAYSTATION_STAGING),t}},643366:function(e,t,n){n.d(t,{Y:()=>s});var a=n(192379),r=n(110924),o=n(626135),i=n(497350),l=n(981631);function s(e){let t=(0,r.Z)(e);a.useEffect(()=>{if(e===t)return;let n=null;"user-code-input"!==e.type&&"handoff"!==e.type&&(n=(0,i.B)(e.userCodeData.clientId)),o.default.track(l.rMx.DEVICE_LINK_STEP,{previous_step:null==t?void 0:t.type,current_step:e.type,platform_type:n})},[t,e])}},944844:function(e,t,n){n.d(t,{t:()=>h}),n(411104);var a=n(192379),r=n(512722),o=n.n(r),i=n(478677),l=n(457330),s=n(275759),c=n(489863),d=n(497350);async function u(e,t,n){var a,r,c,u;let h=(0,d.B)(e);if(null==h)throw await f(n,1,"authorize"),Error("Unsupported client_id for two way link");let x=null;try{let{body:e}=await l.Z.authorize(h,{twoWayLinkType:i.g.DEVICE_CODE,userCode:n});x=e.url}catch(e){throw await f(n,null!==(r=null==e?void 0:null===(a=e.body)||void 0===a?void 0:a.code)&&void 0!==r?r:0,"authorize"),Error("error during two way authorize")}let p=null;try{o()(null!=x,"No URL in authorize response");let{state:e}=(0,s.xp)(x);o()(null!=e,"Authorize URL state query parameter must be present"),p=e}catch(e){throw await f(n,2,"authorize"),Error("error parsing callback params")}try{await l.Z.callback(h,{code:t,state:p})}catch(e){throw await f(n,null!==(u=null==e?void 0:null===(c=e.body)||void 0===c?void 0:c.code)&&void 0!==u?u:0,"callback"),Error("error during two way callback")}}async function f(e,t,n){try{await (0,c.i2)(e,t,n)}catch(e){}}function h(e,t,n){return a.useCallback(async(a,r)=>{if(!r){try{await (0,c.tR)(a.userCode,"denied")}catch(e){}e();return}if(null==a.twoWayLinkCode)try{await (0,c.tR)(a.userCode,"granted"),n(a)}catch(e){t(a)}else try{await u(a.clientId,a.twoWayLinkCode,a.userCode),n(a)}catch(e){t(a)}},[e,t,n])}},511540:function(e,t,n){n.d(t,{c:()=>l}),n(47120);var a=n(192379),r=n(489863),o=n(828878),i=n(388032);function l(e,t,n){let[l,s]=a.useState(!1),[c,d]=a.useState(null),u=a.useCallback(async()=>{try{s(!0);let n=await (0,r.tV)(e);s(!1),t({userCode:e,clientId:n.body.client_id,scopes:n.body.scopes,twoWayLinkCode:n.body.two_way_link_code})}catch(e){var a;d(429===(a=null==e?void 0:e.status)?i.intl.string(i.t.BPmZvr):404===a||400===a?i.intl.string(i.t.aWa1Pz):i.intl.string(i.t.JNQRU1)),s(!1),(null==e?void 0:e.status)===401&&n()}},[e,t,n]);return a.useEffect(()=>{e.length===o.A.USER_CODE_LENGTH?u():d(null)},[e,u]),{manualSubmit:u,error:c,submitting:l}}},197528:function(e,t,n){n.r(t),n.d(t,{default:()=>N}),n(47120);var a=n(200651),r=n(192379),o=n(593473),i=n(512969),l=n(702493),s=n(77987),c=n(133853),d=n(703656),u=n(643366),f=n(94628),h=n(659154),x=n(581690),p=n(902928),_=n(521937),C=n(981631),v=n(551722);let m=n(575703);function g(){let e;let t=(0,i.TH)(),[n,s]=r.useState(()=>{if(t.pathname===C.Z5c.ACTIVATE_HANDOFF){let{user_code:e}=o.parse(window.location.search);return{type:"handoff",code:e}}return{type:"user-code-input",usePrefilledCode:!0}});(0,l.Z)(),(0,u.Y)(n);let g=r.useCallback(()=>{s({type:"user-code-input"})},[s]),b=r.useCallback(e=>{s({type:"authorization",userCodeData:e})},[s]),N=r.useCallback(e=>{s({type:"success",userCodeData:e})},[s]),j=r.useCallback(e=>{s({type:"error",userCodeData:e})},[s]),y=!0;switch(n.type){case"handoff":e=(0,a.jsx)(x.c,{code:n.code}),y=!1;break;case"user-code-input":e=(0,a.jsx)(_.v,{usePrefilledCode:n.usePrefilledCode||!1,onUserCodeAccepted:b});break;case"authorization":e=(0,a.jsx)(f.B,{data:n.userCodeData,onDenied:g,onError:j,onSuccess:N}),y=!1;break;case"success":e=(0,a.jsx)(p.u,{onComplete:()=>(0,d.uL)(C.Z5c.ME),data:n.userCodeData});break;case"error":e=(0,a.jsx)(h.c,{onTryAgain:g});break;default:e=null}return(0,a.jsxs)("div",{className:v.activatePage,children:[(0,a.jsx)("img",{className:v.artwork,src:m,alt:""}),(0,a.jsx)(c.Z,{show:!0,className:v.logo}),y?(0,a.jsx)("div",{className:v.content,children:e}):e]})}let b=(0,s.e)(g),N=function(){return(0,i.TH)().pathname!==C.Z5c.ACTIVATE_HANDOFF?(0,a.jsx)(b,{}):(0,a.jsx)(g,{})}},94628:function(e,t,n){n.d(t,{B:()=>c});var a=n(200651),r=n(192379),o=n(481060),i=n(69580),l=n(787025),s=n(944844);function c(e){let{data:t,onDenied:n,onError:c,onSuccess:d}=e,u=(0,s.t)(n,c,d),f=r.useCallback(e=>u(t,e),[t,u]);return(0,a.jsx)(l.G,{removeChildWrapper:!0,children:(0,a.jsx)(i.OAuth2AuthorizeModal,{transitionState:o.Dvm.ENTERED,clientId:t.clientId,scopes:t.scopes,showLogout:!0,isTrustedName:!0,callbackWithoutPost:f})})}},659154:function(e,t,n){n.d(t,{c:()=>s});var a=n(200651);n(192379);var r=n(481060),o=n(388032),i=n(288711),l=n(387852);let s=e=>{let{onTryAgain:t}=e;return(0,a.jsxs)("div",{className:i.content,children:[(0,a.jsx)("img",{src:l,width:"254",height:"127",alt:""}),(0,a.jsxs)("div",{className:i.innerContent,children:[(0,a.jsx)(r.X6q,{variant:"heading-xl/extrabold",children:o.intl.string(o.t["3dgwPD"])}),(0,a.jsx)(r.Text,{variant:"text-md/normal",color:"header-secondary",children:o.intl.string(o.t["/GAO1N"])})]}),(0,a.jsx)(r.zxk,{className:i.footerButton,color:r.zxk.Colors.BRAND,onClick:t,children:o.intl.string(o.t["7NqTJi"])})]})}},581690:function(e,t,n){n.d(t,{c:()=>_}),n(47120);var a=n(200651),r=n(192379),o=n(481060),i=n(198993),l=n(885006),s=n(981631),c=n(388032),d=n(680341);let u=n(412998),f=n(515695),h="".concat(window.GLOBAL_ENV.WEBAPP_ENDPOINT.split("//")[1]).concat(s.Z5c.ACTIVATE),x="".concat(location.protocol,"//").concat(h);function p(e){let{text:t=""}=e,[n,l]=r.useState(!1);return r.useEffect(()=>{let e=new Image;e.src=f,e.onload=()=>l(!0),e.onerror=()=>l(!0)},[f]),(0,a.jsx)(a.Fragment,{children:""!==t&&n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.ZP,{size:288,text:t}),(0,a.jsx)("div",{className:d.qrcodeOverlay,children:(0,a.jsx)("img",{src:f,alt:""})})]}):(0,a.jsx)("div",{className:d.qrcodeSpinner,children:(0,a.jsx)(o.$jN,{type:o.$jN.Type.WANDERING_CUBES})})})}let _=e=>{var t;let{code:n}=e,{width:r,height:i}=(0,l.Z)();return null==n||0===n.length?null:(0,a.jsxs)("div",{className:d.panel,style:{zoom:Math.min(r/1460,i/1080,1)},children:[(0,a.jsx)("div",{className:d.panelHeader,children:(0,a.jsx)("div",{className:d.logo})}),(0,a.jsxs)("div",{className:d.panelContent,children:[(0,a.jsxs)("div",{className:d.qrcodeContent,children:[(0,a.jsx)("div",{className:d.qrcodeCard,children:(0,a.jsx)(p,{text:"".concat(x,"?user_code=").concat(encodeURIComponent(n))})}),(0,a.jsxs)("div",{className:d.qrcodeText,children:[(0,a.jsx)(o.X6q,{variant:"heading-xxl/semibold",color:"header-primary",className:d.qrcodeTextHeading,children:c.intl.string(c.t.llDCiY)}),(0,a.jsx)(o.X6q,{variant:"heading-xxl/normal",color:"header-secondary",children:c.intl.string(c.t.JfHzXF)})]})]}),(0,a.jsxs)("div",{className:d.dividerContent,children:[(0,a.jsx)("div",{className:d.divider}),(0,a.jsx)(o.X6q,{variant:"heading-lg/semibold",color:"header-primary",className:d.dividerText,children:c.intl.string(c.t.arEHn5)}),(0,a.jsx)("div",{className:d.divider})]}),(0,a.jsxs)("div",{className:d.fallbackContent,children:[(0,a.jsxs)("div",{className:d.fallbackContentTextGroup,children:[(0,a.jsx)(o.X6q,{variant:"heading-xxl/semibold",color:"header-primary",className:d.fallbackContentHeading,children:c.intl.string(c.t.Eu8rJy)}),(0,a.jsx)(o.X6q,{variant:"heading-xxl/normal",color:"header-secondary",children:c.intl.string(c.t.BkEMJy)})]}),(0,a.jsxs)("div",{className:d.fallbackContentAction,children:[(0,a.jsx)(o.X6q,{variant:"heading-xxl/semibold",color:"header-primary",className:d.fallbackContentHeading,children:h}),(0,a.jsxs)("div",{className:d.fallbackContentTextGroup,children:[(0,a.jsx)(o.X6q,{variant:"heading-xxl/normal",color:"header-secondary",children:c.intl.string(c.t.RyDxBQ)}),(0,a.jsx)(o.X6q,{variant:"heading-xxl/bold",color:"header-primary",className:d.fallbackContentCode,children:null===(t=n.match(/.{1,4}/g))||void 0===t?void 0:t.join(" ")})]})]})]}),(0,a.jsx)("img",{className:d.wumpus,src:u,alt:""})]})]})}},902928:function(e,t,n){n.d(t,{u:()=>f});var a=n(200651),r=n(192379),o=n(159277),i=n(243814),l=n(481060),s=n(388032),c=n(288711),d=n(942605),u=n(534345);let f=e=>{let{onComplete:t,data:n}=e,f=(0,r.useId)(),h=null,x=null;return n.clientId===o.t.PLAYSTATION_APPLICATION_ID||n.clientId===o.t.PLAYSTATION_STAGING_APPLICATION_ID?h=d.Z:n.scopes.includes(i.x.SDK_SOCIAL_LAYER)&&(h=u.Z),null!=n.twoWayLinkCode?x=s.intl.string(s.t.QhATl5):n.scopes.includes(i.x.SDK_SOCIAL_LAYER)&&(x=s.intl.string(s.t.vBPvKy)),(0,a.jsxs)("div",{className:c.content,children:[null!=h?(0,a.jsx)("img",{src:h,className:c.artwork,alt:"","aria-labelledby":f}):null,(0,a.jsxs)("div",{className:c.innerContent,children:[(0,a.jsx)(l.X6q,{variant:"heading-xl/extrabold",id:f,children:s.intl.string(s.t.qDtJmJ)}),null!=x?(0,a.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:x}):null]}),(0,a.jsx)(l.zxk,{className:c.footerButton,color:l.zxk.Colors.BRAND,onClick:t,children:s.intl.string(s.t.i4jeWV)})]})}},521937:function(e,t,n){n.d(t,{v:()=>p}),n(47120);var a=n(200651),r=n(192379),o=n(120356),i=n.n(o),l=n(593473),s=n(512969),c=n(481060),d=n(489863),u=n(511540),f=n(828878),h=n(388032),x=n(802969);function p(e){let{onUserCodeAccepted:t,usePrefilledCode:n}=e,[o,p]=r.useState(()=>{let{user_code:e}=l.parse(window.location.search);return n&&null!=e?e:""}),_=(0,s.TH)(),C=r.useCallback(()=>{(0,d.c$)(_)},[_]),{manualSubmit:v,error:m,submitting:g}=(0,u.c)(o,t,C);return(0,a.jsxs)("div",{className:x.content,children:[(0,a.jsxs)("div",{className:x.innerContent,children:[(0,a.jsx)(c.X6q,{variant:"heading-xl/extrabold",className:x.text,children:h.intl.string(h.t.KYPNUl)}),(0,a.jsx)(c.Text,{variant:"text-md/medium",color:"header-secondary",className:x.text,children:h.intl.string(h.t.xRHk7e)}),(0,a.jsx)(c.oil,{placeholder:h.intl.formatToPlainString(h.t["0tbz6+"],{number:f.A.USER_CODE_LENGTH}),maxLength:f.A.USER_CODE_LENGTH,className:x.textInputContainer,inputClassName:i()(x.textInput,{[x.textInputError]:null!=m}),autoComplete:"off",autoFocus:!0,value:o,onChange:p,error:m})]}),(0,a.jsx)(c.zxk,{fullWidth:!0,color:c.zxk.Colors.BRAND,onClick:v,submitting:g,disabled:o.length!==f.A.USER_CODE_LENGTH,children:(0,a.jsx)(c.Text,{variant:"text-md/medium",children:h.intl.string(h.t["3PatS0"])})})]})}},857458:function(e,t,n){n.d(t,{M:()=>s,Z:()=>c});var a=n(200651);n(192379);var r=n(512969),o=n(860911),i=n(981631),l=n(188785);function s(){let e=location.pathname+location.search;return l.a?i.Z5c.REGISTER:(0,o.Ui)(e,!1)}let c=function(){return(0,a.jsx)(r.l_,{to:s()})}},77987:function(e,t,n){n.d(t,{e:()=>s});var a=n(200651);n(192379);var r=n(314897),o=n(449934),i=n(857458),l=n(981631);function s(e,t){var n,s;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0};function d(n){return!(0,o.$8)()&&r.default.getLoginStatus()!==l.u34.LOGGING_IN&&r.default.allowLogoutRedirect()?null!=t?(0,a.jsx)(t,{renderRedirect:(0,a.jsx)(i.Z,{})}):(0,a.jsx)(i.Z,{}):(0,a.jsx)(e,{...c.passProps?n:null})}return d.displayName="Authenticated(".concat(null!==(s=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==s?s:"<Unknown>",")"),d}},133853:function(e,t,n){n.d(t,{Z:()=>h}),n(47120);var a,r=n(200651),o=n(192379),i=n(120356),l=n.n(i),s=n(748780),c=n(481060),d=n(981631),u=n(293419);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends(a=o.Component){componentDidMount(){this.props.show&&this.animate(1)}componentDidUpdate(e){e.show!==this.props.show&&this.animate(this.props.show?1:0)}getAnimatedStyle(){let{anim:e}=this,{reducedMotion:t}=this.context;return{opacity:e,transform:t.enabled?void 0:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["-100px","0px"]})},{translateZ:0}]}}render(){return(0,r.jsx)(s.Z.a,{href:d.Z5c.INDEX,target:"_blank",rel:"noopener",className:l()(u.logo,this.props.className),style:this.getAnimatedStyle()})}constructor(...e){super(...e),f(this,"anim",new s.Z.Value(0)),f(this,"animate",e=>{s.Z.spring(this.anim,{toValue:e,friction:10,tension:100}).start()})}}f(h,"contextType",c.Sfi)},198993:function(e,t,n){n.d(t,{ZP:()=>v,c2:()=>C,cK:()=>h});var a,r,o,i=n(200651),l=n(192379),s=n(120356),c=n.n(s),d=n(841226),u=n(960337);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=((a={}).SIZE_40="SIZE_40",a.SIZE_60="SIZE_60",a);let x=Object.freeze({SIZE_40:"size-40",SIZE_60:"size-60"}),p=n(515695);class _ extends(r=l.PureComponent){render(){let{className:e,text:t,...n}=this.props;return(0,i.jsx)("div",{style:{width:n.size,height:n.size,backgroundColor:n.bgColor},className:c()(u.qrCodeContainer,e),children:(0,i.jsx)(d.default,{value:t,level:"M",...n})})}}f(_,"defaultProps",{size:128,bgColor:"#ffffff",fgColor:"#000000"});class C extends(o=l.PureComponent){render(){let{overlaySize:e}=this.props,t=x[null!=e?e:"SIZE_40"];return(0,i.jsxs)("div",{className:u.qrCodeOverlayContainer,children:[(0,i.jsx)(_,{...this.props}),(0,i.jsx)("div",{className:u.qrCodeOverlay,children:(0,i.jsx)("img",{className:u[t],src:p,alt:""})})]})}}f(C,"defaultProps",{size:144,bgColor:"#ffffff",fgColor:"#000000"});let v=_},885006:function(e,t,n){n.d(t,{Z:()=>r}),n(47120);var a=n(192379);function r(){var e,t;let[n,r]=a.useState({width:null!==(e=window.innerWidth)&&void 0!==e?e:1080,height:null!==(t=window.innerHeight)&&void 0!==t?t:1080});return a.useLayoutEffect(()=>{function e(){r({width:window.innerWidth,height:window.innerHeight})}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n}},159277:function(e,t,n){n.d(t,{M:()=>o,t:()=>r}),n(47120);var a,r=((a={}).XBOX_APPLICATION_ID="622174530214821906",a.PLAYSTATION_APPLICATION_ID="1008890872156405890",a.PLAYSTATION_STAGING_APPLICATION_ID="984193235868065795",a);let o={PLAYSTATION_APPLICATION_IDS:new Set(["984193235868065795","1008890872156405890"]),ALL:new Set(["622174530214821906","984193235868065795","1008890872156405890"])}},828878:function(e,t,n){n.d(t,{A:()=>r});var a,r=((a={})[a.USER_CODE_LENGTH=8]="USER_CODE_LENGTH",a)},478677:function(e,t,n){n.d(t,{g:()=>r}),n(47120);var a,r=((a={}).MOBILE="mobile",a.DESKTOP="desktop",a.WEB="web",a.DEVICE_CODE="device_code",a)},551722:function(e,t,n){e.exports={activatePage:"activatePage__8cc35",content:"content__8cc35",artwork:"artwork__8cc35",logo:"logo__8cc35"}},680341:function(e,t,n){e.exports={panel:"panel__79a1f",panelHeader:"panelHeader__79a1f",panelContent:"panelContent__79a1f",logo:"logo__79a1f",qrcodeContent:"qrcodeContent__79a1f",qrcodeCard:"qrcodeCard__79a1f",qrcodeOverlay:"qrcodeOverlay__79a1f",qrcodeSpinner:"qrcodeSpinner__79a1f",qrcodeText:"qrcodeText__79a1f",qrcodeTextHeading:"qrcodeTextHeading__79a1f",dividerContent:"dividerContent__79a1f",divider:"divider__79a1f",dividerText:"dividerText__79a1f",fallbackContent:"fallbackContent__79a1f",fallbackContentTextGroup:"fallbackContentTextGroup__79a1f",fallbackContentHeading:"fallbackContentHeading__79a1f",fallbackContentAction:"fallbackContentAction__79a1f",fallbackContentCode:"fallbackContentCode__79a1f",wumpus:"wumpus__79a1f"}},288711:function(e,t,n){e.exports={content:"content__89631",innerContent:"innerContent__89631",footerButton:"footerButton__89631",artwork:"artwork__89631"}},802969:function(e,t,n){e.exports={content:"content_b394b8",innerContent:"innerContent_b394b8",text:"text_b394b8",textInputContainer:"textInputContainer_b394b8",textInput:"textInput_b394b8",textInputError:"textInputError_b394b8"}},293419:function(e,t,n){e.exports={logo:"logo__11f7b"}},960337:function(e,t,n){n.r(e.exports={qrCodeOverlay:"qrCodeOverlay_c28498","size-40":"size-40_c28498","size-60":"size-60_c28498",qrCodeOverlayContainer:"qrCodeOverlayContainer_c28498",qrCodeContainer:"qrCodeContainer_c28498"})},942605:function(e,t,n){n.d(t,{Z:()=>a});let a="https://cdn.discordapp.com/assets/content/c155b6ac1aeaf22db13c1195d742154bbf6bc02b787c5cfeeadc7b580501eb2f.png"},534345:function(e,t,n){n.d(t,{Z:()=>a});let a="https://cdn.discordapp.com/assets/content/03d8faedfa507d8254fc77917112a8485a813c78b276b4fe19391e0b2f62a119.png"}}]);
//# sourceMappingURL=6a8ccb22f72550a4.js.map