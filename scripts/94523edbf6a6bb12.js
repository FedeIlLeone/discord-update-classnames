"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["28345"],{276022:function(e,n,t){t.d(n,{Z:()=>v}),t(653041);var l=t(200651),i=t(192379),o=t(442837),a=t(481060),s=t(139387),u=t(230711),r=t(213459),c=t(434404),d=t(795594),p=t(430824),m=t(496675),f=t(981631),h=t(388032);function v(e){var n;let{user:v,application:g,guildId:b,context:x,onItemClick:_}=e,I=null!==(n=null==g?void 0:g.id)&&void 0!==n?n:null==v?void 0:v.id,T=p.Z.getGuild(b),C=(0,o.e7)([m.Z],()=>null!=T?m.Z.can(f.Plq.MANAGE_GUILD,T):null),N=(0,r.LD)(b,!0),Z=(0,r.PL)(!0,!0),{isUserApp:j,isGuildApp:A}=i.useMemo(()=>{var e,n,t,l;if(null==I)return{isGuildApp:!1,isUserApp:!1};let i=Object.values(null!==(t=null===(e=N.result)||void 0===e?void 0:e.sections)&&void 0!==t?t:{}),o=Object.values(null!==(l=null===(n=Z.result)||void 0===n?void 0:n.sections)&&void 0!==l?l:{});return{isGuildApp:i.some(e=>{var n;return(null===(n=e.descriptor.application)||void 0===n?void 0:n.id)===I}),isUserApp:o.some(e=>{var n;return(null===(n=e.descriptor.application)||void 0===n?void 0:n.id)===I})}},[N,Z,I]);i.useEffect(()=>{t(360606)},[]);let P=i.useCallback(()=>{(null==T?void 0:T.id)!=null&&(c.Z.open(T.id,f.pNK.INTEGRATIONS),s.Z.setSection(f.b4C.APPLICATION,I),null==_||_())},[I,null==T?void 0:T.id,_]),k=i.useCallback(()=>{u.Z.open(f.oAB.AUTHORIZED_APPS);let e="";null!=g?e=g.name:null!=v&&(e=v.username),""!==e&&d.J.setState({searchQuery:e}),null==_||_()},[g,_,v]);if(x===f.IlC.POPOUT)return null;let w=[];return A&&C&&w.push((0,l.jsx)(a.sNh,{id:"manage-server-integration",label:h.intl.string(h.t.IuSJT0),action:P},"manage-server-integration")),j&&w.push((0,l.jsx)(a.sNh,{id:"manage-authorized-app",label:h.intl.string(h.t.V8ruv7),action:k},"manage-authorized-app")),w}},570870:function(e,n,t){t.d(n,{Z:()=>_});var l=t(200651),i=t(192379),o=t(512722),a=t.n(o),s=t(442837),u=t(481060),r=t(10718),c=t(667204),d=t(826298),p=t(276022),m=t(978983),f=t(430824),h=t(594174),v=t(981631),g=t(689079),b=t(388032),x=t(913887);let _=e=>{let n,{commandType:t,commandTargetId:o,channel:_,guildId:I,onHeightUpdate:T,context:C}=e,N=(0,s.e7)([f.Z],()=>f.Z.getGuild(null!=I?I:_.guild_id)),Z=(0,s.e7)([h.default],()=>h.default.getUser(o)),j=(0,p.Z)({user:Z,guildId:null==N?void 0:N.id,context:C}),A=i.useMemo(()=>({channel:_,type:"channel"}),[_]),{commands:P,sectionDescriptors:k,loading:w}=r.wi({context:A,filters:{commandTypes:[t]},options:{limit:g.lr},allowFetch:!0}),{sections:E}=i.useMemo(()=>{let e={};return k.forEach(n=>{e[n.id]=n}),{sections:e}},[k]),y=i.useRef(w);i.useEffect(()=>{w!==y.current&&(y.current=w,null==T||T())},[w,T]);let G=i.useCallback(e=>{a()(null!=_,"menu item should not show if channel is null");let n=E[e.applicationId],t=null!=n?(0,d.ky)(n):void 0;return(0,l.jsx)(u.sNh,{id:e.id,label:e.displayName,iconLeft:()=>null!=t?(0,l.jsx)(t,{channel:_,section:n,width:18,height:18,selectable:!1}):null,action:()=>{(0,c.Z)({command:e,optionValues:{},context:{channel:_,guild:N},commandTargetId:o})}},e.id)},[_,N,o,E]);if(w?n=(0,l.jsx)(u.sNh,{id:"menu-commands-placeholder",render:()=>(0,l.jsx)(m.Z,{}),disabled:!0},"menu-commands-placeholder"):(n=0===P.length?(0,l.jsx)(u.sNh,{id:"menu-commands-empty",label:b.intl.string(b.t.YSNlV1),disabled:!0},"menu-commands-empty"):P.map(G),null!=j&&j.length>0&&(n=(0,l.jsxs)(l.Fragment,{children:[n,(0,l.jsx)(u.Clw,{},"separator"),j]}))),!v.TPd.TEXTUAL.has(_.type)){if(null==j)return null;n=j}return(0,l.jsx)(u.sNh,{id:"apps",label:b.intl.string(b.t.PHjkRE),listClassName:x.list,children:n})}},316334:function(e,n,t){e.exports={spacing:"spacing__89466",spacingTop:"spacingTop__89466",message:"message__89466"}},884081:function(e,n,t){e.exports={actionContainer:"actionContainer_bc4513",actionIconContainer:"actionIconContainer_bc4513",actionIcon:"actionIcon_bc4513",actionTextContainer:"actionTextContainer_bc4513",actionTextHeader:"actionTextHeader_bc4513",actionTextHelper:"actionTextHelper_bc4513"}},818312:function(e,n,t){e.exports={wrapper:"wrapper_f563df",button:"button_f563df",focused:"focused_f563df",icon:"icon_f563df"}},784168:function(e,n,t){e.exports={interactionInfoMenuItem:"interactionInfoMenuItem_e1195d"}},913887:function(e,n,t){e.exports={list:"list_c47777"}}}]);
//# sourceMappingURL=94523edbf6a6bb12.js.map