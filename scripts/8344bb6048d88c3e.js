"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["12009"],{63190:function(e){e.exports="/assets/36eaea47ad7cb391.svg"},102219:function(e){e.exports="/assets/3655f5d8659277b4.svg"},931057:function(e){e.exports="/assets/159a09aadfe4a53d.svg"},213557:function(e,n,l){l.d(n,{Z:()=>P}),l(653041);var a=l(200651),i=l(192379),t=l(442837),r=l(481060),s=l(239091),d=l(561472),o=l(36311),c=l(367907),u=l(188471),h=l(541716),m=l(526120),g=l(563534),x=l(736052),f=l(665149),C=l(442336),_=l(910611),v=l(41776),Z=l(703656),I=l(6025),p=l(592125),j=l(703558),N=l(731290),b=l(430824),E=l(375954),A=l(594174),M=l(933557),y=l(287746),w=l(981631),S=l(388032),k=l(437413);function P(e){let{channelId:n,baseChannelId:P,channelViewSource:R="Split View",isResourceChannelView:T}=e,L=(0,t.e7)([p.Z],()=>p.Z.getChannel(n)),B=(0,t.e7)([b.Z],()=>b.Z.getGuild(null==L?void 0:L.getGuildId())),H=(0,t.e7)([A.default],()=>A.default.getCurrentUser()),D=(0,t.e7)([N.Z],()=>N.Z.didAgree(null==L?void 0:L.guild_id)),W=(null==H?void 0:H.nsfwAllowed)===!0,U=(0,M.ZP)(L),z=(0,t.e7)([v.Z],()=>(null==B?void 0:B.id)!=null&&v.Z.isLurking(B.id),[B]),F=(0,x.Z)(n),G=(0,t.e7)([g.Z],()=>{var e;return null===(e=g.Z.getResourceForChannel(null==B?void 0:B.id,n))||void 0===e?void 0:e.title}),O=i.useRef(!1);if(i.useEffect(()=>{null==L||O.current||(O.current=!0,(0,c.yw)(w.rMx.CHANNEL_OPENED,{...(0,c.$H)(L.id),channel_view:R}),(0,u.a)(w.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:L.id}))},[L,R]),null==L||null==B)return null;let q=[];return(z||q.push((0,a.jsx)(C.Z,{channel:L},"notifications")),q.push((0,a.jsx)(f.ZP.Icon,{icon:r.Dio,tooltip:S.intl.string(S.t.cpT0Cg),onClick:()=>I.Z.closeChannelSidebar(P)},"close")),!L.isNSFW()||W&&D)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{channel:L,draftType:j.d.ChannelMessage}),(0,a.jsx)(f.ZP,{toolbar:q,"aria-label":S.intl.string(S.t.BIYAqa),children:(0,_.ud)({channel:L,channelName:F?G:U,guild:B,inSidebar:!0,handleContextMenu:e=>{(0,s.jW)(e,async()=>{let{default:e}=await l.e("24783").then(l.bind(l,439635));return n=>(0,a.jsx)(e,{...n,channel:L,guild:B})})},handleClick:()=>{let e=E.Z.getMessages(L.id);if(T){(0,Z.uL)(w.Z5c.CHANNEL(L.guild_id,L.id)),(0,m.C3)(L.guild_id,null);return}(0,Z.XU)(L.guild_id,L.id,e.jumpTargetId)}})}),(0,a.jsx)("div",{className:k.chat,children:(0,a.jsx)(y.Z,{channel:L,guild:B,chatInputType:h.Ie.SIDEBAR},n)})]}):(0,a.jsx)(o.Z,{guild:B})}},644080:function(e,n,l){l.d(n,{Z:()=>E});var a=l(200651),i=l(192379),t=l(120356),r=l.n(t),s=l(442837),d=l(692547),o=l(481060),c=l(410030),u=l(565138),h=l(523751),m=l(637853),g=l(434404),x=l(159300),f=l(496675),C=l(709586),_=l(768581),v=l(981631),Z=l(388032),I=l(700878),p=l(63190),j=l(102219);let N=e=>{let n=i.useMemo(()=>null==e?null:_.ZP.getGuildHomeHeaderURL({id:e.id,homeHeader:e.homeHeader}),[e]);return{homeHeaderImage:n,isHomeHeaderImageSet:null!=n,homeHeaderScroll:null!=n?200:0}};function b(e){let{guild:n}=e,l=()=>{g.Z.open(n.id,v.pNK.ONBOARDING,void 0,v.KsC.SERVER_GUIDE)};return n.hasFeature(v.oNc.BANNER)?(0,a.jsxs)(o.zxk,{className:I.editButton,innerClassName:I.editButtonInner,type:"button",size:o.zxk.Sizes.MEDIUM,color:o.zxk.Colors.BRAND,onClick:l,children:[(0,a.jsx)(o.FmF,{size:"xs",color:d.Z.unsafe_rawColors.WHITE_500.css}),Z.intl.string(Z.t.b0y3DA)]}):(0,a.jsxs)(o.gtL,{color:o.zxk.Colors.GREEN,className:I.editButton,innerClassName:I.editButtonInner,onClick:l,children:[(0,a.jsx)(C.Z,{height:16,width:16}),Z.intl.string(Z.t["+7XY39"])]})}let E=i.memo(function(e){let{guild:n,titleClassName:i}=e,{homeHeaderImage:t,isHomeHeaderImageSet:d}=N(n),g=(0,m.b$)(n.id),C=(0,s.e7)([f.Z],()=>(0,x.b)(f.Z,n)),_=(0,c.ZP)();return(0,a.jsxs)("div",{className:I.header,children:[(0,a.jsxs)("div",{className:I.headerArtWrapper,children:[(0,a.jsx)("div",{className:r()(I.headerArt,{[I.headerArtPlaceholder]:!d}),style:{backgroundImage:"url(".concat(d?t:"dark"===_?p:j,")")}}),g&&(0,a.jsx)(b,{guild:n})]}),(0,a.jsx)("div",{className:I.titleWrapper,children:(0,a.jsxs)("div",{className:i,children:[(0,a.jsx)(u.Z,{className:I.headerIcon,guild:n,size:u.Z.Sizes.XLARGE,active:!0}),(0,a.jsx)(o.y5t,{children:(0,a.jsxs)("div",{className:I.headerName,children:[(0,a.jsx)(o.X6q,{className:I.headerName,variant:"heading-xxl/bold",children:n.name}),(0,a.jsx)(h.Z,{size:24,guild:n,tooltipPosition:"bottom",tooltipColor:o.ua7.Colors.PRIMARY}),C&&(0,a.jsx)(o.zxk,{className:I.inviteButton,size:o.zxk.Sizes.MEDIUM,color:o.zxk.Colors.PRIMARY,onClick:()=>(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([l.e("7654"),l.e("25586")]).then(l.bind(l,560114));return l=>(0,a.jsx)(e,{...l,guild:n,source:v.t4x.GUILD_HOME})}),children:Z.intl.string(Z.t.VINpSE)})]})})]})})]})})},231588:function(e,n,l){l.r(n),l.d(n,{default:()=>g});var a=l(200651),i=l(192379),t=l(442837),r=l(749210),s=l(112724),d=l(923029),o=l(353926),c=l(931261),u=l(333323),h=l(430824);let m=(0,s.Z)(u.Z),g=function(e){let{guildId:n}=e,l=(0,t.e7)([h.Z],()=>h.Z.getGuild(n),[n]),s=(0,t.e7)([o.Z],()=>o.Z.hasLoadedExperiments),u=(0,c.g)(n);return(i.useEffect(()=>{if(s&&!u){r.Z.escapeToDefaultChannel(n);return}},[n,s,u]),null!=l&&u)?(0,a.jsx)(m,{guild:l}):(0,a.jsx)(d.Z,{channelId:void 0})}},689981:function(e,n,l){function a(e){var n,l;if(null==e)return null;if((null===(n=e.content)||void 0===n?void 0:n.length)>0)return e.content;if((null===(l=e.embeds)||void 0===l?void 0:l.length)>0){for(let n of e.embeds)if(null!=n.rawDescription&&n.rawDescription.length>0)return n.rawDescription}return null}l.d(n,{Z:()=>a}),l(47120)},825334:function(e,n,l){l.d(n,{Z:()=>r});var a=l(399606),i=l(592125),t=l(563534);function r(e){return(0,a.Wu)([t.Z,i.Z],()=>t.Z.getResourceChannels(e).filter(e=>null!=i.Z.getChannel(e.channelId)))}},404488:function(e,n,l){l.d(n,{Z:()=>u,q:()=>c});var a=l(200651);l(192379);var i=l(442837),t=l(325708),r=l(213557),s=l(433355),d=l(981631),o=l(176505);let c=656;function u(e){let{pageWidth:n,onSidebarResize:l}=e,u=(0,i.e7)([s.ZP],()=>s.ZP.getSidebarState(o.oC.GUILD_HOME));if(null==u||null==u.channelId)return null;let h=n-d.PrS-c;return(0,a.jsx)(t.Z,{sidebarType:t.y.HomeSidebar,maxWidth:h,onWidthChange:l,children:(0,a.jsx)(r.Z,{channelId:u.channelId,baseChannelId:o.oC.GUILD_HOME,channelViewSource:"Home View",isResourceChannelView:!0})})}},333323:function(e,n,l){l.d(n,{Z:()=>P}),l(47120);var a=l(200651),i=l(192379),t=l(120356),r=l.n(t),s=l(399606),d=l(481060),o=l(749210),c=l(131388),u=l(367907),h=l(644080),m=l(984370),g=l(6025),x=l(433355),f=l(626135),C=l(526120),_=l(563534),v=l(846121),Z=l(460347),I=l(404488),p=l(605276),j=l(869764),N=l(919318),b=l(150512),E=l(981631),A=l(176505),M=l(388032),y=l(959454),w=l(3114);let S=I.q+300+64,k=i.memo(function(e){let{guild:n}=e;return(0,a.jsxs)(m.Z,{channelId:A.oC.GUILD_HOME,guildId:n.id,className:r()(y.title,y.background),innerClassname:y.headerBarInner,children:[(0,a.jsx)(m.Z.Icon,{icon:d.Vy8,"aria-hidden":!0}),(0,a.jsxs)(m.Z.Title,{children:[(0,a.jsx)(d.nn4,{children:n.name}),M.intl.string(M.t.VbpLyc)]})]})});function P(e){var n,l;let{guild:t,width:m}=e,M=(0,s.e7)([x.ZP],()=>x.ZP.getSection(A.oC.GUILD_HOME)),[P,R]=i.useState(!1),[T,L]=i.useState(E.$Y6),B=M===E.ULH.SIDEBAR_CHAT,H=(0,d.mFp)(),D=(0,s.e7)([_.Z],()=>_.Z.getSettings(t.id)),W=null==D?void 0:D.welcomeMessage,U=(0,Z.Z)(t.id),z=!U&&(null!==(l=null==D?void 0:null===(n=D.resourceChannels)||void 0===n?void 0:n.length)&&void 0!==l?l:0)===0,F=(0,c.Z)("(max-width: 1300px)"),G=m-E.PrS-T,O=B&&G<S||F||z;return(i.useEffect(()=>{if(D===_.P)(0,C.cP)(t.id);else if(null!=D){var e,n,l,a,i;f.default.track(E.rMx.SERVER_GUIDE_VIEWED,{...(0,u.hH)(t.id),num_member_actions:null!==(l=null===(e=D.newMemberActions)||void 0===e?void 0:e.length)&&void 0!==l?l:0,num_member_actions_completed:Object.keys(null!==(a=v.Z.getCompletedActions(t.id))&&void 0!==a?a:{}).length,num_resource_channels:null!==(i=null===(n=D.resourceChannels)||void 0===n?void 0:n.length)&&void 0!==i?i:0})}},[t.id,D]),i.useEffect(()=>()=>{g.Z.closeChannelSidebar(A.oC.GUILD_HOME)},[]),i.useEffect(()=>{z&&D!==_.P&&o.Z.escapeToDefaultChannel(t.id)},[t.id,z,D]),z)?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:r()(w.chat,y.background,{[w.threadSidebarOpen]:B,[w.threadSidebarFloating]:B&&P}),children:[(0,a.jsx)(k,{guild:t}),(0,a.jsx)(d.yWw,{...H,children:(0,a.jsxs)("div",{className:r()(y.homeContainer,{[y.homeContainerCollapsed]:O}),children:[(0,a.jsx)("div",{className:y.maxWidthWrapper,children:(0,a.jsx)(h.Z,{guild:t,titleClassName:F?y.emptyHeaderTitle:void 0})}),(0,a.jsxs)("div",{className:r()(y.homeContent,y.maxWidthWrapper),children:[(0,a.jsxs)("div",{className:y.mainContent,children:[U&&(0,a.jsx)(b.Z,{guildId:t.id,welcomeMessage:W}),U&&(0,a.jsx)(j.Z,{guildId:t.id}),!U||O?(0,a.jsx)(N.ZP,{guild:t,isNewMember:U}):null]}),O?null:(0,a.jsx)(p.Z,{guild:t,isNewMember:U})]})]})})]}),B?(0,a.jsx)(I.Z,{pageWidth:m,onSidebarResize:(e,n)=>{R(n),L(e)}}):null]})}},605276:function(e,n,l){l.d(n,{Z:()=>y});var a=l(200651),i=l(192379),t=l(399606),r=l(481060),s=l(904245),d=l(368844),o=l(249842),c=l(838367),u=l(576306),h=l(65361),m=l(910200),g=l(6025),x=l(592125),f=l(375954),C=l(496675),_=l(768581),v=l(526120),Z=l(825334),I=l(981631),p=l(388032),j=l(959454);function N(e){let{guild:n}=e,l=(0,t.e7)([c.Z],()=>c.Z.getGuild(n.id),[n]);return i.useEffect(()=>{null==l&&(0,o.P)(n.id)},[n.id,l]),(0,a.jsx)(r.Zbd,{className:j.sidebarCardWrapper,children:(0,a.jsxs)("div",{className:j.sidebarCard,children:[(0,a.jsx)(r.X6q,{className:j.sidebarCardHeader,variant:"heading-md/bold",color:"header-primary",children:p.intl.string(p.t["6YriCA"])}),(0,a.jsx)(r.Text,{className:j.guildDescription,variant:"text-md/normal",color:"text-normal",children:n.description}),(0,a.jsx)("div",{className:j.guildInfo,children:(null==l?void 0:l.memberCount)!=null&&(null==l?void 0:l.presenceCount)!=null&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:j.dotOnline}),(0,a.jsx)(r.Text,{className:j.guildInfoText,variant:"text-xs/normal",color:"text-muted",children:p.intl.format(p.t.QAdRCw,{online:null==l?void 0:l.presenceCount,total:null==l?void 0:l.memberCount})})]})})]})})}function b(e){let{guild:n}=e,{guildProfile:l,fetchGuildProfile:t}=(0,h.u)(n.id);return(i.useEffect(()=>{t()},[t]),null==l)?null:(0,a.jsx)(m.Z,{profile:l})}let E=i.memo(function(e){let{guild:n}=e;return(0,u.h)()?(0,a.jsx)(b,{guild:n}):(0,a.jsx)(N,{guild:n})}),A=e=>{let{channelId:n,title:l,icon:o}=e,c=(0,t.e7)([x.Z],()=>x.Z.getChannel(n)),u=(0,t.e7)([f.Z],()=>f.Z.getMessages(n)),h=(0,t.e7)([C.Z],()=>C.Z.can(I.Plq.VIEW_CHANNEL,c)),m=u.first(),Z=(0,d.zy)(m,!1),p=(null==Z?void 0:Z.length)>0?Z[0]:null,N=null!=c&&null==m&&!u.loadingMore&&!u.ready&&!u.hasFetched&&h;i.useEffect(()=>{N&&s.Z.fetchMessages({channelId:n,after:n,limit:5})},[n,N]);let b=e=>{null!=c&&(e.shiftKey?(0,v.C3)(c.guild_id,c.id):g.Z.openResourceChannelAsSidebar({guildId:c.guild_id,channelId:c.id}))};return(0,a.jsx)(r.P3F,{className:j.resourceChannel,onClick:e=>b(e),children:(0,a.jsxs)(a.Fragment,{children:[(()=>{let e=_.ZP.getResourceChannelIconURL({channelId:n,icon:o});return null!=o&&null!=e?(0,a.jsx)("img",{src:e,className:j.resourceImage,alt:"","aria-hidden":!0}):null!=p?(0,a.jsx)("img",{className:j.resourceImage,src:p.src,alt:p.alt}):(0,a.jsx)("div",{className:j.placeholderImage,children:(0,a.jsx)(r.hH0,{size:"xs",color:"currentColor"})})})(),(0,a.jsx)(r.Text,{className:j.guildInfoText,variant:"text-sm/semibold",color:"none",children:l})]})},n)},M=i.memo(function(e){let{guild:n}=e,l=(0,Z.Z)(n.id);return 0===l.length?null:(0,a.jsx)(r.Zbd,{className:j.sidebarCardWrapper,children:(0,a.jsxs)("div",{className:j.sidebarCard,children:[(0,a.jsx)(r.X6q,{className:j.sidebarCardHeader,variant:"heading-md/bold",color:"header-primary",children:p.intl.string(p.t.xwY4LS)}),(0,a.jsx)("div",{className:j.resourceChannelsList,children:l.map(e=>(0,a.jsx)(A,{channelId:e.channelId,title:e.title,icon:e.icon},"widget-resource-".concat(e.channelId)))})]})})}),y=i.memo(function(e){let{guild:n,isNewMember:l}=e;return(0,a.jsxs)("aside",{className:j.sidebar,children:[(0,a.jsx)(E,{guild:n}),l&&(0,a.jsx)(M,{guild:n})]})})},869764:function(e,n,l){l.d(n,{Z:()=>P,k:()=>S}),l(789020);var a=l(200651),i=l(192379),t=l(120356),r=l.n(t),s=l(442837),d=l(481060),o=l(933557),c=l(471445),u=l(905362),h=l(353093),m=l(979264),g=l(937111),x=l(592125),f=l(271383),C=l(430824),_=l(496675),v=l(186523),Z=l(768581),I=l(630388),p=l(526120),j=l(563534),N=l(846121),b=l(216701),E=l(981631),A=l(308083),M=l(372897),y=l(388032),w=l(335322);function S(e){let{title:n,emojiId:l,emojiName:i,icon:t,completed:s,Icon:o,onClick:c,...u}=e,h="channel"===u.variant?u.channelId:null,m="static"===u.variant?u.subtitle:u.channelName,g=null!=h?Z.ZP.getNewMemberActionIconURL({channelId:h,icon:t}):null;return(0,a.jsxs)(d.Zbd,{className:r()(w.action,{[w.clickableAction]:null!=c}),onClick:c,children:[null!=g?(0,a.jsx)("img",{src:g,className:w.icon,width:32,height:32,alt:"","aria-hidden":!0}):(0,a.jsx)(b.Z,{emojiId:l,emojiName:i,size:b.R.LARGE,defaultComponent:(0,a.jsx)("div",{className:w.channelIconContainer,children:(0,a.jsx)(o,{className:w.channelIcon,color:"currentColor"})})}),(0,a.jsxs)("div",{className:w.actionInfo,children:[(0,a.jsx)(d.Text,{variant:"text-md/semibold",color:"header-primary",children:n}),null!=m?(0,a.jsx)(d.Text,{variant:"text-xs/normal",color:"text-muted",children:m}):null]}),s?(0,a.jsx)(d.owK,{size:"md",color:"currentColor",secondaryColor:"#fff",className:w.checkCircleCompleted}):(0,a.jsx)(v.Z,{className:w.checkCircle,width:24,height:24})]})}function k(e){var n;let{action:l,completed:t}=e,{channelId:r,title:u,emoji:h,icon:m}=l,{id:g,name:f}=null!=h?h:{},C=(0,s.e7)([x.Z],()=>x.Z.getChannel(r)),v=(0,o.ZP)(C,!0),Z=(0,s.e7)([_.Z],()=>_.Z.can(E.Plq.VIEW_CHANNEL,C)),I=i.useMemo(()=>{if(null!=C)return()=>(0,p.gp)(C.guild_id,C.id)},[C]);if(null==C||!Z)return null;let j=null!==(n=(0,c.KS)(C))&&void 0!==n?n:d.VL1;return(0,a.jsx)(S,{variant:"channel",channelId:r,title:u,channelName:v,emojiId:g,emojiName:f,icon:m,completed:t,Icon:j,onClick:I})}function P(e){var n;let{guildId:l}=e,t=(0,s.e7)([j.Z],()=>j.Z.getNewMemberActions(l),[l]),o=(0,s.e7)([N.Z],()=>N.Z.getCompletedActions(l)),c=(0,s.e7)([f.ZP],()=>f.ZP.getSelfMember(l)),x=(0,s.e7)([C.Z],()=>C.Z.getGuild(l)),_=null!=x?(0,h.ky)(x.id,null===(n=x.profile)||void 0===n?void 0:n.badge,A.NC.SIZE_16):null,v=(0,s.e7)([g.Z],()=>g.Z.getRequest(l));i.useEffect(()=>{var e;null==o&&(null==c?void 0:c.flags)!=null&&(0,I.yE)(null!==(e=c.flags)&&void 0!==e?e:0,M.q.STARTED_HOME_ACTIONS)&&(0,p.Fg)(l)},[o,l,null==c?void 0:c.flags]);let Z=i.useCallback(()=>{null!=x&&null!=x.rulesChannelId&&(0,p.gp)(x.id,x.rulesChannelId)},[x]);return null==c||null==t||0===t.length?null:(0,a.jsxs)("div",{className:w.container,children:[(0,a.jsx)(d.X6q,{variant:"heading-lg/bold",color:"header-primary",children:y.intl.string(y.t.LhlgY2)}),(null==x?void 0:x.hasFeature(E.oNc.CLAN))&&null!=_&&(0,a.jsx)(d.P3F,{className:w.clickableAction,onClick:()=>(0,u.CK)(l,null==v?void 0:v.joinRequestId),children:(0,a.jsxs)("div",{className:w.action,children:[(0,a.jsx)("div",{className:w.tagIconContainer,children:(0,a.jsx)(m.KQ,{src:_,size:A.NC.SIZE_16})}),(0,a.jsx)("div",{className:w.actionInfo,children:(0,a.jsx)(d.Text,{variant:"text-md/semibold",color:"header-primary",children:y.intl.string(y.t.MNhFER)})})]})}),t.map(e=>(0,a.jsx)(k,{action:e,completed:(null==o?void 0:o[e.channelId])===!0,guildId:l},e.channelId)),(null==x?void 0:x.rulesChannelId)!=null&&(0,a.jsxs)(d.Zbd,{className:r()(w.action,w.clickableAction),onClick:Z,children:[(0,a.jsx)("div",{className:w.rulesIconContainer,children:(0,a.jsx)(d.snC,{size:"xs",color:"currentColor",className:w.rulesIcon})}),(0,a.jsx)("div",{className:w.actionInfo,children:(0,a.jsx)(d.Text,{variant:"text-md/semibold",color:"header-primary",children:y.intl.string(y.t["K/i3iY"])})})]})]})}},919318:function(e,n,l){l.d(n,{ZP:()=>T}),l(47120);var a=l(200651),i=l(192379),t=l(120356),r=l.n(t),s=l(442837),d=l(481060),o=l(904245),c=l(368844),u=l(73315),h=l(454585),m=l(406432),g=l(169525),x=l(524444),f=l(703656),C=l(6025),_=l(695346),v=l(592125),Z=l(984933),I=l(375954),p=l(496675),j=l(451478),N=l(768581),b=l(526120),E=l(689981),A=l(825334),M=l(981631),y=l(388032),w=l(21799),S=l(663362),k=l(931057);function P(e){let n,l,{firstMedia:i,channelId:t}=e,d=(0,s.e7)([v.Z],()=>v.Z.getChannel(t)),[o,c]=(0,g.hL)({media:i,channel:d}),h=(0,g.MC)(c),f=(0,s.e7)([j.Z],()=>j.Z.isFocused()),C=(0,m.d$)(i.src),Z=_.QK.useSetting(),{src:I,width:p,height:N,alt:b}=i;return N>p?l=72:n=72,(0,a.jsxs)("div",{className:w.media,children:[(0,x.Yi)({src:I,maxHeight:n,maxWidth:l,width:p,height:N,alt:null!=b&&o&&null!=h?h:b,autoPlay:Z,animated:C&&!o&&f,containerClassName:w.thumbnailContainer,imageClassName:r()({[w.obscured]:o}),analyticsSource:"ResourceChannelMedia"}),o&&(0,a.jsx)(u.Z,{obscureReason:c,iconClassname:w.obscuredTag})]})}function R(e){let{resource:n}=e,l=(0,s.e7)([v.Z],()=>v.Z.getChannel(n.channelId)),t=(0,s.e7)([I.Z],()=>I.Z.getMessages(n.channelId)),u=(0,s.e7)([p.Z],()=>p.Z.can(M.Plq.VIEW_CHANNEL,l)),m=t.first(),g=(0,E.Z)(m),x=(0,c.zy)(m,!1),f=(null==x?void 0:x.length)>0?x[0]:null,_=null!=l&&null==t.first()&&!t.loadingMore&&!t.ready&&!t.hasFetched&&u;if(i.useEffect(()=>{_&&o.Z.fetchMessages({channelId:n.channelId,after:n.channelId,limit:5})},[n.channelId,_]),null==l||null==l.guild_id)return null;let Z=N.ZP.getResourceChannelIconURL({channelId:l.id,icon:n.icon}),j=null==n.description||0===n.description.length;return(0,a.jsxs)(d.P3F,{className:w.row,onClick:e=>{null!=l&&(e.shiftKey?(0,b.C3)(l.guild_id,l.id):C.Z.openResourceChannelAsSidebar({guildId:l.guild_id,channelId:l.id}))},children:[(0,a.jsxs)("div",{className:w.content,children:[(0,a.jsx)(d.Text,{className:w.title,variant:"text-md/bold",color:"header-primary",children:n.title}),j&&null!=g&&(0,a.jsx)(d.Text,{className:w.messageContent,variant:"text-sm/normal",color:"header-secondary",lineClamp:3,children:h.Z.parse(g,!0,{guildId:l.guild_id,channelId:l.id})}),!j&&(0,a.jsx)(d.Text,{className:r()(w.messageContent,S.markup),variant:"text-sm/normal",color:"header-secondary",lineClamp:3,children:h.Z.parse(n.description,!0,{guildId:l.guild_id,channelId:l.id})})]}),null!=n.icon&&null!=Z?(0,a.jsx)("div",{className:w.media,children:(0,a.jsx)("img",{src:Z,className:w.__invalid_thumbnail,width:72,height:72,alt:"","aria-hidden":!0})}):null,null==Z&&null!=f?(0,a.jsx)(P,{firstMedia:f,channelId:n.channelId}):null]})}function T(e){let{guild:n,isNewMember:l}=e,i=(0,A.Z)(n.id);return 0===i.length?l?null:(0,a.jsxs)("div",{className:w.emptyContainer,children:[(0,a.jsx)(d.X6q,{variant:"heading-xl/bold",color:"header-primary",children:y.intl.string(y.t.owvC9f)}),(0,a.jsx)("img",{className:w.emptyStateImage,src:k,alt:""}),(0,a.jsx)(d.zxk,{className:w.emptyStateButton,onClick:()=>{let e=Z.ZP.getDefaultChannel(n.id);null!=e&&(0,f.uL)(M.Z5c.CHANNEL(n.id,e.id))},fullWidth:!0,children:y.intl.string(y.t["3iCBUl"])})]}):(0,a.jsxs)("div",{className:w.container,children:[(0,a.jsx)(d.X6q,{variant:"heading-lg/bold",color:"header-primary",children:y.intl.string(y.t.xwY4LS)}),i.map(e=>(0,a.jsx)(R,{resource:e},e.channelId))]})}},150512:function(e,n,l){l.d(n,{Z:()=>N});var a=l(200651),i=l(192379),t=l(120356),r=l.n(t),s=l(866442),d=l(399606),o=l(481060),c=l(749210),u=l(410030),h=l(607070),m=l(603368),g=l(903518),x=l(687158),f=l(576635),C=l(484459),_=l(502762),v=l(430824),Z=l(594174),I=l(5192),p=l(51144),j=l(15378);function N(e){var n;let{guildId:l,welcomeMessage:t,className:N}=e,b=(0,d.e7)([v.Z],()=>v.Z.getGuild(l)),E=(0,d.e7)([h.Z],()=>h.Z.useReducedMotion),A=(0,d.e7)([Z.default],()=>Z.default.getUser(null==t?void 0:t.authorIds[0])),M=i.useMemo(()=>null!=b&&null!=A&&(0,g.Y)(b,A)?A:null,[b,A]),y=(0,d.e7)([Z.default],()=>Z.default.getCurrentUser()),w=(0,x.ZP)(null!==(n=null==M?void 0:M.id)&&void 0!==n?n:"0",l),{theme:S,primaryColor:k}=(0,f.Z)({user:null!=M?M:void 0,displayProfile:w}),P=(0,u.ZP)(),R=(0,o.dQu)(o.TVs.colors.BACKGROUND_SECONDARY,S).hex(),T=i.useMemo(()=>{var e;return null!==(e=null==t?void 0:t.authorIds)&&void 0!==e?e:[]},[t]);i.useEffect(()=>{c.Z.requestMembersById(l,T)},[l,T]),i.useEffect(()=>{null!=M&&(0,C.Z)(M.id,M.getAvatarURL(l,48),{guildId:l})},[M,l]);let L=I.ZP.useName(l,null,M),B=(0,p._T)(y),H=null!=k?(0,s.br)(k,1):R,D=(0,m.$0)(H);if(null==M||null==y||null==t)return null;let W=null!=b&&b.ownerId===M.id;return(0,a.jsx)("div",{className:r()(j.welcomeMessageContainer,N),children:(0,a.jsxs)(_.Z,{className:j.welcomeMessageProfileContainer,user:M,displayProfile:w,profileType:null,themeOverride:P,forceShowPremium:!0,children:[(0,a.jsx)("div",{className:j.avatarBackground}),E?(0,a.jsx)(o.qEK,{src:M.getAvatarURL(l,48),size:o.EFr.SIZE_48,className:j.avatar,"aria-label":M.username}):(0,a.jsx)(o.Xo$,{src:M.getAvatarURL(l,48),size:o.EFr.SIZE_48,className:j.avatar,"aria-label":M.username}),(0,a.jsx)("div",{className:j.avatarBorder,style:{backgroundColor:H}}),(0,a.jsxs)("div",{className:j.welcomeMessageContent,style:{color:D.hex()},children:[(0,a.jsxs)("div",{className:j.adminUsernameContainer,children:[(0,a.jsx)(o.Text,{variant:"text-sm/semibold",color:"currentColor",children:L}),W?(0,a.jsx)(o.CEn,{size:"xxs",color:"currentColor",className:j.ownerIcon}):null]}),(0,a.jsx)(o.Text,{variant:"text-md/medium",color:"currentColor",children:function(e,n){let l=e.split(/\[@username\]/g);return(0,a.jsx)("span",{children:l.map((e,t)=>(0,a.jsxs)(i.Fragment,{children:[e,t<l.length-1?(0,a.jsx)(o.Text,{tag:"span",variant:"text-md/semibold",children:"@".concat(n)}):null]},"username-".concat(t)))})}(null==t?void 0:t.message,null!=B?B:y.username)})]})]})})}},903518:function(e,n,l){l.d(n,{Y:()=>t});var a=l(700785),i=l(981631);function t(e,n){return!!(e.isOwner(n)||a.BT({permission:i.Plq.ADMINISTRATOR,context:e,user:n}))||a.BT({permission:i.Plq.MANAGE_GUILD,context:e,user:n})&&a.BT({permission:i.Plq.MANAGE_ROLES,context:e,user:n})}},700878:function(e,n,l){e.exports={header:"header__553a5",headerArtWrapper:"headerArtWrapper__553a5",headerArt:"headerArt__553a5",headerArtPlaceholder:"headerArtPlaceholder__553a5",editButton:"editButton__553a5",editButtonInner:"editButtonInner__553a5",headerIcon:"headerIcon__553a5",headerName:"headerName__553a5",inviteButton:"inviteButton__553a5",titleWrapper:"titleWrapper__553a5"}},959454:function(e,n,l){e.exports={maxWidthWrapper:"maxWidthWrapper__7449f",homeContainer:"homeContainer__7449f",homeContainerCollapsed:"homeContainerCollapsed__7449f",emptyHeaderTitle:"emptyHeaderTitle__7449f",homeContent:"homeContent__7449f",mainContent:"mainContent__7449f",sidebar:"sidebar__7449f",sidebarCardWrapper:"sidebarCardWrapper__7449f",sidebarCard:"sidebarCard__7449f",sidebarCardHeader:"sidebarCardHeader__7449f",guildDescription:"guildDescription__7449f",guildInfo:"guildInfo__7449f",guildInfoText:"guildInfoText__7449f",dotOnline:"dotOnline__7449f",resourceChannelsList:"resourceChannelsList__7449f",resourceChannel:"resourceChannel__7449f",resourceImageBase:"resourceImageBase__7449f",resourceImage:"resourceImage__7449f resourceImageBase__7449f",placeholderImage:"placeholderImage__7449f resourceImageBase__7449f",title:"title__7449f",background:"background__7449f",headerBarInner:"headerBarInner__7449f"}},335322:function(e,n,l){e.exports={container:"container_c66e86",action:"action_c66e86",clickableAction:"clickableAction_c66e86",actionInfo:"actionInfo_c66e86",channelIcon:"channelIcon_c66e86",channelIconContainer:"channelIconContainer_c66e86",rulesIconContainer:"rulesIconContainer_c66e86",tagIconContainer:"tagIconContainer_c66e86",rulesIcon:"rulesIcon_c66e86",checkCircle:"checkCircle_c66e86",checkCircleCompleted:"checkCircleCompleted_c66e86",icon:"icon_c66e86"}},21799:function(e,n,l){e.exports={container:"container_d13feb",row:"row_d13feb",content:"content_d13feb",title:"title_d13feb",media:"media_d13feb",thumbnailContainer:"thumbnailContainer_d13feb",obscured:"obscured_d13feb",obscuredTag:"obscuredTag_d13feb",emptyContainer:"emptyContainer_d13feb",emptyStateButton:"emptyStateButton_d13feb",emptyStateImage:"emptyStateImage_d13feb",messageContent:"messageContent_d13feb"}},15378:function(e,n,l){e.exports={welcomeMessageContainer:"welcomeMessageContainer__6f212",welcomeMessageProfileContainer:"welcomeMessageProfileContainer__6f212",avatar:"avatar__6f212",avatarBackground:"avatarBackground__6f212",avatarBorder:"avatarBorder__6f212",adminUsernameContainer:"adminUsernameContainer__6f212",welcomeMessageContent:"welcomeMessageContent__6f212",ownerIcon:"ownerIcon__6f212"}}}]);
//# sourceMappingURL=8344bb6048d88c3e.js.map