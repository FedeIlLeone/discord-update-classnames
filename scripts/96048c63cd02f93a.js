"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["68784"],{542383:function(e,t,n){n.d(t,{Z:()=>r});var a=n(192379),l=n(358085);function r(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e},[e]),a.useCallback(e=>{let n=e.ctrlKey&&!(e.altKey||e.metaKey||e.shiftKey),a=e.metaKey&&!(e.altKey||e.ctrlKey||e.shiftKey),{disabled:r=!1,onSubmit:i}=t.current;"enter"===e.key.toLowerCase()&&("macos"===(0,l.getOS)()?a:n)&&!r&&(e.preventDefault(),i())},[])}},524100:function(e,t,n){n.d(t,{_:()=>l});var a,l=((a={}).PREPARING="PREPARING",a.READY_TO_UPLOAD="READY_TO_UPLOAD",a.ERROR="ERROR",a)},728076:function(e,t,n){n.d(t,{Z:()=>f}),n(47120),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648);var a=n(192379),l=n(263568),r=n(935369),i=n(398805),o=n(524100),s=n(316758),c=n(203143),u=n(79390),d=n(489887),m=n(388032);function f(e,t,n){let f=e.id,[x,g]=a.useState(()=>[(0,u.Uu)(),(0,u.Uu)()]),[p,_]=a.useState(""),[C,b]=a.useState(l.C.DEFAULT),[v,j]=a.useState(!1),[w,A]=a.useState(d.lc.ONE_DAY),[I,N]=a.useState({}),[E,R]=a.useState(!1),k=x.filter(e=>(0,u.cS)(e,C)),P=x.filter(e=>(0,u.uY)(e,C)),y=p.length>0&&k.length>=d.gY&&0===P.length,[D,{error:S,loading:O}]=(0,r.Z)(c.Z.createPoll),T=x.length<d.fw,L=x.length>d.gY,B=a.useCallback(e=>{N(e=>{let t={...e};return delete t.question,t}),_(e)},[]),Z=a.useCallback(e=>{let{text:t,index:n,localCreationAnswerId:a}=e;N(e=>{let t={...e};return delete t["answer-".concat(a)],t}),g(e=>{let a=[...e];return a[n]={...a[n],text:t},a})},[]),U=a.useCallback((e,t)=>{g(n=>{let a=[...n];return a[t]={...a[t],image:e},a})},[]),M=a.useCallback((e,t,n)=>{var a;let l=x[t],r=null===(a=l.image)||void 0===a?void 0:a.mediaAttachmentState;null!=r&&r.mediaURL!==n&&s.P(e,l.localCreationAnswerId,(0,i.Yk)(l.localCreationAnswerId,r.mediaURL))},[x]),z=a.useCallback(async(e,t,n)=>{let a=x[t].localCreationAnswerId;if(M(e,t),U(h(n,o._.PREPARING),t),null==await s.IV(e,a,n)){U(h(n,o._.ERROR),t);return}U(h(n,o._.READY_TO_UPLOAD),t)},[x,U,M]),W=a.useCallback((e,t,n)=>{let a=x[t].localCreationAnswerId,l=URL.createObjectURL(n);M(e,t),U(h(l,o._.PREPARING),t),s.fH(e,a,n),U(h(l,o._.READY_TO_UPLOAD),t)},[x,U,M]),H=a.useCallback((e,t)=>{M(f,t),U({emoji:e,stickerId:void 0,mediaAttachmentState:void 0},t)},[f,U,M]),F=a.useCallback(e=>{g(t=>{let n=[...t];return n[e]={...n[e],image:void 0},n})},[]),Y=a.useCallback(()=>{T&&g(e=>[...e,(0,u.Uu)()])},[T]),K=a.useCallback(e=>{if(!L)return;let t=x.length;M(f,e),g(t=>{let n=[...t];return n.splice(e,1),n}),null==n||n({indexToRemove:e,numberOfAnswers:t})},[x.length,L,f,n,M]);a.useEffect(()=>()=>{s.xt(f)},[f]);let q=a.useCallback(()=>{let e=!0,t={};return 0===p.trim().length&&(e=!1,t.question=m.intl.string(m.t.gPX3oK)),x.filter(e=>(0,u.cS)(e,C)).length<d.gY&&(e=!1,t["answer-".concat(x[0].localCreationAnswerId)]=m.intl.string(m.t.fYvzER)),x.forEach(n=>{(0,u.uY)(n,C)&&(e=!1,t["answer-".concat(n.localCreationAnswerId)]=m.intl.string(m.t["8Qqkc3"]))}),N(t),R(!e),e},[x,p,C]),X=a.useCallback(async()=>{await D({channel:e,question:p,answers:k,allowMultiSelect:v,duration:w,layout:C,onClose:t})},[p,k,v,w,D,e,C,t]),J=a.useCallback(()=>{!O&&q()&&X()},[X,O,q]);return{answers:x,question:p,setQuestion:_,selectedLayoutType:C,setSelectedLayoutType:b,allowMultiSelect:v,setAllowMultiSelect:j,duration:w,setDuration:A,canPost:y,canAddMoreAnswers:T,canRemoveMoreAnswers:L,handleQuestionChange:B,handleAnswerTextChange:Z,handleGifSelect:z,handleEmojiSelect:H,handleCustomUpload:W,handleAddAnswer:Y,handleRemoveAnswer:K,handleRemoveAnswerImage:F,fieldErrors:I,createPoll:X,handleSubmitPoll:J,submitting:O,createPollError:S,shouldFocusOnInvalidField:E,setShouldFocusOnInvalidField:R}}function h(e,t){return{mediaAttachmentState:{status:t,mediaURL:e},emoji:void 0,stickerId:void 0}}},2466:function(e,t,n){n.d(t,{Z:()=>r});var a=n(489887),l=n(388032);function r(){return Object.freeze({[a.lc.ONE_HOUR]:l.intl.formatToPlainString(l.t["b/mgt7"],{num:1}),[a.lc.FOUR_HOURS]:l.intl.formatToPlainString(l.t["b/mgt7"],{num:4}),[a.lc.EIGHT_HOURS]:l.intl.formatToPlainString(l.t["b/mgt7"],{num:8}),[a.lc.ONE_DAY]:l.intl.formatToPlainString(l.t["b/mgt7"],{num:24}),[a.lc.THREE_DAYS]:l.intl.string(l.t.Xn5rX1),[a.lc.SEVEN_DAYS]:l.intl.string(l.t["Lmq+rq"]),[a.lc.FOURTEEN_DAYS]:l.intl.string(l.t["mb8A/P"])})}},485168:function(e,t,n){n.d(t,{l:()=>i});var a=n(192379),l=n(367907),r=n(981631);function i(e,t,n){return{trackPollCreationCancelled:a.useCallback(()=>{let a=0,i=0,o=0;e.forEach(e=>{let t=e.image;null!=t&&(null!=t.emoji?i+=1:null!=t.stickerId?o+=1:null!=t.mediaAttachmentState&&(a+=1))}),l.ZP.trackWithMetadata(r.rMx.POLL_CREATION_CANCELLED,{answers_count:e.length,attachments_count:a,emojis_count:i,stickers_count:o,allow_multiselect:t,layout_type:n})},[e,t,n])}}},309081:function(e,t,n){n.d(t,{I:()=>k,Z:()=>S}),n(47120);var a=n(200651),l=n(192379),r=n(120356),i=n.n(r),o=n(263568),s=n(442837),c=n(481060),u=n(166459),d=n(596454),m=n(273031),f=n(313201),h=n(907040),x=n(906411),g=n(592125),p=n(703558),_=n(117530),C=n(358085),b=n(79390),v=n(885001),j=n(35463),w=n(489887),A=n(185923),I=n(957825),N=n(388032),E=n(853390);let R={offset:{top:-4,bottom:-4,left:0,right:-8}};function k(e){let{hasUpload:t,mediaUrl:n,mediaFilename:l,imageClassName:r,emoji:i,emojiClassName:o,fallback:s}=e;return t?(0,a.jsx)("img",{src:n,alt:l,className:r}):null!=i?(0,a.jsx)(d.Z,{className:o,emojiId:i.id,emojiName:i.type===x.B.UNICODE?i.optionallyDiverseSequence:i.name,animated:i.animated}):(0,a.jsx)(a.Fragment,{children:s})}function P(e){let{onSelect:t,onEditMedia:n,onDeleteMedia:l,closePopout:r}=e;return(0,a.jsx)("div",{className:E.menuContainer,children:(0,a.jsx)(c.v2r,{navId:"poll-media-edit-menu",onClose:r,"aria-label":N.intl.string(N.t["cV+h7O"]),onSelect:t,children:(0,a.jsxs)(c.kSQ,{children:[(0,a.jsx)(c.sNh,{id:"poll-media-replace",label:N.intl.string(N.t.CZeRhY),action:n}),(0,a.jsx)(c.sNh,{id:"poll-media-delete",label:N.intl.string(N.t.IhMxgo),action:l,color:"danger"})]})})})}function y(e){let{channelId:t,localCreationAnswerId:n,buttonImage:r,layout:u,onEmojiSelect:d,onEmojiRemove:m,answerIndex:f,shouldShowEmojiPicker:x,toggleEmojiPicker:p}=e,_=(0,s.e7)([g.Z],()=>g.Z.getChannel(t)),{emoji:C,isLoadingMedia:v,hasUpload:w,mediaUrl:R,mediaFilename:y}=(0,j.Z)({channelId:t,localCreationAnswerId:n,image:r}),D=u===o.C.DEFAULT,S=w||null!=C,O=l.useCallback(()=>{m(f)},[m,f]),T=l.useMemo(()=>w?N.intl.formatToPlainString(N.t.vcC7Qk,{imageName:(0,b.fw)(y),answerNumber:f+1}):null!=C?N.intl.formatToPlainString(N.t.ncOAhY,{emojiName:C.name,answerNumber:f+1}):N.intl.formatToPlainString(N.t.emdpNj,{answerNumber:f+1}),[w,C,f,y]),L=l.useCallback(e=>{let{closePopout:t}=e;return(0,a.jsx)("div",{className:E.emojiPicker,children:(0,a.jsx)(h.Z,{channel:_,pickerIntention:A.Hz.POLLS,closePopout:t,onNavigateAway:t,onSelectEmoji:(e,n)=>{null!=e&&d(e,f),n&&t()}})})},[_,d,f]),B=l.useCallback(e=>{let{closePopout:t}=e;return(0,a.jsx)(P,{onSelect:t,onEditMedia:p,onDeleteMedia:O,closePopout:t})},[O,p]),Z=v?(0,a.jsx)(c.$jN,{className:D?E.spinnerWrapperDefault:E.spinnerWrapperImageOnly}):(0,a.jsx)(k,{hasUpload:w,mediaUrl:R,mediaFilename:y,imageClassName:i()(E.media,D?E.gifDefault:E.gifJumbo),emoji:C,emojiClassName:i()(E.media,D?E.emojiDefault:E.emojiJumbo),fallback:(0,a.jsx)(c.EO4,{size:"md",color:"currentColor",className:D?E.expressionPickerIconDefault:E.expressionPickerIconImageOnly})}),U=i()(I.CT,u===o.C.IMAGE_ONLY_ANSWERS?E.expressionPickerButtonImageOnly:E.expressionPickerButtonDefault,{[E.canEditMedia]:S});return(0,a.jsx)(c.yRy,{renderPopout:L,shouldShow:x,onRequestClose:p,animation:c.yRy.Animation.NONE,position:"bottom",spacing:2,children:e=>{let{"aria-controls":t,"aria-expanded":n,...l}=e;return(0,a.jsx)(c.yRy,{animation:c.yRy.Animation.NONE,position:"bottom",renderPopout:B,children:e=>{let{onClick:l,"aria-controls":r,"aria-expanded":i,...o}=e;return(0,a.jsxs)(c.P3F,{...o,className:U,onClick:S&&!x?l:p,"aria-label":T,"aria-controls":null!=t?t:r,"aria-expanded":n||i,children:[Z,S&&(0,a.jsx)(c.vdY,{size:"md",color:"currentColor",className:E.editIcon,"aria-hidden":!0})]})}})}})}function D(e){var t;let{value:n,id:l}=e,r=(()=>{var e;let t=null!==(e=null==n?void 0:n.length)&&void 0!==e?e:0;return w.WA-t})();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:i()(E.characterCount),"aria-hidden":"true",children:[null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0," / ",w.WA]}),(0,a.jsxs)(c.nn4,{id:l,children:[N.intl.format(N.t.fR1coa,{remainingCharacters:r})," ",N.intl.format(N.t["+DFxLS"],{maxLength:w.WA})]})]})}let S=l.forwardRef(function(e,t){let{channelId:r,answer:d,index:h,layout:x,isLastAnswer:g,onAnswerTextChange:j,onEmojiSelect:A,onEmojiRemove:I,canRemoveAnswer:k,onRemoveAnswer:P,addAnswer:S,submitPoll:O,answerTextInputRefs:T,error:L,inputRef:B,deleteButtonRef:Z}=e,U=(0,f.Dt)(),M=(0,f.Dt)(),z=null!=L&&L.length>0,W=(0,s.e7)([_.Z],()=>_.Z.getUpload(r,d.localCreationAnswerId,p.d.Poll)),[H,F]=l.useState(!1),Y=()=>{function e(e){u.Z.update(r,d.localCreationAnswerId,p.d.Poll,{description:e})}(0,c.ZDy)(async()=>{let{default:t}=await n.e("2538").then(n.bind(n,92254));return n=>(0,a.jsx)(t,{channelId:r,answer:d,onSave:e,...n})})},K=l.useCallback(()=>{F(e=>!e)},[]),q=l.useCallback(e=>{let t=e.ctrlKey&&!(e.altKey||e.metaKey||e.shiftKey),n=e.metaKey&&!(e.altKey||e.ctrlKey||e.shiftKey);switch(e.key.toLowerCase()){case"enter":var a;g&&(e.preventDefault(),((0,b.cS)(d,x)||"macos"!==(0,C.getOS)()?t:n)?(e.stopPropagation(),O()):S()),null===(a=T.current[h+1])||void 0===a||a.focus();break;case"e":("macos"===(0,C.getOS)()?n:t)&&(e.preventDefault(),e.stopPropagation(),K())}},[S,d,T,h,g,x,O,K]),X=(0,a.jsx)(y,{channelId:r,buttonImage:d.image,layout:x,onEmojiSelect:A,onEmojiRemove:I,localCreationAnswerId:d.localCreationAnswerId,answerIndex:h,shouldShowEmojiPicker:H,toggleEmojiPicker:K}),J=null!=W&&null!=W.description&&W.description.length>0;return(0,a.jsx)(a.Fragment,{children:x===o.C.DEFAULT?(0,a.jsxs)("div",{className:i()(E.answerRow,{[E.hasDeleteButton]:k}),children:[(0,a.jsxs)("div",{className:i()(E.defaultTextInputWrapper,{[E.hasError]:z}),ref:t,children:[X,(0,a.jsx)(c.oil,{"aria-label":N.intl.formatToPlainString(N.t["3+V8Gx"],{answerNumber:h+1}),placeholder:N.intl.string(N.t.NNHVlp),value:d.text,className:E.defaultTextInput,inputClassName:E.defaultTextInput,onChange:e=>j({text:e,index:h,localCreationAnswerId:d.localCreationAnswerId}),onKeyDown:q,maxLength:w.WA,"aria-invalid":z,"aria-describedby":z?U:M,focusProps:R,inputRef:B}),(0,a.jsx)(D,{value:d.text,id:M})]}),k&&(0,a.jsx)(c.P3F,{onClick:()=>P(h),className:E.removeAnswerButtonDefault,"aria-label":N.intl.formatToPlainString(N.t["22fjER"],{answerNumber:h+1}),ref:Z,children:(0,a.jsx)(c.XHJ,{size:"md",color:"currentColor",className:E.trashIcon,"aria-hidden":!0})}),z&&(0,a.jsx)(c.Text,{id:U,variant:"text-xs/medium",color:"text-danger",className:E.__invalid_errorText,children:L})]}):(0,a.jsxs)("div",{className:E.imageOnlyContainer,ref:t,children:[(0,a.jsxs)("div",{className:E.imagePreviewContainer,children:[X,J&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Text,{variant:"text-xs/semibold",className:E.altBadge,"aria-hidden":!0,children:N.intl.string(N.t.QEW819)}),(0,a.jsxs)("div",{onClick:Y,children:[(0,a.jsx)(c.nn4,{children:N.intl.string(N.t.piH89v)}),(0,a.jsx)(c.Text,{variant:"text-xxs/medium",className:E.altTextPreview,children:W.description})]})]})]}),(0,a.jsxs)("div",{className:E.imageOnlyAnswerActionBar,children:[null!=W?(0,a.jsx)(m.Z,{tooltip:N.intl.string(N.t.QbhHBQ),"aria-label":J?N.intl.formatToPlainString(N.t.d04UhI,{answerNumber:h+1}):N.intl.formatToPlainString(N.t.mULZgY,{answerNumber:h+1}),onClick:Y,children:(0,a.jsx)(v.N,{"aria-hidden":!0})}):null,(0,a.jsx)(m.Z,{tooltip:N.intl.string(N.t.x7DOr6),"aria-label":N.intl.formatToPlainString(N.t["22fjER"],{answerNumber:h+1}),onClick:()=>P(h),dangerous:!0,children:(0,a.jsx)(c.XHJ,{size:"md",color:"currentColor","aria-hidden":!0})})]})]})})})},611611:function(e,t,n){n.d(t,{default:()=>k}),n(47120);var a=n(200651),l=n(192379),r=n(120356),i=n.n(r),o=n(525769),s=n(263568),c=n(481060),u=n(213609),d=n(313201),m=n(540059),f=n(542383),h=n(79390),x=n(728076),g=n(2466),p=n(485168),_=n(309081),C=n(185306),b=n(240521),v=n(489887),j=n(20281),w=n(388032),A=n(583609);let I=(0,d.hQ)(),N=(0,d.hQ)();function E(e){let{question:t,onChange:n,error:r,inputRef:o}=e,[s,u]=l.useState(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.vwX,{tag:c.RB0.LABEL,htmlFor:N,children:w.intl.string(w.t.WBiKnJ)}),(0,a.jsx)(c.Kx8,{inputRef:o,id:N,placeholder:w.intl.string(w.t["/uQqJS"]),value:t,className:i()(A.questionInput,{[A.hasError]:null!=r}),onChange:n,maxLength:v.Az,error:r,onFocus:()=>u(!0),onBlur:()=>u(!1),showCharacterCount:s,showCharacterCountFullPadding:!0,showRemainingCharacterCount:s,rows:1,autosize:!0,autoFocus:!0})]})}function R(e){let{selectedDuration:t,onSelect:n}=e,l=(0,g.Z)(),r=l[t];return(0,a.jsxs)("div",{className:A.duration,children:[(0,a.jsx)(c.Text,{variant:"text-md/medium",color:"header-secondary",tag:"label","aria-hidden":!0,children:w.intl.string(w.t.bGHzxc)}),(0,a.jsx)(c.PhF,{"aria-label":w.intl.formatToPlainString(w.t.nXNHND,{duration:r}),className:A.durationSelect,options:Object.entries(l).map(e=>{let[t,n]=e;return{label:n,value:parseInt(t)}}),isSelected:e=>e===t,select:n,serialize:e=>"".concat(e),renderOptionLabel:e=>(0,a.jsx)(c.Text,{variant:"text-sm/normal",children:e.label}),popoutPosition:"top"})]})}function k(e){let{channel:t,transitionState:n,onClose:r}=e,d=(0,h._N)();(0,u.Z)({type:j.n.MODAL,name:o.z.POLL_EDITOR_VIEWED});let g=l.useRef(null),N=l.useRef([]),P=l.useRef([]),y=l.useRef(null),D=l.useRef([]),S=l.useCallback(e=>{var t,n,a,l;let{indexToRemove:r,numberOfAnswers:i}=e;i===v.gY+1?null===(n=y.current)||void 0===n||null===(t=n.ref)||void 0===t||t.focus():null===(l=D.current[r===i-1?r-1:r+1])||void 0===l||null===(a=l.ref)||void 0===a||a.focus()},[]),{answers:O,question:T,selectedLayoutType:L,setSelectedLayoutType:B,allowMultiSelect:Z,setAllowMultiSelect:U,duration:M,setDuration:z,handleQuestionChange:W,handleAnswerTextChange:H,handleEmojiSelect:F,canAddMoreAnswers:Y,handleRemoveAnswerImage:K,canRemoveMoreAnswers:q,handleAddAnswer:X,handleRemoveAnswer:J,createPollError:G,handleSubmitPoll:Q,fieldErrors:V,submitting:$,shouldFocusOnInvalidField:ee,setShouldFocusOnInvalidField:et}=(0,x.Z)(t,r,S),{trackPollCreationCancelled:en}=(0,p.l)(O,Z,L),ea=(0,m.Q3)("PollCreationModal"),el=(0,c.dQu)(c.TVs.colors.INTERACTIVE_NORMAL).hex(),er=l.useRef(O.length),ei=L===s.C.DEFAULT,eo=l.useCallback(()=>{en(),r()},[r,en]),es=l.useCallback(()=>{if((0,h.D$)(T,O,L))eo();else{(0,b.Z)({title:w.intl.string(w.t.HMrgcn),body:w.intl.string(w.t["Wxa/j4"]),cta:w.intl.string(w.t.TzJA4u),closeLabel:w.intl.string(w.t["2BR5R0"]),onConfirm:()=>{eo()}});return}},[eo,O,T,L]);l.useEffect(()=>{(0,c.oav)(v.$z,e=>(0,a.jsx)(k,{...e,channel:t}),es)},[es,t]),l.useEffect(()=>{if(O.length>er.current){var e;null===(e=P.current[O.length-1])||void 0===e||e.focus()}er.current=O.length},[O.length]),l.useEffect(()=>{if(ee){var e,t;if((null==V?void 0:V.question)!=null)null===(e=g.current)||void 0===e||e.focus();else{let e=O.findIndex(e=>V["answer-".concat(e.localCreationAnswerId)]);-1!==e&&(null===(t=P.current[e])||void 0===t||t.focus())}et(!1)}},[V,O,ee,et,P,N]);let ec=()=>{n===c.Dvm.ENTERED&&Q()},eu=(0,f.Z)({disabled:$,onSubmit:ec});return(0,a.jsxs)(c.Y0X,{size:c.CgR.MEDIUM,className:A.container,transitionState:n,"aria-labelledby":I,children:[(0,a.jsxs)(c.xBx,{className:A.header,separator:!1,children:[(0,a.jsx)(c.X6q,{color:"interactive-normal",variant:"text-lg/semibold",className:A.headerText,id:I,children:w.intl.string(w.t["GD/8X1"])}),(0,a.jsx)(c.olH,{onClick:es})]}),(0,a.jsxs)(c.hzk,{className:A.content,onKeyDown:eu,children:[null!=G&&(0,a.jsx)(c.kzN,{className:A.apiErrorBlock,children:G.getAnyErrorMessage()}),(0,a.jsx)(E,{question:T,onChange:W,error:null==V?void 0:V.question,inputRef:g}),d&&(0,a.jsx)(C.Z,{selectedLayoutType:L,onSelectedLayoutType:B}),(0,a.jsx)(c.LZC,{size:26}),(0,a.jsxs)("fieldset",{className:i()(A.answerInputsContainer,ei?A.defaultContainer:A.imageOnlyContainer),children:[(0,a.jsx)(c.vwX,{tag:c.RB0.LEGEND,children:w.intl.string(w.t.oMBfeX)}),O.map((e,n)=>(0,a.jsx)(_.Z,{answer:e,channelId:t.id,index:n,isLastAnswer:n===O.length-1,onEmojiSelect:F,onEmojiRemove:K,layout:L,onAnswerTextChange:H,onRemoveAnswer:J,addAnswer:X,submitPoll:ec,answerTextInputRefs:P,error:null==V?void 0:V["answer-".concat(e.localCreationAnswerId)],canRemoveAnswer:q,ref:e=>N.current[n]=e,inputRef:e=>P.current[n]=e,deleteButtonRef:e=>D.current[n]=e},e.localCreationAnswerId)),Y&&(0,a.jsxs)(c.P3F,{className:i()(ei?A.addAnswerButtonDefault:A.addAnswerButtonImageOnly,{[A.canRemoveMoreAnswers]:q}),onClick:Y?X:void 0,"aria-label":w.intl.string(w.t.B2UvmZ),ref:y,children:[(0,a.jsx)(c.qJs,{size:"md",color:"currentColor",className:ei?A.addAnswerIconDefault:A.addAnswerIconImageOnly}),ei&&(0,a.jsx)(c.Text,{variant:"text-md/normal",color:"text-muted",className:A.addAnswerButtonLabel,children:w.intl.string(w.t.B2UvmZ)})]})]}),(0,a.jsx)(c.LZC,{size:18}),(0,a.jsx)(R,{selectedDuration:M,onSelect:z})]}),(0,a.jsxs)(c.mzw,{className:A.footer,children:[(0,a.jsx)(c.XZJ,{className:A.checkbox,type:ea?void 0:c.XZJ.Types.INVERTED,size:24,value:Z,checkboxColor:ea?void 0:el,onChange:(e,t)=>U(t),children:(0,a.jsx)(c.Text,{variant:"text-md/medium",color:"interactive-active",children:w.intl.string(w.t["Ux+iQU"])})}),(0,a.jsx)(c.zxk,{look:c.iLD.FILLED,size:c.zxk.Sizes.MEDIUM,className:A.postButton,onClick:ec,submitting:$,children:(0,a.jsx)(c.Text,{variant:"text-md/semibold",className:A.postButtonText,children:w.intl.string(w.t.JOj8Zm)})})]})]})}},185306:function(e,t,n){n.d(t,{Z:()=>m});var a=n(200651),l=n(192379),r=n(120356),i=n.n(r),o=n(263568),s=n(481060),c=n(388032),u=n(620619);function d(e){let{label:t,isSelected:n,onClick:l,children:r}=e,o=(0,s.xUy)({isSelected:n,label:t});return(0,a.jsx)(s.P3F,{...o,onClick:l,className:i()(u.option,n&&u.optionSelected),children:r})}let m=function(e){let{selectedLayoutType:t,onSelectedLayoutType:n}=e,r=(0,s.arW)({orientation:"horizontal"}),i=l.useMemo(()=>[{name:o.C.DEFAULT,label:c.intl.string(c.t.GhK6X1),icon:s.jE$},{name:o.C.IMAGE_ONLY_ANSWERS,label:c.intl.string(c.t.an4GKS),icon:s.XBm}],[]),m=e=>{n(e)};return(0,a.jsx)("div",{className:u.container,"aria-label":c.intl.string(c.t.e9hWx8),...r,children:i.map(e=>{let n=e.icon;return(0,a.jsx)(d,{label:e.label,isSelected:e.name===t,onClick:()=>m(e.name),children:(0,a.jsx)(n,{className:u.icon})},e.name)})})}},885001:function(e,t,n){n.d(t,{N:()=>i});var a=n(200651);n(192379);var l=n(692547),r=n(325767);let i=e=>{let{width:t=24,height:n=24,color:i=l.Z.colors.INTERACTIVE_NORMAL,...o}=e;return(0,a.jsxs)("svg",{...(0,r.Z)(o),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 24 24",fill:"string"==typeof i?i:i.css,children:[(0,a.jsxs)("g",{"clip-path":"url(#clip0_1_16)",children:[(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 2C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H12.2763C12.4842 22 12.6704 21.8714 12.744 21.6769L13.5005 19.6769C13.6242 19.3498 13.3825 19 13.0328 19H5.81047C5.18159 19 4.83196 18.2726 5.22482 17.7815L7.0787 15.4641C7.67918 14.7135 8.82082 14.7135 9.4213 15.4641L9.92742 16.0968L12.15 13.1333C12.95 12.0667 14.55 12.0667 15.35 13.1333L15.7659 13.6879L15.9155 13.2924C16.2097 12.5146 16.9545 12 17.7861 12H20.1143C20.6827 12 21.2003 12.2434 21.57 12.6395C21.6838 12.7614 22 12.6785 22 12.5118V5C22 3.34315 20.6569 2 19 2H5ZM8.64943 5.07947C9.32431 4.42611 10.4329 5.06617 10.2045 5.97731C10.082 6.46608 10.3694 6.96388 10.854 7.10216C11.7572 7.35994 11.7572 8.64005 10.854 8.89784C10.3694 9.03612 10.082 9.53392 10.2045 10.0227C10.4329 10.9338 9.32431 11.5739 8.64943 10.9205C8.28741 10.57 7.71259 10.57 7.35057 10.9205C6.67569 11.5739 5.56708 10.9338 5.79547 10.0227C5.91798 9.53392 5.63058 9.03612 5.14603 8.89784C4.24276 8.64006 4.24276 7.35994 5.14603 7.10216C5.63058 6.96388 5.91798 6.46608 5.79547 5.97731C5.56708 5.06617 6.67569 4.42611 7.35057 5.07947C7.71259 5.42996 8.28741 5.42996 8.64943 5.07947Z"}),(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21.613 24.04H23.912L20.1143 14H17.7861L13.9884 24.04H16.2874L16.9422 22.1193H20.9582L21.613 24.04ZM17.6115 20.1986L18.9502 16.2845L20.2889 20.1986H17.6115Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1_16",children:(0,a.jsx)("rect",{width:"24",height:"24"})})})]})}},240521:function(e,t,n){n.d(t,{Z:()=>r});var a=n(200651);n(192379);var l=n(952265);function r(e){(0,l.ZD)(async()=>{let{default:t}=await n.e("38795").then(n.bind(n,118922));return n=>(0,a.jsx)(t,{...e,...n})})}},35463:function(e,t,n){n.d(t,{Z:()=>s}),n(47120),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648);var a=n(192379),l=n(442837),r=n(703558),i=n(117530),o=n(524100);function s(e){var t,n;let{channelId:s,localCreationAnswerId:c,image:u}=e,d=null==u?void 0:u.emoji,m=(null==u?void 0:null===(t=u.mediaAttachmentState)||void 0===t?void 0:t.status)===o._.PREPARING,f=(0,l.e7)([i.Z],()=>i.Z.getUpload(s,c,r.d.Poll)),[h,x]=a.useState(),[g,p]=a.useState("");return a.useEffect(()=>{var e;if((null==f?void 0:null===(e=f.item)||void 0===e?void 0:e.file)==null)return;let t=URL.createObjectURL(f.item.file);return x(t),p(f.item.file.name),()=>{URL.revokeObjectURL(t)}},[null==f?void 0:null===(n=f.item)||void 0===n?void 0:n.file]),{emoji:d,isLoadingMedia:m,hasUpload:null!=f,upload:f,mediaUrl:h,mediaFilename:g}}},853390:function(e,t,n){e.exports={answerRow:"answerRow__7b848",hasDeleteButton:"hasDeleteButton__7b848",defaultTextInputWrapper:"defaultTextInputWrapper__7b848",characterCount:"characterCount__7b848",hasError:"hasError__7b848",defaultTextInput:"defaultTextInput__7b848",imageOnlyContainer:"imageOnlyContainer__7b848",imageOnlyAnswerActionBar:"imageOnlyAnswerActionBar__7b848",imagePreviewContainer:"imagePreviewContainer__7b848",altBadge:"altBadge__7b848",altTextPreview:"altTextPreview__7b848",expressionPickerButton:"expressionPickerButton__7b848",media:"media__7b848",editIcon:"editIcon__7b848",canEditMedia:"canEditMedia__7b848",expressionPickerButtonDefault:"expressionPickerButtonDefault__7b848 expressionPickerButton__7b848",expressionPickerButtonImageOnly:"expressionPickerButtonImageOnly__7b848 expressionPickerButton__7b848",expressionPickerIconDefault:"expressionPickerIconDefault__7b848",expressionPickerIconImageOnly:"expressionPickerIconImageOnly__7b848",emojiPicker:"emojiPicker__7b848",emojiDefault:"emojiDefault__7b848",emojiJumbo:"emojiJumbo__7b848",gifJumbo:"gifJumbo__7b848",gifDefault:"gifDefault__7b848",spinnerWrapper:"spinnerWrapper__7b848",spinnerWrapperDefault:"spinnerWrapperDefault__7b848 spinnerWrapper__7b848",spinnerWrapperImageOnly:"spinnerWrapperImageOnly__7b848 spinnerWrapper__7b848",menuContainer:"menuContainer__7b848",removeAnswerButtonDefault:"removeAnswerButtonDefault__7b848",trashIcon:"trashIcon__7b848"}},583609:function(e,t,n){e.exports={container:"container_d97f89",header:"header_d97f89",headerText:"headerText_d97f89",content:"content_d97f89",questionInput:"questionInput_d97f89",hasError:"hasError_d97f89",answerInputsContainer:"answerInputsContainer_d97f89",defaultContainer:"defaultContainer_d97f89",imageOnlyContainer:"imageOnlyContainer_d97f89",addAnswerButton:"addAnswerButton_d97f89",addAnswerButtonDefault:"addAnswerButtonDefault_d97f89 addAnswerButton_d97f89",canRemoveMoreAnswers:"canRemoveMoreAnswers_d97f89",addAnswerButtonImageOnly:"addAnswerButtonImageOnly_d97f89 addAnswerButton_d97f89",addAnswerIconDefault:"addAnswerIconDefault_d97f89",addAnswerButtonLabel:"addAnswerButtonLabel_d97f89",addAnswerIconImageOnly:"addAnswerIconImageOnly_d97f89",duration:"duration_d97f89",durationSelect:"durationSelect_d97f89",footer:"footer_d97f89",checkbox:"checkbox_d97f89",postButton:"postButton_d97f89",postButtonText:"postButtonText_d97f89",apiErrorBlock:"apiErrorBlock_d97f89"}},620619:function(e,t,n){e.exports={container:"container__20987",option:"option__20987",optionSelected:"optionSelected__20987",icon:"icon__20987"}}}]);
//# sourceMappingURL=96048c63cd02f93a.js.map